(self.webpackChunkvisualAlgorithm=self.webpackChunkvisualAlgorithm||[]).push([[179],{2757:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0,z.default=function(B,O){var P=B.nodes,T=B.edges,b=[],x={};if(!P)throw new Error("invalid nodes data!");return P&&P.forEach(function(m,_){x[m.id]=_,b.push([])}),T&&T.forEach(function(m){var S=x[m.source],w=x[m.target];!S&&0!==S||!w&&0!==w||(b[S][w]=1,O||(b[w][S]=1))}),b}},4610:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),Object.defineProperty(z,"GADDIAsync",{enumerable:!0,get:function(){return R.GADDIAsync}}),Object.defineProperty(z,"connectedComponentAsync",{enumerable:!0,get:function(){return R.connectedComponentAsync}}),z.default=void 0,Object.defineProperty(z,"detectAllCyclesAsync",{enumerable:!0,get:function(){return R.detectAllCyclesAsync}}),Object.defineProperty(z,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return R.detectAllDirectedCycleAsync}}),Object.defineProperty(z,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return R.detectAllUndirectedCycleAsync}}),Object.defineProperty(z,"detectCycleAsync",{enumerable:!0,get:function(){return R.detectCycleAsync}}),z.detectDirectedCycleAsync=void 0,Object.defineProperty(z,"dijkstraAsync",{enumerable:!0,get:function(){return R.dijkstraAsync}}),Object.defineProperty(z,"findAllPathAsync",{enumerable:!0,get:function(){return R.findAllPathAsync}}),Object.defineProperty(z,"findShortestPathAsync",{enumerable:!0,get:function(){return R.findShortestPathAsync}}),Object.defineProperty(z,"floydWarshallAsync",{enumerable:!0,get:function(){return R.floydWarshallAsync}}),Object.defineProperty(z,"getAdjMatrixAsync",{enumerable:!0,get:function(){return R.getAdjMatrixAsync}}),Object.defineProperty(z,"getDegreeAsync",{enumerable:!0,get:function(){return R.getDegreeAsync}}),Object.defineProperty(z,"getInDegreeAsync",{enumerable:!0,get:function(){return R.getInDegreeAsync}}),Object.defineProperty(z,"getNeighborsAsync",{enumerable:!0,get:function(){return R.getNeighborsAsync}}),Object.defineProperty(z,"getOutDegreeAsync",{enumerable:!0,get:function(){return R.getOutDegreeAsync}}),Object.defineProperty(z,"labelPropagationAsync",{enumerable:!0,get:function(){return R.labelPropagationAsync}}),Object.defineProperty(z,"louvainAsync",{enumerable:!0,get:function(){return R.louvainAsync}}),Object.defineProperty(z,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return R.minimumSpanningTreeAsync}}),Object.defineProperty(z,"pageRankAsync",{enumerable:!0,get:function(){return R.pageRankAsync}});var R=j(6481),q=R.detectCycleAsync;z.detectDirectedCycleAsync=q,z.default={getAdjMatrixAsync:R.getAdjMatrixAsync,connectedComponentAsync:R.connectedComponentAsync,getDegreeAsync:R.getDegreeAsync,getInDegreeAsync:R.getInDegreeAsync,getOutDegreeAsync:R.getOutDegreeAsync,detectCycleAsync:R.detectCycleAsync,detectDirectedCycleAsync:q,detectAllCyclesAsync:R.detectAllCyclesAsync,detectAllDirectedCycleAsync:R.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:R.detectAllUndirectedCycleAsync,dijkstraAsync:R.dijkstraAsync,findAllPathAsync:R.findAllPathAsync,findShortestPathAsync:R.findShortestPathAsync,floydWarshallAsync:R.floydWarshallAsync,labelPropagationAsync:R.labelPropagationAsync,louvainAsync:R.louvainAsync,minimumSpanningTreeAsync:R.minimumSpanningTreeAsync,pageRankAsync:R.pageRankAsync,getNeighborsAsync:R.getNeighborsAsync,GADDIAsync:R.GADDIAsync}},9499:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var R=function B(b){return b&&b.__esModule?b:{default:b}}(j(6904)),q=j(5271);z.default=function(x,m,_,g){void 0===g&&(g=!0);var S=function O(b){void 0===b&&(b={});var g,x=b,m=function(){},_=(g={},function(S){var w=S.next;return!g[w]&&(g[w]=!0,!0)});return x.allowTraversal=b.allowTraversal||_,x.enter=b.enter||m,x.leave=b.leave||m,x}(_),w=new R.default,E=x.edges,A=void 0===E?[]:E;w.enqueue(m);for(var k="",L=function(){var te=w.dequeue();S.enter({current:te,previous:k}),(0,q.getNeighbors)(te,A,g?"target":void 0).forEach(function($){S.allowTraversal({previous:k,current:te,next:$})&&w.enqueue($)}),S.leave({current:te,previous:k}),k=te};!w.isEmpty();)L()}},9276:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function O(P,T){return T?B(P):q(P)},z.detectStrongConnectComponents=z.detectConnectedComponents=void 0;var R=j(5271),q=function(T){for(var b=T.nodes,x=void 0===b?[]:b,m=T.edges,_=void 0===m?[]:m,g=[],S={},w=[],E=function ie(te){w.push(te),S[te.id]=!0;for(var $=(0,R.getNeighbors)(te.id,_),X=function(ae){var ne=$[ae];if(!S[ne]){var se=x.filter(function(ve){return ve.id===ne});se.length>0&&ie(se[0])}},Z=0;Z<$.length;++Z)X(Z)},A=0;A<x.length;A++){var k=x[A];if(!S[k.id]){E(k);for(var L=[];w.length>0;)L.push(w.pop());g.push(L)}}return g};z.detectConnectedComponents=q;var B=function(T){for(var b=T.nodes,x=void 0===b?[]:b,m=T.edges,_=void 0===m?[]:m,g=[],S={},w={},E={},A=[],k=0,L=function X(Z){w[Z.id]=k,E[Z.id]=k,k+=1,g.push(Z),S[Z.id]=!0;for(var Y=(0,R.getNeighbors)(Z.id,_,"target").filter(function(ge){return x.map(function(Fe){return Fe.id}).indexOf(ge)>-1}),ae=function(Fe){var Ae=Y[Fe];if(w[Ae]||0===w[Ae])S[Ae]&&(E[Z.id]=Math.min(E[Z.id],w[Ae]));else{var ze=x.filter(function(oe){return oe.id===Ae});ze.length>0&&X(ze[0]),E[Z.id]=Math.min(E[Z.id],E[Ae])}},ne=0;ne<Y.length;ne++)ae(ne);if(E[Z.id]===w[Z.id]){for(var se=[];g.length>0;){var ve=g.pop();if(S[ve.id]=!1,se.push(ve),ve===Z)break}se.length>0&&A.push(se)}},ie=0,te=x;ie<te.length;ie++){var $=te[ie];!w[$.id]&&0!==w[$.id]&&L($)}return A};z.detectStrongConnectComponents=B},384:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.secondReg=z.dateReg=void 0,z.secondReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/,z.dateReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/},6149:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getOutDegree=z.getInDegree=z.default=void 0;var j=function(P){var T={},b=P.nodes,m=P.edges,_=void 0===m?[]:m;return(void 0===b?[]:b).forEach(function(g){T[g.id]={degree:0,inDegree:0,outDegree:0}}),_.forEach(function(g){T[g.source].degree++,T[g.source].outDegree++,T[g.target].degree++,T[g.target].inDegree++}),T};z.default=j,z.getInDegree=function(P,T){return j(P)[T]?j(P)[T].inDegree:0},z.getOutDegree=function(P,T){return j(P)[T]?j(P)[T].outDegree:0}},1674:(qt,z,j)=>{"use strict";function R(w){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(w)}Object.defineProperty(z,"__esModule",{value:!0}),z.detectAllUndirectedCycle=z.detectAllDirectedCycle=z.detectAllCycles=z.default=void 0;var q=function b(w){return w&&w.__esModule?w:{default:w}}(j(811)),B=function T(w,E){if(!E&&w&&w.__esModule)return w;if(null===w||"object"!==R(w)&&"function"!=typeof w)return{default:w};var A=P(E);if(A&&A.has(w))return A.get(w);var k={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ie in w)if("default"!==ie&&Object.prototype.hasOwnProperty.call(w,ie)){var te=L?Object.getOwnPropertyDescriptor(w,ie):null;te&&(te.get||te.set)?Object.defineProperty(k,ie,te):k[ie]=w[ie]}return k.default=w,A&&A.set(w,k),k}(j(9276)),O=j(5271);function P(w){if("function"!=typeof WeakMap)return null;var E=new WeakMap,A=new WeakMap;return(P=function(L){return L?A:E})(w)}var m=function(E,A,k){var L,ie;void 0===k&&(k=!0);for(var te=[],X=0,Z=(0,B.default)(E,!1);X<Z.length;X++){var Y=Z[X];if(Y.length)for(var ae=Y[0],ne=ae.id,se=[ae],ve=((L={})[ne]=ae,L),ge=((ie={})[ne]=new Set,ie);se.length>0;)for(var Fe=se.pop(),Ae=Fe.id,ze=(0,O.getNeighbors)(Ae,E.edges),oe=function(re){var ye,Ce=ze[re],Ie=E.nodes.find(function(gt){return gt.id===Ce});if(Ce===Ae)te.push(((ye={})[Ce]=Fe,ye));else if(Ce in ge){if(!ge[Ae].has(Ie)){for(var Ue=!0,pt=[Ie,Fe],st=ve[Ae];ge[Ce].size&&!ge[Ce].has(st)&&(pt.push(st),st!==ve[st.id]);)st=ve[st.id];if(pt.push(st),A&&k?(Ue=!1,pt.findIndex(function(gt){return A.indexOf(gt.id)>-1})>-1&&(Ue=!0)):A&&!k&&pt.findIndex(function(gt){return A.indexOf(gt.id)>-1})>-1&&(Ue=!1),Ue){for(var Ne={},lt=1;lt<pt.length;lt+=1)Ne[pt[lt-1].id]=pt[lt];pt.length&&(Ne[pt[pt.length-1].id]=pt[0]),te.push(Ne)}ge[Ce].add(Fe)}}else ve[Ce]=Fe,se.push(Ie),ge[Ce]=new Set([Fe])},ce=0;ce<ze.length;ce+=1)oe(ce)}return te};z.detectAllUndirectedCycle=m;var _=function(E,A,k){void 0===k&&(k=!0);for(var L=[],ie=new Set,te=[],$=[],X={},Z={},ae=function pt(st,Ne,lt){var gt=!1;if(A&&!1===k&&A.indexOf(st.id)>-1)return gt;L.push(st),ie.add(st);for(var $e=lt[st.id],dt=0;dt<$e.length;dt+=1)if((De=X[$e[dt]])===Ne){for(var Be={},vt=1;vt<L.length;vt+=1)Be[L[vt-1].id]=L[vt];L.length&&(Be[L[L.length-1].id]=L[0]),$.push(Be),gt=!0}else ie.has(De)||pt(De,Ne,lt)&&(gt=!0);if(gt)!function(st){for(var Ne=[st];Ne.length>0;){var lt=Ne.pop();ie.has(lt)&&(ie.delete(lt),te[lt.id].forEach(function(gt){Ne.push(gt)}),te[lt.id].clear())}}(st);else for(dt=0;dt<$e.length;dt+=1){var De;te[(De=X[$e[dt]]).id].has(st)||te[De.id].add(st)}return L.pop(),gt},ne=E.nodes,se=void 0===ne?[]:ne,ve=0;ve<se.length;ve+=1){var ge=se[ve];Z[ge.id]=ve,X[ve]=ge}if(A&&k){var Ae=function(st){var Ne=A[st];Z[se[st].id]=Z[Ne],Z[Ne]=0,X[0]=se.find(function(lt){return lt.id===Ne}),X[Z[se[st].id]]=se[st]};for(ve=0;ve<A.length;ve++)Ae(ve)}for(var ze=function(st){for(var Ne,lt,gt=1/0,$e=0;$e<st.length;$e+=1)for(var dt=st[$e],De=0;De<dt.length;De++){var Be=Z[dt[De].id];Be<gt&&(gt=Be,lt=$e)}var vt=st[lt],Ve=[];for($e=0;$e<vt.length;$e+=1){var nt=vt[$e];Ve[nt.id]=[];for(var wt=0,Bt=(0,O.getNeighbors)(nt.id,E.edges,"target").filter(function(je){return vt.map(function(Hn){return Hn.id}).indexOf(je)>-1});wt<Bt.length;wt++){var pn=Bt[wt];pn!==nt.id||!1===k&&A.indexOf(nt.id)>-1?Ve[nt.id].push(Z[pn]):$.push(((Ne={})[nt.id]=nt,Ne))}}return{component:vt,adjList:Ve,minIdx:gt}},oe=0;oe<se.length;){var ce=se.filter(function(pt){return Z[pt.id]>=oe}),H=(0,B.detectStrongConnectComponents)({nodes:ce,edges:E.edges}).filter(function(pt){return pt.length>1});if(0===H.length)break;var re=ze(H),ye=re.minIdx,Ce=re.adjList,Ie=re.component;if(!(Ie.length>1))break;Ie.forEach(function(pt){te[pt.id]=new Set});var Ue=X[ye];if(A&&k&&-1===A.indexOf(Ue.id))return $;ae(Ue,Ue,Ce),oe=ye+1}return $};z.detectAllDirectedCycle=_,z.detectAllCycles=function(E,A,k,L){return void 0===L&&(L=!0),A?_(E,k,L):m(E,k,L)},z.default=function(E){var A=null,k=E.nodes,ie={},te={},$={},X={};(void 0===k?[]:k).forEach(function(ae){te[ae.id]=ae});for(var Z={enter:function(ne){var se=ne.current,ve=ne.previous;if($[se]){A={};for(var ge=se,Fe=ve;Fe!==se;)A[ge]=Fe,ge=Fe,Fe=ie[Fe];A[ge]=Fe}else $[se]=se,delete te[se],ie[se]=ve},leave:function(ne){var se=ne.current;X[se]=se,delete $[se]},allowTraversal:function(ne){return!A&&!X[ne.next]}};Object.keys(te).length;){var Y=Object.keys(te)[0];(0,q.default)(E,Y,Z)}return A}},811:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function O(P,T,b){B(P,T,"",function q(P){void 0===P&&(P={});var m,T=P,b=function(){},x=(m={},function(_){var g=_.next;return!m[g]&&(m[g]=!0,!0)});return T.allowTraversal=P.allowTraversal||x,T.enter=P.enter||b,T.leave=P.leave||b,T}(b))};var R=j(5271);function B(P,T,b,x){x.enter({current:T,previous:b});var m=P.edges;(0,R.getNeighbors)(T,void 0===m?[]:m,"target").forEach(function(g){x.allowTraversal({previous:b,current:T,next:g})&&B(P,g,T,x)}),x.leave({current:T,previous:b})}},4894:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var R=j(655),q=j(1035),B=j(5271);function b(x,m,_,g){if(x===m)return[x];if(g[m])return g[m];for(var S=[],w=0,E=_[m];w<E.length;w++){var k=b(x,E[w],_,g);if(!k)return;for(var L=0,ie=k;L<ie.length;L++){var te=ie[L];(0,q.isArray)(te)?S.push((0,R.__spreadArray)((0,R.__spreadArray)([],te,!0),[m],!1)):S.push([te,m])}}return g[m]=S,g[m]}z.default=function(m,_,g,S){var w=m.nodes,E=void 0===w?[]:w,A=m.edges,k=void 0===A?[]:A,L=[],ie={},te={},$={};E.forEach(function(ve,ge){var Fe=ve.id;L.push(Fe),te[Fe]=1/0,Fe===_&&(te[Fe]=0)});for(var X=E.length,Z=function(ge){var Fe=function(m,_,g){for(var w,S=1/0,E=0;E<_.length;E++){var A=_[E].id;!g[A]&&m[A]<=S&&(S=m[A],w=_[E])}return w}(te,E,ie),Ae=Fe.id;if(ie[Ae]=!0,te[Ae]===1/0)return"continue";(g?(0,B.getOutEdgesNodeId)(Ae,k):(0,B.getEdgesByNodeId)(Ae,k)).forEach(function(oe){var ce=oe.target,re=ce===Ae?oe.source:ce,ye=S&&oe[S]?oe[S]:1;te[re]>te[Fe.id]+ye?(te[re]=te[Fe.id]+ye,$[re]=[Fe.id]):te[re]===te[Fe.id]+ye&&$[re].push(Fe.id)})},Y=0;Y<X;Y++)Z();$[_]=[_];var ae={};for(var ne in te)te[ne]!==1/0&&b(_,ne,$,ae);var se={};for(var ne in ae)se[ne]=ae[ne][0];return{length:te,path:se,allPath:ae}}},6147:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.findShortestPath=z.findAllPath=void 0;var R=function B(T){return T&&T.__esModule?T:{default:T}}(j(4894)),q=j(5271);z.findShortestPath=function(b,x,m,_,g){var S=(0,R.default)(b,x,_,g);return{length:S.length[m],path:S.path[m],allPath:S.allPath[m]}},z.findAllPath=function(b,x,m,_){var g;if(x===m)return[[x]];var S=b.edges,w=void 0===S?[]:S,E=[x],A=((g={})[x]=!0,g),k=[],L=[],ie=_?(0,q.getNeighbors)(x,w,"target"):(0,q.getNeighbors)(x,w);for(k.push(ie);E.length>0&&k.length>0;){var te=k[k.length-1];if(te.length){var $=te.shift();if($&&(E.push($),A[$]=!0,ie=_?(0,q.getNeighbors)($,w,"target"):(0,q.getNeighbors)($,w),k.push(ie.filter(function(Y){return!A[Y]}))),E[E.length-1]===m){var Z=E.map(function(ae){return ae});L.push(Z),X=E.pop(),A[X]=!1,k.pop()}}else{var X=E.pop();A[X]=!1,k.pop()}}return L}},5100:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var R=function q(P){return P&&P.__esModule?P:{default:P}}(j(2757));z.default=function(T,b){for(var x=(0,R.default)(T,b),m=[],_=x.length,g=0;g<_;g+=1){m[g]=[];for(var S=0;S<_;S+=1)m[g][S]=g===S?0:0!==x[g][S]&&x[g][S]?x[g][S]:1/0}for(var w=0;w<_;w+=1)for(g=0;g<_;g+=1)for(S=0;S<_;S+=1)m[g][S]>m[g][w]+m[w][S]&&(m[g][S]=m[g][w]+m[w][S]);return m}},7757:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var R=j(1035),q=j(1678),B=function(){function S(w,E,A,k,L){this.fromNode=w,this.toNode=E,this.nodeEdgeNodeLabel={nodeLabel1:A||q.VACANT_NODE_LABEL,edgeLabel:k||q.VACANT_EDGE_LABEL,nodeLabel2:L||q.VACANT_NODE_LABEL}}return S.prototype.equalTo=function(w){return this.fromNode===w.formNode&&this.toNode===w.toNode&&this.nodeEdgeNodeLabel===w.nodeEdgeNodeLabel},S.prototype.notEqualTo=function(w){return!this.equalTo(w)},S}(),O=function(){function S(){this.rmpath=[],this.dfsEdgeList=[]}return S.prototype.equalTo=function(w){var E=this.dfsEdgeList.length;if(E!==w.length)return!1;for(var k=0;k<E;k++)if(this.dfsEdgeList[k]!==w[k])return!1;return!0},S.prototype.notEqualTo=function(w){return!this.equalTo(w)},S.prototype.pushBack=function(w,E,A,k,L){return this.dfsEdgeList.push(new B(w,E,A,k,L)),this.dfsEdgeList},S.prototype.toGraph=function(w,E){void 0===w&&(w=q.VACANT_GRAPH_ID),void 0===E&&(E=!1);var A=new q.Graph(w,!0,E);return this.dfsEdgeList.forEach(function(k){var L=k.fromNode,ie=k.toNode,te=k.nodeEdgeNodeLabel,$=te.nodeLabel1,X=te.edgeLabel,Z=te.nodeLabel2;$!==q.VACANT_NODE_LABEL&&A.addNode(L,$),Z!==q.VACANT_NODE_LABEL&&A.addNode(ie,Z),$!==q.VACANT_NODE_LABEL&&Z!==$&&A.addEdge(void 0,L,ie,X)}),A},S.prototype.buildRmpath=function(){this.rmpath=[];for(var w=void 0,A=this.dfsEdgeList.length-1;A>=0;A--){var k=this.dfsEdgeList[A],L=k.fromNode,ie=k.toNode;L<ie&&(void 0===w||ie===w)&&(this.rmpath.push(A),w=L)}return this.rmpath},S.prototype.getNodeNum=function(){var w={};return this.dfsEdgeList.forEach(function(E){w[E.fromNode]||(w[E.fromNode]=!0),w[E.toNode]||(w[E.toNode]=!0)}),Object.keys(w).length},S}(),P=function(){function S(w){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],w){for(;w;){var E=w.edge;this.edges.push(E),this.nodesUsed[E.from]=1,this.nodesUsed[E.to]=1,this.edgesUsed[E.id]=1,w=w.preNode}this.edges=this.edges.reverse()}}return S.prototype.hasNode=function(w){return 1===this.nodesUsed[w.id]},S.prototype.hasEdge=function(w){return 1===this.edgesUsed[w.id]},S}(),T=function(){function S(w){var A=w.minSupport,k=void 0===A?2:A,L=w.minNodeNum,ie=void 0===L?1:L,te=w.maxNodeNum,$=void 0===te?4:te,X=w.top,Z=void 0===X?10:X,Y=w.directed,ae=void 0!==Y&&Y,ne=w.verbose,se=void 0!==ne&&ne;this.graphs=w.graphs,this.dfsCode=new O,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=k,this.top=Z,this.directed=ae,this.counter=0,this.maxNodeNum=$,this.minNodeNum=ie,this.verbose=se,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return S.prototype.findForwardRootEdges=function(w,E){var A=this,k=[],L=w.nodeMap;return E.edges.forEach(function(ie){(A.directed||E.label<=L[ie.to].label)&&k.push(ie)}),k},S.prototype.findBackwardEdge=function(w,E,A,k){if(!this.directed&&E===A)return null;for(var L=w.nodeMap,te=L[A.to].edges,$=te.length,X=0;X<$;X++){var Z=te[X];if(!k.hasEdge(Z)&&Z.to===E.from)if(this.directed){if(L[E.from].label<L[A.to].label||L[E.from].label===L[A.to].label&&E.label<=Z.label)return Z}else if(E.label<Z.label||E.label===Z.label&&L[E.to].label<=L[A.to].label)return Z}return null},S.prototype.findForwardPureEdges=function(w,E,A,k){for(var L=[],te=w.nodeMap[E.to].edges,$=te.length,X=0;X<$;X++){var Z=te[X],Y=w.nodeMap[Z.to];A<=Y.label&&!k.hasNode(Y)&&L.push(Z)}return L},S.prototype.findForwardRmpathEdges=function(w,E,A,k){for(var L=[],ie=w.nodeMap,te=ie[E.to].label,X=ie[E.from].edges,Z=X.length,Y=0;Y<Z;Y++){var ae=X[Y],ne=ie[ae.to].label;E.to===ae.to||A>ne||k.hasNode(ie[ae.to])||(E.label<ae.label||E.label===ae.label&&te<=ne)&&L.push(ae)}return L},S.prototype.getSupport=function(w){var E={};return w.forEach(function(A){E[A.graphId]||(E[A.graphId]=!0)}),Object.keys(E).length},S.prototype.findMinLabel=function(w){var E=void 0;return Object.keys(w).forEach(function(A){var k=w[A],L=k.nodeLabel1,ie=k.edgeLabel,te=k.nodeLabel2;E?(L<E.nodeLabel1||L===E.nodeLabel1&&ie<E.edgeLabel||L===E.nodeLabel1&&ie===E.edgeLabel&&te<E.nodeLabel2)&&(E={nodeLabel1:L,edgeLabel:ie,nodeLabel2:te}):E={nodeLabel1:L,edgeLabel:ie,nodeLabel2:te}}),E},S.prototype.isMin=function(){var w=this,E=this.dfsCode;if(this.verbose&&console.log("isMin checking",E),1===E.dfsEdgeList.length)return!0;var A=this.directed,k=E.toGraph(q.VACANT_GRAPH_ID,A),L=k.nodeMap,ie=new O,te={};k.nodes.forEach(function(Y){w.findForwardRootEdges(k,Y).forEach(function(ne){var se=L[ne.to],ve="".concat(Y.label,"-").concat(ne.label,"-").concat(se.label);te[ve]||(te[ve]={projected:[],nodeLabel1:Y.label,edgeLabel:ne.label,nodeLabel2:se.label}),te[ve].projected.push({graphId:k.id,edge:ne,preNode:null})})});var $=this.findMinLabel(te);if($){ie.dfsEdgeList.push(new B(0,1,$.nodeLabel1,$.edgeLabel,$.nodeLabel2));var Z="".concat($.nodeLabel1,"-").concat($.edgeLabel,"-").concat($.nodeLabel2);return function Y(ae){for(var ne=ie.buildRmpath(),se=ie.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,ve=ie.dfsEdgeList[ne[0]].toNode,ge={},Fe=!1,Ae=0,ze=A?-1:0,oe=function($e){if(Fe)return"break";ae.forEach(function(dt){var De=new P(dt),Be=w.findBackwardEdge(k,De.edges[ne[$e]],De.edges[ne[0]],De);Be&&(ge[Be.label]||(ge[Be.label]={projected:[],edgeLabel:Be.label}),ge[Be.label].projected.push({graphId:k.id,edge:ge,preNode:dt}),Ae=ie.dfsEdgeList[ne[$e]].fromNode,Fe=!0)})},ce=ne.length-1;ce>ze&&"break"!==oe(ce);ce--);if(Fe){var re=w.findMinLabel(ge);ie.dfsEdgeList.push(new B(ve,Ae,q.VACANT_NODE_LABEL,re.edgeLabel,q.VACANT_NODE_LABEL));var ye=ie.dfsEdgeList.length-1;return w.dfsCode.dfsEdgeList[ye]===ie.dfsEdgeList[ye]&&Y(ge[re.edgeLabel].projected)}var Ce={};Fe=!1;var Ie=0;ae.forEach(function(gt){var $e=new P(gt),dt=w.findForwardPureEdges(k,$e.edges[ne[0]],se,$e);dt.length>0&&(Fe=!0,Ie=ve,dt.forEach(function(De){var Be="".concat(De.label,"-").concat(L[De.to].label);Ce[Be]||(Ce[Be]={projected:[],edgeLabel:De.label,nodeLabel2:L[De.to].label}),Ce[Be].projected.push({graphId:k.id,edge:De,preNode:gt})}))});var Ue=ne.length,pt=function($e){if(Fe)return"break";var dt=ne[$e];ae.forEach(function(De){var Be=new P(De),vt=w.findForwardRmpathEdges(k,Be.edges[dt],se,Be);vt.length>0&&(Fe=!0,Ie=ie.dfsEdgeList[dt].fromNode,vt.forEach(function(Ve){var nt="".concat(Ve.label,"-").concat(L[Ve.to].label);Ce[nt]||(Ce[nt]={projected:[],edgeLabel:Ve.label,nodeLabel2:L[Ve.to].label}),Ce[nt].projected.push({graphId:k.id,edge:Ve,preNode:De})}))})};for(ce=0;ce<Ue&&"break"!==pt(ce);ce++);if(!Fe)return!0;var Ne=w.findMinLabel(Ce);ie.dfsEdgeList.push(new B(Ie,ve+1,q.VACANT_NODE_LABEL,Ne.edgeLabel,Ne.nodeLabel2));var lt=ie.dfsEdgeList.length-1;return E.dfsEdgeList[lt]===ie.dfsEdgeList[lt]&&Y(Ce["".concat(Ne.edgeLabel,"-").concat(Ne.nodeLabel2)].projected)}(te[Z].projected)}},S.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var w=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,R.clone)(w))}},S.prototype.subGraphMining=function(w){var E=this;if(!(this.getSupport(w)<this.minSupport)&&this.isMin()){this.report();var k=this.dfsCode.getNodeNum(),L=this.dfsCode.buildRmpath(),ie=this.dfsCode.dfsEdgeList[L[0]].toNode,te=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,$={},X={};w.forEach(function(Z){for(var Y=E.graphs[Z.graphId],ae=Y.nodeMap,ne=new P(Z),se=L.length-1;se>=0;se--){var ve=E.findBackwardEdge(Y,ne.edges[L[se]],ne.edges[L[0]],ne);if(ve){var ge="".concat(E.dfsCode.dfsEdgeList[L[se]].fromNode,"-").concat(ve.label);X[ge]||(X[ge]={projected:[],toNodeId:E.dfsCode.dfsEdgeList[L[se]].fromNode,edgeLabel:ve.label}),X[ge].projected.push({graphId:Z.graphId,edge:ve,preNode:Z})}}if(!(k>=E.maxNodeNum)){E.findForwardPureEdges(Y,ne.edges[L[0]],te,ne).forEach(function(ze){var oe="".concat(ie,"-").concat(ze.label,"-").concat(ae[ze.to].label);$[oe]||($[oe]={projected:[],fromNodeId:ie,edgeLabel:ze.label,nodeLabel2:ae[ze.to].label}),$[oe].projected.push({graphId:Z.graphId,edge:ze,preNode:Z})});var Ae=function(oe){E.findForwardRmpathEdges(Y,ne.edges[L[oe]],te,ne).forEach(function(H){var re="".concat(E.dfsCode.dfsEdgeList[L[oe]].fromNode,"-").concat(H.label,"-").concat(ae[H.to].label);$[re]||($[re]={projected:[],fromNodeId:E.dfsCode.dfsEdgeList[L[oe]].fromNode,edgeLabel:H.label,nodeLabel2:ae[H.to].label}),$[re].projected.push({graphId:Z.graphId,edge:H,preNode:Z})})};for(se=0;se<L.length;se++)Ae(se)}}),Object.keys(X).forEach(function(Z){var Y=X[Z];E.dfsCode.dfsEdgeList.push(new B(ie,Y.toNodeId,"-1",Y.edgeLabel,"-1")),E.subGraphMining(X[Z].projected),E.dfsCode.dfsEdgeList.pop()}),Object.keys($).forEach(function(Z){var Y=$[Z];E.dfsCode.dfsEdgeList.push(new B(Y.fromNodeId,ie+1,q.VACANT_NODE_LABEL,Y.edgeLabel,Y.nodeLabel2)),E.subGraphMining($[Z].projected),E.dfsCode.dfsEdgeList.pop()})}},S.prototype.generate1EdgeFrequentSubGraphs=function(){var w=this.graphs,E=this.directed,A=this.minSupport,k=this.frequentSize1Subgraphs,L={},ie={},te={},$={};return Object.keys(w).forEach(function(X){var Z=w[X],Y=Z.nodeMap;Z.nodes.forEach(function(ae,ne){var se=ae.label,ve="".concat(X,"-").concat(se);if(!te[ve]){var ge=L[se]||0;ge++,L[se]=ge}te[ve]={graphKey:X,label:se},ae.edges.forEach(function(Fe){var Ae=se,ze=Y[Fe.to].label;if(!E&&Ae>ze){var oe=ze;ze=Ae,Ae=oe}var ce=Fe.label,H="".concat(X,"-").concat(Ae,"-").concat(ce,"-").concat(ze),re="".concat(Ae,"-").concat(ce,"-").concat(ze);if(!ie[re]){var ye=ie[re]||0;ye++,ie[re]=ye}$[H]={graphId:X,nodeLabel1:Ae,edgeLabel:ce,nodeLabel2:ze}})})}),Object.keys(L).forEach(function(X){if(!(L[X]<A)){var Y={nodes:[],edges:[]};Y.nodes.push({id:"0",label:X}),k.push(Y)}}),k},S.prototype.run=function(){var w=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var E=this.graphs,k={};Object.keys(E).forEach(function(L){var ie=E[L],te=ie.nodeMap;ie.nodes.forEach(function($){w.findForwardRootEdges(ie,$).forEach(function(Z){var Y=te[Z.to],ae="".concat($.label,"-").concat(Z.label,"-").concat(Y.label);k[ae]||(k[ae]={projected:[],nodeLabel1:$.label,edgeLabel:Z.label,nodeLabel2:Y.label}),k[ae].projected.push({graphId:L,edge:Z,preNode:null})})})}),Object.keys(k).forEach(function(L){var ie=k[L],te=ie.projected;w.dfsCode.dfsEdgeList.push(new B(0,1,ie.nodeLabel1,ie.edgeLabel,ie.nodeLabel2)),w.subGraphMining(te),w.dfsCode.dfsEdgeList.pop()})}},S}(),m="cluster";z.default=function(w){var A=w.directed,k=void 0!==A&&A,L=w.nodeLabelProp,ie=void 0===L?m:L,te=w.edgeLabelProp,$=void 0===te?m:te,X=function(w,E,A,k){var L={};return Object.keys(w).forEach(function(ie,te){var $=w[ie],X=new q.Graph(te,!0,E),Z={};$.nodes.forEach(function(Y,ae){X.addNode(ae,Y[A]),Z[Y.id]=ae}),$.edges.forEach(function(Y,ae){X.addEdge(-1,Z[Y.source],Z[Y.target],Y[k])}),X&&X.getNodeNum()&&(L[X.id]=X)}),L}(w.graphs,k,ie,$),ge=new T({graphs:X,minSupport:w.minSupport,maxNodeNum:w.maxNodeNum,minNodeNum:w.minNodeNum,top:w.top,verbose:w.verbose,directed:k});ge.run();var Fe=function(w,E,A){var k=[];return w.forEach(function(L){var ie={nodes:[],edges:[]};L.nodes.forEach(function(te){var $;ie.nodes.push((($={id:"".concat(te.id)})[E]=te.label,$))}),L.edges.forEach(function(te){var $;ie.edges.push((($={source:"".concat(te.from),target:"".concat(te.to)})[A]=te.label,$))}),k.push(ie)}),k}(ge.frequentSubgraphs,ie,$);return Fe}},1678:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.VACANT_NODE_LABEL=z.VACANT_NODE_ID=z.VACANT_GRAPH_ID=z.VACANT_EDGE_LABEL=z.VACANT_EDGE_ID=z.Node=z.Graph=z.Edge=z.AUTO_EDGE_ID=void 0;z.VACANT_EDGE_ID=-1;var R=-1;z.VACANT_NODE_ID=R;z.VACANT_EDGE_LABEL="-1";var B="-1";z.VACANT_NODE_LABEL=B,z.VACANT_GRAPH_ID=-1,z.AUTO_EDGE_ID="-1";var T=function m(_,g,S,w){void 0===_&&(_=-1),void 0===g&&(g=R),void 0===S&&(S=R),void 0===w&&(w="-1"),this.id=_,this.from=g,this.to=S,this.label=w};z.Edge=T;var b=function(){function m(_,g){void 0===_&&(_=R),void 0===g&&(g=B),this.id=_,this.label=g,this.edges=[],this.edgeMap={}}return m.prototype.addEdge=function(_){this.edges.push(_),this.edgeMap[_.id]=_},m}();z.Node=b;var x=function(){function m(_,g,S){void 0===_&&(_=R),void 0===g&&(g=!0),void 0===S&&(S=!1),this.id=_,this.edgeIdAutoIncrease=g,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=S}return m.prototype.getNodeNum=function(){return this.nodes.length},m.prototype.addNode=function(_,g){if(!this.nodeMap[_]){var S=new b(_,g);this.nodes.push(S),this.nodeMap[_]=S,this.nodeLabelMap[g]||(this.nodeLabelMap[g]=[]),this.nodeLabelMap[g].push(_)}},m.prototype.addEdge=function(_,g,S,w){if((this.edgeIdAutoIncrease||void 0===_)&&(_=this.counter++),!(this.nodeMap[g]&&this.nodeMap[S]&&this.nodeMap[S].edgeMap[_])){var E=new T(_,g,S,w);if(this.edges.push(E),this.edgeMap[_]=E,this.nodeMap[g].addEdge(E),this.edgeLabelMap[w]||(this.edgeLabelMap[w]=[]),this.edgeLabelMap[w].push(E),!this.directed){var A=new T(_,S,g,w);this.nodeMap[S].addEdge(A),this.edgeLabelMap[w].push(A)}}},m}();z.Graph=x},1349:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var R=j(655),q=T(j(5100)),B=T(j(7757)),O=T(j(4894)),P=j(5271);function T($){return $&&$.__esModule?$:{default:$}}var b=function(X,Z,Y,ae){void 0===Y&&(Y="cluster"),void 0===ae&&(ae=2);var ne=[],se=X.nodes;return Z.forEach(function(ve,ge){ne.push(x(se,ve,ge,Y,ae))}),ne},x=function(X,Z,Y,ae,ne){var se=[Y],ve=[],ge={};return Z.forEach(function(Fe,Ae){if(Fe<=ne&&Y!==Ae){se.push(Ae),ve.push(X[Ae]);var ze=X[Ae][ae];ge[ze]?(ge[ze].count++,ge[ze].dists.push(Fe)):ge[ze]={count:1,dists:[Fe]}}}),Object.keys(ge).forEach(function(Fe){ge[Fe].dists=ge[Fe].dists.sort(function(Ae,ze){return Ae-ze})}),{nodeIdx:Y,nodeId:X[Y].id,nodeIdxs:se,neighbors:ve,neighborNum:se.length-1,nodeLabelCountMap:ge}},_=function(X,Z,Y,ae){var ne=Y.nodes;return ae||(ae={}),Object.keys(X).forEach(function(se){var ve,ge;if(!ae||!ae[se]){ae[se]={nodes:[],edges:[]};var Fe=X[se],Ae=null===(ve=Z[Fe.start])||void 0===ve?void 0:ve.nodeIdxs,ze=null===(ge=Z[Fe.end])||void 0===ge?void 0:ge.nodeIdxs;if(Ae&&ze){var oe=new Set(ze),ce=Ae.filter(function(Ie){return oe.has(Ie)});if(ce&&ce.length){for(var H={},re=ce.length,ye=0;ye<re;ye++){var Ce=ne[ce[ye]];ae[se].nodes.push(Ce),H[Ce.id]=!0}Y.edges.forEach(function(Ie){H[Ie.source]&&H[Ie.target]&&ae[se].edges.push(Ie)})}}}}),ae},g=function(X,Z,Y,ae){var ne,se,ve={};X.nodes.forEach(function(Fe){ve[Fe.id]=Fe});var ge=0;return null===(ne=Z?.edges)||void 0===ne||!ne.length||(null===(se=Z?.nodes)||void 0===se?void 0:se.length)<2?0:(X.edges.forEach(function(Fe){var Ae=ve[Fe.source][Y],ze=ve[Fe.target][Y],oe=Z?.nodes[0][Y],ce=Z?.nodes[1][Y],H=Z?.edges[0][ae];Fe[ae]===H&&(Ae===oe&&ze===ce||Ae===ce&&ze===oe)&&ge++}),ge)},w=function(X,Z){var Y={},ae={};return X.forEach(function(ne,se){Y[ne.id]={idx:se,node:ne,degree:0,inDegree:0,outDegree:0};var ve=ne[Z];ae[ve]||(ae[ve]=[]),ae[ve].push(ne)}),{nodeMap:Y,nodeLabelMap:ae}},E=function(X,Z,Y){var ae={},ne={};return X.forEach(function(se,ve){ae["".concat(P.uniqueId)]={idx:ve,edge:se};var ge=se[Z];ne[ge]||(ne[ge]=[]),ne[ge].push(se);var Fe=Y[se.source];Fe&&(Fe.degree++,Fe.outDegree++);var Ae=Y[se.target];Ae&&(Ae.degree++,Ae.inDegree++)}),{edgeMap:ae,edgeLabelMap:ne}},A=function(X,Z,Y){var ae=Z.length,ne={};return Z.forEach(function(se,ve){for(var Fe=X[ve].id,Ae=Y?0:ve+1;Ae<ae;Ae++)if(ve!==Ae){var ze=X[Ae].id,oe=se[Ae];ne["".concat(Fe,"-").concat(ze)]=oe,Y||(ne["".concat(ze,"-").concat(Fe)]=oe)}}),ne},k=function(X,Z,Y,ae,ne,se,ve,ge,Fe,Ae,ze){var oe,ce="".concat(Z.id,"-").concat(Y.id);if(Ae&&Ae[ce])return Ae[ce];var H=ze?ze[ce]:void 0;if(!H){var re=((oe={})[ce]={start:ae[Z.id].idx,end:ae[Y.id].idx,distance:ne},oe);H=(ze=_(re,se,X,ze))[ce]}return g(H,ve,ge,Fe)},L=function(X,Z,Y,ae){var ne,se,ve,ge=null===(ne=X[Z])||void 0===ne?void 0:ne.degree,Fe=null===(se=X[Z])||void 0===se?void 0:se.inDegree,Ae=null===(ve=X[Z])||void 0===ve?void 0:ve.outDegree;return void 0===X[Z]&&(ge=1/0,Fe=1/0,Ae=1/0,ae[Z].forEach(function(ze){var oe=Y[ze.id].degree;ge>oe&&(ge=oe);var ce=Y[ze.id].inDegree;Fe>ce&&(Fe=ce);var H=Y[ze.id].outDegree;Ae>H&&(Ae=H)}),X[Z]={degree:ge,inDegree:Fe,outDegree:Ae}),{minPatternNodeLabelDegree:ge,minPatternNodeLabelInDegree:Fe,minPatternNodeLabelOutDegree:Ae}};z.default=function(X,Z,Y,ae,ne,se,ve){var ge;if(void 0===Y&&(Y=!1),void 0===se&&(se="cluster"),void 0===ve&&(ve="cluster"),X&&X.nodes){var Fe=X.nodes.length;if(Fe){var Ae=(0,q.default)(X,Y),ze=(0,q.default)(Z,Y),oe=A(X.nodes,Ae,Y),ce=A(Z.nodes,ze,Y),H=w(X.nodes,se),re=H.nodeMap,ye=H.nodeLabelMap,Ce=w(Z.nodes,se),Ie=Ce.nodeMap,Ue=Ce.nodeLabelMap;E(X.edges,ve,re);var pt=E(Z.edges,ve,Ie).edgeLabelMap,st=[];ze?.forEach(function(Ar){st=st.concat(Ar)}),ne||(ne=Math.max.apply(Math,(0,R.__spreadArray)((0,R.__spreadArray)([],st,!1),[2],!1))),ae||(ae=ne);var Ne=b(X,Ae,se,ae),lt=b(Z,ze,se,ae),$e=function(X,Z,Y,ae,ne){var se=Math.ceil(Y/Z),ve={},ge=0;return ae.forEach(function(Fe,Ae){for(var ze=0,oe=0,ce=Fe.nodeIdxs,H=Fe.neighborNum-1;ze<se;){for(var re=ce[1+Math.floor(Math.random()*H)],ye=0;(ve["".concat(Ae,"-").concat(re)]||ve["".concat(re,"-").concat(Ae)])&&(re=Math.floor(Math.random()*Z),!(++ye>2*Z)););if(ye<2*Z&&(ve["".concat(Ae,"-").concat(re)]={start:Ae,end:re,distance:ne[Ae][re]},ze++,++ge>=Y))return ve;if(++oe>2*Z)break}ze<se&&(se=(se+(se-ze))/(Z-Ae-1))}),ve}(0,Fe,Math.min(100,Fe*(Fe-1)/2),Ne,Ae),dt=_($e,Ne,X),wt=(0,B.default)({graphs:dt,nodeLabelProp:se,edgeLabelProp:ve,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:Y}).slice(0,10),Bt=wt.length,pn=[];wt.forEach(function(Ar,ti){pn[ti]={},Object.keys(dt).forEach(function(Vr){var G=g(dt[Vr],Ar,se,ve);pn[ti][Vr]=G})});var kn=function(X,Z,Y){for(var ae=1/0,ne=0,se=function(Fe){var Ae=X[Fe],ze=Object.keys(Ae).sort(function(Ie,Ue){return Ae[Ie]-Ae[Ue]}),ce=[];ze.forEach(function(Ie,Ue){ce[Ue%10]||(ce[Ue%10]={graphs:[],totalCount:0,aveCount:0}),ce[Ue%10].graphs.push(Ie),ce[Ue%10].totalCount+=Ae[Ie]});var H=0,re=[];ce.forEach(function(Ie){var Ue=Ie.totalCount/Ie.graphs.length;Ie.aveCount=Ue,re.push(Ue);var pt=0,st=Ie.length;Ie.graphs.forEach(function(Ne,lt){var gt=Ae[Ne];Ie.graphs.forEach(function($e,dt){lt!==dt&&(pt+=Math.abs(gt-Ae[$e]))})}),H+=pt/=st*(st-1)/2}),H/=ce.length;var ye=0;re.forEach(function(Ie,Ue){re.forEach(function(pt,st){Ue!==st&&(ye+=Math.abs(Ie-pt))}),ye/=re.length*(re.length-1)/2});var Ce=ye-H;ae<Ce&&(ae=Ce,ne=Fe)},ve=0;ve<Z;ve++)se(ve);return{structure:Y[ne],structureCountMap:X[ne]}}(pn,Bt,wt),je=kn.structure,Hn=kn.structureCountMap,Cr=Z.nodes[0],qn=[],Me=null===(ge=Z.nodes[0])||void 0===ge?void 0:ge[se],Ur=-1/0;Z.nodes.forEach(function(Ar){var ti=Ar[se],Vr=ye[ti];Vr?.length>Ur&&(Ur=Vr.length,qn=Vr,Me=ti,Cr=Ar)});var pi={},bi={},ii={},Xi={},ji={},hn={};Object.keys(Ue).forEach(function(Ar,ti){ji[Ar]=[],Y&&(hn[Ar]=[]);var Vr=-1/0,G={};Ue[Ar].forEach(function(He){var We=ce["".concat(Cr.id,"-").concat(He.id)];if(We&&ji[Ar].push(We),Vr<We&&(Vr=We),G["".concat(Cr.id,"-").concat(He.id)]={start:0,end:Ie[He.id].idx,distance:We},Y){var it=ce["".concat(He.id,"-").concat(Cr.id)];it&&hn[Ar].push(it)}}),ji[Ar]=ji[Ar].sort(function(He,We){return He-We}),Y&&(hn[Ar]=hn[Ar].sort(function(He,We){return He-We})),bi=_(G,lt,Z,bi);var V=[];if(Object.keys(G).forEach(function(He){ii[He]||(ii[He]=g(bi[He],je,se,ve)),V.push(ii[He])}),V=V.sort(function(He,We){return We-He}),Xi["".concat(Cr.id,"-").concat(Ar)]=V,Ar!==Me)for(var W=function(We){var it=qn[We],rt=Ne[re[it.id].idx],Vt=rt.nodeLabelCountMap[Ar],N=Ue[Ar].length;if(!Vt||Vt.count<N)return qn.splice(We,1),"continue";for(var Xe=!1,Ye=0;Ye<N;Ye++)if(Vt.dists[Ye]>ji[Ar][Ye]){Xe=!0;break}if(Xe)return qn.splice(We,1),"continue";var Qe={};rt.neighbors.forEach(function(Je){var Wt=oe["".concat(it.id,"-").concat(Je.id)];Qe["".concat(it.id,"-").concat(Je.id)]={start:re[it.id].idx,end:re[Je.id].idx,distance:Wt}}),dt=_(Qe,Ne,X,dt);var Et=[];Object.keys(Qe).forEach(function(Je){Hn[Je]||(Hn[Je]=g(dt[Je],je,se,ve)),Et.push(Hn[Je])}),Et=Et.sort(function(Je,Wt){return Wt-Je});var nn=!1;for(Ye=0;Ye<N;Ye++)if(Et[Ye]<V[Ye]){nn=!0;break}return nn?(qn.splice(We,1),"continue"):void 0},fe=(qn?.length||0)-1;fe>=0;fe--)W(fe)});var Pn=[];qn?.forEach(function(Ar){for(var ti=re[Ar.id].idx,Se=x(X.nodes,Ae[ti],ti,se,ne).neighbors,V=!1,C=Se.length-1;C>=0;C--){if(Se.length+1<Z.nodes.length)return void(V=!0);var W=Se[C],fe=W[se];if(Ue[fe]&&Ue[fe].length)if(ji[fe]&&ji[fe].length){var He="".concat(Ar.id,"-").concat(W.id),We=oe[He],it=ji[fe].length-1;if(We>ji[fe][it])Se.splice(C,1);else{if(Y){var Vt="".concat(W.id,"-").concat(Ar.id);if(oe[Vt]>hn[fe][it=hn[fe].length-1]){Se.splice(C,1);continue}}var Ye=Hn[He]?Hn[He]:k(X,Ar,W,re,We,Ne,je,se,ve,Hn,dt),Qe="".concat(Cr.id,"-").concat(fe);if(Ye<Xi[Qe][Xi[Qe].length-1])Se.splice(C,1);else{var nn=L(pi,fe,Ie,Ue);re[W.id].degree<nn.minPatternNodeLabelDegree&&Se.splice(C,1)}}}else Se.splice(C,1);else Se.splice(C,1)}V||Pn.push({nodes:[Ar].concat(Se)})});var br=(0,O.default)(Z,Cr.id,!1).length,Dr={};Y?(Object.keys(br).forEach(function(Ar){var ti=Ie[Ar].node[se];Dr[ti]?Dr[ti].push(br[Ar]):Dr[ti]=[br[Ar]]}),Object.keys(Dr).forEach(function(Ar){Dr[Ar].sort(function(ti,Vr){return ti-Vr})})):Dr=ji;for(var ei=function(ti){var Vr=Pn[ti],Se=Vr.nodes[0],G={},V={};Vr.nodes.forEach(function(pr,Ct){V[pr.id]={idx:Ct,node:pr,degree:0,inDegree:0,outDegree:0};var Oe=pr[se];G[Oe]?G[Oe]++:G[Oe]=1});var C=[],W={};X.edges.forEach(function(pr){V[pr.source]&&V[pr.target]&&(C.push(pr),W[pr[ve]]?W[pr[ve]]++:W[pr[ve]]=1,V[pr.source].degree++,V[pr.target].degree++,V[pr.source].outDegree++,V[pr.target].inDegree++)});for(var fe=Object.keys(pt).length,He=!1,We=0;We<fe;We++){var it=Object.keys(pt)[We];if(!W[it]||W[it]<pt[it].length){He=!0;break}}if(He)return Pn.splice(ti,1),"continue";var rt=C.length;if(rt<Z.edges.length)return Pn.splice(ti,1),"break";var Vt=!1,N=function(Ct){var Oe=C[Ct],Pe=Oe[ve],Ot=pt[Pe];if(!Ot||!Ot.length)return W[Pe]--,Ot&&W[Pe]<Ot.length?(Vt=!0,"break"):(C.splice(Ct,1),V[Oe.source].degree--,V[Oe.target].degree--,V[Oe.source].outDegree--,V[Oe.target].inDegree--,"continue");var ht=V[Oe.source].node[se],At=V[Oe.target].node[se],on=!1;return Ot.forEach(function(En){var Fn=Ie[En.source].node,xr=Ie[En.target].node;Fn[se]===ht&&xr[se]===At&&(on=!0),!Y&&Fn[se]===At&&xr[se]===ht&&(on=!0)}),on?void 0:(W[Pe]--,Ot&&W[Pe]<Ot.length?(Vt=!0,"break"):(C.splice(Ct,1),V[Oe.source].degree--,V[Oe.target].degree--,V[Oe.source].outDegree--,V[Oe.target].inDegree--,"continue"))};for(We=rt-1;We>=0&&"break"!==N(We);We--);if(Vt)return Pn.splice(ti,1),"continue";Vr.edges=C;var Ye=(0,O.default)(Vr,Vr.nodes[0].id,!1).length;if(Object.keys(Ye).reverse().forEach(function(pr){if(pr!==Vr.nodes[0].id&&!Vt){if(Ye[pr]===1/0){if(G[Ct=V[pr].node[se]]--,G[Ct]<Ue[Ct].length)return void(Vt=!0);var Oe=Vr.nodes.indexOf(V[pr].node);return Vr.nodes.splice(Oe,1),void(V[pr]=void 0)}var Pe=re[pr].node[se];if(!Dr[Pe]||!Dr[Pe].length||Ye[pr]>Dr[Pe][Dr[Pe].length-1]){var Ct;if(G[Ct=V[pr].node[se]]--,G[Ct]<Ue[Ct].length)return void(Vt=!0);Oe=Vr.nodes.indexOf(V[pr].node),Vr.nodes.splice(Oe,1),V[pr]=void 0}}}),Vt)return Pn.splice(ti,1),"continue";for(var Qe=!0,Et=0;Qe&&!Vt;){if(Qe=!1,Y?V[Se.id].degree<Ie[Cr.id].degree||V[Se.id].inDegree<Ie[Cr.id].inDegree||V[Se.id].outDegree<Ie[Cr.id].outDegree:V[Se.id].degree<Ie[Cr.id].degree){Vt=!0;break}if(G[Se[se]]<Ue[Se[se]].length){Vt=!0;break}for(var Wt=Vr.nodes.length-1;Wt>=0;Wt--){var yn=Vr.nodes[Wt],Dn=V[yn.id].degree,Rn=V[yn.id].inDegree,Ir=V[yn.id].outDegree,er=L(pi,yn[se],Ie,Ue),Gr=er.minPatternNodeLabelDegree;if(Y?Dn<Gr||Rn<er.minPatternNodeLabelInDegree||Ir<er.minPatternNodeLabelOutDegree:Dn<Gr){if(G[yn[se]]--,G[yn[se]]<Ue[yn[se]].length){Vt=!0;break}Vr.nodes.splice(Wt,1),V[yn.id]=void 0,Qe=!0}}if(Vt||!Qe&&0!==Et)break;for(var Vn=(rt=C.length)-1;Vn>=0;Vn--){var cn=C[Vn];if(!V[cn.source]||!V[cn.target]){C.splice(Vn,1);var Lr=cn[ve];if(W[Lr]--,V[cn.source]&&(V[cn.source].degree--,V[cn.source].outDegree--),V[cn.target]&&(V[cn.target].degree--,V[cn.target].inDegree--),pt[Lr]&&W[Lr]<pt[Lr].length){Vt=!0;break}Qe=!0}}Et++}return Vt||Vt||Vr.nodes.length<Z.nodes.length||C.length<Z.edges.length?(Pn.splice(ti,1),"continue"):void 0},Qr=Pn.length-1;Qr>=0&&"break"!==ei(Qr);Qr--);var Ki=Pn.length,xa=function(ti){var Se={};Pn[ti].edges.forEach(function(C){var W="".concat(C.source,"-").concat(C.target,"-").concat(C.label);Se[W]?Se[W]++:Se[W]=1});for(var G=function(W){var He={};Pn[W].edges.forEach(function(it){var rt="".concat(it.source,"-").concat(it.target,"-").concat(it.label);He[rt]?He[rt]++:He[rt]=1});var We=!0;Object.keys(He).length!==Object.keys(Se).length?We=!1:Object.keys(Se).forEach(function(it){He[it]!==Se[it]&&(We=!1)}),We&&Pn.splice(W,1)},V=Ki-1;V>ti;V--)G(V);Ki=Pn.length};for(Qr=0;Qr<=Ki-1;Qr++)xa(Qr);return Pn}}}},3754:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var R=function B(T){return T&&T.__esModule?T:{default:T}}(j(2757)),q=j(5271);z.default=function(b,x,m,_){void 0===x&&(x=!1),void 0===m&&(m="weight"),void 0===_&&(_=1e3);var g=b.nodes,S=void 0===g?[]:g,w=b.edges,E=void 0===w?[]:w,A={},k={};S.forEach(function(se,ve){var ge=(0,q.uniqueId)();se.clusterId=ge,A[ge]={id:ge,nodes:[se]},k[se.id]={node:se,idx:ve}});var L=(0,R.default)(b,x),ie=[],te={};L.forEach(function(se,ve){var ge=0,Fe=S[ve].id;te[Fe]={},se.forEach(function(Ae,ze){Ae&&(ge+=Ae,te[Fe][S[ze].id]=Ae)}),ie.push(ge)});for(var $=0,X=function(){var ve=!1;if(S.forEach(function(ge){var Fe={};Object.keys(te[ge.id]).forEach(function(Ce){var Ie=te[ge.id][Ce],pt=k[Ce].node.clusterId;Fe[pt]||(Fe[pt]=0),Fe[pt]+=Ie});var Ae=-1/0,ze=[];if(Object.keys(Fe).forEach(function(Ce){Ae<Fe[Ce]?(Ae=Fe[Ce],ze=[Ce]):Ae===Fe[Ce]&&ze.push(Ce)}),1!==ze.length||ze[0]!==ge.clusterId){var oe=ze.indexOf(ge.clusterId);if(oe>=0&&ze.splice(oe,1),ze&&ze.length){ve=!0;var ce=A[ge.clusterId],H=ce.nodes.indexOf(ge);ce.nodes.splice(H,1);var re=Math.floor(Math.random()*ze.length),ye=A[ze[re]];ye.nodes.push(ge),ge.clusterId=ye.id}}}),!ve)return"break";$++};$<_&&"break"!==X(););Object.keys(A).forEach(function(se){var ve=A[se];(!ve.nodes||!ve.nodes.length)&&delete A[se]});var Y=[],ae={};E.forEach(function(se){var Fe=se[m]||1,Ae=k[se.source].node.clusterId,ze=k[se.target].node.clusterId,oe="".concat(Ae,"---").concat(ze);if(ae[oe])ae[oe].weight+=Fe,ae[oe].count++;else{var ce={source:Ae,target:ze,weight:Fe,count:1};ae[oe]=ce,Y.push(ce)}});var ne=[];return Object.keys(A).forEach(function(se){ne.push(A[se])}),{clusters:ne,clusterEdges:Y}}},7306:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var R=j(1035),q=T(j(2757)),B=T(j(2979)),O=j(7506),P=j(4575);function T(g){return g&&g.__esModule?g:{default:g}}var b=function(S,w,E,A){for(var k=w.length,L=2*A,ie=0,te=0;te<k;te++)for(var $=S[te].clusterId,X=0;X<k;X++)$===S[X].clusterId&&(ie+=(w[te][X]||0)-(E[te]||0)*(E[X]||0)/L);return ie*(1/L)},x=function(S,w){void 0===S&&(S=[]);for(var E=S.length,A=new B.default([]),k=0;k<E;k++)A=A.add(new B.default(w[k]));var L=A.avg(E);L.normalize();var ie=0;for(k=0;k<E;k++)ie+=(te=new B.default(w[k])).squareEuclideanDistance(L);var X=[];for(S.forEach(function(){X.push([])}),k=0;k<E;k++){var te=new B.default(w[k]);S[k].clusterInertial=0;for(var Z=0;Z<E;Z++)if(k!==Z){var Y=new B.default(w[Z]);X[k][Z]=te.squareEuclideanDistance(Y),S[k].clusterInertial+=X[k][Z]}else X[k][Z]=0}var ae=0,ne=2*E*ie;for(k=0;k<E;k++){var se=S[k].clusterId;for(Z=0;Z<E;Z++)k!==Z&&se===S[Z].clusterId&&(ae+=S[k].clusterInertial*S[Z].clusterInertial/Math.pow(ne,2)-X[k][Z]/ne)}return Number(ae.toFixed(4))};z.default=function(S,w,E,A,k,L,ie,te,$){void 0===w&&(w=!1),void 0===E&&(E="weight"),void 0===A&&(A=1e-4),void 0===k&&(k=!1),void 0===L&&(L=void 0),void 0===ie&&(ie=[]),void 0===te&&(te=["id"]),void 0===$&&($=1);var X=S.nodes,Z=void 0===X?[]:X,Y=S.edges,ae=void 0===Y?[]:Y,ne=[];if(k){Z.forEach(function(dt,De){dt.properties=dt.properties||{},dt.originIndex=De});var se=[];Z.every(function(dt){return dt.hasOwnProperty("nodeType")})&&(se=Array.from(new Set(Z.map(function(dt){return dt.nodeType}))),Z.forEach(function(dt){dt.properties.nodeType=se.findIndex(function(De){return De===dt.nodeType})}));var ve=(0,O.getAllProperties)(Z,L);ne=(0,P.oneHot)(ve,ie,te)}var ge=1,Fe={},Ae={};Z.forEach(function(dt,De){var Be=String(ge++);dt.clusterId=Be,Fe[Be]={id:Be,nodes:[dt]},Ae[dt.id]={node:dt,idx:De}});var ze=(0,q.default)(S,w),oe=[],ce={},H=0;ze.forEach(function(dt,De){var Be=0,vt=Z[De].id;ce[vt]={},dt.forEach(function(Ve,nt){Ve&&(Be+=Ve,ce[vt][Z[nt].id]=Ve,H+=Ve)}),oe.push(Be)}),H/=2;for(var re=1/0,ye=1/0,Ce=0,Ie=[],Ue={};;){re=k&&Z.every(function(dt){return dt.hasOwnProperty("properties")})?b(Z,ze,oe,H)+x(Z,ne)*$:b(Z,ze,oe,H),0===Ce&&(ye=re,Ie=Z,Ue=Fe);var pt=re>0&&re>ye&&re-ye<A;if(re>ye&&(Ie=Z.map(function(dt){return{node:dt,clusterId:dt.clusterId}}),Ue=(0,R.clone)(Fe),ye=re),pt||Ce>100)break;Ce++,Object.keys(Fe).forEach(function(dt){var De=0;ae.forEach(function(Be){var nt=Ae[Be.source].node.clusterId,wt=Ae[Be.target].node.clusterId;(nt===dt&&wt!==dt||wt===dt&&nt!==dt)&&(De+=Be[E]||1)}),Fe[dt].sumTot=De}),Z.forEach(function(dt,De){var Ve,Be=Fe[dt.clusterId],vt=0,nt=oe[De]/(2*H),wt=0,Bt=Be.nodes;Bt.forEach(function(bi){wt+=ze[De][Ae[bi.id].idx]||0});var pn=wt-Be.sumTot*nt,kn=Bt.filter(function(bi){return bi.id!==dt.id}),je=[];kn.forEach(function(bi,ii){je[ii]=ne[bi.originIndex]});var Hn=x(kn,ne)*$;if(Object.keys(ce[dt.id]).forEach(function(bi){var Xi=Ae[bi].node.clusterId;if(Xi!==dt.clusterId){var ji=Fe[Xi],hn=ji.nodes;if(hn&&hn.length){var Pn=0;hn.forEach(function(Ti){Pn+=ze[De][Ae[Ti.id].idx]||0});var br=Pn-ji.sumTot*nt,Dr=hn.concat([dt]),kr=[];Dr.forEach(function(Ti,Ki){kr[Ki]=ne[Ti.originIndex]});var ei=x(Dr,ne)*$,Qr=br-pn;k&&(Qr=br+ei-(pn+Hn)),Qr>vt&&(vt=Qr,Ve=ji)}}}),vt>0){Ve.nodes.push(dt);var qn=dt.clusterId;dt.clusterId=Ve.id;var Me=Be.nodes.indexOf(dt);Be.nodes.splice(Me,1);var Ur=0,pi=0;ae.forEach(function(bi){var ji=Ae[bi.source].node.clusterId,hn=Ae[bi.target].node.clusterId;(ji===Ve.id&&hn!==Ve.id||hn===Ve.id&&ji!==Ve.id)&&(Ur+=bi[E]||1),(ji===qn&&hn!==qn||hn===qn&&ji!==qn)&&(pi+=bi[E]||1)}),Ve.sumTot=Ur,Be.sumTot=pi}})}var st={},Ne=0;Object.keys(Ue).forEach(function(dt){var De=Ue[dt];if(De.nodes&&De.nodes.length){var Be=String(Ne+1);Be!==dt&&(De.id=Be,De.nodes=De.nodes.map(function(vt){return{id:vt.id,clusterId:Be}}),Ue[Be]=De,st[dt]=Be,delete Ue[dt],Ne++)}else delete Ue[dt]}),Ie.forEach(function(dt){var De=dt.node;De&&(De.clusterId=dt.clusterId,De.clusterId&&st[De.clusterId]&&(De.clusterId=st[De.clusterId]))});var lt=[],gt={};ae.forEach(function(dt){var vt=dt[E]||1,Ve=Ae[dt.source].node.clusterId,nt=Ae[dt.target].node.clusterId;if(Ve&&nt){var wt="".concat(Ve,"---").concat(nt);if(gt[wt])gt[wt].weight+=vt,gt[wt].count++;else{var Bt={source:Ve,target:nt,weight:vt,count:1};gt[wt]=Bt,lt.push(Bt)}}});var $e=[];return Object.keys(Ue).forEach(function(dt){$e.push(Ue[dt])}),{clusters:$e,clusterEdges:lt}}},5687:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var R=O(j(3688)),q=O(j(9679)),B=j(5271);function O(m){return m&&m.__esModule?m:{default:m}}var P=function(_,g){var S=[],w=_.nodes,E=void 0===w?[]:w,A=_.edges,k=void 0===A?[]:A;if(0===E.length)return S;var L=E[0],ie=new Set;ie.add(L);var $=new q.default(function(ne,se){return g?ne.weight-se.weight:0});for((0,B.getEdgesByNodeId)(L.id,k).forEach(function(ae){$.insert(ae)});!$.isEmpty();){var X=$.delMin(),Z=X.source,Y=X.target;ie.has(Z)&&ie.has(Y)||(S.push(X),ie.has(Z)||(ie.add(Z),(0,B.getEdgesByNodeId)(Z,k).forEach(function(ae){$.insert(ae)})),ie.has(Y)||(ie.add(Y),(0,B.getEdgesByNodeId)(Y,k).forEach(function(ae){$.insert(ae)})))}return S},T=function(_,g){var S=[],w=_.nodes,E=void 0===w?[]:w,A=_.edges;if(0===E.length)return S;var L=(void 0===A?[]:A).map(function(Z){return Z});g&&L.sort(function(Z,Y){return Z.weight-Y.weight});for(var ie=new R.default(E.map(function(Z){return Z.id}));L.length>0;){var te=L.shift(),$=te.source,X=te.target;ie.connected($,X)||(S.push(te),ie.union($,X))}return S};z.default=function(_,g,S){return S?{prim:P,kruskal:T}[S](_,g):T(_,g)}},2684:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var R=function B(T){return T&&T.__esModule?T:{default:T}}(j(6149)),q=j(5271);z.default=function(b,x,m){"number"!=typeof x&&(x=1e-6),"number"!=typeof m&&(m=.85);for(var ie,_=1,g=0,S=1e3,w=b.nodes,E=void 0===w?[]:w,A=b.edges,k=void 0===A?[]:A,L=E.length,te={},$={},X=0;X<L;++X)te[Y=(Z=E[X]).id]=1/L,$[Y]=1/L;for(var ae=(0,R.default)(b);S>0&&_>x;){for(g=0,X=0;X<L;++X){var Y=(Z=E[X]).id;if(ie=0,0===ae[Z.id].inDegree)te[Y]=0;else{for(var ne=(0,q.getNeighbors)(Y,k,"source"),se=0;se<ne.length;++se){var ve=ne[se],ge=ae[ve].outDegree;ge>0&&(ie+=$[ve]/ge)}te[Y]=m*ie,g+=te[Y]}}for(g=(1-g)/L,_=0,X=0;X<L;++X){var Z;ie=te[Y=(Z=E[X]).id]+g,_+=Math.abs(ie-$[Y]),$[Y]=ie}S-=1}return $}},9679:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var j=function(O,P){return O-P},R=function(){function B(O){void 0===O&&(O=j),this.compareFn=O,this.list=[]}return B.prototype.getLeft=function(O){return 2*O+1},B.prototype.getRight=function(O){return 2*O+2},B.prototype.getParent=function(O){return 0===O?null:Math.floor((O-1)/2)},B.prototype.isEmpty=function(){return this.list.length<=0},B.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},B.prototype.delMin=function(){var O=this.top(),P=this.list.pop();return this.list.length>0&&(this.list[0]=P,this.moveDown(0)),O},B.prototype.insert=function(O){return null!==O&&(this.list.push(O),this.moveUp(this.list.length-1),!0)},B.prototype.moveUp=function(O){for(var P=this.getParent(O);O&&O>0&&this.compareFn(this.list[P],this.list[O])>0;){var T=this.list[P];this.list[P]=this.list[O],this.list[O]=T,P=this.getParent(O=P)}},B.prototype.moveDown=function(O){var P,T=O,b=this.getLeft(O),x=this.getRight(O),m=this.list.length;null!==b&&b<m&&this.compareFn(this.list[T],this.list[b])>0?T=b:null!==x&&x<m&&this.compareFn(this.list[T],this.list[x])>0&&(T=x),O!==T&&(this.list[O]=(P=[this.list[T],this.list[O]])[0],this.list[T]=P[1],this.moveDown(T))},B}();z.default=R},7217:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=z.LinkedListNode=void 0;var j=function(P,T){return P===T},R=function(){function O(P,T){void 0===T&&(T=null),this.value=P,this.next=T}return O.prototype.toString=function(P){return P?P(this.value):"".concat(this.value)},O}();z.LinkedListNode=R;var q=function(){function O(P){void 0===P&&(P=j),this.head=null,this.tail=null,this.compare=P}return O.prototype.prepend=function(P){var T=new R(P,this.head);return this.head=T,this.tail||(this.tail=T),this},O.prototype.append=function(P){var T=new R(P);return this.head?(this.tail.next=T,this.tail=T,this):(this.head=T,this.tail=T,this)},O.prototype.delete=function(P){if(!this.head)return null;for(var T=null;this.head&&this.compare(this.head.value,P);)T=this.head,this.head=this.head.next;var b=this.head;if(null!==b)for(;b.next;)this.compare(b.next.value,P)?(T=b.next,b.next=b.next.next):b=b.next;return this.compare(this.tail.value,P)&&(this.tail=b),T},O.prototype.find=function(P){var T=P.value,b=void 0===T?void 0:T,x=P.callback,m=void 0===x?void 0:x;if(!this.head)return null;for(var _=this.head;_;){if(m&&m(_.value)||void 0!==b&&this.compare(_.value,b))return _;_=_.next}return null},O.prototype.deleteTail=function(){var P=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,P;for(var T=this.head;T.next;)T.next.next?T=T.next:T.next=null;return this.tail=T,P},O.prototype.deleteHead=function(){if(!this.head)return null;var P=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),P},O.prototype.fromArray=function(P){var T=this;return P.forEach(function(b){return T.append(b)}),this},O.prototype.toArray=function(){for(var P=[],T=this.head;T;)P.push(T),T=T.next;return P},O.prototype.reverse=function(){for(var P=this.head,T=null,b=null;P;)b=P.next,P.next=T,T=P,P=b;this.tail=this.head,this.head=T},O.prototype.toString=function(P){return void 0===P&&(P=void 0),this.toArray().map(function(T){return T.toString(P)}).toString()},O}();z.default=q},6904:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var R=function q(P){return P&&P.__esModule?P:{default:P}}(j(7217)),B=function(){function P(){this.linkedList=new R.default}return P.prototype.isEmpty=function(){return!this.linkedList.head},P.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},P.prototype.enqueue=function(T){this.linkedList.append(T)},P.prototype.dequeue=function(){var T=this.linkedList.deleteHead();return T?T.value:null},P.prototype.toString=function(T){return this.linkedList.toString(T)},P}();z.default=B},3688:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var j=function(){function q(B){this.count=B.length,this.parent={};for(var O=0,P=B;O<P.length;O++){var T=P[O];this.parent[T]=T}}return q.prototype.find=function(B){for(;this.parent[B]!==B;)B=this.parent[B];return B},q.prototype.union=function(B,O){var P=this.find(B),T=this.find(O);P!==T&&(P<T?(this.parent[O]!==O&&this.union(this.parent[O],B),this.parent[O]=this.parent[B]):(this.parent[B]!==B&&this.union(this.parent[B],O),this.parent[B]=this.parent[O]))},q.prototype.connected=function(B,O){return this.find(B)===this.find(O)},q}();z.default=j},74:(qt,z)=>{"use strict";var j;Object.defineProperty(z,"__esModule",{value:!0}),z.DistanceType=void 0,z.DistanceType=j,(j||(z.DistanceType=j={})).EuclideanDistance="euclideanDistance"},5271:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.uniqueId=z.getOutEdgesNodeId=z.getNeighbors=z.getEdgesByNodeId=void 0,z.getNeighbors=function(P,T,b){void 0===T&&(T=[]);var x=T.filter(function(S){return S.source===P||S.target===P});return"target"===b?x.filter(function(w){return w.source===P}).map(function(S){return S.target}):"source"===b?x.filter(function(w){return w.target===P}).map(function(S){return S.source}):x.map(function(w){return w.source===P?w.target:w.source})},z.getOutEdgesNodeId=function(P,T){return T.filter(function(b){return b.source===P})},z.getEdgesByNodeId=function(P,T){return T.filter(function(b){return b.source===P||b.target===P})},z.uniqueId=function(P){void 0===P&&(P=0);var T="".concat(Math.random()).split(".")[1].substr(0,5),b="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(P,"-").concat(T).concat(b)}},4575:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.oneHot=z.getDistance=z.getAllKeyValueMap=z.default=void 0;var R=j(1035),q=j(74),B=function O(m){return m&&m.__esModule?m:{default:m}}(j(2979)),P=function(_,g,S){var w=[];g?.length?w=g:(_.forEach(function(A){w=w.concat(Object.keys(A))}),w=(0,R.uniq)(w));var E={};return w.forEach(function(A){var k=[];_.forEach(function(L){void 0!==L[A]&&""!==L[A]&&k.push(L[A])}),k.length&&!S?.includes(A)&&(E[A]=(0,R.uniq)(k))}),E};z.getAllKeyValueMap=P;var T=function(_,g,S){var w=P(_,g,S),E=[];if(!Object.keys(w).length)return E;var k=Object.values(w).every(function(L){return L.every(function(ie){return"number"==typeof ie})});return _.forEach(function(L,ie){var te=[];Object.keys(w).forEach(function($){var X=L[$],Z=w[$],Y=Z.findIndex(function(se){return X===se}),ae=[];if(k)ae.push(X);else for(var ne=0;ne<Z.length;ne++)ae.push(ne===Y?1:0);te=te.concat(ae)}),E[ie]=te}),E};z.oneHot=T;var b=function(_,g,S,w){void 0===S&&(S=q.DistanceType.EuclideanDistance);var E=0;return S===q.DistanceType.EuclideanDistance&&(E=new B.default(_).euclideanDistance(new B.default(g))),E};z.getDistance=b,z.default={getAllKeyValueMap:P,oneHot:T,getDistance:b}},7506:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getPropertyWeight=z.getAllSortProperties=z.getAllProperties=z.default=void 0;var R=j(384),q=function(x,m){void 0===x&&(x=[]),void 0===m&&(m=100);var _={};x.forEach(function(S){S.properties&&Object.keys(S.properties).forEach(function(w){"id"===w||!"".concat(S.properties[w]).match(R.secondReg)&&!"".concat(S.properties[w]).match(R.dateReg)&&isNaN(Number(S.properties[w]))?_.hasOwnProperty(w)&&delete _[w]:_.hasOwnProperty(w)?_[w]+=1:_[w]=1})});var g=Object.keys(_).sort(function(S,w){return _[w]-_[S]});return g.length<m?g:g.slice(0,m)};z.getAllSortProperties=q;var B=function(x,m){return m.map(function(_){return x.hasOwnProperty(_)?x[_]:0})},O=function(x){for(var m=q(x),_=[],g=0;g<x.length;g++)_[g]=B(x[g].properties,m);return _};z.getPropertyWeight=O;var P=function(x,m){void 0===m&&(m=void 0);var _=[];return x.forEach(function(g){void 0===m&&_.push(g),void 0!==g[m]&&_.push(g[m])}),_};z.getAllProperties=P,z.default={getAllSortProperties:q,getPropertyWeight:O,getAllProperties:P}},2979:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var R=j(1035),q=function(){function O(P){this.arr=P}return O.prototype.getArr=function(){return this.arr||[]},O.prototype.add=function(P){var T,b=P.arr;if(null===(T=this.arr)||void 0===T||!T.length)return new O(b);if(!b?.length)return new O(this.arr);if(this.arr.length===b.length){var x=[];for(var m in this.arr)x[m]=this.arr[m]+b[m];return new O(x)}},O.prototype.subtract=function(P){var T,b=P.arr;if(null===(T=this.arr)||void 0===T||!T.length)return new O(b);if(!b?.length)return new O(this.arr);if(this.arr.length===b.length){var x=[];for(var m in this.arr)x[m]=this.arr[m]-b[m];return new O(x)}},O.prototype.avg=function(P){var T=[];if(0!==P)for(var b in this.arr)T[b]=this.arr[b]/P;return new O(T)},O.prototype.negate=function(){var P=[];for(var T in this.arr)P[T]=-this.arr[T];return new O(P)},O.prototype.squareEuclideanDistance=function(P){var T,b=P.arr;if(null===(T=this.arr)||void 0===T||!T.length||!b?.length)return 0;if(this.arr.length===b.length){var x=0;for(var m in this.arr)x+=Math.pow(this.arr[m]-P.arr[m],2);return x}},O.prototype.euclideanDistance=function(P){var T,b=P.arr;if(null===(T=this.arr)||void 0===T||!T.length||!b?.length)return 0;if(this.arr.length===b.length){var x=0;for(var m in this.arr)x+=Math.pow(this.arr[m]-P.arr[m],2);return Math.sqrt(x)}console.error("The two vectors are unequal in length.")},O.prototype.normalize=function(){var P=[],T=(0,R.clone)(this.arr);T.sort(function(_,g){return _-g});var b=T[T.length-1],x=T[0];for(var m in this.arr)P[m]=(this.arr[m]-x)/(b-x);return new O(P)},O.prototype.norm2=function(){var P;if(null===(P=this.arr)||void 0===P||!P.length)return 0;var T=0;for(var b in this.arr)T+=Math.pow(this.arr[b],2);return Math.sqrt(T)},O.prototype.dot=function(P){var T,b=P.arr;if(null===(T=this.arr)||void 0===T||!T.length||!b?.length)return 0;if(this.arr.length===b.length){var x=0;for(var m in this.arr)x+=this.arr[m]*P.arr[m];return x}console.error("The two vectors are unequal in length.")},O.prototype.equal=function(P){var T,b=P.arr;if((null===(T=this.arr)||void 0===T?void 0:T.length)!==b?.length)return!1;for(var x in this.arr)if(this.arr[x]!==b[x])return!1;return!0},O}();z.default=q},4737:(qt,z,j)=>{"use strict";function R($){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(X){return typeof X}:function(X){return X&&"function"==typeof Symbol&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})($)}Object.defineProperty(z,"__esModule",{value:!0}),Object.defineProperty(z,"GADDI",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(z,"breadthFirstSearch",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(z,"connectedComponent",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(z,"depthFirstSearch",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(z,"detectCycle",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(z,"dijkstra",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(z,"findAllPath",{enumerable:!0,get:function(){return m.findAllPath}}),Object.defineProperty(z,"findShortestPath",{enumerable:!0,get:function(){return m.findShortestPath}}),Object.defineProperty(z,"floydWarshall",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(z,"getAdjMatrix",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(z,"getDegree",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(z,"getInDegree",{enumerable:!0,get:function(){return P.getInDegree}}),Object.defineProperty(z,"getNeighbors",{enumerable:!0,get:function(){return k.getNeighbors}}),Object.defineProperty(z,"getOutDegree",{enumerable:!0,get:function(){return P.getOutDegree}}),Object.defineProperty(z,"labelPropagation",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(z,"louvain",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(z,"minimumSpanningTree",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(z,"pageRank",{enumerable:!0,get:function(){return E.default}});var q=te(j(2757)),B=te(j(9499)),O=te(j(9276)),P=function ie($,X){if(!X&&$&&$.__esModule)return $;if(null===$||"object"!==R($)&&"function"!=typeof $)return{default:$};var Z=L(X);if(Z&&Z.has($))return Z.get($);var Y={},ae=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ne in $)if("default"!==ne&&Object.prototype.hasOwnProperty.call($,ne)){var se=ae?Object.getOwnPropertyDescriptor($,ne):null;se&&(se.get||se.set)?Object.defineProperty(Y,ne,se):Y[ne]=$[ne]}return Y.default=$,Z&&Z.set($,Y),Y}(j(6149)),T=te(j(1674)),b=te(j(811)),x=te(j(4894)),m=j(6147),_=te(j(5100)),g=te(j(3754)),S=te(j(7306)),w=te(j(5687)),E=te(j(2684)),A=te(j(1349)),k=j(5271);function L($){if("function"!=typeof WeakMap)return null;var X=new WeakMap,Z=new WeakMap;return(L=function(ae){return ae?Z:X})($)}function te($){return $&&$.__esModule?$:{default:$}}},8982:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.MESSAGE=z.ALGORITHM=void 0,z.ALGORITHM={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},z.MESSAGE={SUCCESS:"SUCCESS",FAILURE:"FAILURE"}},3922:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var R=j(8982),q=function B(T){return T&&T.__esModule?T:{default:T}}(j(2914));z.default=function(b){return function(){for(var x=[],m=0;m<arguments.length;m++)x[m]=arguments[m];return new Promise(function(_,g){var S=new q.default;S.postMessage({_algorithmType:b,data:x}),S.onmessage=function(w){var E=w.data;R.MESSAGE.SUCCESS===E._algorithmType?_(E.data):g(),S.terminate()}})}}},6481:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.pageRankAsync=z.minimumSpanningTreeAsync=z.louvainAsync=z.labelPropagationAsync=z.getOutDegreeAsync=z.getNeighborsAsync=z.getInDegreeAsync=z.getDegreeAsync=z.getAdjMatrixAsync=z.floydWarshallAsync=z.findShortestPathAsync=z.findAllPathAsync=z.dijkstraAsync=z.detectCycleAsync=z.detectAllUndirectedCycleAsync=z.detectAllDirectedCycleAsync=z.detectAllCyclesAsync=z.connectedComponentAsync=z.GADDIAsync=void 0;var R=function B(Y){return Y&&Y.__esModule?Y:{default:Y}}(j(3922)),q=j(8982);z.getAdjMatrixAsync=function(ae,ne){return(0,R.default)(q.ALGORITHM.getAdjMatrix).apply(void 0,[ae,ne])},z.connectedComponentAsync=function(ae,ne){return(0,R.default)(q.ALGORITHM.connectedComponent).apply(void 0,[ae,ne])},z.getDegreeAsync=function(ae){return(0,R.default)(q.ALGORITHM.getDegree)(ae)},z.getInDegreeAsync=function(ae,ne){return(0,R.default)(q.ALGORITHM.getInDegree)(ae,ne)},z.getOutDegreeAsync=function(ae,ne){return(0,R.default)(q.ALGORITHM.getOutDegree)(ae,ne)},z.detectCycleAsync=function(ae){return(0,R.default)(q.ALGORITHM.detectCycle)(ae)},z.detectAllCyclesAsync=function(ae){return(0,R.default)(q.ALGORITHM.detectAllCycles)(ae)},z.detectAllDirectedCycleAsync=function(ae){return(0,R.default)(q.ALGORITHM.detectAllDirectedCycle)(ae)},z.detectAllUndirectedCycleAsync=function(ae){return(0,R.default)(q.ALGORITHM.detectAllUndirectedCycle)(ae)},z.dijkstraAsync=function(ae,ne,se,ve){return(0,R.default)(q.ALGORITHM.dijkstra).apply(void 0,[ae,ne,se,ve])},z.findAllPathAsync=function(ae,ne,se,ve){return(0,R.default)(q.ALGORITHM.findAllPath).apply(void 0,[ae,ne,se,ve])},z.findShortestPathAsync=function(ae,ne,se,ve,ge){return(0,R.default)(q.ALGORITHM.findShortestPath).apply(void 0,[ae,ne,se,ve,ge])},z.floydWarshallAsync=function(ae,ne){return(0,R.default)(q.ALGORITHM.floydWarshall).apply(void 0,[ae,ne])},z.labelPropagationAsync=function(ae,ne,se,ve){return void 0===ve&&(ve=1e3),(0,R.default)(q.ALGORITHM.labelPropagation)(ae,ne,se,ve)},z.louvainAsync=function(ae,ne,se,ve){return(0,R.default)(q.ALGORITHM.louvain)(ae,ne,se,ve)},z.minimumSpanningTreeAsync=function(ae,ne,se){return(0,R.default)(q.ALGORITHM.minimumSpanningTree).apply(void 0,[ae,ne,se])},z.pageRankAsync=function(ae,ne,se){return(0,R.default)(q.ALGORITHM.pageRank).apply(void 0,[ae,ne,se])},z.getNeighborsAsync=function(ae,ne,se){return(0,R.default)(q.ALGORITHM.getNeighbors).apply(void 0,[ae,ne,se])},z.GADDIAsync=function(ae,ne,se,ve,ge,Fe,Ae){return void 0===se&&(se=!1),void 0===Fe&&(Fe="cluster"),void 0===Ae&&(Ae="cluster"),(0,R.default)(q.ALGORITHM.GADDI).apply(void 0,[ae,ne,se,ve,ge,Fe,Ae])}},2914:(qt,z,j)=>{"use strict";function R(x){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(x)}Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var q=function P(x,m){if(!m&&x&&x.__esModule)return x;if(null===x||"object"!==R(x)&&"function"!=typeof x)return{default:x};var _=O(m);if(_&&_.has(x))return _.get(x);var g={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in x)if("default"!==w&&Object.prototype.hasOwnProperty.call(x,w)){var E=S?Object.getOwnPropertyDescriptor(x,w):null;E&&(E.get||E.set)?Object.defineProperty(g,w,E):g[w]=x[w]}return g.default=x,_&&_.set(x,g),g}(j(4737)),B=j(8982);function O(x){if("function"!=typeof WeakMap)return null;var m=new WeakMap,_=new WeakMap;return(O=function(S){return S?_:m})(x)}var T=typeof self<"u"?self:{};T.onmessage=function(x){var m=x.data,_=m._algorithmType;if(_){if("function"==typeof q[_]){var S=q[_].apply(q,m.data);return void T.postMessage({_algorithmType:B.MESSAGE.SUCCESS,data:S})}T.postMessage({_algorithmType:B.MESSAGE.FAILURE})}},z.default=null},3305:(qt,z,j)=>{"use strict";function R(N,Xe,Ye,Qe,Et,nn,Je){try{var Wt=N[nn](Je),yn=Wt.value}catch(Dn){return void Ye(Dn)}Wt.done?Xe(yn):Promise.resolve(yn).then(Qe,Et)}function q(N){return function(){var Xe=this,Ye=arguments;return new Promise(function(Qe,Et){var nn=N.apply(Xe,Ye);function Je(yn){R(nn,Qe,Et,Je,Wt,"next",yn)}function Wt(yn){R(nn,Qe,Et,Je,Wt,"throw",yn)}Je(void 0)})}}function B(N){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Xe){return typeof Xe}:function(Xe){return Xe&&"function"==typeof Symbol&&Xe.constructor===Symbol&&Xe!==Symbol.prototype?"symbol":typeof Xe})(N)}function P(N){var Xe=function O(N,Xe){if("object"!==B(N)||null===N)return N;var Ye=N[Symbol.toPrimitive];if(void 0!==Ye){var Qe=Ye.call(N,Xe||"default");if("object"!==B(Qe))return Qe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Xe?String:Number)(N)}(N,"string");return"symbol"===B(Xe)?Xe:String(Xe)}function T(N,Xe,Ye){return(Xe=P(Xe))in N?Object.defineProperty(N,Xe,{value:Ye,enumerable:!0,configurable:!0,writable:!0}):N[Xe]=Ye,N}function b(N,Xe){if(!(N instanceof Xe))throw new TypeError("Cannot call a class as a function")}function x(N,Xe){for(var Ye=0;Ye<Xe.length;Ye++){var Qe=Xe[Ye];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(N,P(Qe.key),Qe)}}function m(N,Xe,Ye){return Xe&&x(N.prototype,Xe),Ye&&x(N,Ye),Object.defineProperty(N,"prototype",{writable:!1}),N}j.r(z),j.d(z,{Kernel:()=>H,World:()=>Vt});var _=j(8159),g=j.n(_),S=j(9138),w=j.n(S),E=j(1503),A=j.n(E),k=j(4687),L=j.n(k),te=1;function $(){return te++}var Y=(()=>{return(N=Y||(Y={}))[N.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",N[N.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",N[N.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",N[N.POINTS=0]="POINTS",N[N.LINES=1]="LINES",N[N.LINE_LOOP=2]="LINE_LOOP",N[N.LINE_STRIP=3]="LINE_STRIP",N[N.TRIANGLES=4]="TRIANGLES",N[N.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",N[N.TRIANGLE_FAN=6]="TRIANGLE_FAN",N[N.ZERO=0]="ZERO",N[N.ONE=1]="ONE",N[N.SRC_COLOR=768]="SRC_COLOR",N[N.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",N[N.SRC_ALPHA=770]="SRC_ALPHA",N[N.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",N[N.DST_ALPHA=772]="DST_ALPHA",N[N.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",N[N.DST_COLOR=774]="DST_COLOR",N[N.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",N[N.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",N[N.FUNC_ADD=32774]="FUNC_ADD",N[N.BLEND_EQUATION=32777]="BLEND_EQUATION",N[N.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",N[N.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",N[N.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",N[N.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",N[N.MAX_EXT=32776]="MAX_EXT",N[N.MIN_EXT=32775]="MIN_EXT",N[N.BLEND_DST_RGB=32968]="BLEND_DST_RGB",N[N.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",N[N.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",N[N.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",N[N.CONSTANT_COLOR=32769]="CONSTANT_COLOR",N[N.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",N[N.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",N[N.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",N[N.BLEND_COLOR=32773]="BLEND_COLOR",N[N.ARRAY_BUFFER=34962]="ARRAY_BUFFER",N[N.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",N[N.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",N[N.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",N[N.STREAM_DRAW=35040]="STREAM_DRAW",N[N.STATIC_DRAW=35044]="STATIC_DRAW",N[N.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",N[N.BUFFER_SIZE=34660]="BUFFER_SIZE",N[N.BUFFER_USAGE=34661]="BUFFER_USAGE",N[N.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",N[N.FRONT=1028]="FRONT",N[N.BACK=1029]="BACK",N[N.FRONT_AND_BACK=1032]="FRONT_AND_BACK",N[N.CULL_FACE=2884]="CULL_FACE",N[N.BLEND=3042]="BLEND",N[N.DITHER=3024]="DITHER",N[N.STENCIL_TEST=2960]="STENCIL_TEST",N[N.DEPTH_TEST=2929]="DEPTH_TEST",N[N.SCISSOR_TEST=3089]="SCISSOR_TEST",N[N.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",N[N.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",N[N.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",N[N.NO_ERROR=0]="NO_ERROR",N[N.INVALID_ENUM=1280]="INVALID_ENUM",N[N.INVALID_VALUE=1281]="INVALID_VALUE",N[N.INVALID_OPERATION=1282]="INVALID_OPERATION",N[N.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",N[N.CW=2304]="CW",N[N.CCW=2305]="CCW",N[N.LINE_WIDTH=2849]="LINE_WIDTH",N[N.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",N[N.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",N[N.CULL_FACE_MODE=2885]="CULL_FACE_MODE",N[N.FRONT_FACE=2886]="FRONT_FACE",N[N.DEPTH_RANGE=2928]="DEPTH_RANGE",N[N.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",N[N.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",N[N.DEPTH_FUNC=2932]="DEPTH_FUNC",N[N.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",N[N.STENCIL_FUNC=2962]="STENCIL_FUNC",N[N.STENCIL_FAIL=2964]="STENCIL_FAIL",N[N.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",N[N.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",N[N.STENCIL_REF=2967]="STENCIL_REF",N[N.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",N[N.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",N[N.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",N[N.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",N[N.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",N[N.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",N[N.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",N[N.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",N[N.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",N[N.VIEWPORT=2978]="VIEWPORT",N[N.SCISSOR_BOX=3088]="SCISSOR_BOX",N[N.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",N[N.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",N[N.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",N[N.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",N[N.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",N[N.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",N[N.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",N[N.RED_BITS=3410]="RED_BITS",N[N.GREEN_BITS=3411]="GREEN_BITS",N[N.BLUE_BITS=3412]="BLUE_BITS",N[N.ALPHA_BITS=3413]="ALPHA_BITS",N[N.DEPTH_BITS=3414]="DEPTH_BITS",N[N.STENCIL_BITS=3415]="STENCIL_BITS",N[N.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",N[N.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",N[N.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",N[N.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",N[N.SAMPLES=32937]="SAMPLES",N[N.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",N[N.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",N[N.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",N[N.DONT_CARE=4352]="DONT_CARE",N[N.FASTEST=4353]="FASTEST",N[N.NICEST=4354]="NICEST",N[N.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",N[N.BYTE=5120]="BYTE",N[N.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",N[N.SHORT=5122]="SHORT",N[N.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",N[N.INT=5124]="INT",N[N.UNSIGNED_INT=5125]="UNSIGNED_INT",N[N.FLOAT=5126]="FLOAT",N[N.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",N[N.ALPHA=6406]="ALPHA",N[N.RGB=6407]="RGB",N[N.RGBA=6408]="RGBA",N[N.LUMINANCE=6409]="LUMINANCE",N[N.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",N[N.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",N[N.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",N[N.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",N[N.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",N[N.VERTEX_SHADER=35633]="VERTEX_SHADER",N[N.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",N[N.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",N[N.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",N[N.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",N[N.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",N[N.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",N[N.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",N[N.SHADER_TYPE=35663]="SHADER_TYPE",N[N.DELETE_STATUS=35712]="DELETE_STATUS",N[N.LINK_STATUS=35714]="LINK_STATUS",N[N.VALIDATE_STATUS=35715]="VALIDATE_STATUS",N[N.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",N[N.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",N[N.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",N[N.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",N[N.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",N[N.NEVER=512]="NEVER",N[N.LESS=513]="LESS",N[N.EQUAL=514]="EQUAL",N[N.LEQUAL=515]="LEQUAL",N[N.GREATER=516]="GREATER",N[N.NOTEQUAL=517]="NOTEQUAL",N[N.GEQUAL=518]="GEQUAL",N[N.ALWAYS=519]="ALWAYS",N[N.KEEP=7680]="KEEP",N[N.REPLACE=7681]="REPLACE",N[N.INCR=7682]="INCR",N[N.DECR=7683]="DECR",N[N.INVERT=5386]="INVERT",N[N.INCR_WRAP=34055]="INCR_WRAP",N[N.DECR_WRAP=34056]="DECR_WRAP",N[N.VENDOR=7936]="VENDOR",N[N.RENDERER=7937]="RENDERER",N[N.VERSION=7938]="VERSION",N[N.NEAREST=9728]="NEAREST",N[N.LINEAR=9729]="LINEAR",N[N.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",N[N.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",N[N.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",N[N.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",N[N.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",N[N.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",N[N.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",N[N.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",N[N.TEXTURE_2D=3553]="TEXTURE_2D",N[N.TEXTURE=5890]="TEXTURE",N[N.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",N[N.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",N[N.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",N[N.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",N[N.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",N[N.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",N[N.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",N[N.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",N[N.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",N[N.TEXTURE0=33984]="TEXTURE0",N[N.TEXTURE1=33985]="TEXTURE1",N[N.TEXTURE2=33986]="TEXTURE2",N[N.TEXTURE3=33987]="TEXTURE3",N[N.TEXTURE4=33988]="TEXTURE4",N[N.TEXTURE5=33989]="TEXTURE5",N[N.TEXTURE6=33990]="TEXTURE6",N[N.TEXTURE7=33991]="TEXTURE7",N[N.TEXTURE8=33992]="TEXTURE8",N[N.TEXTURE9=33993]="TEXTURE9",N[N.TEXTURE10=33994]="TEXTURE10",N[N.TEXTURE11=33995]="TEXTURE11",N[N.TEXTURE12=33996]="TEXTURE12",N[N.TEXTURE13=33997]="TEXTURE13",N[N.TEXTURE14=33998]="TEXTURE14",N[N.TEXTURE15=33999]="TEXTURE15",N[N.TEXTURE16=34e3]="TEXTURE16",N[N.TEXTURE17=34001]="TEXTURE17",N[N.TEXTURE18=34002]="TEXTURE18",N[N.TEXTURE19=34003]="TEXTURE19",N[N.TEXTURE20=34004]="TEXTURE20",N[N.TEXTURE21=34005]="TEXTURE21",N[N.TEXTURE22=34006]="TEXTURE22",N[N.TEXTURE23=34007]="TEXTURE23",N[N.TEXTURE24=34008]="TEXTURE24",N[N.TEXTURE25=34009]="TEXTURE25",N[N.TEXTURE26=34010]="TEXTURE26",N[N.TEXTURE27=34011]="TEXTURE27",N[N.TEXTURE28=34012]="TEXTURE28",N[N.TEXTURE29=34013]="TEXTURE29",N[N.TEXTURE30=34014]="TEXTURE30",N[N.TEXTURE31=34015]="TEXTURE31",N[N.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",N[N.REPEAT=10497]="REPEAT",N[N.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",N[N.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",N[N.FLOAT_VEC2=35664]="FLOAT_VEC2",N[N.FLOAT_VEC3=35665]="FLOAT_VEC3",N[N.FLOAT_VEC4=35666]="FLOAT_VEC4",N[N.INT_VEC2=35667]="INT_VEC2",N[N.INT_VEC3=35668]="INT_VEC3",N[N.INT_VEC4=35669]="INT_VEC4",N[N.BOOL=35670]="BOOL",N[N.BOOL_VEC2=35671]="BOOL_VEC2",N[N.BOOL_VEC3=35672]="BOOL_VEC3",N[N.BOOL_VEC4=35673]="BOOL_VEC4",N[N.FLOAT_MAT2=35674]="FLOAT_MAT2",N[N.FLOAT_MAT3=35675]="FLOAT_MAT3",N[N.FLOAT_MAT4=35676]="FLOAT_MAT4",N[N.SAMPLER_2D=35678]="SAMPLER_2D",N[N.SAMPLER_CUBE=35680]="SAMPLER_CUBE",N[N.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",N[N.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",N[N.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",N[N.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",N[N.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",N[N.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",N[N.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",N[N.COMPILE_STATUS=35713]="COMPILE_STATUS",N[N.LOW_FLOAT=36336]="LOW_FLOAT",N[N.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",N[N.HIGH_FLOAT=36338]="HIGH_FLOAT",N[N.LOW_INT=36339]="LOW_INT",N[N.MEDIUM_INT=36340]="MEDIUM_INT",N[N.HIGH_INT=36341]="HIGH_INT",N[N.FRAMEBUFFER=36160]="FRAMEBUFFER",N[N.RENDERBUFFER=36161]="RENDERBUFFER",N[N.RGBA4=32854]="RGBA4",N[N.RGB5_A1=32855]="RGB5_A1",N[N.RGB565=36194]="RGB565",N[N.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",N[N.STENCIL_INDEX=6401]="STENCIL_INDEX",N[N.STENCIL_INDEX8=36168]="STENCIL_INDEX8",N[N.DEPTH_STENCIL=34041]="DEPTH_STENCIL",N[N.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",N[N.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",N[N.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",N[N.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",N[N.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",N[N.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",N[N.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",N[N.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",N[N.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",N[N.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",N[N.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",N[N.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",N[N.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",N[N.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",N[N.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",N[N.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",N[N.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",N[N.NONE=0]="NONE",N[N.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",N[N.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",N[N.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",N[N.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",N[N.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",N[N.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",N[N.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",N[N.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",N[N.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",N[N.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",N[N.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",N[N.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",N[N.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",N[N.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",N[N.COPY_SRC=1]="COPY_SRC",N[N.COPY_DST=2]="COPY_DST",N[N.SAMPLED=4]="SAMPLED",N[N.STORAGE=8]="STORAGE",N[N.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT",Y;var N})(),ae=function(){function N(){b(this,N),this.config=void 0}return m(N,[{key:"get",value:function(){return this.config}},{key:"set",value:function(Ye){this.config=Ye}}]),N}(),se=(typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),(()=>{return(N=se||(se={})).Void="Void",N.Boolean="Boolean",N.Float="Float",N.Uint32="Uint32",N.Int32="Int32",N.Vector="Vector",N.Vector2Float="vec2<f32>",N.Vector3Float="vec3<f32>",N.Vector4Float="vec4<f32>",N.Vector2Boolean="vec2<bool>",N.Vector3Boolean="vec3<bool>",N.Vector4Boolean="vec4<bool>",N.Vector2Uint="vec2<u32>",N.Vector3Uint="vec3<u32>",N.Vector4Uint="vec4<u32>",N.Vector2Int="vec2<i32>",N.Vector3Int="vec3<i32>",N.Vector4Int="vec4<i32>",N.Matrix="Matrix",N.Matrix3x3Float="mat3x3<f32>",N.Matrix4x4Float="mat4x4<i32>",N.Struct="Struct",N.FloatArray="Float[]",N.Vector4FloatArray="vec4<f32>[]",se;var N})()),ge=(()=>{return(N=ge||(ge={})).Input="Input",N.Output="Output",N.Uniform="Uniform",N.Workgroup="Workgroup",N.UniformConstant="UniformConstant",N.Image="Image",N.StorageBuffer="StorageBuffer",N.Private="Private",N.Function="Function",ge;var N})(),Fe=(()=>{return(N=Fe||(Fe={})).GLSL100="GLSL100",N.GLSL450="GLSL450",N.WGSL="WGSL",Fe;var N})();function ze(){if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function oe(N,Xe){var Ye=Object.keys(N);if(Object.getOwnPropertySymbols){var Qe=Object.getOwnPropertySymbols(N);Xe&&(Qe=Qe.filter(function(Et){return Object.getOwnPropertyDescriptor(N,Et).enumerable})),Ye.push.apply(Ye,Qe)}return Ye}function ce(N){for(var Xe=1;Xe<arguments.length;Xe++){var Ye=null!=arguments[Xe]?arguments[Xe]:{};Xe%2?oe(Object(Ye),!0).forEach(function(Qe){T(N,Qe,Ye[Qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(Ye)):oe(Object(Ye)).forEach(function(Qe){Object.defineProperty(N,Qe,Object.getOwnPropertyDescriptor(Ye,Qe))})}return N}var Ie,Ue,pt,st,Ne,lt,gt,$e,dt,De,Be,vt,Ve,nt,H=function(){function N(Xe,Ye){b(this,N),this.engine=Xe,this.configService=Ye,this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return m(N,[{key:"init",value:function(){var Ye=this.configService.get(),Et=Ye.engineOptions;this.initPromise=this.engine.init(ce({canvas:Ye.canvas||ze(),antialiasing:!1},Et))}},{key:"setBundle",value:function(Ye){this.compiledBundle=JSON.parse(JSON.stringify(Ye))}},{key:"setDispatch",value:function(Ye){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=Ye),this}},{key:"setMaxIteration",value:function(Ye){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=Ye),this}},{key:"setBinding",value:function(Ye,Qe){var Et=this;if("string"==typeof Ye){var nn=w()(Qe)||g()(Qe)||A()(Qe);if(this.compiledBundle&&this.compiledBundle.context){var Je=this.compiledBundle.context.defines.find(function(yn){return yn.name===Ye});if(Je)return Je.value=Qe,this;var Wt=this.compiledBundle.context.uniforms.find(function(yn){return yn.name===Ye});Wt&&(nn?(Wt.data=Qe,Wt.isReferer=!1,Wt.storageClass===ge.Uniform?this.model&&this.model.updateUniform(Ye,Qe):this.model&&this.model.updateBuffer(Ye,Qe)):(Wt.isReferer=!0,Wt.data=Qe))}}else Object.keys(Ye).forEach(function(yn){Et.setBinding(yn,Ye[yn])});return this}},{key:"execute",value:(Xe=q(L().mark(function Qe(){var nn,Je,Et=this,Wt=arguments;return L().wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:if(nn=Wt.length>0&&void 0!==Wt[0]?Wt[0]:1,!this.dirty){Dn.next=6;break}return this.compiledBundle.context&&(nn>1?this.compiledBundle.context.maxIteration=nn:this.compiledBundle.context.maxIteration++),Dn.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(Rn){return Rn.isReferer}).forEach(function(Rn){Et.model.confirmInput(Rn.data.model,Rn.name)}),Je=0;Je<nn;Je++)this.model.run();return this.engine.endFrame(),Dn.abrupt("return",this);case 12:case"end":return Dn.stop()}},Qe,this)})),function Ye(){return Xe.apply(this,arguments)})},{key:"getOutput",value:function(){var Xe=q(L().mark(function Qe(){return L().wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:return nn.abrupt("return",this.model.readData());case 1:case"end":return nn.stop()}},Qe,this)}));return function Ye(){return Xe.apply(this,arguments)}}()},{key:"compile",value:function(){var Xe=q(L().mark(function Qe(){var Et,Je;return L().wrap(function(yn){for(;;)switch(yn.prev=yn.next){case 0:return yn.next=2,this.initPromise;case 2:return Et=ce({},this.compiledBundle.context),Je=this.compiledBundle.shaders[this.engine.supportWebGPU?this.engine.useWGSL?Fe.WGSL:Fe.GLSL450:Fe.GLSL100],Et.defines.filter(function(Dn){return Dn.runtime}).forEach(function(Dn){var Rn="".concat("__DefineValuePlaceholder__").concat(Dn.name);Je=Je.replace(Rn,"".concat(Dn.value))}),Et.shader=Je,Et.uniforms.forEach(function(Dn){if(!Dn.data&&Dn.storageClass===ge.StorageBuffer){var Rn=1;Dn.type===se.FloatArray?Rn=1:Dn.type===se.Vector4FloatArray&&(Rn=4),Dn.data=new Float32Array(Et.output.length*Rn).fill(0)}}),this.compiledBundle.context=Et,yn.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=yn.sent;case 12:case"end":return yn.stop()}},Qe,this)}));return function Ye(){return Xe.apply(this,arguments)}}()}]),N;var Xe}(),re=j(2366),ye=j.n(re),Ce=function(){function N(Xe,Ye){b(this,N),this.attribute=void 0,this.buffer=void 0;var Qe=Ye.buffer,Et=Ye.offset,nn=Ye.stride,Je=Ye.normalized,Wt=Ye.size,yn=Ye.divisor;this.buffer=Qe,this.attribute={buffer:Qe.get(),offset:Et||0,stride:nn||0,normalized:Je||!1,divisor:yn||0},Wt&&(this.attribute.size=Wt)}return m(N,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(Ye){this.buffer.subData(Ye)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),N}(),wt=(T(Ie={},Y.POINTS,"points"),T(Ie,Y.LINES,"lines"),T(Ie,Y.LINE_LOOP,"line loop"),T(Ie,Y.LINE_STRIP,"line strip"),T(Ie,Y.TRIANGLES,"triangles"),T(Ie,Y.TRIANGLE_FAN,"triangle fan"),T(Ie,Y.TRIANGLE_STRIP,"triangle strip"),Ie),Bt=(T(Ue={},Y.STATIC_DRAW,"static"),T(Ue,Y.DYNAMIC_DRAW,"dynamic"),T(Ue,Y.STREAM_DRAW,"stream"),Ue),pn=(T(pt={},Y.BYTE,"int8"),T(pt,Y.UNSIGNED_INT,"int16"),T(pt,Y.INT,"int32"),T(pt,Y.UNSIGNED_BYTE,"uint8"),T(pt,Y.UNSIGNED_SHORT,"uint16"),T(pt,Y.UNSIGNED_INT,"uint32"),T(pt,Y.FLOAT,"float"),pt),kn=(T(st={},Y.ALPHA,"alpha"),T(st,Y.LUMINANCE,"luminance"),T(st,Y.LUMINANCE_ALPHA,"luminance alpha"),T(st,Y.RGB,"rgb"),T(st,Y.RGBA,"rgba"),T(st,Y.RGBA4,"rgba4"),T(st,Y.RGB5_A1,"rgb5 a1"),T(st,Y.RGB565,"rgb565"),T(st,Y.DEPTH_COMPONENT,"depth"),T(st,Y.DEPTH_STENCIL,"depth stencil"),st),je=(T(Ne={},Y.DONT_CARE,"dont care"),T(Ne,Y.NICEST,"nice"),T(Ne,Y.FASTEST,"fast"),Ne),Hn=(T(lt={},Y.NEAREST,"nearest"),T(lt,Y.LINEAR,"linear"),T(lt,Y.LINEAR_MIPMAP_LINEAR,"mipmap"),T(lt,Y.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),T(lt,Y.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),T(lt,Y.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),lt),Cr=(T(gt={},Y.REPEAT,"repeat"),T(gt,Y.CLAMP_TO_EDGE,"clamp"),T(gt,Y.MIRRORED_REPEAT,"mirror"),gt),qn=(T($e={},Y.NONE,"none"),T($e,Y.BROWSER_DEFAULT_WEBGL,"browser"),$e),Me=(T(dt={},Y.NEVER,"never"),T(dt,Y.ALWAYS,"always"),T(dt,Y.LESS,"less"),T(dt,Y.LEQUAL,"lequal"),T(dt,Y.GREATER,"greater"),T(dt,Y.GEQUAL,"gequal"),T(dt,Y.EQUAL,"equal"),T(dt,Y.NOTEQUAL,"notequal"),dt),Ur=(T(De={},Y.FUNC_ADD,"add"),T(De,Y.MIN_EXT,"min"),T(De,Y.MAX_EXT,"max"),T(De,Y.FUNC_SUBTRACT,"subtract"),T(De,Y.FUNC_REVERSE_SUBTRACT,"reverse subtract"),De),pi=(T(Be={},Y.ZERO,"zero"),T(Be,Y.ONE,"one"),T(Be,Y.SRC_COLOR,"src color"),T(Be,Y.ONE_MINUS_SRC_COLOR,"one minus src color"),T(Be,Y.SRC_ALPHA,"src alpha"),T(Be,Y.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),T(Be,Y.DST_COLOR,"dst color"),T(Be,Y.ONE_MINUS_DST_COLOR,"one minus dst color"),T(Be,Y.DST_ALPHA,"dst alpha"),T(Be,Y.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),T(Be,Y.CONSTANT_COLOR,"constant color"),T(Be,Y.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),T(Be,Y.CONSTANT_ALPHA,"constant alpha"),T(Be,Y.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),T(Be,Y.SRC_ALPHA_SATURATE,"src alpha saturate"),Be),bi=(T(vt={},Y.NEVER,"never"),T(vt,Y.ALWAYS,"always"),T(vt,Y.LESS,"less"),T(vt,Y.LEQUAL,"lequal"),T(vt,Y.GREATER,"greater"),T(vt,Y.GEQUAL,"gequal"),T(vt,Y.EQUAL,"equal"),T(vt,Y.NOTEQUAL,"notequal"),vt),ii=(T(Ve={},Y.ZERO,"zero"),T(Ve,Y.KEEP,"keep"),T(Ve,Y.REPLACE,"replace"),T(Ve,Y.INVERT,"invert"),T(Ve,Y.INCR,"increment"),T(Ve,Y.DECR,"decrement"),T(Ve,Y.INCR_WRAP,"increment wrap"),T(Ve,Y.DECR_WRAP,"decrement wrap"),Ve),Xi=(T(nt={},Y.FRONT,"front"),T(nt,Y.BACK,"back"),nt),ji=function(){function N(Xe,Ye){b(this,N),this.buffer=void 0,this.buffer=Xe.buffer({data:Ye.data,usage:Bt[Ye.usage||Y.STATIC_DRAW],type:pn[Ye.type||Y.UNSIGNED_BYTE]})}return m(N,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(Ye){this.buffer.subdata(Ye.data,Ye.offset)}}]),N}();function hn(N,Xe){(null==Xe||Xe>N.length)&&(Xe=N.length);for(var Ye=0,Qe=new Array(Xe);Ye<Xe;Ye++)Qe[Ye]=N[Ye];return Qe}function Qr(N,Xe){var Ye=Object.keys(N);if(Object.getOwnPropertySymbols){var Qe=Object.getOwnPropertySymbols(N);Xe&&(Qe=Qe.filter(function(Et){return Object.getOwnPropertyDescriptor(N,Et).enumerable})),Ye.push.apply(Ye,Qe)}return Ye}function Ti(N){for(var Xe=1;Xe<arguments.length;Xe++){var Ye=null!=arguments[Xe]?arguments[Xe]:{};Xe%2?Qr(Object(Ye),!0).forEach(function(Qe){T(N,Qe,Ye[Qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(Ye)):Qr(Object(Ye)).forEach(function(Qe){Object.defineProperty(N,Qe,Object.getOwnPropertyDescriptor(Ye,Qe))})}return N}var Ki="attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",xa=0,Ar=!1,ti=function(){function N(Xe,Ye){var Qe=this;b(this,N),this.reGl=Xe,this.context=Ye,this.entity=$(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var Et={};this.context.uniforms.forEach(function(Dn){var Rn=Dn.name,Ir=Dn.type,Yn=Dn.data,Gr=Dn.storageClass;if(Gr===ge.StorageBuffer){if(Dn.isReferer)Qe.textureCache[Rn]={data:void 0},Et["".concat(Rn,"Size")]=function(){return Yn.compiledBundle.context.output.textureSize};else{Qe.textureCache[Rn]=Qe.calcDataTexture(Rn,Ir,Yn);var Pr=Qe.textureCache[Rn],Ht=Pr.textureWidth,Ln=Pr.isOutput;Et["".concat(Rn,"Size")]=[Ht,Ht],Ln&&(Qe.outputTextureName=Rn,Qe.context.needPingpong&&(Qe.outputTextureName="".concat(Rn,"Output"),Qe.textureCache[Qe.outputTextureName]=Qe.calcDataTexture(Rn,Ir,Yn)))}Et[Rn]=function(){return Ar&&console.log("[".concat(Qe.entity,"]: ").concat(Rn," ").concat(Qe.textureCache[Rn].id)),Qe.textureCache[Rn].texture}}else if(Gr===ge.Uniform){if(Yn&&(Array.isArray(Yn)||g()(Yn))&&Yn.length>16)throw new Error("invalid data type ".concat(Ir));Et[Rn]=function(){return Dn.data}}});var nn=this.getOuputDataTexture(),Je=nn.textureWidth,Wt=nn.texelCount;Et.u_OutputTextureSize=[Je,Je],Et.u_OutputTexelCount=Wt,this.context.output.textureSize=[Je,Je];var yn={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:Et,vert:Ki,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(yn)}return m(N,[{key:"run",value:function(){var Ye=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){Ye.computeCommand()}),Ar&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:(Xe=q(L().mark(function Qe(){var nn,Je,Wt,yn,Dn,Rn,Ir,Yn,Et=this;return L().wrap(function(Gr){for(;;)switch(Gr.prev=Gr.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){nn=Et.reGl.read()}),!nn){Gr.next=6;break}if(Je=this.getOuputDataTexture(),Wt=Je.originalDataLength,yn=Je.elementsPerTexel,Rn=void 0===(Dn=Je.typedArrayConstructor)?Float32Array:Dn,Ir=[],4!==yn)for(Yn=0;Yn<nn.length;Yn+=4)1===yn?Ir.push(nn[Yn]):2===yn?Ir.push(nn[Yn],nn[Yn+1]):Ir.push(nn[Yn],nn[Yn+1],nn[Yn+2]);else Ir=nn;return Gr.abrupt("return",new Rn(Ir.slice(0,Wt)));case 6:return Gr.abrupt("return",new Float32Array);case 7:case"end":return Gr.stop()}},Qe,this)})),function Ye(){return Xe.apply(this,arguments)})},{key:"confirmInput",value:function(Ye,Qe){var Et;this.entity===Ye.entity?(this.dynamicPingpong=!0,Et=this):Et=Ye,this.textureCache[Qe].id=Et.getOuputDataTexture().id,this.textureCache[Qe].texture=Et.getOuputDataTexture().texture,Ar&&console.log("[".concat(this.entity,"]: confirm input ").concat(Qe," from model ").concat(Et.entity,", ").concat(Et.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(Ye,Qe){var nn=this.context.uniforms.find(function(Dn){return Dn.name===Ye});if(nn){var Je=this.calcDataTexture(Ye,nn.type,Qe),Wt=Je.texture;this.textureCache[Ye].data=Je.data,this.textureCache[Ye].texture=Wt}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var Ye=this.context.output.name;this.textureCache[Ye].id=this.getOuputDataTexture().id,this.textureCache[Ye].texture=this.getOuputDataTexture().texture}var Qe=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=Qe,Ar&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var Ye=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=Ye}},{key:"cloneDataTexture",value:function(Ye){var Qe=Ye.data,Et=Ye.textureWidth;return Ti(Ti({},Ye),{},{id:xa++,texture:this.reGl.texture({width:Et,height:Et,data:Qe,type:"float"})})}},{key:"calcDataTexture",value:function(Ye,Qe,Et){var nn=1;Qe===se.Vector4FloatArray&&(nn=4);for(var Je=[],Wt=0;Wt<Et.length;Wt+=nn)1===nn?Je.push(Et[Wt],0,0,0):2===nn?Je.push(Et[Wt],Et[Wt+1],0,0):3===nn?Je.push(Et[Wt],Et[Wt+1],Et[Wt+2],0):4===nn&&Je.push(Et[Wt],Et[Wt+1],Et[Wt+2],Et[Wt+3]);var yn=Et.length,Dn=Math.ceil(yn/nn),Rn=Math.ceil(Math.sqrt(Dn)),Ir=Rn*Rn;Dn<Ir&&Je.push.apply(Je,function ei(N){return function Pn(N){if(Array.isArray(N))return hn(N)}(N)||function br(N){if(typeof Symbol<"u"&&null!=N[Symbol.iterator]||null!=N["@@iterator"])return Array.from(N)}(N)||function Dr(N,Xe){if(N){if("string"==typeof N)return hn(N,Xe);var Ye=Object.prototype.toString.call(N).slice(8,-1);if("Object"===Ye&&N.constructor&&(Ye=N.constructor.name),"Map"===Ye||"Set"===Ye)return Array.from(N);if("Arguments"===Ye||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ye))return hn(N,Xe)}}(N)||function kr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Array(4*(Ir-Dn)).fill(0)));var Yn=this.reGl.texture({width:Rn,height:Rn,data:Je,type:"float"});return{id:xa++,data:Je,originalDataLength:yn,typedArrayConstructor:g()(Et)?Et.constructor:void 0,textureWidth:Rn,texture:Yn,texelCount:Dn,elementsPerTexel:nn,isOutput:Ye===this.context.output.name}}}]),N;var Xe}(),Vr=function(){function N(Xe,Ye){b(this,N),this.elements=void 0,this.elements=Xe.elements({data:Ye.data,usage:Bt[Ye.usage||Y.STATIC_DRAW],type:pn[Ye.type||Y.UNSIGNED_BYTE],count:Ye.count})}return m(N,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(Ye){this.elements.subdata(Ye.data)}},{key:"destroy",value:function(){this.elements.destroy()}}]),N}(),Se=function(){function N(Xe,Ye){b(this,N),this.framebuffer=void 0;var nn=Ye.color,Je=Ye.colors,Dn={width:Ye.width,height:Ye.height};Array.isArray(Je)&&(Dn.colors=Je.map(function(Rn){return Rn.get()})),nn&&"boolean"!=typeof nn&&(Dn.color=nn.get()),this.framebuffer=Xe.framebuffer(Dn)}return m(N,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(Ye){this.framebuffer.resize(Ye.width,Ye.height)}}]),N}(),G=j(7614),V=j.n(G);function C(N){var Xe={};return Object.keys(N).forEach(function(Ye){W(Ye,N[Ye],Xe,"")}),Xe}function W(N,Xe,Ye,Qe){null===Xe||"number"==typeof Xe||"boolean"==typeof Xe||Array.isArray(Xe)&&"number"==typeof Xe[0]||g()(Xe)||""===Xe||void 0!==Xe.resize?Ye["".concat(Qe&&Qe+".").concat(N)]=Xe:(V()(Xe)&&Object.keys(Xe).forEach(function(Et){W(Et,Xe[Et],Ye,"".concat(Qe&&Qe+".").concat(N))}),Array.isArray(Xe)&&Xe.forEach(function(Et,nn){Object.keys(Et).forEach(function(Je){W(Je,Et[Je],Ye,"".concat(Qe&&Qe+".").concat(N,"[").concat(nn,"]"))})}))}function fe(N,Xe){var Ye=Object.keys(N);if(Object.getOwnPropertySymbols){var Qe=Object.getOwnPropertySymbols(N);Xe&&(Qe=Qe.filter(function(Et){return Object.getOwnPropertyDescriptor(N,Et).enumerable})),Ye.push.apply(Ye,Qe)}return Ye}function He(N){for(var Xe=1;Xe<arguments.length;Xe++){var Ye=null!=arguments[Xe]?arguments[Xe]:{};Xe%2?fe(Object(Ye),!0).forEach(function(Qe){T(N,Qe,Ye[Qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(Ye)):fe(Object(Ye)).forEach(function(Qe){Object.defineProperty(N,Qe,Object.getOwnPropertyDescriptor(Ye,Qe))})}return N}var We=function(){function N(Xe,Ye){b(this,N),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=Xe;var Qe=Ye.vs,Et=Ye.fs,nn=Ye.defines,Je=Ye.attributes,Wt=Ye.uniforms,yn=Ye.primitive,Dn=Ye.count,Rn=Ye.elements,Ir=Ye.depth,Yn=Ye.blend,er=Ye.stencil,Gr=Ye.cull,Pr=Ye.instances,Ht=Ye.scissor,Ln=Ye.viewport,Vn={};Wt&&(this.uniforms=C(Wt),Object.keys(Wt).forEach(function(Ct){Vn[Ct]=Xe.prop(Ct)}));var cn={};Object.keys(Je).forEach(function(Ct){cn[Ct]=Je[Ct].get()});var Lr=nn&&this.generateDefines(nn)||"",pr={attributes:cn,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(Lr,"\n").concat(Et),uniforms:Vn,vert:"\n".concat(Lr,"\n").concat(Qe),primitive:wt[void 0===yn?Y.TRIANGLES:yn]};Pr&&(pr.instances=Pr),Dn&&(pr.count=Dn),Rn&&(pr.elements=Rn.get()),Ht&&(pr.scissor=Ht),Ln&&(pr.viewport=Ln),this.initDepthDrawParams({depth:Ir},pr),this.initBlendDrawParams({blend:Yn},pr),this.initStencilDrawParams({stencil:er},pr),this.initCullDrawParams({cull:Gr},pr),this.drawCommand=Xe(pr)}return m(N,[{key:"addUniforms",value:function(Ye){this.uniforms=He(He({},this.uniforms),C(Ye))}},{key:"draw",value:function(Ye){var Qe=He(He({},this.uniforms),C(Ye.uniforms||{})),Et={};Object.keys(Qe).forEach(function(nn){var Je=B(Qe[nn]);"boolean"===Je||"number"===Je||Array.isArray(Qe[nn])||Qe[nn].BYTES_PER_ELEMENT?Et[nn]=Qe[nn]:"string"===Je||(Et[nn]=Qe[nn].get())}),this.drawCommand(Et)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(Ye,Qe){var Et=Ye.depth;Et&&(Qe.depth={enable:void 0===Et.enable||!!Et.enable,mask:void 0===Et.mask||!!Et.mask,func:Me[Et.func||Y.LESS],range:Et.range||[0,1]})}},{key:"initBlendDrawParams",value:function(Ye,Qe){var Et=Ye.blend;if(Et){var Je=Et.func,Wt=Et.equation,yn=Et.color;Qe.blend={enable:!!Et.enable,func:{srcRGB:pi[Je&&Je.srcRGB||Y.SRC_ALPHA],srcAlpha:pi[Je&&Je.srcAlpha||Y.SRC_ALPHA],dstRGB:pi[Je&&Je.dstRGB||Y.ONE_MINUS_SRC_ALPHA],dstAlpha:pi[Je&&Je.dstAlpha||Y.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Ur[Wt&&Wt.rgb||Y.FUNC_ADD],alpha:Ur[Wt&&Wt.alpha||Y.FUNC_ADD]},color:void 0===yn?[0,0,0,0]:yn}}}},{key:"initStencilDrawParams",value:function(Ye,Qe){var Et=Ye.stencil;if(Et){var Je=Et.mask,yn=Et.func,Dn=void 0===yn?{cmp:Y.ALWAYS,ref:0,mask:-1}:yn,Rn=Et.opFront,Ir=void 0===Rn?{fail:Y.KEEP,zfail:Y.KEEP,zpass:Y.KEEP}:Rn,Yn=Et.opBack,er=void 0===Yn?{fail:Y.KEEP,zfail:Y.KEEP,zpass:Y.KEEP}:Yn;Qe.stencil={enable:!!Et.enable,mask:void 0===Je?-1:Je,func:He(He({},Dn),{},{cmp:bi[Dn.cmp]}),opFront:{fail:ii[Ir.fail],zfail:ii[Ir.zfail],zpass:ii[Ir.zpass]},opBack:{fail:ii[er.fail],zfail:ii[er.zfail],zpass:ii[er.zpass]}}}}},{key:"initCullDrawParams",value:function(Ye,Qe){var Et=Ye.cull;if(Et){var Je=Et.face;Qe.cull={enable:!!Et.enable,face:Xi[void 0===Je?Y.BACK:Je]}}}},{key:"generateDefines",value:function(Ye){return Object.keys(Ye).map(function(Qe){return"#define ".concat(Qe," ").concat(Number(Ye[Qe]))}).join("\n")}}]),N}(),it=function(){function N(Xe,Ye){b(this,N),this.texture=void 0,this.width=void 0,this.height=void 0;var Qe=Ye.data,Et=Ye.type,nn=void 0===Et?Y.UNSIGNED_BYTE:Et,Je=Ye.width,Wt=Ye.height,yn=Ye.flipY,Dn=void 0!==yn&&yn,Rn=Ye.format,Ir=void 0===Rn?Y.RGBA:Rn,Yn=Ye.mipmap,er=void 0!==Yn&&Yn,Gr=Ye.wrapS,Pr=void 0===Gr?Y.CLAMP_TO_EDGE:Gr,Ht=Ye.wrapT,Ln=void 0===Ht?Y.CLAMP_TO_EDGE:Ht,Vn=Ye.aniso,cn=void 0===Vn?0:Vn,Lr=Ye.alignment,pr=void 0===Lr?1:Lr,Ct=Ye.premultiplyAlpha,Oe=void 0!==Ct&&Ct,Pe=Ye.mag,Ot=void 0===Pe?Y.NEAREST:Pe,ht=Ye.min,At=void 0===ht?Y.NEAREST:ht,on=Ye.colorSpace,En=void 0===on?Y.BROWSER_DEFAULT_WEBGL:on;this.width=Je,this.height=Wt;var Fn={width:Je,height:Wt,type:pn[nn],format:kn[Ir],wrapS:Cr[Pr],wrapT:Cr[Ln],mag:Hn[Ot],min:Hn[At],alignment:pr,flipY:Dn,colorSpace:qn[En],premultiplyAlpha:Oe,aniso:cn};Qe&&(Fn.data=Qe),"number"==typeof er?Fn.mipmap=je[er]:"boolean"==typeof er&&(Fn.mipmap=er),this.texture=Xe.texture(Fn)}return m(N,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(Ye){var Qe=Ye.width,Et=Ye.height;this.texture.resize(Qe,Et),this.width=Qe,this.height=Et}},{key:"destroy",value:function(){this.texture.destroy()}}]),N}(),rt=function(){function N(){var Xe=this;b(this,N),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var Ye=q(L().mark(function Qe(Et){return L().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:if(!Et.uniforms){Je.next=3;break}return Je.next=3,Promise.all(Object.keys(Et.uniforms).map(function(){var Wt=q(L().mark(function yn(Dn){return L().wrap(function(Yn){for(;;)switch(Yn.prev=Yn.next){case 0:if(!Et.uniforms[Dn]||void 0===Et.uniforms[Dn].load){Yn.next=5;break}return Yn.next=3,Et.uniforms[Dn].load();case 3:Et.uniforms[Dn]=Yn.sent;case 5:case"end":return Yn.stop()}},yn)}));return function(yn){return Wt.apply(this,arguments)}}()));case 3:return Je.abrupt("return",new We(Xe.gl,Et));case 4:case"end":return Je.stop()}},Qe)}));return function(Qe){return Ye.apply(this,arguments)}}(),this.createAttribute=function(Ye){return new Ce(Xe.gl,Ye)},this.createBuffer=function(Ye){return new ji(Xe.gl,Ye)},this.createElements=function(Ye){return new Vr(Xe.gl,Ye)},this.createTexture2D=function(Ye){return new it(Xe.gl,Ye)},this.createFramebuffer=function(Ye){return new Se(Xe.gl,Ye)},this.useFramebuffer=function(Ye,Qe){Xe.gl({framebuffer:Ye?Ye.get():null})(Qe)},this.createComputeModel=function(){var Ye=q(L().mark(function Qe(Et){return L().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Je.abrupt("return",new ti(Xe.gl,Et));case 1:case"end":return Je.stop()}},Qe)}));return function(Qe){return Ye.apply(this,arguments)}}(),this.clear=function(Ye){var Je=Ye.framebuffer,Wt=void 0===Je?null:Je,yn={color:Ye.color,depth:Ye.depth,stencil:Ye.stencil};yn.framebuffer=null===Wt?Wt:Wt.get(),Xe.gl.clear(yn)},this.setScissor=function(Ye){Xe.gl&&Xe.gl._gl&&(Ye.enable&&Ye.box?(Xe.gl._gl.enable(Y.SCISSOR_TEST),Xe.gl._gl.scissor(Ye.box.x,Ye.box.y,Ye.box.width,Ye.box.height)):Xe.gl._gl.disable(Y.SCISSOR_TEST),Xe.gl._refresh())},this.viewport=function(Ye){Xe.gl&&Xe.gl._gl&&(Xe.gl._gl.viewport(Ye.x,Ye.y,Ye.width,Ye.height),Xe.gl._refresh())},this.readPixels=function(Ye){var Qe=Ye.framebuffer,yn={x:Ye.x,y:Ye.y,width:Ye.width,height:Ye.height};return Qe&&(yn.framebuffer=Qe.get()),Xe.gl.read(yn)},this.getCanvas=function(){return Xe.$canvas},this.getGLContext=function(){return Xe.gl._gl},this.destroy=function(){Xe.gl&&(Xe.gl.destroy(),Xe.inited=!1)}}return m(N,[{key:"init",value:(Xe=q(L().mark(function Qe(Et){return L().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:if(!this.inited){Je.next=2;break}return Je.abrupt("return");case 2:return this.$canvas=Et.canvas,Je.next=5,new Promise(function(Wt,yn){ye()({canvas:Et.canvas,attributes:{alpha:!0,antialias:Et.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(Rn,Ir){(Rn||!Ir)&&yn(Rn),Wt(Ir)}})});case 5:this.gl=Je.sent,this.inited=!0;case 7:case"end":return Je.stop()}},Qe,this)})),function Ye(Qe){return Xe.apply(this,arguments)})},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),N;var Xe}(),Vt=function(){function N(){b(this,N),this.engine=void 0,this.configService=new ae}return m(N,[{key:"setConfig",value:function(Ye){this.configService.set(Ye)}},{key:"setEngine",value:function(Ye){this.engine=Ye}},{key:"createEntity",value:function(){return $()}},{key:"createKernel",value:function(Ye){var Qe=new H(this.engine,this.configService);return Qe.setBundle("string"==typeof Ye?JSON.parse(Ye):Ye),Qe.init(),Qe}},{key:"destroy",value:function(){this.engine.destroy()}}],[{key:"create",value:function(){var Ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Qe=new N;return Qe.setConfig(Ye),Qe.setEngine(new rt),Qe}}]),N}()},7782:(qt,z,j)=>{"use strict";j.r(z),j.d(z,{Graph:()=>Y,GraphWithEvent:()=>Ce,algorithm:()=>R,comparision:()=>B,essence:()=>q,generate:()=>O});var R={};j.r(R),j.d(R,{components:()=>$e,dfs:()=>Be,dijkstra:()=>Cr,dijkstraAll:()=>Me,findCycles:()=>ii,floydWarshall:()=>N,isAcyclic:()=>C,postorder:()=>fe,preorder:()=>We,prim:()=>lt,tarjan:()=>pi,topsort:()=>G});var q={};j.r(q),j.d(q,{hasSelfLoop:()=>cn,isGraph:()=>Ht,isNullGraph:()=>Vn,isSimpleGraph:()=>Ln});var B={};j.r(B),j.d(B,{containAllSameEdges:()=>Wt,containAllSameNodes:()=>Je,containSameEdges:()=>Ye,containSameNodes:()=>Xe,getSameEdges:()=>Et,getSameNodes:()=>Qe,isGraphComplement:()=>Lr,isGraphContainsAnother:()=>Dn,isGraphOptionSame:()=>nn,isGraphSame:()=>yn});var O={};j.r(O),j.d(O,{getGraphComplement:()=>pr});var P=(()=>{return(Ct=P||(P={})).DEFAULT_EDGE_NAME="\0",Ct.GRAPH_NODE="\0",Ct.EDGE_KEY_DELIM="\x01",P;var Ct})();function T(Ct,Oe){var Pe=Ct.get(Oe)||0;Ct.set(Oe,Pe+1)}function b(Ct,Oe){var Pe=Ct.get(Oe);void 0!==Pe&&((Pe-=1)>0?Ct.set(Oe,Pe):Ct.delete(Oe))}function x(Ct,Oe,Pe,Ot){var ht=String(Oe),At=String(Pe);if(!Ct&&ht>At){var on=ht;ht=At,At=on}return ht+P.EDGE_KEY_DELIM+At+P.EDGE_KEY_DELIM+(void 0===Ot?P.DEFAULT_EDGE_NAME:Ot)}function m(Ct,Oe,Pe,Ot){var ht=String(Oe),At=String(Pe),on={v:Oe,w:Pe};if(!Ct&&ht>At){var En=on.v;on.v=on.w,on.w=En}return void 0!==Ot&&(on.name=Ot),on}function _(Ct,Oe){return x(Ct,Oe.v,Oe.w,Oe.name)}function g(Ct){return"function"==typeof Ct}var S=function(Oe){return Oe.nodes().map(function(Pe){var At={id:Pe,value:Oe.node(Pe),parent:Oe.parent(Pe)};return void 0===At.value&&delete At.value,void 0===At.parent&&delete At.parent,At})},w=function(Oe){return Oe.edges().map(function(Pe){var Ot=Oe.edge(Pe),ht={v:Pe.v,w:Pe.w,value:Ot,name:Pe.name};return void 0===ht.name&&delete ht.name,void 0===ht.value&&delete ht.value,ht})},E=function(Oe){var Pe={options:{directed:Oe.isDirected(),multigraph:Oe.isMultigraph(),compound:Oe.isCompound()},nodes:S(Oe),edges:w(Oe),value:Oe.graph()};return void 0===Pe.value&&delete Pe.value,Pe};function k(Ct,Oe){var Pe=Object.keys(Ct);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(Ct);Oe&&(Ot=Ot.filter(function(ht){return Object.getOwnPropertyDescriptor(Ct,ht).enumerable})),Pe.push.apply(Pe,Ot)}return Pe}function L(Ct){for(var Oe=1;Oe<arguments.length;Oe++){var Pe=null!=arguments[Oe]?arguments[Oe]:{};Oe%2?k(Object(Pe),!0).forEach(function(Ot){ie(Ct,Ot,Pe[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(Pe)):k(Object(Pe)).forEach(function(Ot){Object.defineProperty(Ct,Ot,Object.getOwnPropertyDescriptor(Pe,Ot))})}return Ct}function ie(Ct,Oe,Pe){return Oe in Ct?Object.defineProperty(Ct,Oe,{value:Pe,enumerable:!0,configurable:!0,writable:!0}):Ct[Oe]=Pe,Ct}function $(Ct,Oe){for(var Pe=0;Pe<Oe.length;Pe++){var Ot=Oe[Pe];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(Ct,Ot.key,Ot)}}var Z={compound:!1,multigraph:!1,directed:!0},Y=function(){function Ct(){var Oe=this,Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function te(Ct,Oe){if(!(Ct instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=P.GRAPH_NODE,this.label=void 0,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.parentMap=void 0,this.childrenMap=void 0,this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return Oe.directed},this.isMultigraph=function(){return Oe.multigraph},this.isCompound=function(){return Oe.compound},this.setGraph=function(ht){return Oe.label=ht,Oe},this.graph=function(){return Oe.label},this.setDefaultNodeLabel=function(ht){return Oe.defaultNodeLabelFn=g(ht)?ht:function(){return ht},Oe},this.nodeCount=function(){return Oe.nodeCountNum},this.node=function(ht){return Oe.nodesLabelMap.get(ht)},this.nodes=function(){return Array.from(Oe.nodesLabelMap.keys())},this.sources=function(){return Oe.nodes().filter(function(ht){var At;return!(null!==(At=Oe.inEdgesMap.get(ht))&&void 0!==At&&At.size)})},this.sinks=function(){return Oe.nodes().filter(function(ht){var At;return!(null!==(At=Oe.outEdgesMap.get(ht))&&void 0!==At&&At.size)})},this.setNodes=function(ht,At){return ht.map(function(on){return Oe.setNode(on,At)}),Oe},this.hasNode=function(ht){return Oe.nodesLabelMap.has(ht)},this.checkCompound=function(){if(!Oe.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(ht){if(Oe.isCompound()){var At,on=null===(At=Oe.parentMap)||void 0===At?void 0:At.get(ht);if(on!==Oe.GRAPH_NODE)return on}},this.removeFromParentsChildList=function(ht){var At=Oe.parentMap.get(ht);Oe.childrenMap.get(At).delete(ht)},this.setParent=function(ht,At){var on,En;Oe.checkCompound();for(var Fn=void 0===At?Oe.GRAPH_NODE:At,xr=Oe.parent(Fn);xr;){if(ht===xr)throw new Error("Setting "+At+" as parent of "+ht+" would create a cycle");xr=Oe.parent(xr)}At&&Oe.setNode(At),Oe.setNode(ht),Oe.removeFromParentsChildList(ht),null===(on=Oe.parentMap)||void 0===on||on.set(ht,Fn);var fr=Oe.childrenMap.get(Fn);return fr.set(ht,!0),null===(En=Oe.childrenMap)||void 0===En||En.set(Fn,fr),Oe},this.children=function(ht){var At=void 0===ht?Oe.GRAPH_NODE:ht;if(Oe.isCompound()){var on,En=null===(on=Oe.childrenMap)||void 0===on?void 0:on.get(At);return En?Array.from(En.keys()):void 0}return At===Oe.GRAPH_NODE?Oe.nodes():ht&&Oe.hasNode(ht)?[]:void 0},this.predecessors=function(ht){var At=Oe.predecessorsMap.get(ht);return At?Array.from(At.keys()):void 0},this.successors=function(ht){var At=Oe.successorsMap.get(ht);return At?Array.from(At.keys()):void 0},this.neighbors=function(ht){var At;if(Oe.hasNode(ht))return Array.from(new Set(null===(At=Oe.predecessors(ht))||void 0===At?void 0:At.concat(Oe.successors(ht))))},this.isLeaf=function(ht){var At,on;return Oe.isDirected()?!(null!==(on=Oe.successors(ht))&&void 0!==on&&on.length):!(null!==(At=Oe.neighbors(ht))&&void 0!==At&&At.length)},this.filterNodes=function(ht){var En=Oe.compound,Fn=new Ct({directed:Oe.directed,multigraph:Oe.multigraph,compound:En});return Fn.setGraph(Oe.graph()),Oe.nodes().forEach(function(fr){ht(fr)&&Fn.setNode(fr,Oe.node(fr))}),Oe.edges().forEach(function(fr){Fn.hasNode(fr.v)&&Fn.hasNode(fr.w)&&Fn.setEdgeObj(fr,Oe.edge(fr))}),En&&Fn.nodes().forEach(function(fr){Fn.setParent(fr,function(Fr){for(var Ai=Oe.parent(Fr);void 0!==Ai&&!Fn.hasNode(Ai);)Ai=Oe.parent(Ai);return Ai}(fr))}),Fn},this.setDefaultEdgeLabel=function(ht){return Oe.defaultEdgeLabelFn=g(ht)?ht:function(){return ht},Oe},this.edgeCount=function(){return Oe.edgeCountNum},this.setEdgeObj=function(ht,At){return Oe.setEdge(ht.v,ht.w,At,ht.name)},this.setPath=function(ht,At){return ht.reduce(function(on,En){return Oe.setEdge(on,En,At),En}),Oe},this.edgeFromArgs=function(ht,At,on){return Oe.edge({v:ht,w:At,name:on})},this.edge=function(ht){return Oe.edgesLabelsMap.get(_(Oe.isDirected(),ht))},this.hasEdge=function(ht,At,on){return Oe.edgesLabelsMap.has(_(Oe.isDirected(),{v:ht,w:At,name:on}))},this.removeEdgeObj=function(ht){return Oe.removeEdge(ht.v,ht.w,ht.name)},this.edges=function(){return Array.from(Oe.edgesMap.values())},this.inEdges=function(ht,At){var on=Oe.inEdgesMap.get(ht);if(on)return Array.from(on.values()).filter(function(En){return!At||En.v===At})},this.outEdges=function(ht,At){var on=Oe.outEdgesMap.get(ht);if(on)return Array.from(on.values()).filter(function(En){return!At||En.w===At})},this.nodeEdges=function(ht,At){var on;if(Oe.hasNode(ht))return null===(on=Oe.inEdges(ht,At))||void 0===on?void 0:on.concat(Oe.outEdges(ht,At))},this.toJSON=function(){return E(Oe)},this.nodeInDegree=function(ht){var At=Oe.inEdgesMap.get(ht);return At?At.size:0},this.nodeOutDegree=function(ht){var At=Oe.outEdgesMap.get(ht);return At?At.size:0},this.nodeDegree=function(ht){return Oe.nodeInDegree(ht)+Oe.nodeOutDegree(ht)},this.source=function(ht){return ht.v},this.target=function(ht){return ht.w};var Ot=L(L({},Z),Pe);this.compound=Ot.compound,this.directed=Ot.directed,this.multigraph=Ot.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}return function X(Ct,Oe,Pe){Oe&&$(Ct.prototype,Oe),Pe&&$(Ct,Pe),Object.defineProperty(Ct,"prototype",{writable:!1})}(Ct,[{key:"setNode",value:function(Pe,Ot){var ca,ht=this.nodesLabelMap,At=this.defaultNodeLabelFn,on=this.isCompound,En=this.parentMap,Fn=this.childrenMap,xr=this.inEdgesMap,fr=this.outEdgesMap,Fr=this.predecessorsMap,Ai=this.successorsMap;return ht.has(Pe)?(void 0!==Ot&&ht.set(Pe,Ot),this):(ht.set(Pe,Ot||At(Pe)),on()&&(En?.set(Pe,this.GRAPH_NODE),Fn?.set(Pe,new Map),Fn?.has(this.GRAPH_NODE)||Fn?.set(this.GRAPH_NODE,new Map),null==Fn||null===(ca=Fn.get(this.GRAPH_NODE))||void 0===ca||ca.set(Pe,!0)),[xr,fr,Fr,Ai].forEach(function(wa){return wa.set(Pe,new Map)}),this.nodeCountNum+=1,this)}},{key:"removeNode",value:function(Pe){var Ot=this;if(this.hasNode(Pe)){var fr,Fr,Ai,ht=function(no){Ot.removeEdge(no.v,no.w,no.name)},At=this.inEdgesMap,on=this.outEdgesMap,En=this.predecessorsMap,Fn=this.successorsMap,xr=this.nodesLabelMap;this.isCompound()&&(this.removeFromParentsChildList(Pe),null===(fr=this.parentMap)||void 0===fr||fr.delete(Pe),null===(Fr=this.children(Pe))||void 0===Fr||Fr.forEach(function(ja){return Ot.setParent(ja)}),null===(Ai=this.childrenMap)||void 0===Ai||Ai.delete(Pe));var ca=At.get(Pe),wa=on.get(Pe);Array.from(ca.values()).forEach(function(ja){return ht(ja)}),Array.from(wa.values()).forEach(function(ja){return ht(ja)}),xr.delete(Pe),At.delete(Pe),on.delete(Pe),En.delete(Pe),Fn.delete(Pe),this.nodeCountNum-=1}return this}},{key:"setEdge",value:function(Pe,Ot,ht,At){var on,En,Fn=m(this.isDirected(),Pe,Ot,At),xr=_(this.isDirected(),Fn),fr=Fn.v,Fr=Fn.w;if(this.edgesLabelsMap.has(xr))return this.edgesLabelsMap.set(xr,ht),this;if(void 0!==At&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(fr),this.setNode(Fr),this.edgesLabelsMap.set(xr,ht||this.defaultEdgeLabelFn(fr,Fr,At)),Object.freeze(Fn),this.edgesMap.set(xr,Fn);var Ai=this.predecessorsMap.get(Fr),ca=this.successorsMap.get(fr);return T(Ai,fr),T(ca,Fr),null===(on=this.inEdgesMap.get(Fr))||void 0===on||on.set(xr,Fn),null===(En=this.outEdgesMap.get(fr))||void 0===En||En.set(xr,Fn),this.edgeCountNum+=1,this}},{key:"removeEdge",value:function(Pe,Ot,ht){var At=x(this.isDirected(),Pe,Ot,ht);if(this.edgesMap.get(At)){var En=m(this.isDirected(),Pe,Ot,ht),Fn=En.v,xr=En.w;this.edgesLabelsMap.delete(At),this.edgesMap.delete(At);var fr=this.predecessorsMap.get(xr),Fr=this.successorsMap.get(Fn);b(fr,Fn),b(Fr,xr),this.inEdgesMap.get(xr).delete(At),this.outEdgesMap.get(Fn).delete(At),this.edgeCountNum-=1}return this}}]),Ct}();function ae(Ct){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Oe){return typeof Oe}:function(Oe){return Oe&&"function"==typeof Symbol&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe})(Ct)}function se(Ct,Oe){for(var Pe=0;Pe<Oe.length;Pe++){var Ot=Oe[Pe];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(Ct,Ot.key,Ot)}}function ge(){return ge=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Oe,Pe,Ot){var ht=function Fe(Ct,Oe){for(;!Object.prototype.hasOwnProperty.call(Ct,Oe)&&null!==(Ct=ye(Ct)););return Ct}(Oe,Pe);if(ht){var At=Object.getOwnPropertyDescriptor(ht,Pe);return At.get?At.get.call(arguments.length<3?Oe:Ot):At.value}},ge.apply(this,arguments)}function ze(Ct,Oe){return(ze=Object.setPrototypeOf||function(Ot,ht){return Ot.__proto__=ht,Ot})(Ct,Oe)}function ye(Ct){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(Pe){return Pe.__proto__||Object.getPrototypeOf(Pe)})(Ct)}Y.fromJSON=function(Oe){var Pe=new Y(Oe.options);return void 0!==Oe.value&&Pe.setGraph(Oe.value),Oe.nodes.forEach(function(Ot){Pe.setNode(Ot.id,Ot.value),Ot.parent&&Pe.setParent(Ot.id,Ot.parent)}),Oe.edges.forEach(function(Ot){Pe.setEdge(Ot.v,Ot.w,Ot.value,Ot.name)}),Pe};var Ce=function(Ct){!function Ae(Ct,Oe){if("function"!=typeof Oe&&null!==Oe)throw new TypeError("Super expression must either be null or a function");Ct.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:Ct,writable:!0,configurable:!0}}),Object.defineProperty(Ct,"prototype",{writable:!1}),Oe&&ze(Ct,Oe)}(Pe,Ct);var Oe=function oe(Ct){var Oe=function re(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ht,Ot=ye(Ct);if(Oe){var At=ye(this).constructor;ht=Reflect.construct(Ot,arguments,At)}else ht=Ot.apply(this,arguments);return function ce(Ct,Oe){if(Oe&&("object"===ae(Oe)||"function"==typeof Oe))return Oe;if(void 0!==Oe)throw new TypeError("Derived constructors may only return object or undefined");return function H(Ct){if(void 0===Ct)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ct}(Ct)}(this,ht)}}(Pe);function Pe(){var Ot;!function ne(Ct,Oe){if(!(Ct instanceof Oe))throw new TypeError("Cannot call a class as a function")}(this,Pe);for(var ht=arguments.length,At=new Array(ht),on=0;on<ht;on++)At[on]=arguments[on];return(Ot=Oe.call.apply(Oe,[this].concat(At))).eventPool={},Ot}return function ve(Ct,Oe,Pe){Oe&&se(Ct.prototype,Oe),Pe&&se(Ct,Pe),Object.defineProperty(Ct,"prototype",{writable:!1})}(Pe,[{key:"appendEvent",value:function(ht,At){this.eventPool[ht]||(this.eventPool[ht]=[]),this.eventPool[ht].push(At)}},{key:"removeEvent",value:function(ht,At){if(this.eventPool[ht]){var on=this.eventPool[ht].indexOf(At);on>-1&&this.eventPool[ht].splice(on,1)}}},{key:"emitEvent",value:function(ht){for(var At=arguments.length,on=new Array(At>1?At-1:0),En=1;En<At;En++)on[En-1]=arguments[En];this.eventPool[ht]&&this.eventPool[ht].forEach(function(Fn){Fn.apply(void 0,on)})}},{key:"setNode",value:function(ht,At){return ge(ye(Pe.prototype),"setNode",this).call(this,ht,At),this.emitEvent("nodeAdd",ht,At),this}},{key:"removeNode",value:function(ht){return ge(ye(Pe.prototype),"removeNode",this).call(this,ht),this.emitEvent("nodeRemove",ht),this}},{key:"setEdge",value:function(ht,At,on,En){return ge(ye(Pe.prototype),"setEdge",this).call(this,ht,At,on,En),this.emitEvent("edgeAdd",ht,At,on,En),this}},{key:"removeEdge",value:function(ht,At,on){return ge(ye(Pe.prototype),"removeEdge",this).call(this,ht,At,on),this.emitEvent("edgeRemove",ht,At,on),this}}]),Pe}(Y);function Ie(Ct,Oe){for(var Pe=0;Pe<Oe.length;Pe++){var Ot=Oe[Pe];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(Ct,Ot.key,Ot)}}function Ue(Ct,Oe,Pe){return Oe&&Ie(Ct.prototype,Oe),Pe&&Ie(Ct,Pe),Object.defineProperty(Ct,"prototype",{writable:!1}),Ct}var st=Ue(function Ct(){var Oe=this;(function pt(Ct,Oe){if(!(Ct instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.arr=[],this.keyIndice=new Map,this.size=function(){return Oe.arr.length},this.keys=function(){return Oe.arr.map(function(Pe){return Pe.key})},this.has=function(Pe){return Oe.keyIndice.has(Pe)},this.priority=function(Pe){var Ot=Oe.keyIndice.get(Pe);if(void 0!==Ot)return Oe.arr[Ot].priority},this.swap=function(Pe,Ot){var ht=Oe.arr,At=Oe.keyIndice,on=[ht[Pe],ht[Ot]],En=on[0],Fn=on[1];ht[Pe]=Fn,ht[Ot]=En,At.set(En.key,Ot),At.set(Fn.key,Pe)},this.innerDecrease=function(Pe){for(var At,Ot=Oe.arr,ht=Ot[Pe].priority,on=Pe;0!==on;){var En;if((null===(En=Ot[At=on>>1])||void 0===En?void 0:En.priority)<ht)break;Oe.swap(on,At),on=At}},this.heapify=function(Pe){var Ot=Oe.arr,ht=Pe<<1,At=ht+1,on=Pe;ht<Ot.length&&(on=Ot[ht].priority<Ot[on].priority?ht:on,At<Ot.length&&(on=Ot[At].priority<Ot[on].priority?At:on),on!==Pe&&(Oe.swap(Pe,on),Oe.heapify(on)))},this.min=function(){if(0===Oe.size())throw new Error("Queue underflow");return Oe.arr[0].key},this.add=function(Pe,Ot){var ht=Oe.keyIndice,At=Oe.arr;if(!ht.has(Pe)){var on=At.length;return ht.set(Pe,on),At.push({key:Pe,priority:Ot}),Oe.innerDecrease(on),!0}return!1},this.removeMin=function(){Oe.swap(0,Oe.arr.length-1);var Pe=Oe.arr.pop();return Oe.keyIndice.delete(Pe.key),Oe.heapify(0),Pe.key},this.decrease=function(Pe,Ot){if(!Oe.has(Pe))throw new Error("There's no key named ".concat(Pe));var ht=Oe.keyIndice.get(Pe);if(Ot>Oe.arr[ht].priority)throw new Error("New priority is greater than current priority.Key: ".concat(Pe," Old: + ").concat(Oe.arr[ht].priority," New: ").concat(Ot));Oe.arr[ht].priority=Ot,Oe.innerDecrease(ht)}});const lt=function(Oe,Pe){var on,Ot=new Y,ht=new Map,At=new st;function En(fr){var Fr=fr.v===on?fr.w:fr.v,Ai=At.priority(Fr);if(void 0!==Ai){var ca=Pe(fr);ca<Ai&&(ht.set(Fr,on),At.decrease(Fr,ca))}}if(0===Oe.nodeCount())return Ot;Oe.nodes().forEach(function(fr){At.add(fr,Number.POSITIVE_INFINITY),Ot.setNode(fr)}),At.decrease(Oe.nodes()[0],0);for(var Fn=!1;At.size()>0;){var xr;if(on=At.removeMin(),ht.has(on))Ot.setEdge(on,ht.get(on));else{if(Fn)throw new Error("Input graph is not connected: "+Oe.graph());Fn=!0}null===(xr=Oe.nodeEdges(on))||void 0===xr||xr.forEach(En)}return Ot},$e=function(Oe){var Pe=new Set,Ot=[];return Oe.nodes().forEach(function(At){for(var on=[],En=[At];En.length>0;){var xr,fr,Fn=En.pop();Pe.has(Fn)||(Pe.add(Fn),on.push(Fn),null===(xr=Oe.successors(Fn))||void 0===xr||xr.forEach(function(Fr){return En.push(Fr)}),null===(fr=Oe.predecessors(Fn))||void 0===fr||fr.forEach(function(Fr){return En.push(Fr)}))}on.length&&Ot.push(on)}),Ot};var dt=function Ct(Oe,Pe,Ot,ht,At,on){ht.includes(Pe)||(ht.push(Pe),Ot||on.push(Pe),At(Pe).forEach(function(En){return Ct(Oe,En,Ot,ht,At,on)}),Ot&&on.push(Pe))};const Be=function(Oe,Pe,Ot){var ht=Array.isArray(Pe)?Pe:[Pe],At=function(xr){return Oe.isDirected()?Oe.successors(xr):Oe.neighbors(xr)},on=[],En=[];return ht.forEach(function(Fn){if(!Oe.hasNode(Fn))throw new Error("Graph does not have node: "+Fn);dt(Oe,Fn,"post"===Ot,En,At,on)}),on};function wt(Ct,Oe){(null==Oe||Oe>Ct.length)&&(Oe=Ct.length);for(var Pe=0,Ot=new Array(Oe);Pe<Oe;Pe++)Ot[Pe]=Ct[Pe];return Ot}var kn=function(){return 1},Hn=function(Oe,Pe,Ot,ht){var En,Fn,At=new Map,on=new st,xr=function(Ai){var ca=Ai.v!==En?Ai.v:Ai.w,wa=At.get(ca),ja=Ot(Ai),no=Fn.distance+ja;if(ja<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+Ai+" Weight: "+ja);no<wa.distance&&(wa.distance=no,wa.predecessor=En,on.decrease(ca,no))};for(Oe.nodes().forEach(function(Fr){var Ai=Fr===Pe?0:Number.POSITIVE_INFINITY;At.set(Fr,{distance:Ai}),on.add(Fr,Ai)});on.size()>0&&(En=on.removeMin(),!(Fn=At.get(En))||Fn.distance!==Number.POSITIVE_INFINITY);)ht(En).forEach(xr);var fr={};return Array.from(At.entries()).forEach(function(Fr){var Ai=function vt(Ct,Oe){return function pn(Ct){if(Array.isArray(Ct))return Ct}(Ct)||function Bt(Ct,Oe){var Pe=null==Ct?null:typeof Symbol<"u"&&Ct[Symbol.iterator]||Ct["@@iterator"];if(null!=Pe){var on,En,Ot=[],ht=!0,At=!1;try{for(Pe=Pe.call(Ct);!(ht=(on=Pe.next()).done)&&(Ot.push(on.value),!Oe||Ot.length!==Oe);ht=!0);}catch(Fn){At=!0,En=Fn}finally{try{!ht&&null!=Pe.return&&Pe.return()}finally{if(At)throw En}}return Ot}}(Ct,Oe)||function nt(Ct,Oe){if(Ct){if("string"==typeof Ct)return wt(Ct,Oe);var Pe=Object.prototype.toString.call(Ct).slice(8,-1);if("Object"===Pe&&Ct.constructor&&(Pe=Ct.constructor.name),"Map"===Pe||"Set"===Pe)return Array.from(Ct);if("Arguments"===Pe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe))return wt(Ct,Oe)}}(Ct,Oe)||function Ve(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Fr,2),wa=Ai[1];return fr[String(Ai[0])]=wa,fr}),fr};const Cr=function(Oe,Pe,Ot,ht){return Hn(Oe,Pe,Ot||kn,ht||function(At){return Oe.outEdges(At)})},Me=function(Oe,Pe,Ot){var ht={};return Oe.nodes().forEach(function(At){return ht[String(At)]=Cr(Oe,At,Pe,Ot),ht}),ht},pi=function(Oe){var Pe=0,Ot=[],ht=new Map,At=[];function on(En){var Fn,xr={onStack:!0,lowlink:Pe,index:Pe};if(ht.set(En,xr),Pe+=1,Ot.push(En),null===(Fn=Oe.successors(En))||void 0===Fn||Fn.forEach(function(ca){var wa;if(ht.has(ca)){if(null!==(wa=ht.get(ca))&&void 0!==wa&&wa.onStack){var no=ht.get(ca);xr.lowlink=Math.min(xr.lowlink,no.index)}}else{on(ca);var ja=ht.get(ca);xr.lowlink=Math.min(xr.lowlink,ja.lowlink)}}),xr.lowlink===xr.index){var Fr,fr=[];do{Fr=Ot.pop(),ht.get(Fr).onStack=!1,fr.push(Fr)}while(En!==Fr);At.push(fr)}}return Oe.nodes().forEach(function(En){ht.has(En)||on(En)}),At},ii=function(Oe){return pi(Oe).filter(function(Pe){return Pe.length>1||1===Pe.length&&Oe.hasEdge(Pe[0],Pe[0])})};function Xi(Ct){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Oe){return typeof Oe}:function(Oe){return Oe&&"function"==typeof Symbol&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe})(Ct)}function ji(Ct,Oe){for(var Pe=0;Pe<Oe.length;Pe++){var Ot=Oe[Pe];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(Ct,Ot.key,Ot)}}function Qr(Ct){var Oe="function"==typeof Map?new Map:void 0;return Qr=function(Ot){if(null===Ot||!function xa(Ct){return-1!==Function.toString.call(Ct).indexOf("[native code]")}(Ot))return Ot;if("function"!=typeof Ot)throw new TypeError("Super expression must either be null or a function");if(typeof Oe<"u"){if(Oe.has(Ot))return Oe.get(Ot);Oe.set(Ot,ht)}function ht(){return Ti(Ot,arguments,ti(this).constructor)}return ht.prototype=Object.create(Ot.prototype,{constructor:{value:ht,enumerable:!1,writable:!0,configurable:!0}}),Ar(ht,Ot)},Qr(Ct)}function Ti(Ct,Oe,Pe){return(Ti=Ki()?Reflect.construct:function(ht,At,on){var En=[null];En.push.apply(En,At);var xr=new(Function.bind.apply(ht,En));return on&&Ar(xr,on.prototype),xr}).apply(null,arguments)}function Ki(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ar(Ct,Oe){return(Ar=Object.setPrototypeOf||function(Ot,ht){return Ot.__proto__=ht,Ot})(Ct,Oe)}function ti(Ct){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(Pe){return Pe.__proto__||Object.getPrototypeOf(Pe)})(Ct)}var Vr=function(Ct){!function br(Ct,Oe){if("function"!=typeof Oe&&null!==Oe)throw new TypeError("Super expression must either be null or a function");Ct.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:Ct,writable:!0,configurable:!0}}),Object.defineProperty(Ct,"prototype",{writable:!1}),Oe&&Ar(Ct,Oe)}(Pe,Ct);var Oe=function Dr(Ct){var Oe=Ki();return function(){var ht,Ot=ti(Ct);if(Oe){var At=ti(this).constructor;ht=Reflect.construct(Ot,arguments,At)}else ht=Ot.apply(this,arguments);return function kr(Ct,Oe){if(Oe&&("object"===Xi(Oe)||"function"==typeof Oe))return Oe;if(void 0!==Oe)throw new TypeError("Derived constructors may only return object or undefined");return function ei(Ct){if(void 0===Ct)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ct}(Ct)}(this,ht)}}(Pe);function Pe(){return function Pn(Ct,Oe){if(!(Ct instanceof Oe))throw new TypeError("Cannot call a class as a function")}(this,Pe),Oe.apply(this,arguments)}return function hn(Ct,Oe,Pe){return Oe&&ji(Ct.prototype,Oe),Pe&&ji(Ct,Pe),Object.defineProperty(Ct,"prototype",{writable:!1}),Ct}(Pe)}(Qr(Error));const G=function Se(Ct){var Oe=new Set,Pe=new Set,Ot=[];if(Ct.sinks().forEach(function ht(At){if(Pe.has(At))throw new Vr;var on;Oe.has(At)||(Pe.add(At),Oe.add(At),null===(on=Ct.predecessors(At))||void 0===on||on.forEach(ht),Pe.delete(At),Ot.push(At))}),Oe.size!==Ct.nodeCount())throw new Vr;return Ot},C=function(Oe){try{G(Oe)}catch(Pe){if(Pe instanceof Vr)return!1;throw Pe}return!0},fe=function(Oe,Pe){return Be(Oe,Pe,"post")},We=function(Oe,Pe){return Be(Oe,Pe,"pre")};var it=function(){return 1};const N=function rt(Ct,Oe,Pe){return function Vt(Ct,Oe,Pe){var Ot={},ht=Ct.nodes();return ht.forEach(function(At){var on=String(At);Ot[on]={},Ot[on][on]={distance:0},ht.forEach(function(En){At!==En&&(Ot[on][String(En)]={distance:Number.POSITIVE_INFINITY})}),Pe(At).forEach(function(En){var Fn=En.v===At?En.w:En.v,xr=Oe(En);Ot[on][String(Fn)]={distance:xr,predecessor:At}})}),ht.forEach(function(At){var on=String(At),En=Ot[on];ht.forEach(function(Fn){var xr=String(Fn),fr=Ot[xr];ht.forEach(function(Fr){var Ai=String(Fr),wa=En[Ai],ja=fr[Ai],no=fr[on].distance+wa.distance;no<ja.distance&&(ja.distance=no,ja.predecessor=wa.predecessor)})})}),Ot}(Ct,Oe||it,Pe||function(Ot){return Ct.outEdges(Ot)})};var Xe=function(Oe,Pe){for(var Ot=Oe.nodes(),ht=0;ht<Ot.length;ht++)if(Pe.hasNode(Ot[ht]))return!0;return!1},Ye=function(Oe,Pe){for(var Ot=Oe.edges(),ht=0;ht<Ot.length;ht++){var At=Ot[ht];if(Pe.hasEdge(At.v,At.w,At.name))return!0}return!1},Qe=function(Oe,Pe){return Oe.nodes().filter(function(At){return Pe.hasNode(At)})},Et=function(Oe,Pe){return Oe.edges().filter(function(At){return Pe.hasEdge(At.v,At.w,At.name)})},nn=function(Oe,Pe){return Oe.isCompound()===Pe.isCompound()&&Oe.isDirected()===Pe.isDirected()&&Oe.isMultigraph()===Pe.isMultigraph()},Je=function(Oe,Pe){return Qe(Oe,Pe).length===Oe.nodes().length},Wt=function(Oe,Pe){return Et(Oe,Pe).length===Oe.edges().length},yn=function(Oe,Pe){return nn(Oe,Pe)&&Oe.nodeCount()===Pe.nodeCount()&&Je(Oe,Pe)&&Oe.edgeCount()===Pe.edgeCount()&&Wt(Oe,Pe)},Dn=function(Oe,Pe){return Je(Oe,Pe)&&Wt(Oe,Pe)};function Rn(Ct,Oe){return function Pr(Ct){if(Array.isArray(Ct))return Ct}(Ct)||function Gr(Ct,Oe){var Pe=null==Ct?null:typeof Symbol<"u"&&Ct[Symbol.iterator]||Ct["@@iterator"];if(null!=Pe){var on,En,Ot=[],ht=!0,At=!1;try{for(Pe=Pe.call(Ct);!(ht=(on=Pe.next()).done)&&(Ot.push(on.value),!Oe||Ot.length!==Oe);ht=!0);}catch(Fn){At=!0,En=Fn}finally{try{!ht&&null!=Pe.return&&Pe.return()}finally{if(At)throw En}}return Ot}}(Ct,Oe)||function Yn(Ct,Oe){if(Ct){if("string"==typeof Ct)return er(Ct,Oe);var Pe=Object.prototype.toString.call(Ct).slice(8,-1);if("Object"===Pe&&Ct.constructor&&(Pe=Ct.constructor.name),"Map"===Pe||"Set"===Pe)return Array.from(Ct);if("Arguments"===Pe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe))return er(Ct,Oe)}}(Ct,Oe)||function Ir(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(Ct,Oe){(null==Oe||Oe>Ct.length)&&(Oe=Ct.length);for(var Pe=0,Ot=new Array(Oe);Pe<Oe;Pe++)Ot[Pe]=Ct[Pe];return Ot}function Ht(Ct){return Ct instanceof Y}function Ln(Ct){if(Ct.isMultigraph())return!1;for(var Oe=Ct.edges(),Pe=new Map,Ot=0;Ot<Oe.length;Ot++){var ht=Oe[Ot];if(ht.v===ht.w)return!1;var on=Rn([ht.v,ht.w].sort(),2),Fn=on[1],xr="".concat(on[0],"-").concat(Fn);if(Pe.has(xr))return!1;Pe.set(xr,!0)}return!0}function Vn(Ct){return 0===Ct.nodes().length}function cn(Ct){for(var Oe=Ct.edges(),Pe=0;Pe<Oe.length;Pe++){var Ot=Oe[Pe];if(Ot.v===Ot.w)return!0}return!1}var Lr=function(Oe,Pe){if(!Ln(Oe)||!Ln(Pe)||!Je(Oe,Pe)||Ye(Oe,Pe))return!1;var Ot=Oe.nodeCount();return Oe.edgeCount()+Pe.edgeCount()===Ot*(Ot-1)/2},pr=function(Oe){if(!Ln(Oe))return null;for(var Pe=Oe.nodeCount(),Ot=new Y({compound:Oe.isCompound(),directed:Oe.isDirected(),multigraph:Oe.isMultigraph()}),ht=Oe.nodes(),At=0;At<Pe;At++){var on=ht[At];Ot.setNode(on,Oe.node(on));for(var En=At+1;En<Pe;En++){var Fn=ht[En];Oe.hasEdge(on,Fn)||Ot.setEdge(on,Fn)}}return Ot}},1983:function(qt){typeof self<"u"&&self,qt.exports=function(z){var j={};function R(q){if(j[q])return j[q].exports;var B=j[q]={i:q,l:!1,exports:{}};return z[q].call(B.exports,B,B.exports,R),B.l=!0,B.exports}return R.m=z,R.c=j,R.d=function(q,B,O){R.o(q,B)||Object.defineProperty(q,B,{configurable:!1,enumerable:!0,get:O})},R.n=function(q){var B=q&&q.__esModule?function(){return q.default}:function(){return q};return R.d(B,"a",B),B},R.o=function(q,B){return Object.prototype.hasOwnProperty.call(q,B)},R.p="",R(R.s=36)}([function(z,j,R){"use strict";var q=R(3);j.a=function(B){return Array.isArray?Array.isArray(B):Object(q.a)(B,"Array")}},function(z,j,R){"use strict";j.a=function(B){return null!==B&&"function"!=typeof B&&isFinite(B.length)}},function(z,j,R){"use strict";var q=R(3);j.a=function(B){return Object(q.a)(B,"Function")}},function(z,j,R){"use strict";var q={}.toString;j.a=function(O,P){return q.call(O)==="[object "+P+"]"}},function(z,j,R){"use strict";var q=R(3);j.a=function(B){return Object(q.a)(B,"String")}},function(z,j,R){"use strict";var q=R(3);j.a=function(O){return Object(q.a)(O,"Number")}},function(z,j,R){var q=R(38);z.exports={assign:q.mix,getHeight:function O(P,T,b,x){return void 0===x&&(x="height"),"center"===b?(P[x]+T[x])/2:P.height}}},function(z,j,R){"use strict";j.a=function(B){return null==B}},function(z,j,R){"use strict";var q=R(0),B=R(12);j.a=function O(P,T){if(P)if(Object(q.a)(P))for(var x=0,m=P.length;x<m&&!1!==T(P[x],x);x++);else if(Object(B.a)(P))for(var _ in P)if(P.hasOwnProperty(_)&&!1===T(P[_],_))break}},function(z,j,R){"use strict";var q=R(7);j.a=function(B){return Object(q.a)(B)?"":B.toString()}},function(z,j,R){"use strict";var q=R(14),B=R(3);j.a=function(P){if(!Object(q.a)(P)||!Object(B.a)(P,"Object"))return!1;if(null===Object.getPrototypeOf(P))return!0;for(var T=P;null!==Object.getPrototypeOf(T);)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(P)===T}},function(z,j,R){var q=R(18);z.exports=function(){function O(T,b){void 0===b&&(b={});this.options=b,this.rootNode=q(T,b)}return O.prototype.execute=function(){throw new Error("please override this method")},O}()},function(z,j,R){"use strict";j.a=function(q){var B=typeof q;return null!==q&&"object"===B||"function"===B}},function(z,j,R){"use strict";var q=R(1);j.a=function(O,P){return!!Object(q.a)(O)&&O.indexOf(P)>-1}},function(z,j,R){"use strict";j.a=function(B){return"object"==typeof B&&null!==B}},function(z,j,R){"use strict";var q=R(8),B=R(2);j.a=Object.values?function(P){return Object.values(P)}:function(P){var T=[];return Object(q.a)(P,function(b,x){Object(B.a)(P)&&"prototype"===x||T.push(b)}),T}},function(z,j,R){"use strict";function q(O,P){for(var T in P)P.hasOwnProperty(T)&&"constructor"!==T&&void 0!==P[T]&&(O[T]=P[T])}j.a=function B(O,P,T,b){return P&&q(O,P),T&&q(O,T),b&&q(O,b),O}},function(z,j,R){var q=R(35),B=["LR","RL","TB","BT","H","V"],O=["LR","RL","H"],T=B[0];z.exports=function(b,x,m){var _=x.direction||T;if(x.isHorizontal=function(x){return O.indexOf(x)>-1}(_),_&&-1===B.indexOf(_))throw new TypeError("Invalid direction: "+_);if(_===B[0])m(b,x);else if(_===B[1])m(b,x),b.right2left();else if(_===B[2])m(b,x);else if(_===B[3])m(b,x),b.bottom2top();else if(_===B[4]||_===B[5]){var g=q(b,x),S=g.left,w=g.right;m(S,x),m(w,x),x.isHorizontal?S.right2left():S.bottom2top(),w.translate(S.x-w.x,S.y-w.y),b.x=S.x,b.y=w.y;var E=b.getBoundingBox();x.isHorizontal?E.top<0&&b.translate(0,-E.top):E.left<0&&b.translate(-E.left,0)}var A=x.fixedRoot;return void 0===A&&(A=!0),A&&b.translate(-(b.x+b.width/2+b.hgap),-(b.y+b.height/2+b.vgap)),b}},function(z,j,R){var q=R(6),T={getId:function(_){return _.id||_.name},getPreH:function(_){return _.preH||0},getPreV:function(_){return _.preV||0},getHGap:function(_){return _.hgap||18},getVGap:function(_){return _.vgap||18},getChildren:function(_){return _.children},getHeight:function(_){return _.height||36},getWidth:function(_){return _.width||18*(_.label||" ").split("").length}};function b(m,_){var g=this;if(g.vgap=g.hgap=0,m instanceof b)return m;g.data=m;var S=_.getHGap(m),w=_.getVGap(m);return g.preH=_.getPreH(m),g.preV=_.getPreV(m),g.width=_.getWidth(m),g.height=_.getHeight(m),g.width+=g.preH,g.height+=g.preV,g.id=_.getId(m),g.x=g.y=0,g.depth=0,g.children||(g.children=[]),g.addGap(S,w),g}q.assign(b.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(_,g){var S=this;S.hgap+=_,S.vgap+=g,S.width+=2*_,S.height+=2*g},eachNode:function(_){for(var w,S=[this];w=S.shift();)_(w),S=w.children.concat(S)},DFTraverse:function(_){this.eachNode(_)},BFTraverse:function(_){for(var w,S=[this];w=S.shift();)_(w),S=S.concat(w.children)},getBoundingBox:function(){var _={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(g){_.left=Math.min(_.left,g.x),_.top=Math.min(_.top,g.y),_.width=Math.max(_.width,g.x+g.width),_.height=Math.max(_.height,g.y+g.height)}),_},translate:function(_,g){void 0===_&&(_=0),void 0===g&&(g=0),this.eachNode(function(S){S.x+=_,S.y+=g,S.x+=S.preH,S.y+=S.preV})},right2left:function(){var _=this,g=_.getBoundingBox();_.eachNode(function(S){S.x=S.x-2*(S.x-g.left)-S.width}),_.translate(g.width,0)},bottom2top:function(){var _=this,g=_.getBoundingBox();_.eachNode(function(S){S.y=S.y-2*(S.y-g.top)-S.height}),_.translate(0,g.height)}}),z.exports=function x(m,_,g){void 0===_&&(_={});var E,S=new b(m,_=q.assign({},T,_)),w=[S];if(!g&&!m.collapsed)for(;E=w.shift();)if(!E.data.collapsed){var A=_.getChildren(E.data),k=A?A.length:0;if(E.children=new Array(k),A&&k)for(var L=0;L<k;L++){var ie=new b(A[L],_);E.children[L]=ie,w.push(ie),ie.parent=E,ie.depth=E.depth+1}}return S}},function(z,j,R){"use strict";var q=R(1);j.a=function(O,P){if(!Object(q.a)(O))return O;for(var T=[],b=0;b<O.length;b++){var x=O[b];P(x,b)&&T.push(x)}return T}},function(z,j,R){"use strict";var q=R(7),B=R(21);j.a=function O(P,T){var b=Object(B.a)(T),x=b.length;if(Object(q.a)(P))return!x;for(var m=0;m<x;m+=1){var _=b[m];if(T[_]!==P[_]||!(_ in P))return!1}return!0}},function(z,j,R){"use strict";var q=R(8),B=R(2);j.a=Object.keys?function(P){return Object.keys(P)}:function(P){var T=[];return Object(q.a)(P,function(b,x){Object(B.a)(P)&&"prototype"===x||T.push(x)}),T}},function(z,j,R){"use strict";var q=R(0);j.a=function(B){if(Object(q.a)(B))return B.reduce(function(O,P){return Math.max(O,P)},B[0])}},function(z,j,R){"use strict";var q=R(0);j.a=function(B){if(Object(q.a)(B))return B.reduce(function(O,P){return Math.min(O,P)},B[0])}},function(z,j,R){"use strict";var q=R(1),B=Array.prototype.splice;j.a=function(T,b){if(!Object(q.a)(T))return[];for(var x=T?b.length:0,m=x-1;x--;){var _=void 0,g=b[x];(x===m||g!==_)&&(_=g,B.call(T,g,1))}return T}},function(z,j,R){"use strict";var q=R(8),B=R(0),O=R(10);j.a=function(T,b,x){if(!Object(B.a)(T)&&!Object(O.a)(T))return T;var m=x;return Object(q.a)(T,function(_,g){m=b(m,_,g)}),m}},function(z,j,R){"use strict";j.a=function q(B,O){void 0===O&&(O=new Map);var P=[];if(Array.isArray(B))for(var T=0,b=B.length;T<b;T++){var x=B[T];O.has(x)||(P.push(x),O.set(x,!0))}return P}},function(z,j,R){"use strict";j.a=function P(T,b){if(!b)return{0:T};if(!Object(B.a)(b)){var x=Object(q.a)(b)?b:b.replace(/\s+/g,"").split("*");b=function(m){for(var _="_",g=0,S=x.length;g<S;g++)_+=m[x[g]]&&m[x[g]].toString();return _}}return Object(O.a)(T,b)};var q=R(0),B=R(2),O=R(28)},function(z,j,R){"use strict";var q=R(0),B=R(2),O=Object.prototype.hasOwnProperty;j.a=function P(T,b){if(!b||!Object(q.a)(T))return{};for(var _,x={},m=Object(B.a)(b)?b:function(w){return w[b]},g=0;g<T.length;g++){var S=T[g];_=m(S),O.call(x,_)?x[_].push(S):x[_]=[S]}return x}},function(z,j,R){"use strict";j.a=function(q,B){return q.hasOwnProperty(B)}},function(z,j,R){"use strict";var q={}.toString;j.a=function(O){return q.call(O).replace(/^\[object /,"").replace(/]$/,"")}},function(z,j,R){"use strict";var q=Object.prototype;j.a=function(O){var P=O&&O.constructor;return O===("function"==typeof P&&P.prototype||q)}},function(z,j,R){"use strict";var q=R(2);j.a=function(B,O){if(!Object(q.a)(B))throw new TypeError("Expected a function");var P=function(){for(var T=[],b=0;b<arguments.length;b++)T[b]=arguments[b];var x=O?O.apply(this,T):T[0],m=P.cache;if(m.has(x))return m.get(x);var _=B.apply(this,T);return m.set(x,_),_};return P.cache=new Map,P}},function(z,j,R){"use strict";var q=R(14),B=R(1),O=R(4),P=function(T,b){if(T===b)return!0;if(!T||!b||Object(O.a)(T)||Object(O.a)(b))return!1;if(Object(B.a)(T)||Object(B.a)(b)){if(T.length!==b.length)return!1;for(var x=!0,m=0;m<T.length&&(x=P(T[m],b[m]));m++);return x}if(Object(q.a)(T)||Object(q.a)(b)){var _=Object.keys(T),g=Object.keys(b);if(_.length!==g.length)return!1;for(x=!0,m=0;m<_.length&&(x=P(T[_[m]],b[_[m]]));m++);return x}return!1};j.a=P},function(z,j,R){"use strict";var T,q=R(116),B=R(15),O=R(32),P=R(4);j.a=Object(O.a)(function(b,x){void 0===x&&(x={});var m=x.fontSize,_=x.fontFamily,g=x.fontWeight,S=x.fontStyle,w=x.fontVariant;return T||(T=document.createElement("canvas").getContext("2d")),T.font=[S,w,g,m+"px",_].join(" "),T.measureText(Object(P.a)(b)?b:"").width},function(b,x){return void 0===x&&(x={}),Object(q.a)([b],Object(B.a)(x)).join("")})},function(z,j,R){var q=R(18);z.exports=function(B,O){for(var P=q(B.data,O,!0),T=q(B.data,O,!0),b=B.children.length,x=Math.round(b/2),m=O.getSide||function(w,E){return E<x?"right":"left"},_=0;_<b;_++){var g=B.children[_];"right"===m(g,_)?T.children.push(g):P.children.push(g)}return P.eachNode(function(w){w.isRoot()||(w.side="left")}),T.eachNode(function(w){w.isRoot()||(w.side="right")}),{left:P,right:T}}},function(z,j,R){var q={compactBox:R(37),dendrogram:R(120),indented:R(122),mindmap:R(124)};z.exports=q},function(z,j,R){function q(g,S){g.prototype=Object.create(S.prototype),g.prototype.constructor=g,B(g,S)}function B(g,S){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,A){return E.__proto__=A,E})(g,S)}var O=R(11),P=R(119),T=R(17),b=R(6),x=function(g){function S(){return g.apply(this,arguments)||this}return q(S,g),S.prototype.execute=function(){return T(this.rootNode,this.options,P)},S}(O),m={};z.exports=function _(g,S){return S=b.assign({},m,S),new x(g,S).execute()}},function(z,j,R){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var q=R(13);R.d(j,"contains",function(){return q.a}),R.d(j,"includes",function(){return q.a});var B=R(39);R.d(j,"difference",function(){return B.a});var O=R(40);R.d(j,"find",function(){return O.a});var P=R(41);R.d(j,"findIndex",function(){return P.a});var T=R(42);R.d(j,"firstValue",function(){return T.a});var b=R(43);R.d(j,"flatten",function(){return b.a});var x=R(44);R.d(j,"flattenDeep",function(){return x.a});var m=R(45);R.d(j,"getRange",function(){return m.a});var _=R(46);R.d(j,"pull",function(){return _.a});var g=R(24);R.d(j,"pullAt",function(){return g.a});var S=R(25);R.d(j,"reduce",function(){return S.a});var w=R(47);R.d(j,"remove",function(){return w.a});var E=R(48);R.d(j,"sortBy",function(){return E.a});var A=R(49);R.d(j,"union",function(){return A.a});var k=R(26);R.d(j,"uniq",function(){return k.a});var L=R(50);R.d(j,"valuesOfKey",function(){return L.a});var ie=R(51);R.d(j,"head",function(){return ie.a});var te=R(52);R.d(j,"last",function(){return te.a});var $=R(53);R.d(j,"startsWith",function(){return $.a});var X=R(54);R.d(j,"endsWith",function(){return X.a});var Z=R(19);R.d(j,"filter",function(){return Z.a});var Y=R(55);R.d(j,"every",function(){return Y.a});var ae=R(56);R.d(j,"some",function(){return ae.a});var ne=R(57);R.d(j,"group",function(){return ne.a});var se=R(28);R.d(j,"groupBy",function(){return se.a});var ve=R(27);R.d(j,"groupToMap",function(){return ve.a});var ge=R(58);R.d(j,"getWrapBehavior",function(){return ge.a});var Fe=R(59);R.d(j,"wrapBehavior",function(){return Fe.a});var Ae=R(60);R.d(j,"number2color",function(){return Ae.a});var ze=R(61);R.d(j,"parseRadius",function(){return ze.a});var oe=R(62);R.d(j,"clamp",function(){return oe.a});var ce=R(63);R.d(j,"fixedBase",function(){return ce.a});var H=R(64);R.d(j,"isDecimal",function(){return H.a});var re=R(65);R.d(j,"isEven",function(){return re.a});var ye=R(66);R.d(j,"isInteger",function(){return ye.a});var Ce=R(67);R.d(j,"isNegative",function(){return Ce.a});var Ie=R(68);R.d(j,"isNumberEqual",function(){return Ie.a});var Ue=R(69);R.d(j,"isOdd",function(){return Ue.a});var pt=R(70);R.d(j,"isPositive",function(){return pt.a});var st=R(22);R.d(j,"max",function(){return st.a});var Ne=R(71);R.d(j,"maxBy",function(){return Ne.a});var lt=R(23);R.d(j,"min",function(){return lt.a});var gt=R(72);R.d(j,"minBy",function(){return gt.a});var $e=R(73);R.d(j,"mod",function(){return $e.a});var dt=R(74);R.d(j,"toDegree",function(){return dt.a});var De=R(75);R.d(j,"toInteger",function(){return De.a});var Be=R(76);R.d(j,"toRadian",function(){return Be.a});var vt=R(77);R.d(j,"forIn",function(){return vt.a});var Ve=R(29);R.d(j,"has",function(){return Ve.a});var nt=R(78);R.d(j,"hasKey",function(){return nt.a});var wt=R(79);R.d(j,"hasValue",function(){return wt.a});var Bt=R(21);R.d(j,"keys",function(){return Bt.a});var pn=R(20);R.d(j,"isMatch",function(){return pn.a});var kn=R(15);R.d(j,"values",function(){return kn.a});var je=R(80);R.d(j,"lowerCase",function(){return je.a});var Hn=R(81);R.d(j,"lowerFirst",function(){return Hn.a});var Cr=R(82);R.d(j,"substitute",function(){return Cr.a});var qn=R(83);R.d(j,"upperCase",function(){return qn.a});var Me=R(84);R.d(j,"upperFirst",function(){return Me.a});var Ur=R(30);R.d(j,"getType",function(){return Ur.a});var pi=R(85);R.d(j,"isArguments",function(){return pi.a});var bi=R(0);R.d(j,"isArray",function(){return bi.a});var ii=R(1);R.d(j,"isArrayLike",function(){return ii.a});var Xi=R(86);R.d(j,"isBoolean",function(){return Xi.a});var ji=R(87);R.d(j,"isDate",function(){return ji.a});var hn=R(88);R.d(j,"isError",function(){return hn.a});var Pn=R(2);R.d(j,"isFunction",function(){return Pn.a});var br=R(89);R.d(j,"isFinite",function(){return br.a});var Dr=R(7);R.d(j,"isNil",function(){return Dr.a});var kr=R(90);R.d(j,"isNull",function(){return kr.a});var ei=R(5);R.d(j,"isNumber",function(){return ei.a});var Qr=R(12);R.d(j,"isObject",function(){return Qr.a});var Ti=R(14);R.d(j,"isObjectLike",function(){return Ti.a});var Ki=R(10);R.d(j,"isPlainObject",function(){return Ki.a});var xa=R(31);R.d(j,"isPrototype",function(){return xa.a});var Ar=R(91);R.d(j,"isRegExp",function(){return Ar.a});var ti=R(4);R.d(j,"isString",function(){return ti.a});var Vr=R(3);R.d(j,"isType",function(){return Vr.a});var Se=R(92);R.d(j,"isUndefined",function(){return Se.a});var G=R(93);R.d(j,"isElement",function(){return G.a});var V=R(94);R.d(j,"requestAnimationFrame",function(){return V.a});var C=R(95);R.d(j,"clearAnimationFrame",function(){return C.a});var W=R(96);R.d(j,"augment",function(){return W.a});var fe=R(97);R.d(j,"clone",function(){return fe.a});var He=R(98);R.d(j,"debounce",function(){return He.a});var We=R(32);R.d(j,"memoize",function(){return We.a});var it=R(99);R.d(j,"deepMix",function(){return it.a});var rt=R(8);R.d(j,"each",function(){return rt.a});var Vt=R(100);R.d(j,"extend",function(){return Vt.a});var N=R(101);R.d(j,"indexOf",function(){return N.a});var Xe=R(102);R.d(j,"isEmpty",function(){return Xe.a});var Ye=R(33);R.d(j,"isEqual",function(){return Ye.a});var Qe=R(103);R.d(j,"isEqualWith",function(){return Qe.a});var Et=R(104);R.d(j,"map",function(){return Et.a});var nn=R(105);R.d(j,"mapValues",function(){return nn.a});var Je=R(16);R.d(j,"mix",function(){return Je.a}),R.d(j,"assign",function(){return Je.a});var Wt=R(106);R.d(j,"get",function(){return Wt.a});var yn=R(107);R.d(j,"set",function(){return yn.a});var Dn=R(108);R.d(j,"pick",function(){return Dn.a});var Rn=R(109);R.d(j,"omit",function(){return Rn.a});var Ir=R(110);R.d(j,"throttle",function(){return Ir.a});var Yn=R(111);R.d(j,"toArray",function(){return Yn.a});var er=R(9);R.d(j,"toString",function(){return er.a});var Gr=R(112);R.d(j,"uniqueId",function(){return Gr.a});var Pr=R(113);R.d(j,"noop",function(){return Pr.a});var Ht=R(114);R.d(j,"identity",function(){return Ht.a});var Ln=R(115);R.d(j,"size",function(){return Ln.a});var Vn=R(34);R.d(j,"measureTextWidth",function(){return Vn.a});var cn=R(117);R.d(j,"getEllipsisText",function(){return cn.a});var Lr=R(118);R.d(j,"Cache",function(){return Lr.a})},function(z,j,R){"use strict";var q=R(19),B=R(13);j.a=function(P,T){return void 0===T&&(T=[]),Object(q.a)(P,function(b){return!Object(B.a)(T,b)})}},function(z,j,R){"use strict";var q=R(2),B=R(20),O=R(0),P=R(10);j.a=function T(b,x){if(!Object(O.a)(b))return null;var m;if(Object(q.a)(x)&&(m=x),Object(P.a)(x)&&(m=function(g){return Object(B.a)(g,x)}),m)for(var _=0;_<b.length;_+=1)if(m(b[_]))return b[_];return null}},function(z,j,R){"use strict";j.a=function q(B,O,P){void 0===P&&(P=0);for(var T=P;T<B.length;T++)if(O(B[T],T))return T;return-1}},function(z,j,R){"use strict";var q=R(7),B=R(0);j.a=function(P,T){for(var b=null,x=0;x<P.length;x++){var _=P[x][T];if(!Object(q.a)(_)){b=Object(B.a)(_)?_[0]:_;break}}return b}},function(z,j,R){"use strict";var q=R(0);j.a=function(O){if(!Object(q.a)(O))return[];for(var P=[],T=0;T<O.length;T++)P=P.concat(O[T]);return P}},function(z,j,R){"use strict";var q=R(0),B=function(O,P){if(void 0===P&&(P=[]),Object(q.a)(O))for(var T=0;T<O.length;T+=1)B(O[T],P);else P.push(O);return P};j.a=B},function(z,j,R){"use strict";var q=R(0),B=R(22),O=R(23);j.a=function(T){var b=T.filter(function(S){return!isNaN(S)});if(!b.length)return{min:0,max:0};if(Object(q.a)(T[0])){for(var x=[],m=0;m<T.length;m++)x=x.concat(T[m]);b=x}var _=Object(B.a)(b);return{min:Object(O.a)(b),max:_}}},function(z,j,R){"use strict";var q=Array.prototype,B=q.splice,O=q.indexOf;j.a=function(T){for(var b=[],x=1;x<arguments.length;x++)b[x-1]=arguments[x];for(var m=0;m<b.length;m++)for(var _=b[m],g=-1;(g=O.call(T,_))>-1;)B.call(T,g,1);return T}},function(z,j,R){"use strict";var q=R(1),B=R(24);j.a=function(P,T){var b=[];if(!Object(q.a)(P))return b;for(var x=-1,m=[],_=P.length;++x<_;){var g=P[x];T(g,x,P)&&(b.push(g),m.push(x))}return Object(B.a)(P,m),b}},function(z,j,R){"use strict";var q=R(0),B=R(4),O=R(2);j.a=function P(T,b){var x;if(Object(O.a)(b))x=function(_,g){return b(_)-b(g)};else{var m=[];Object(B.a)(b)?m.push(b):Object(q.a)(b)&&(m=b),x=function(_,g){for(var S=0;S<m.length;S+=1){var w=m[S];if(_[w]>g[w])return 1;if(_[w]<g[w])return-1}return 0}}return T.sort(x),T}},function(z,j,R){"use strict";var q=R(26);j.a=function(){for(var O=[],P=0;P<arguments.length;P++)O[P]=arguments[P];return Object(q.a)([].concat.apply([],O))}},function(z,j,R){"use strict";var q=R(0),B=R(7);j.a=function(O,P){for(var T=[],b={},x=0;x<O.length;x++){var _=O[x][P];if(!Object(B.a)(_)){Object(q.a)(_)||(_=[_]);for(var g=0;g<_.length;g++){var S=_[g];b[S]||(T.push(S),b[S]=!0)}}}return T}},function(z,j,R){"use strict";j.a=function B(O){if(Object(q.a)(O))return O[0]};var q=R(1)},function(z,j,R){"use strict";j.a=function B(O){if(Object(q.a)(O))return O[O.length-1]};var q=R(1)},function(z,j,R){"use strict";var q=R(0),B=R(4);j.a=function O(P,T){return!(!Object(q.a)(P)&&!Object(B.a)(P))&&P[0]===T}},function(z,j,R){"use strict";var q=R(0),B=R(4);j.a=function O(P,T){return!(!Object(q.a)(P)&&!Object(B.a)(P))&&P[P.length-1]===T}},function(z,j,R){"use strict";j.a=function(B,O){for(var P=0;P<B.length;P++)if(!O(B[P],P))return!1;return!0}},function(z,j,R){"use strict";j.a=function(B,O){for(var P=0;P<B.length;P++)if(O(B[P],P))return!0;return!1}},function(z,j,R){"use strict";var q=R(27);j.a=function(B,O){if(!O)return[B];var P=Object(q.a)(B,O),T=[];for(var b in P)T.push(P[b]);return T}},function(z,j,R){"use strict";j.a=function q(B,O){return B["_wrap_"+O]}},function(z,j,R){"use strict";j.a=function q(B,O){if(B["_wrap_"+O])return B["_wrap_"+O];var P=function(T){B[O](T)};return B["_wrap_"+O]=P,P}},function(z,j,R){"use strict";var q={};j.a=function B(O){var P=q[O];if(!P){for(var T=O.toString(16),b=T.length;b<6;b++)T="0"+T;q[O]=P="#"+T}return P}},function(z,j,R){"use strict";var q=R(0);j.a=function B(O){var P=0,T=0,b=0,x=0;return Object(q.a)(O)?1===O.length?P=T=b=x=O[0]:2===O.length?(P=b=O[0],T=x=O[1]):3===O.length?(P=O[0],T=x=O[1],b=O[2]):(P=O[0],T=O[1],b=O[2],x=O[3]):P=T=b=x=O,{r1:P,r2:T,r3:b,r4:x}}},function(z,j,R){"use strict";j.a=function(B,O,P){return B<O?O:B>P?P:B}},function(z,j,R){"use strict";j.a=function(B,O){var P=O.toString(),T=P.indexOf(".");if(-1===T)return Math.round(B);var b=P.substr(T+1).length;return b>20&&(b=20),parseFloat(B.toFixed(b))}},function(z,j,R){"use strict";var q=R(5);j.a=function(O){return Object(q.a)(O)&&O%1!=0}},function(z,j,R){"use strict";var q=R(5);j.a=function(O){return Object(q.a)(O)&&O%2==0}},function(z,j,R){"use strict";var q=R(5);j.a=Number.isInteger?Number.isInteger:function(O){return Object(q.a)(O)&&O%1==0}},function(z,j,R){"use strict";var q=R(5);j.a=function(O){return Object(q.a)(O)&&O<0}},function(z,j,R){"use strict";j.a=function B(O,P,T){return void 0===T&&(T=q),Math.abs(O-P)<T};var q=1e-5},function(z,j,R){"use strict";var q=R(5);j.a=function(O){return Object(q.a)(O)&&O%2!=0}},function(z,j,R){"use strict";var q=R(5);j.a=function(O){return Object(q.a)(O)&&O>0}},function(z,j,R){"use strict";var q=R(0),B=R(2);j.a=function(O,P){if(Object(q.a)(O)){for(var T,b=-1/0,x=0;x<O.length;x++){var m=O[x],_=Object(B.a)(P)?P(m):m[P];_>b&&(T=m,b=_)}return T}}},function(z,j,R){"use strict";var q=R(0),B=R(2);j.a=function(O,P){if(Object(q.a)(O)){for(var T,b=1/0,x=0;x<O.length;x++){var m=O[x],_=Object(B.a)(P)?P(m):m[P];_<b&&(T=m,b=_)}return T}}},function(z,j,R){"use strict";j.a=function(B,O){return(B%O+O)%O}},function(z,j,R){"use strict";var q=180/Math.PI;j.a=function(O){return q*O}},function(z,j,R){"use strict";j.a=parseInt},function(z,j,R){"use strict";var q=Math.PI/180;j.a=function(O){return q*O}},function(z,j,R){"use strict";var q=R(8);j.a=q.a},function(z,j,R){"use strict";var q=R(29);j.a=q.a},function(z,j,R){"use strict";var q=R(13),B=R(15);j.a=function(O,P){return Object(q.a)(Object(B.a)(O),P)}},function(z,j,R){"use strict";var q=R(9);j.a=function(O){return Object(q.a)(O).toLowerCase()}},function(z,j,R){"use strict";var q=R(9);j.a=function(O){var P=Object(q.a)(O);return P.charAt(0).toLowerCase()+P.substring(1)}},function(z,j,R){"use strict";j.a=function q(B,O){return B&&O?B.replace(/\\?\{([^{}]+)\}/g,function(P,T){return"\\"===P.charAt(0)?P.slice(1):void 0===O[T]?"":O[T]}):B}},function(z,j,R){"use strict";var q=R(9);j.a=function(O){return Object(q.a)(O).toUpperCase()}},function(z,j,R){"use strict";var q=R(9);j.a=function(O){var P=Object(q.a)(O);return P.charAt(0).toUpperCase()+P.substring(1)}},function(z,j,R){"use strict";var q=R(3);j.a=function(O){return Object(q.a)(O,"Arguments")}},function(z,j,R){"use strict";var q=R(3);j.a=function(O){return Object(q.a)(O,"Boolean")}},function(z,j,R){"use strict";var q=R(3);j.a=function(O){return Object(q.a)(O,"Date")}},function(z,j,R){"use strict";var q=R(3);j.a=function(O){return Object(q.a)(O,"Error")}},function(z,j,R){"use strict";var q=R(5);j.a=function(B){return Object(q.a)(B)&&isFinite(B)}},function(z,j,R){"use strict";j.a=function(B){return null===B}},function(z,j,R){"use strict";var q=R(3);j.a=function(O){return Object(q.a)(O,"RegExp")}},function(z,j,R){"use strict";j.a=function(B){return void 0===B}},function(z,j,R){"use strict";j.a=function(B){return B instanceof Element||B instanceof HTMLDocument}},function(z,j,R){"use strict";j.a=function q(B){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(P){return setTimeout(P,16)})(B)}},function(z,j,R){"use strict";j.a=function q(B){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(B)}},function(z,j,R){"use strict";var q=R(16),B=R(2);j.a=function(){for(var P=[],T=0;T<arguments.length;T++)P[T]=arguments[T];for(var b=P[0],x=1;x<P.length;x++){var m=P[x];Object(B.a)(m)&&(m=m.prototype),Object(q.a)(b.prototype,m)}}},function(z,j,R){"use strict";var q=R(0),B=function(O){if("object"!=typeof O||null===O)return O;var P;if(Object(q.a)(O)){P=[];for(var T=0,b=O.length;T<b;T++)P[T]="object"==typeof O[T]&&null!=O[T]?B(O[T]):O[T]}else for(var x in P={},O)P[x]="object"==typeof O[x]&&null!=O[x]?B(O[x]):O[x];return P};j.a=B},function(z,j,R){"use strict";j.a=function q(B,O,P){var T;return function(){var b=this,x=arguments,_=P&&!T;clearTimeout(T),T=setTimeout(function(){T=null,P||B.apply(b,x)},O),_&&B.apply(b,x)}}},function(z,j,R){"use strict";var q=R(0),B=R(10),O=5;function P(b,x,m,_){for(var g in m=m||0,_=_||O,x)if(x.hasOwnProperty(g)){var S=x[g];null!==S&&Object(B.a)(S)?(Object(B.a)(b[g])||(b[g]={}),m<_?P(b[g],S,m+1,_):b[g]=x[g]):Object(q.a)(S)?(b[g]=[],b[g]=b[g].concat(S)):void 0!==S&&(b[g]=S)}}j.a=function(b){for(var x=[],m=1;m<arguments.length;m++)x[m-1]=arguments[m];for(var _=0;_<x.length;_+=1)P(b,x[_]);return b}},function(z,j,R){"use strict";var q=R(16),B=R(2);j.a=function(P,T,b,x){Object(B.a)(T)||(b=T,T=P,P=function(){});var m=Object.create?function(g,S){return Object.create(g,{constructor:{value:S}})}:function(g,S){function w(){}w.prototype=g;var E=new w;return E.constructor=S,E},_=m(T.prototype,P);return P.prototype=Object(q.a)(_,P.prototype),P.superclass=m(T.prototype,T),Object(q.a)(_,b),Object(q.a)(P,x),P}},function(z,j,R){"use strict";var q=R(1);j.a=function(O,P){if(!Object(q.a)(O))return-1;var T=Array.prototype.indexOf;if(T)return T.call(O,P);for(var b=-1,x=0;x<O.length;x++)if(O[x]===P){b=x;break}return b}},function(z,j,R){"use strict";var q=R(7),B=R(1),O=R(30),P=R(31),T=Object.prototype.hasOwnProperty;j.a=function b(x){if(Object(q.a)(x))return!0;if(Object(B.a)(x))return!x.length;var m=Object(O.a)(x);if("Map"===m||"Set"===m)return!x.size;if(Object(P.a)(x))return!Object.keys(x).length;for(var _ in x)if(T.call(x,_))return!1;return!0}},function(z,j,R){"use strict";var q=R(2),B=R(33);j.a=function(O,P,T){return Object(q.a)(T)?!!T(O,P):Object(B.a)(O,P)}},function(z,j,R){"use strict";var q=R(1);j.a=function(O,P){if(!Object(q.a)(O))return O;for(var T=[],b=0;b<O.length;b++)T.push(P(O[b],b));return T}},function(z,j,R){"use strict";var q=R(7),B=R(12),O=function(P){return P};j.a=function(P,T){void 0===T&&(T=O);var b={};return Object(B.a)(P)&&!Object(q.a)(P)&&Object.keys(P).forEach(function(x){b[x]=T(P[x],x)}),b}},function(z,j,R){"use strict";var q=R(4);j.a=function(B,O,P){for(var T=0,b=Object(q.a)(O)?O.split("."):O;B&&T<b.length;)B=B[b[T++]];return void 0===B||T<b.length?P:B}},function(z,j,R){"use strict";var q=R(12),B=R(4),O=R(5);j.a=function(P,T,b){var x=P,m=Object(B.a)(T)?T.split("."):T;return m.forEach(function(_,g){g<m.length-1?(Object(q.a)(x[_])||(x[_]=Object(O.a)(m[g+1])?[]:{}),x=x[_]):x[_]=b}),P}},function(z,j,R){"use strict";var q=R(8),B=R(10),O=Object.prototype.hasOwnProperty;j.a=function(P,T){if(null===P||!Object(B.a)(P))return{};var b={};return Object(q.a)(T,function(x){O.call(P,x)&&(b[x]=P[x])}),b}},function(z,j,R){"use strict";var q=R(25);j.a=function(B,O){return Object(q.a)(B,function(P,T,b){return O.includes(b)||(P[b]=T),P},{})}},function(z,j,R){"use strict";j.a=function(q,B,O){var P,T,b,x,m=0;O||(O={});var _=function(){m=!1===O.leading?0:Date.now(),P=null,x=q.apply(T,b),P||(T=b=null)},g=function(){var S=Date.now();!m&&!1===O.leading&&(m=S);var w=B-(S-m);return T=this,b=arguments,w<=0||w>B?(P&&(clearTimeout(P),P=null),m=S,x=q.apply(T,b),P||(T=b=null)):!P&&!1!==O.trailing&&(P=setTimeout(_,w)),x};return g.cancel=function(){clearTimeout(P),m=0,P=T=b=null},g}},function(z,j,R){"use strict";var q=R(1);j.a=function(B){return Object(q.a)(B)?Array.prototype.slice.call(B):[]}},function(z,j,R){"use strict";var q={};j.a=function(B){return q[B=B||"g"]?q[B]+=1:q[B]=1,B+q[B]}},function(z,j,R){"use strict";j.a=function(){}},function(z,j,R){"use strict";j.a=function(q){return q}},function(z,j,R){"use strict";j.a=function O(P){return Object(q.a)(P)?0:Object(B.a)(P)?P.length:Object.keys(P).length};var q=R(7),B=R(1)},function(z,j,R){"use strict";j.a=function $(){for(var ce=0,H=0,re=arguments.length;H<re;H++)ce+=arguments[H].length;var ye=Array(ce),Ce=0;for(H=0;H<re;H++)for(var Ie=arguments[H],Ue=0,pt=Ie.length;Ue<pt;Ue++,Ce++)ye[Ce]=Ie[Ue];return ye}},function(z,j,R){"use strict";var q=R(4),B=R(9),O=R(34);j.a=function(P,T,b,x){void 0===x&&(x="...");var E,A,_=Object(O.a)(x,b),g=Object(q.a)(P)?P:Object(B.a)(P),S=T,w=[];if(Object(O.a)(P,b)<=T)return P;for(;E=g.substr(0,16),!((A=Object(O.a)(E,b))+_>S&&A>S);)if(w.push(E),S-=A,!(g=g.substr(16)))return w.join("");for(;E=g.substr(0,1),!((A=Object(O.a)(E,b))+_>S);)if(w.push(E),S-=A,!(g=g.substr(1)))return w.join("");return""+w.join("")+x}},function(z,j,R){"use strict";var q=function(){function B(){this.map={}}return B.prototype.has=function(O){return void 0!==this.map[O]},B.prototype.get=function(O,P){var T=this.map[O];return void 0===T?P:T},B.prototype.set=function(O,P){this.map[O]=P},B.prototype.clear=function(){this.map={}},B.prototype.delete=function(O){delete this.map[O]},B.prototype.size=function(){return Object.keys(this.map).length},B}();j.a=q},function(z,j){function R(b,x,m,_){void 0===_&&(_=[]);var g=this;g.w=b||0,g.h=x||0,g.y=m||0,g.x=0,g.c=_||[],g.cs=_.length,g.prelim=0,g.mod=0,g.shift=0,g.change=0,g.tl=null,g.tr=null,g.el=null,g.er=null,g.msel=0,g.mser=0}function q(b,x,m){m?b.y+=x:b.x+=x,b.children.forEach(function(_){q(_,x,m)})}function B(b,x){var m=x?b.y:b.x;return b.children.forEach(function(_){m=Math.min(B(_,x),m)}),m}function O(b,x){q(b,-B(b,x),x)}function P(b,x,m){m?x.y=b.x:x.x=b.x,b.c.forEach(function(_,g){P(_,x.children[g],m)})}function T(b,x,m){void 0===m&&(m=0),x?(b.x=m,m+=b.width):(b.y=m,m+=b.height),b.children.forEach(function(_){T(_,x,m)})}R.fromNode=function(b,x){if(!b)return null;var m=[];return b.children.forEach(function(_){m.push(R.fromNode(_,x))}),x?new R(b.height,b.width,b.x,m):new R(b.width,b.height,b.y,m)},z.exports=function(b,x){void 0===x&&(x={});var m=x.isHorizontal;function g(ne){0===ne.cs?(ne.el=ne,ne.er=ne,ne.msel=ne.mser=0):(ne.el=ne.c[0].el,ne.msel=ne.c[0].msel,ne.er=ne.c[ne.cs-1].er,ne.mser=ne.c[ne.cs-1].mser)}function S(ne,se,ve){for(var ge=ne.c[se-1],Fe=ge.mod,Ae=ne.c[se],ze=Ae.mod;null!==ge&&null!==Ae;){k(ge)>ve.low&&(ve=ve.nxt);var oe=Fe+ge.prelim+ge.w-(ze+Ae.prelim);oe>0&&(ze+=oe,w(ne,se,ve.index,oe));var ce=k(ge),H=k(Ae);ce<=H&&null!==(ge=A(ge))&&(Fe+=ge.mod),ce>=H&&null!==(Ae=E(Ae))&&(ze+=Ae.mod)}!ge&&Ae?function L(ne,se,ve,ge){var Fe=ne.c[0].el;Fe.tl=ve;var Ae=ge-ve.mod-ne.c[0].msel;Fe.mod+=Ae,Fe.prelim-=Ae,ne.c[0].el=ne.c[se].el,ne.c[0].msel=ne.c[se].msel}(ne,se,Ae,ze):ge&&!Ae&&function ie(ne,se,ve,ge){var Fe=ne.c[se].er;Fe.tr=ve;var Ae=ge-ve.mod-ne.c[se].mser;Fe.mod+=Ae,Fe.prelim-=Ae,ne.c[se].er=ne.c[se-1].er,ne.c[se].mser=ne.c[se-1].mser}(ne,se,ge,Fe)}function w(ne,se,ve,ge){ne.c[se].mod+=ge,ne.c[se].msel+=ge,ne.c[se].mser+=ge,function X(ne,se,ve,ge){if(ve!==se-1){var Fe=se-ve;ne.c[ve+1].shift+=ge/Fe,ne.c[se].shift-=ge/Fe,ne.c[se].change-=ge-ge/Fe}}(ne,se,ve,ge)}function E(ne){return 0===ne.cs?ne.tl:ne.c[0]}function A(ne){return 0===ne.cs?ne.tr:ne.c[ne.cs-1]}function k(ne){return ne.y+ne.h}function Y(ne,se,ve){for(;null!==ve&&ne>=ve.low;)ve=ve.nxt;return{low:ne,index:se,nxt:ve}}T(b,m);var ae=R.fromNode(b,m);return function _(ne){if(0!==ne.cs){_(ne.c[0]);for(var se=Y(k(ne.c[0].el),0,null),ve=1;ve<ne.cs;++ve){_(ne.c[ve]);var ge=k(ne.c[ve].er);S(ne,ve,se),se=Y(ge,ve,se)}(function te(ne){ne.prelim=(ne.c[0].prelim+ne.c[0].mod+ne.c[ne.cs-1].mod+ne.c[ne.cs-1].prelim+ne.c[ne.cs-1].w)/2-ne.w/2})(ne),g(ne)}else g(ne)}(ae),function $(ne,se){ne.x=ne.prelim+(se+=ne.mod),function Z(ne){for(var se=0,ve=0,ge=0;ge<ne.cs;ge++)ne.c[ge].mod+=ve+=(se+=ne.c[ge].shift)+ne.c[ge].change}(ne);for(var ve=0;ve<ne.cs;ve++)$(ne.c[ve],se)}(ae,0),P(ae,b,m),O(b,m),b}},function(z,j,R){function q(g,S){g.prototype=Object.create(S.prototype),g.prototype.constructor=g,B(g,S)}function B(g,S){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,A){return E.__proto__=A,E})(g,S)}var O=R(11),P=R(121),T=R(17),b=R(6),x=function(g){function S(){return g.apply(this,arguments)||this}return q(S,g),S.prototype.execute=function(){var A=this;return A.rootNode.width=0,T(A.rootNode,A.options,P)},S}(O),m={};z.exports=function _(g,S){return S=b.assign({},m,S),new x(g,S).execute()}},function(z,j,R){var q=R(6);function B(T,b){void 0===T&&(T=0),void 0===b&&(b=[]);var x=this;x.x=x.y=0,x.leftChild=x.rightChild=null,x.height=0,x.children=b}var O={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function P(T,b,x){x?(b.x=T.x,b.y=T.y):(b.x=T.y,b.y=T.x),T.children.forEach(function(m,_){P(m,b.children[_],x)})}z.exports=function(T,b){void 0===b&&(b={}),b=q.assign({},O,b);var g,x=0;var w=function m(E){if(!E)return null;E.width=0,E.depth&&E.depth>x&&(x=E.depth);var A=E.children,k=A.length,L=new B(E.height,[]);return A.forEach(function(ie,te){var $=m(ie);L.children.push($),0===te&&(L.leftChild=$),te===k-1&&(L.rightChild=$)}),L.originNode=E,L.isLeaf=E.isLeaf(),L}(T);return function _(E){if(E.isLeaf||0===E.children.length)E.drawingDepth=x;else{var A=E.children.map(function(L){return _(L)}),k=Math.min.apply(null,A);E.drawingDepth=k-1}return E.drawingDepth}(w),function S(E){E.x=E.drawingDepth*b.rankSep,E.isLeaf?(E.y=0,g&&(E.y=g.y+g.height+b.nodeSep,E.originNode.parent!==g.originNode.parent&&(E.y+=b.subTreeSep)),g=E):(E.children.forEach(function(A){S(A)}),E.y=(E.leftChild.y+E.rightChild.y)/2)}(w),P(w,T,b.isHorizontal),T}},function(z,j,R){function q(w,E){w.prototype=Object.create(E.prototype),w.prototype.constructor=w,B(w,E)}function B(w,E){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,L){return k.__proto__=L,k})(w,E)}var O=R(11),P=R(123),T=R(35),b=R(6),x=["LR","RL","H"],m=x[0],_=function(w){function E(){return w.apply(this,arguments)||this}return q(E,w),E.prototype.execute=function(){var ie=this.options,te=this.rootNode;ie.isHorizontal=!0;var $=ie.indent,X=void 0===$?20:$,Z=ie.dropCap,Y=void 0===Z||Z,ae=ie.direction,ne=void 0===ae?m:ae,se=ie.align;if(ne&&-1===x.indexOf(ne))throw new TypeError("Invalid direction: "+ne);if(ne===x[0])P(te,X,Y,se);else if(ne===x[1])P(te,X,Y,se),te.right2left();else if(ne===x[2]){var ve=T(te,ie),ge=ve.left,Fe=ve.right;P(ge,X,Y,se),ge.right2left(),P(Fe,X,Y,se);var Ae=ge.getBoundingBox();Fe.translate(Ae.width,0),te.x=Fe.x-te.width/2}return te},E}(O),g={};z.exports=function S(w,E){return E=b.assign({},g,E),new _(w,E).execute()}},function(z,j,R){var q=R(6);z.exports=function(O,P,T,b){var x=null;O.eachNode(function(m){(function B(O,P,T,b,x){var m="function"==typeof T?T(O):T*O.depth;if(!b)try{if(O.id===O.parent.children[0].id)return O.x+=m,void(O.y=P?P.y:0)}catch{}if(O.x+=m,P){if(O.y=P.y+q.getHeight(P,O,x),P.parent&&O.parent.id!==P.parent.id){var _=P.parent,g=_.y+q.getHeight(_,O,x);O.y=g>O.y?g:O.y}}else O.y=0})(m,x,P,T,b),x=m})}},function(z,j,R){function q(g,S){g.prototype=Object.create(S.prototype),g.prototype.constructor=g,B(g,S)}function B(g,S){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,A){return E.__proto__=A,E})(g,S)}var O=R(11),P=R(125),T=R(17),b=R(6),x=function(g){function S(){return g.apply(this,arguments)||this}return q(S,g),S.prototype.execute=function(){return T(this.rootNode,this.options,P)},S}(O),m={};z.exports=function _(g,S){return S=b.assign({},m,S),new x(g,S).execute()}},function(z,j,R){var q=R(6);function B(T,b){var x=0;return T.children.length?T.children.forEach(function(m){x+=B(m,b)}):x=T.height,T._subTreeSep=b.getSubTreeSep(T.data),T.totalHeight=Math.max(T.height,x)+2*T._subTreeSep,T.totalHeight}function O(T){var b=T.children,x=b.length;if(x){b.forEach(function(E){O(E)});var m=b[0],_=b[x-1],g=_.y-m.y+_.height,S=0;if(b.forEach(function(E){S+=E.totalHeight}),g>T.height)T.y=m.y+g/2-T.height/2;else if(1!==b.length||T.height>S){var w=T.y+(T.height-g)/2-m.y;b.forEach(function(E){E.translate(0,w)})}else T.y=(m.y+m.height/2+_.y+_.height/2)/2-T.height/2}}var P={getSubTreeSep:function(){return 0}};z.exports=function(T,b){void 0===b&&(b={}),b=q.assign({},P,b),T.parent={x:0,width:0,height:0,y:0},T.BFTraverse(function(x){x.x=x.parent.x+x.parent.width}),T.parent=null,B(T,b),T.startY=0,T.y=T.totalHeight/2-T.height/2,T.eachNode(function(x){var m=x.children,_=m.length;if(_){var g=m[0];if(g.startY=x.startY+x._subTreeSep,1===_)g.y=x.y+x.height/2-g.height/2;else{g.y=g.startY+g.totalHeight/2-g.height/2;for(var S=1;S<_;S++){var w=m[S];w.startY=m[S-1].startY+m[S-1].totalHeight,w.y=w.startY+w.totalHeight/2-w.height/2}}}}),O(T)}}])},66:function(qt,z,j){"use strict";var R=this&&this.__createBinding||(Object.create?function(O,P,T,b){void 0===b&&(b=T);var x=Object.getOwnPropertyDescriptor(P,T);(!x||("get"in x?!P.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return P[T]}}),Object.defineProperty(O,b,x)}:function(O,P,T,b){void 0===b&&(b=T),O[b]=P[T]}),q=this&&this.__exportStar||function(O,P){for(var T in O)"default"!==T&&!Object.prototype.hasOwnProperty.call(P,T)&&R(P,O,T)};Object.defineProperty(z,"__esModule",{value:!0}),z.getLayoutByName=z.unRegisterLayout=z.registerLayout=void 0;var B=j(1647);Object.defineProperty(z,"registerLayout",{enumerable:!0,get:function(){return B.registerLayout}}),Object.defineProperty(z,"unRegisterLayout",{enumerable:!0,get:function(){return B.unRegisterLayout}}),Object.defineProperty(z,"getLayoutByName",{enumerable:!0,get:function(){return B.getLayoutByName}}),q(j(4670),z)},8792:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.Base=void 0;var j=function(){function R(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.vedges=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return R.prototype.layout=function(q){return this.init(q),this.execute(!0)},R.prototype.init=function(q){this.nodes=q.nodes||[],this.edges=q.edges||[],this.combos=q.combos||[],this.comboEdges=q.comboEdges||[],this.hiddenNodes=q.hiddenNodes||[],this.hiddenEdges=q.hiddenEdges||[],this.hiddenCombos=q.hiddenCombos||[],this.vedges=q.vedges||[]},R.prototype.execute=function(q){},R.prototype.executeWithWorker=function(){},R.prototype.getDefaultCfg=function(){return{}},R.prototype.updateCfg=function(q){q&&Object.assign(this,q)},R.prototype.getType=function(){return"base"},R.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},R}();z.Base=j},3414:function(qt,z,j){"use strict";var x,R=this&&this.__extends||(x=function(m,_){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(g[w]=S[w])})(m,_)},function(m,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function g(){this.constructor=m}x(m,_),m.prototype=null===_?Object.create(_):(g.prototype=_.prototype,new g)});Object.defineProperty(z,"__esModule",{value:!0}),z.CircularLayout=void 0;var q=j(8792),B=j(7602);function T(x,m){var _=x.degree,g=m.degree;return _<g?-1:_>g?1:0}var b=function(x){function m(_){var g=x.call(this)||this;return g.radius=null,g.nodeSize=void 0,g.startRadius=null,g.endRadius=null,g.startAngle=0,g.endAngle=2*Math.PI,g.clockwise=!0,g.divisions=1,g.ordering=null,g.angleRatio=1,g.nodes=[],g.edges=[],g.nodeMap={},g.degrees=[],g.width=300,g.height=300,g.updateCfg(_),g}return R(m,x),m.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},m.prototype.execute=function(){var _,g=this,S=g.nodes,w=g.edges,E=S.length;if(0!==E){!g.width&&typeof window<"u"&&(g.width=window.innerWidth),!g.height&&typeof window<"u"&&(g.height=window.innerHeight),g.center||(g.center=[g.width/2,g.height/2]);var A=g.center;if(1===E)return S[0].x=A[0],S[0].y=A[1],void(g.onLayoutEnd&&g.onLayoutEnd());var k=g.radius,L=g.startRadius,ie=g.endRadius,te=g.divisions,$=g.startAngle,X=g.endAngle,Z=g.angleRatio,Y=g.ordering,ae=g.clockwise,ne=g.nodeSpacing,se=g.nodeSize,ve=(X-$)/E,ge={};S.forEach(function(pt,st){ge[pt.id]=st}),g.nodeMap=ge;var Fe=(0,B.getDegree)(S.length,ge,w);if(g.degrees=Fe,ne){var Ae=(0,B.getFuncByUnknownType)(10,ne),ze=(0,B.getFuncByUnknownType)(10,se),oe=-1/0;S.forEach(function(pt){var st=ze(pt);oe<st&&(oe=st)});var ce=0;S.forEach(function(pt,st){ce+=0===st?oe||10:(Ae(pt)||0)+(oe||10)}),k=ce/(2*Math.PI)}else k||L||ie?!L&&ie?L=ie:L&&!ie&&(ie=L):k=g.height>g.width?g.width/2:g.height/2;var H=ve*Z,re=[];re="topology"===Y?g.topologyOrdering():"topology-directed"===Y?g.topologyOrdering(!0):"degree"===Y?g.degreeOrdering():S;for(var ye=Math.ceil(E/te),Ce=0;Ce<E;++Ce){var Ie=k;!Ie&&null!==L&&null!==ie&&(Ie=L+Ce*(ie-L)/(E-1)),Ie||(Ie=10+100*Ce/(E-1));var Ue=$+Ce%ye*H+2*Math.PI/te*Math.floor(Ce/ye);ae||(Ue=X-Ce%ye*H-2*Math.PI/te*Math.floor(Ce/ye)),re[Ce].x=A[0]+Math.cos(Ue)*Ie,re[Ce].y=A[1]+Math.sin(Ue)*Ie,re[Ce].weight=Fe[Ce].all}return null===(_=g.onLayoutEnd)||void 0===_||_.call(g),{nodes:re,edges:this.edges}}g.onLayoutEnd&&g.onLayoutEnd()},m.prototype.topologyOrdering=function(_){void 0===_&&(_=!1);var g=this,S=g.degrees,w=g.edges,E=g.nodes,A=(0,B.clone)(E),k=g.nodeMap,L=[A[0]],ie=[E[0]],te=[],$=E.length;te[0]=!0,function O(x,m,_,g){x.forEach(function(S,w){x[w].children=[],x[w].parent=[]}),m.forEach(g?function(S){var w=(0,B.getEdgeTerminal)(S,"source"),E=(0,B.getEdgeTerminal)(S,"target"),A=0;w&&(A=_[w]);var k=0;E&&(k=_[E]);var ie=x[k].parent;x[A].children.push(x[k].id),ie.push(x[A].id)}:function(S){var w=(0,B.getEdgeTerminal)(S,"source"),E=(0,B.getEdgeTerminal)(S,"target"),A=0;w&&(A=_[w]);var k=0;E&&(k=_[E]);var ie=x[k].children;x[A].children.push(x[k].id),ie.push(x[A].id)})}(A,w,k,_);var X=0;return A.forEach(function(Z,Y){if(0!==Y)if(Y!==$-1&&S[Y].all===S[Y+1].all&&!function P(x,m,_){for(var g=_.length,S=0;S<g;S++){var w=(0,B.getEdgeTerminal)(_[S],"source"),E=(0,B.getEdgeTerminal)(_[S],"target");if(x.id===w&&m.id===E||m.id===w&&x.id===E)return!0}return!1}(L[X],Z,w)||te[Y]){for(var ae=L[X].children,ne=!1,se=0;se<ae.length;se++){var ve=k[ae[se]];if(S[ve].all===S[Y].all&&!te[ve]){L.push(A[ve]),ie.push(E[k[A[ve].id]]),te[ve]=!0,ne=!0;break}}for(var ge=0;!ne&&(te[ge]||(L.push(A[ge]),ie.push(E[k[A[ge].id]]),te[ge]=!0,ne=!0),++ge!==$););}else L.push(Z),ie.push(E[k[Z.id]]),te[Y]=!0,X++}),ie},m.prototype.degreeOrdering=function(){var S=[],w=this.degrees;return this.nodes.forEach(function(E,A){E.degree=w[A].all,S.push(E)}),S.sort(T),S},m.prototype.getType=function(){return"circular"},m}(q.Base);z.CircularLayout=b},9602:function(qt,z,j){"use strict";var x,R=this&&this.__extends||(x=function(m,_){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(g[w]=S[w])})(m,_)},function(m,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function g(){this.constructor=m}x(m,_),m.prototype=null===_?Object.create(_):(g.prototype=_.prototype,new g)}),q=this&&this.__assign||function(){return q=Object.assign||function(x){for(var m,_=1,g=arguments.length;_<g;_++)for(var S in m=arguments[_])Object.prototype.hasOwnProperty.call(m,S)&&(x[S]=m[S]);return x},q.apply(this,arguments)};Object.defineProperty(z,"__esModule",{value:!0}),z.ComboCombinedLayout=void 0;var B=j(981),O=j(8792),P=j(7602),T=j(4670),b=function(x){function m(_){var g=x.call(this)||this;return g.center=[0,0],g.nodes=[],g.edges=[],g.combos=[],g.comboEdges=[],g.comboPadding=10,g.comboTrees=[],g.updateCfg(_),g}return R(m,x),m.prototype.getDefaultCfg=function(){return{}},m.prototype.execute=function(){var _=this,g=_.nodes,S=_.center;if(g&&0!==g.length)return 1===g.length?(g[0].x=S[0],g[0].y=S[1],void(_.onLayoutEnd&&_.onLayoutEnd())):(_.initVals(),_.run(),void(_.onLayoutEnd&&_.onLayoutEnd()));_.onLayoutEnd&&_.onLayoutEnd()},m.prototype.run=function(){var _,g=this,S=g.nodes,w=g.edges,E=g.combos,A=g.comboEdges,k=g.center,L={};S.forEach(function(oe){L[oe.id]=oe});var ie={};E.forEach(function(oe){ie[oe.id]=oe});var te=g.getInnerGraphs(L),$=[],X=[],Z={},Y=!0;this.comboTrees.forEach(function(oe){var ce=te[oe.id],H=q(q({},oe),{x:ce.x||ie[oe.id].x,y:ce.y||ie[oe.id].y,fx:ce.fx||ie[oe.id].fx,fy:ce.fy||ie[oe.id].fy,mass:ce.mass||ie[oe.id].mass,size:ce.size});X.push(H),isNaN(H.x)||0===H.x||isNaN(H.y)||0===H.y?(H.x=100*Math.random(),H.y=100*Math.random()):Y=!1,$.push(oe.id),(0,P.traverseTreeUp)(oe,function(re){return re.id!==oe.id&&(Z[re.id]=oe.id),!0})}),S.forEach(function(oe){if(!oe.comboId||!ie[oe.comboId]){var ce=q({},oe);X.push(ce),isNaN(ce.x)||0===ce.x||isNaN(ce.y)||0===ce.y?(ce.x=100*Math.random(),ce.y=100*Math.random()):Y=!1,$.push(oe.id)}});var ae=[];if(w.concat(A).forEach(function(oe){var ce=Z[oe.source]||oe.source,H=Z[oe.target]||oe.target;ce!==H&&$.includes(ce)&&$.includes(H)&&ae.push({source:ce,target:H})}),X?.length){if(1===X.length)X[0].x=k[0],X[0].y=k[1];else{var ne={nodes:X,edges:ae},se=this.outerLayout||new T.GForceLayout({gravity:1,factor:4,linkDistance:function(oe,ce,H){var re,ye,Ce=(((null===(re=ce.size)||void 0===re?void 0:re[0])||30)+((null===(ye=H.size)||void 0===ye?void 0:ye[0])||30))/2;return Math.min(1.5*Ce,700)}}),ve=null===(_=se.getType)||void 0===_?void 0:_.call(se);se.updateCfg({center:k,kg:5,preventOverlap:!0,animate:!1}),Y&&B.FORCE_LAYOUT_TYPE_MAP[ve]&&(X.length<100?new T.MDSLayout:new T.GridLayout).layout(ne),se.layout(ne)}X.forEach(function(oe){var ce=te[oe.id];if(ce)ce.visited=!0,ce.x=oe.x,ce.y=oe.y,ce.nodes.forEach(function(re){re.x+=oe.x,re.y+=oe.y});else{var H=L[oe.id];H&&(H.x=oe.x,H.y=oe.y)}})}for(var Fe=Object.keys(te),Ae=function(oe){var ce=Fe[oe],H=te[ce];if(!H)return"continue";H.nodes.forEach(function(re){H.visited||(re.x+=H.x||0,re.y+=H.y||0),L[re.id]&&(L[re.id].x=re.x,L[re.id].y=re.y)}),ie[ce]&&(ie[ce].x=H.x,ie[ce].y=H.y)},ze=Fe.length-1;ze>=0;ze--)Ae(ze);return{nodes:S,edges:w,combos:E,comboEdges:A}},m.prototype.getInnerGraphs=function(_){var g=this,S=g.comboTrees,w=g.nodeSize,E=g.edges,A=g.comboPadding,k=g.spacing,L={},ie=this.innerLayout||new T.ConcentricLayout({sortBy:"id"});return ie.center=[0,0],ie.preventOverlap=!0,ie.nodeSpacing=k,(S||[]).forEach(function(te){(0,P.traverseTreeUp)(te,function($){var X,Z=A?.($)||10;if((0,P.isArray)(Z)&&(Z=Math.max.apply(Math,Z)),null!==(X=$.children)&&void 0!==X&&X.length){var ae=$.children.map(function(re){return"combo"===re.itemType?L[re.id]:q(q({},_[re.id]||{}),re)}),ne=ae.map(function(re){return re.id}),se={nodes:ae,edges:E.filter(function(re){return ne.includes(re.source)&&ne.includes(re.target)})},ve=1/0;ae.forEach(function(re){var ye;re.size||(re.size=(null===(ye=L[re.id])||void 0===ye?void 0:ye.size)||w?.(re)||[30,30]),(0,P.isNumber)(re.size)&&(re.size=[re.size,re.size]),ve>re.size[0]&&(ve=re.size[0]),ve>re.size[1]&&(ve=re.size[1])}),ie.layout(se);var ge=(0,P.getLayoutBBox)(ae),Fe=ge.minX,Ae=ge.minY,ze=ge.maxX,oe=ge.maxY,ce={x:(ze+Fe)/2,y:(oe+Ae)/2};se.nodes.forEach(function(re){re.x-=ce.x,re.y-=ce.y});var H=Math.max(ze-Fe,oe-Ae,ve)+2*Z;L[$.id]={id:$.id,nodes:ae,size:[H,H]}}else"combo"===$.itemType&&(L[$.id]={id:$.id,nodes:[],size:Z?[2*Z,2*Z]:[30,30]});return!0})}),L},m.prototype.initVals=function(){var w,E,_=this,g=_.nodeSize,S=_.spacing;if(E=(0,P.isNumber)(S)?function(){return S}:(0,P.isFunction)(S)?S:function(){return 0},this.spacing=E,g)if((0,P.isFunction)(g))w=function($){var X=g($),Z=E($);return(0,P.isArray)($.size)?(($.size[0]>$.size[1]?$.size[0]:$.size[1])+Z)/2:((X||10)+Z)/2};else if((0,P.isArray)(g)){var k=(g[0]>g[1]?g[0]:g[1])/2;w=function($){return k+E($)/2}}else{var L=g/2;w=function($){return L+E($)/2}}else w=function($){var X=E($);return $.size?(0,P.isArray)($.size)?(($.size[0]>$.size[1]?$.size[0]:$.size[1])+X)/2:(0,P.isObject)($.size)?(($.size.width>$.size.height?$.size.width:$.size.height)+X)/2:($.size+X)/2:10+X/2};this.nodeSize=w;var te,ie=_.comboPadding;te=(0,P.isNumber)(ie)?function(){return ie}:(0,P.isArray)(ie)?function(){return Math.max.apply(null,ie)}:(0,P.isFunction)(ie)?ie:function(){return 0},this.comboPadding=te},m.prototype.getType=function(){return"comboCombined"},m}(O.Base);z.ComboCombinedLayout=b},4430:function(qt,z,j){"use strict";var P,R=this&&this.__extends||(P=function(T,b){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,m){x.__proto__=m}||function(x,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(x[_]=m[_])})(T,b)},function(T,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function x(){this.constructor=T}P(T,b),T.prototype=null===b?Object.create(b):(x.prototype=b.prototype,new x)});Object.defineProperty(z,"__esModule",{value:!0}),z.ComboForceLayout=void 0;var q=j(8792),B=j(7602),O=function(P){function T(b){var x=P.call(this)||this;return x.center=[0,0],x.maxIteration=100,x.gravity=10,x.comboGravity=10,x.linkDistance=10,x.alpha=1,x.alphaMin=.001,x.alphaDecay=1-Math.pow(x.alphaMin,1/300),x.alphaTarget=0,x.velocityDecay=.6,x.edgeStrength=.6,x.nodeStrength=30,x.preventOverlap=!1,x.preventNodeOverlap=!1,x.preventComboOverlap=!1,x.collideStrength=void 0,x.nodeCollideStrength=.5,x.comboCollideStrength=.5,x.comboSpacing=20,x.comboPadding=10,x.optimizeRangeFactor=1,x.onTick=function(){},x.onLayoutEnd=function(){},x.depthAttractiveForceScale=1,x.depthRepulsiveForceScale=2,x.nodes=[],x.edges=[],x.combos=[],x.comboTrees=[],x.width=300,x.height=300,x.bias=[],x.nodeMap={},x.oriComboMap={},x.indexMap={},x.comboMap={},x.previousLayouted=!1,x.updateCfg(b),x}return R(T,P),T.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},T.prototype.execute=function(){var b=this,x=b.nodes,m=b.center;if(b.comboTree={id:"comboTreeRoot",depth:-1,children:b.comboTrees},x&&0!==x.length)return 1===x.length?(x[0].x=m[0],x[0].y=m[1],void(b.onLayoutEnd&&b.onLayoutEnd())):(b.initVals(),b.run(),void(b.onLayoutEnd&&b.onLayoutEnd()));b.onLayoutEnd&&b.onLayoutEnd()},T.prototype.run=function(){var b=this,x=b.nodes,m=b.previousLayouted?b.maxIteration/5:b.maxIteration;!b.width&&typeof window<"u"&&(b.width=window.innerWidth),!b.height&&typeof window<"u"&&(b.height=window.innerHeight);var _=b.center,g=b.velocityDecay,S=b.comboMap;b.previousLayouted||b.initPos(S);for(var w=function(L){var ie=[];x.forEach(function(te,$){ie[$]={x:0,y:0}}),b.applyCalculate(ie),b.applyComboCenterForce(ie),x.forEach(function(te,$){!(0,B.isNumber)(te.x)||!(0,B.isNumber)(te.y)||(te.x+=ie[$].x*g,te.y+=ie[$].y*g)}),b.alpha+=(b.alphaTarget-b.alpha)*b.alphaDecay,b.onTick()},E=0;E<m;E++)w();var A=[0,0];x.forEach(function(L){!(0,B.isNumber)(L.x)||!(0,B.isNumber)(L.y)||(A[0]+=L.x,A[1]+=L.y)}),A[0]/=x.length,A[1]/=x.length;var k=[_[0]-A[0],_[1]-A[1]];x.forEach(function(L,ie){!(0,B.isNumber)(L.x)||!(0,B.isNumber)(L.y)||(L.x+=k[0],L.y+=k[1])}),b.combos.forEach(function(L){var ie=S[L.id];ie&&ie.empty&&(L.x=ie.cx||L.x,L.y=ie.cy||L.y)}),b.previousLayouted=!0},T.prototype.initVals=function(){var b=this,x=b.edges,_=b.combos,g={},S={},w={};b.nodes.forEach(function(Ie,Ue){S[Ie.id]=Ie,w[Ie.id]=Ue}),b.nodeMap=S,b.indexMap=w;var E={};_.forEach(function(Ie){E[Ie.id]=Ie}),b.oriComboMap=E,b.comboMap=b.getComboMap();var A=b.preventOverlap;b.preventComboOverlap=b.preventComboOverlap||A,b.preventNodeOverlap=b.preventNodeOverlap||A;var k=b.collideStrength;k&&(b.comboCollideStrength=k,b.nodeCollideStrength=k),b.comboCollideStrength=b.comboCollideStrength?b.comboCollideStrength:0,b.nodeCollideStrength=b.nodeCollideStrength?b.nodeCollideStrength:0;for(var L=0;L<x.length;++L){var ie=(0,B.getEdgeTerminal)(x[L],"source"),te=(0,B.getEdgeTerminal)(x[L],"target");g[ie]?g[ie]++:g[ie]=1,g[te]?g[te]++:g[te]=1}var $=[];for(L=0;L<x.length;++L)ie=(0,B.getEdgeTerminal)(x[L],"source"),te=(0,B.getEdgeTerminal)(x[L],"target"),$[L]=g[ie]/(g[ie]+g[te]);this.bias=$;var Y,ae,X=b.nodeSize,Z=b.nodeSpacing;if(ae=(0,B.isNumber)(Z)?function(){return Z}:(0,B.isFunction)(Z)?Z:function(){return 0},this.nodeSpacing=ae,X)if((0,B.isFunction)(X))Y=function(Ie){return X(Ie)};else if((0,B.isArray)(X)){var se=(X[0]>X[1]?X[0]:X[1])/2;Y=function(Ie){return se}}else{var ve=X/2;Y=function(Ie){return ve}}else Y=function(Ie){return Ie.size?(0,B.isArray)(Ie.size)?(Ie.size[0]>Ie.size[1]?Ie.size[0]:Ie.size[1])/2:(0,B.isObject)(Ie.size)?(Ie.size.width>Ie.size.height?Ie.size.width:Ie.size.height)/2:Ie.size/2:10};this.nodeSize=Y;var Fe,ge=b.comboSpacing;Fe=(0,B.isNumber)(ge)?function(){return ge}:(0,B.isFunction)(ge)?ge:function(){return 0},this.comboSpacing=Fe;var ze,Ae=b.comboPadding;ze=(0,B.isNumber)(Ae)?function(){return Ae}:(0,B.isArray)(Ae)?function(){return Math.max.apply(null,Ae)}:(0,B.isFunction)(Ae)?Ae:function(){return 0},this.comboPadding=ze;var ce,oe=this.linkDistance;oe||(oe=10),ce=(0,B.isNumber)(oe)?function(Ie){return oe}:oe,this.linkDistance=ce;var re,H=this.edgeStrength;H||(H=1),re=(0,B.isNumber)(H)?function(Ie){return H}:H,this.edgeStrength=re;var Ce,ye=this.nodeStrength;ye||(ye=30),Ce=(0,B.isNumber)(ye)?function(Ie){return ye}:ye,this.nodeStrength=Ce},T.prototype.initPos=function(b){this.nodes.forEach(function(_,g){var S=_.comboId,w=b[S];S&&w?(_.x=w.cx+100/(g+1),_.y=w.cy+100/(g+1)):(_.x=100/(g+1),_.y=100/(g+1))})},T.prototype.getComboMap=function(){var b=this,x=b.nodeMap,_=b.oriComboMap,g={};return(b.comboTrees||[]).forEach(function(S){var w=[];(0,B.traverseTreeUp)(S,function(E){if("node"===E.itemType||!_[E.id])return!0;void 0===g[E.id]&&(g[E.id]={id:E.id,name:E.id,cx:0,cy:0,count:0,depth:b.oriComboMap[E.id].depth||0,children:[]});var k=E.children;k&&k.forEach(function(te){if(!g[te.id]&&!x[te.id])return!0;w.push(te)});var L=g[E.id];if(L.cx=0,L.cy=0,0===w.length){L.empty=!0;var ie=_[E.id];L.cx=ie.x,L.cy=ie.y}return w.forEach(function(te){if(L.count++,"node"!==te.itemType){var $=g[te.id];return(0,B.isNumber)($.cx)&&(L.cx+=$.cx),void((0,B.isNumber)($.cy)&&(L.cy+=$.cy))}var X=x[te.id];X&&((0,B.isNumber)(X.x)&&(L.cx+=X.x),(0,B.isNumber)(X.y)&&(L.cy+=X.y))}),L.cx/=L.count||1,L.cy/=L.count||1,L.children=w,!0})}),g},T.prototype.applyComboCenterForce=function(b){var x=this,_=x.comboGravity||x.gravity,g=this.alpha,w=x.indexMap,E=x.nodeMap,A=x.comboMap;(x.comboTrees||[]).forEach(function(k){(0,B.traverseTreeUp)(k,function(L){if("node"===L.itemType)return!0;if(!A[L.id])return!0;var te=A[L.id],$=(te.depth+1)/10*.5,X=te.cx,Z=te.cy;return te.cx=0,te.cy=0,te.children.forEach(function(Y){if("node"!==Y.itemType){var ae=A[Y.id];return ae&&(0,B.isNumber)(ae.cx)&&(te.cx+=ae.cx),void(ae&&(0,B.isNumber)(ae.cy)&&(te.cy+=ae.cy))}var ne=E[Y.id],se=ne.x-X||.005,ve=ne.y-Z||.005,ge=Math.sqrt(se*se+ve*ve),Fe=w[ne.id],Ae=_*g/ge*$;b[Fe].x-=se*Ae,b[Fe].y-=ve*Ae,(0,B.isNumber)(ne.x)&&(te.cx+=ne.x),(0,B.isNumber)(ne.y)&&(te.cy+=ne.y)}),te.cx/=te.count||1,te.cy/=te.count||1,!0})})},T.prototype.applyCalculate=function(b){var x=this,m=x.comboMap,_=x.nodes,g={};_.forEach(function(w,E){_.forEach(function(A,k){if(!(E<k)){var L=w.x-A.x||.005,ie=w.y-A.y||.005,te=L*L+ie*ie,$=Math.sqrt(te);te<1&&(te=$),g["".concat(w.id,"-").concat(A.id)]={vx:L,vy:ie,vl2:te,vl:$},g["".concat(A.id,"-").concat(w.id)]={vl2:te,vl:$,vx:-L,vy:-ie}}})}),x.updateComboSizes(m),x.calRepulsive(b,g),x.calAttractive(b,g),x.preventComboOverlap&&x.comboNonOverlapping(b,m)},T.prototype.updateComboSizes=function(b){var x=this,_=x.nodeMap,g=x.nodeSize,S=x.comboSpacing,w=x.comboPadding;(x.comboTrees||[]).forEach(function(E){var A=[];(0,B.traverseTreeUp)(E,function(k){if("node"===k.itemType)return!0;var L=b[k.id];if(!L)return!1;var ie=k.children;ie&&ie.forEach(function(X){!b[X.id]&&!_[X.id]||A.push(X)}),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0,A.forEach(function(X){if("node"!==X.itemType)return!0;var Z=_[X.id];if(!Z)return!0;var Y=g(Z),ae=Z.x-Y,ne=Z.y-Y,se=Z.x+Y,ve=Z.y+Y;L.minX>ae&&(L.minX=ae),L.minY>ne&&(L.minY=ne),L.maxX<se&&(L.maxX=se),L.maxY<ve&&(L.maxY=ve)});var te=x.oriComboMap[k.id].size||10;(0,B.isArray)(te)&&(te=te[0]);var $=Math.max(L.maxX-L.minX,L.maxY-L.minY,te);return L.r=$/2+S(L)/2+w(L),!0})})},T.prototype.comboNonOverlapping=function(b,x){var m=this,g=m.comboCollideStrength,S=m.indexMap,w=m.nodeMap;(0,B.traverseTreeUp)(m.comboTree,function(E){if(!x[E.id]&&!w[E.id]&&"comboTreeRoot"!==E.id)return!1;var A=E.children;return A&&A.length>1&&A.forEach(function(k,L){if("node"===k.itemType)return!1;var ie=x[k.id];ie&&A.forEach(function(te,$){if(L<=$||"node"===te.itemType)return!1;var X=x[te.id];if(!X)return!1;var Z=ie.cx-X.cx||.005,Y=ie.cy-X.cy||.005,ae=Z*Z+Y*Y,ne=ie.r||1,se=X.r||1,ve=ne+se,ge=se*se,Fe=ne*ne;if(ae<ve*ve){var Ae=k.children;if(!Ae||0===Ae.length)return!1;var ze=te.children;if(!ze||0===ze.length)return!1;var oe=Math.sqrt(ae),ce=(ve-oe)/oe*g,H=Z*ce,re=Y*ce,ye=ge/(Fe+ge),Ce=1-ye;Ae.forEach(function(Ie){if("node"!==Ie.itemType)return!1;if(w[Ie.id]){var Ue=S[Ie.id];ze.forEach(function(pt){if("node"!==pt.itemType||!w[pt.id])return!1;var st=S[pt.id];b[Ue].x+=H*ye,b[Ue].y+=re*ye,b[st].x-=H*Ce,b[st].y-=re*Ce})}})}})}),!0})},T.prototype.calRepulsive=function(b,x){var m=this,_=m.nodes,g=m.width*m.optimizeRangeFactor,S=m.nodeStrength,w=m.alpha,E=m.nodeCollideStrength,A=m.preventNodeOverlap,k=m.nodeSize,L=m.nodeSpacing,ie=m.depthRepulsiveForceScale,te=m.center;_.forEach(function($,X){if($.x&&$.y){if(te){var Z=m.gravity,Y=$.x-te[0]||.005,ae=$.y-te[1]||.005,ne=Math.sqrt(Y*Y+ae*ae);b[X].x-=Y*Z*w/ne,b[X].y-=ae*Z*w/ne}_.forEach(function(se,ve){if(X!==ve&&se.x&&se.y){var ge=x["".concat($.id,"-").concat(se.id)],Fe=ge.vl2,Ae=ge.vl;if(!(Ae>g)){var ze=x["".concat($.id,"-").concat(se.id)],oe=ze.vx,ce=ze.vy,H=Math.log(Math.abs(se.depth-$.depth)/10)+1||1;H=H<1?1:H,se.comboId!==$.comboId&&(H+=1);var re=H?Math.pow(ie,H):1,ye=S(se)*w/Fe*re;if(b[X].x+=oe*ye,b[X].y+=ce*ye,X<ve&&A){var Ce=k($)+L($)||1,Ie=k(se)+L(se)||1,Ue=Ce+Ie;if(Fe<Ue*Ue){var pt=(Ue-Ae)/Ae*E,st=Ie*Ie,Ne=st/(Ce*Ce+st),lt=oe*pt,gt=ce*pt;b[X].x+=lt*Ne,b[X].y+=gt*Ne,b[ve].x-=lt*(Ne=1-Ne),b[ve].y-=gt*Ne}}}}})}})},T.prototype.calAttractive=function(b,x){var m=this,g=m.linkDistance,S=m.alpha,w=m.edgeStrength,E=m.bias,A=m.depthAttractiveForceScale;m.edges.forEach(function(k,L){var ie=(0,B.getEdgeTerminal)(k,"source"),te=(0,B.getEdgeTerminal)(k,"target");if(ie&&te&&ie!==te){var $=m.indexMap[ie],X=m.indexMap[te],Z=m.nodeMap[ie],Y=m.nodeMap[te];if(Z&&Y){var ae=Z.depth===Y.depth?0:Math.log(Math.abs(Z.depth-Y.depth)/10);Z.comboId===Y.comboId&&(ae/=2);var ne=ae?Math.pow(A,ae):1;if(Z.comboId!==Y.comboId&&1===ne?ne=A/2:Z.comboId===Y.comboId&&(ne=2),(0,B.isNumber)(Y.x)&&(0,B.isNumber)(Z.x)&&(0,B.isNumber)(Y.y)&&(0,B.isNumber)(Z.y)){var se=x["".concat(te,"-").concat(ie)],ve=se.vl,ge=se.vx,Fe=se.vy,Ae=(ve-g(k))/ve*S*w(k)*ne,ze=ge*Ae,oe=Fe*Ae,ce=E[L];b[X].x-=ze*ce,b[X].y-=oe*ce,b[$].x+=ze*(1-ce),b[$].y+=oe*(1-ce)}}}})},T.prototype.getType=function(){return"comboForce"},T}(q.Base);z.ComboForceLayout=O},2172:function(qt,z,j){"use strict";var P,R=this&&this.__extends||(P=function(T,b){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,m){x.__proto__=m}||function(x,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(x[_]=m[_])})(T,b)},function(T,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function x(){this.constructor=T}P(T,b),T.prototype=null===b?Object.create(b):(x.prototype=b.prototype,new x)});Object.defineProperty(z,"__esModule",{value:!0}),z.ConcentricLayout=void 0;var q=j(7602),O=function(P){function T(b){var x=P.call(this)||this;return x.nodeSize=30,x.minNodeSpacing=10,x.nodeSpacing=10,x.preventOverlap=!1,x.equidistant=!1,x.startAngle=1.5*Math.PI,x.clockwise=!0,x.sortBy="degree",x.nodes=[],x.edges=[],x.width=300,x.height=300,x.onLayoutEnd=function(){},x.updateCfg(b),x}return R(T,P),T.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},T.prototype.execute=function(){var b,x,m=this,_=m.nodes,g=m.edges,S=_.length;if(0!==S){!m.width&&typeof window<"u"&&(m.width=window.innerWidth),!m.height&&typeof window<"u"&&(m.height=window.innerHeight),m.center||(m.center=[m.width/2,m.height/2]);var w=m.center;if(1===S)return _[0].x=w[0],_[0].y=w[1],void(null===(x=m.onLayoutEnd)||void 0===x||x.call(m));var L,E=m.nodeSize,A=m.nodeSpacing,k=[],ie=0;L=(0,q.isArray)(E)?Math.max(E[0],E[1]):E,(0,q.isArray)(A)?ie=Math.max(A[0],A[1]):(0,q.isNumber)(A)&&(ie=A),_.forEach(function(H){k.push(H);var re=L;(0,q.isArray)(H.size)?re=Math.max(H.size[0],H.size[1]):(0,q.isNumber)(H.size)?re=H.size:(0,q.isObject)(H.size)&&(re=Math.max(H.size.width,H.size.height)),L=Math.max(L,re),(0,q.isFunction)(A)&&(ie=Math.max(A(H),ie))}),m.clockwise=void 0!==m.counterclockwise?!m.counterclockwise:m.clockwise;var te={},$={};if(k.forEach(function(H,re){te[H.id]=H,$[H.id]=re}),!("degree"!==m.sortBy&&(0,q.isString)(m.sortBy)&&void 0!==k[0][m.sortBy]||(m.sortBy="degree",(0,q.isNumber)(_[0].degree)))){var X=(0,q.getDegree)(_.length,$,g);k.forEach(function(H,re){H.degree=X[re].all})}k.sort(function(H,re){return re[m.sortBy]-H[m.sortBy]}),m.maxValueNode=k[0],m.maxLevelDiff=m.maxLevelDiff||m.maxValueNode[m.sortBy]/4;var Z=[[]],Y=Z[0];k.forEach(function(H){if(Y.length>0){var re=Math.abs(Y[0][m.sortBy]-H[m.sortBy]);m.maxLevelDiff&&re>=m.maxLevelDiff&&Z.push(Y=[])}Y.push(H)});var ae=L+(ie||m.minNodeSpacing);if(!m.preventOverlap){var ne=Z.length>0&&Z[0].length>1,se=Math.min(m.width,m.height)/2-ae;ae=Math.min(ae,se/(Z.length+(ne?1:0)))}var ge=0;if(Z.forEach(function(H){var re=m.sweep;void 0===re&&(re=2*Math.PI-2*Math.PI/H.length);var ye=H.dTheta=re/Math.max(1,H.length-1);if(H.length>1&&m.preventOverlap){var Ce=Math.cos(ye)-Math.cos(0),Ie=Math.sin(ye)-Math.sin(0),Ue=Math.sqrt(ae*ae/(Ce*Ce+Ie*Ie));ge=Math.max(Ue,ge)}H.r=ge,ge+=ae}),m.equidistant){for(var Fe=0,Ae=0,ze=0;ze<Z.length;ze++)Fe=Math.max(Fe,Z[ze].r-Ae);Ae=0,Z.forEach(function(H,re){0===re&&(Ae=H.r),H.r=Ae,Ae+=Fe})}return Z.forEach(function(H){var re=H.dTheta,ye=H.r;H.forEach(function(Ce,Ie){var Ue=m.startAngle+(m.clockwise?1:-1)*re*Ie;Ce.x=w[0]+ye*Math.cos(Ue),Ce.y=w[1]+ye*Math.sin(Ue)})}),m.onLayoutEnd&&m.onLayoutEnd(),{nodes:_,edges:g}}null===(b=m.onLayoutEnd)||void 0===b||b.call(m)},T.prototype.getType=function(){return"concentric"},T}(j(8792).Base);z.ConcentricLayout=O},981:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.FORCE_LAYOUT_TYPE_MAP=z.LAYOUT_MESSAGE=void 0,z.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},z.FORCE_LAYOUT_TYPE_MAP={gForce:!0,force2:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},8786:function(qt,z,j){"use strict";var m,R=this&&this.__extends||(m=function(_,g){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,w){S.__proto__=w}||function(S,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(S[E]=w[E])})(_,g)},function(_,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function S(){this.constructor=_}m(_,g),_.prototype=null===g?Object.create(g):(S.prototype=g.prototype,new S)}),q=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(z,"__esModule",{value:!0}),z.DagreLayout=void 0;var B=q(j(2977)),O=j(7602),P=j(8792),T=j(8863),b=function(m){function _(g){var S=m.call(this)||this;return S.rankdir="TB",S.nodesep=50,S.ranksep=50,S.controlPoints=!1,S.sortByCombo=!1,S.edgeLabelSpace=!0,S.radial=!1,S.nodes=[],S.edges=[],S.onLayoutEnd=function(){},S.layoutNode=function(w){var k=S.nodes.find(function(ie){return ie.id===w});return!k||!1!==k.layout},S.updateCfg(g),S}return R(_,m),_.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},_.prototype.execute=function(){var S,w,E,A,g=this,k=this,L=k.nodes,ie=k.nodeSize,te=k.rankdir,$=k.combos,X=k.begin,Z=k.radial,Y=k.comboEdges,ae=void 0===Y?[]:Y,ne=k.vedges,se=void 0===ne?[]:ne;if(L){var ve=k.edges||[],ge=new T.Graph({multigraph:!0,compound:!0});k.nodeMap={};var Fe={};L.forEach(function(hn){k.nodeMap[hn.id]=hn,hn.comboId&&(Fe[hn.comboId]=Fe[hn.comboId]||[],Fe[hn.comboId].push(hn.id))});var oe,Ae=[],ze={};null!==(S=k.nodeOrder)&&void 0!==S&&S.length?(k.nodeOrder.forEach(function(hn){ze[hn]=!0,Ae.push(k.nodeMap[hn])}),L.forEach(function(hn){ze[hn.id]||Ae.push(hn)})):Ae=L,oe=ie?(0,O.isArray)(ie)?function(){return ie}:function(){return[ie,ie]}:function(hn){return hn.size?(0,O.isArray)(hn.size)?hn.size:(0,O.isObject)(hn.size)?[hn.size.width||40,hn.size.height||40]:[hn.size,hn.size]:[40,40]};var ce=(0,O.getFunc)(k.ranksep,50,k.ranksepFunc),H=(0,O.getFunc)(k.nodesep,50,k.nodesepFunc),re=H,ye=ce;("LR"===te||"RL"===te)&&(re=ce,ye=H),ge.setDefaultEdgeLabel(function(){return{}}),ge.setGraph(k);var Ce={};this.sortByCombo&&$&&$.forEach(function(hn){if(Ce[hn.id]=hn,hn.collapsed){var Pn=oe(hn),br=ye(hn),Dr=re(hn);ge.setNode(hn.id,{width:Pn[0]+2*Dr,height:Pn[1]+2*br})}hn.parentId&&(Ce[hn.parentId]||ge.setNode(hn.parentId,{}),ge.setParent(hn.id,hn.parentId))}),Ae.filter(function(hn){return!1!==hn.layout}).forEach(function(hn){var Pn=oe(hn),br=ye(hn),Dr=re(hn),kr=Pn[0]+2*Dr,ei=Pn[1]+2*br,Qr=hn.layer;(0,O.isNumber)(Qr)?ge.setNode(hn.id,{width:kr,height:ei,layer:Qr}):ge.setNode(hn.id,{width:kr,height:ei}),g.sortByCombo&&hn.comboId&&(Ce[hn.comboId]||(Ce[hn.comboId]={id:hn.comboId},ge.setNode(hn.comboId,{})),ge.setParent(hn.id,hn.comboId))}),ve.forEach(function(hn){var Pn=(0,O.getEdgeTerminal)(hn,"source"),br=(0,O.getEdgeTerminal)(hn,"target");g.layoutNode(Pn)&&g.layoutNode(br)&&ge.setEdge(Pn,br,{weight:hn.weight||1})}),null===(w=ae?.concat(se||[]))||void 0===w||w.forEach(function(hn){var Pn,br,Dr=hn.source,kr=hn.target,ei=null!==(Pn=Ce[Dr])&&void 0!==Pn&&Pn.collapsed?[Dr]:Fe[Dr]||[Dr],Qr=null!==(br=Ce[kr])&&void 0!==br&&br.collapsed?[kr]:Fe[kr]||[kr];ei.forEach(function(Ti){Qr.forEach(function(Ki){ge.setEdge(Ti,Ki,{weight:hn.weight||1})})})});var Ie=void 0;!(null===(E=k.preset)||void 0===E)&&E.nodes&&(Ie=new T.Graph({multigraph:!0,compound:!0}),k.preset.nodes.forEach(function(hn){Ie?.setNode(hn.id,hn)})),B.default.layout(ge,{prevGraph:Ie,edgeLabelSpace:k.edgeLabelSpace,keepNodeOrder:Boolean(!!k.nodeOrder),nodeOrder:k.nodeOrder});var Ue=[0,0];if(X){var pt=1/0,st=1/0;ge.nodes().forEach(function(hn){var Pn=ge.node(hn);pt>Pn.x&&(pt=Pn.x),st>Pn.y&&(st=Pn.y)}),ge.edges().forEach(function(hn){var Pn;null===(Pn=ge.edge(hn).points)||void 0===Pn||Pn.forEach(function(Dr){pt>Dr.x&&(pt=Dr.x),st>Dr.y&&(st=Dr.y)})}),Ue[0]=X[0]-pt,Ue[1]=X[1]-st}var Ne="LR"===te||"RL"===te;if(Z){var gt=this.focusNode,$e=this.ranksep,dt=this.getRadialPos,De=(0,O.isString)(gt)?gt:gt?.id,Be=De?null===(A=ge.node(De))||void 0===A?void 0:A._rank:0,vt=[],Ve=Ne?"y":"x",nt=Ne?"height":"width",wt=1/0,Bt=-1/0;ge.nodes().forEach(function(hn){var Pn=ge.node(hn);if(k.nodeMap[hn]){var br=H(k.nodeMap[hn]);if(0===Be)vt[Pn._rank]||(vt[Pn._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),vt[Pn._rank].nodes.push(hn),vt[Pn._rank].totalWidth+=2*br+Pn[nt],vt[Pn._rank].maxSize<Math.max(Pn.width,Pn.height)&&(vt[Pn._rank].maxSize=Math.max(Pn.width,Pn.height));else{var Dr=Pn._rank-Be;if(0===Dr)vt[Dr]||(vt[Dr]={nodes:[],totalWidth:0,maxSize:-1/0}),vt[Dr].nodes.push(hn),vt[Dr].totalWidth+=2*br+Pn[nt],vt[Dr].maxSize<Math.max(Pn.width,Pn.height)&&(vt[Dr].maxSize=Math.max(Pn.width,Pn.height));else{var kr=Math.abs(Dr);vt[kr]||(vt[kr]={left:[],right:[],totalWidth:0,maxSize:-1/0}),vt[kr].totalWidth+=2*br+Pn[nt],vt[kr].maxSize<Math.max(Pn.width,Pn.height)&&(vt[kr].maxSize=Math.max(Pn.width,Pn.height)),Dr<0?vt[kr].left.push(hn):vt[kr].right.push(hn)}}var ei=Pn[Ve]-Pn[nt]/2-br,Qr=Pn[Ve]+Pn[nt]/2+br;ei<wt&&(wt=ei),Qr>Bt&&(Bt=Qr)}});var pn=$e||50,kn={},je=(Bt-wt)/.9,Hn=[.5*(wt+Bt-je),.5*(wt+Bt+je)],Cr=function(hn,Pn,br,Dr){void 0===br&&(br=-1/0),void 0===Dr&&(Dr=[0,1]);var kr=br;return hn.forEach(function(ei){var Qr=ge.node(ei);kn[ei]=Pn;var Ti=dt(Qr[Ve],Hn,je,Pn,Dr),xa=Ti.y;if(k.nodeMap[ei]){k.nodeMap[ei].x=Ti.x+Ue[0],k.nodeMap[ei].y=xa+Ue[1],k.nodeMap[ei]._order=Qr._order;var Ar=ce(k.nodeMap[ei]);kr<Ar&&(kr=Ar)}}),kr},qn=!0;vt.forEach(function(hn){var Pn,br,Dr,kr,ei,Qr,Ti;if(null!==(Pn=hn?.nodes)&&void 0!==Pn&&Pn.length||null!==(br=hn?.left)&&void 0!==br&&br.length||null!==(Dr=hn?.right)&&void 0!==Dr&&Dr.length){if(qn&&1===hn.nodes.length){var Ki=hn.nodes[0];if(!k.nodeMap[Ki])return;return k.nodeMap[Ki].x=Ue[0],k.nodeMap[Ki].y=Ue[1],kn[hn.nodes[0]]=0,pn=ce(k.nodeMap[Ki]),void(qn=!1)}pn=Math.max(pn,hn.totalWidth/(2*Math.PI));var xa=-1/0;if(0===Be||null!==(kr=hn.nodes)&&void 0!==kr&&kr.length)xa=Cr(hn.nodes,pn,xa,[0,1]);else{var Ar=(null===(ei=hn.left)||void 0===ei?void 0:ei.length)/((null===(Qr=hn.left)||void 0===Qr?void 0:Qr.length)+(null===(Ti=hn.right)||void 0===Ti?void 0:Ti.length));xa=Cr(hn.left,pn,xa,[0,Ar]),xa=Cr(hn.right,pn,xa,[Ar+.05,1])}pn+=xa,qn=!1}}),ge.edges().forEach(function(hn){var Pn,br,Dr,kr=ge.edge(hn),ei=ve.findIndex(function(Se){var G=(0,O.getEdgeTerminal)(Se,"source"),V=(0,O.getEdgeTerminal)(Se,"target");return G===hn.v&&V===hn.w});if(!(ei<=-1)&&k.edgeLabelSpace&&k.controlPoints&&"loop"!==ve[ei].type){var Qr="x"===Ve?"y":"x",Ti=null===(Pn=kr?.points)||void 0===Pn?void 0:Pn.slice(1,kr.points.length-1),Ki=[],xa=null===(br=ge.node(hn.v))||void 0===br?void 0:br[Qr],Ar=xa-(null===(Dr=ge.node(hn.w))||void 0===Dr?void 0:Dr[Qr]),ti=kn[hn.v],Vr=ti-kn[hn.w];Ti?.forEach(function(Se){var V=dt(Se[Ve],Hn,je,(Se[Qr]-xa)/Ar*Vr+ti);Ki.push({x:V.x+Ue[0],y:V.y+Ue[1]})}),ve[ei].controlPoints=Ki}})}else{var Ur=new Set,bi="BT"===te||"RL"===te?function(hn,Pn){return Pn-hn}:function(hn,Pn){return hn-Pn};ge.nodes().forEach(function(hn){var Pn=ge.node(hn);if(Pn){var br=g.nodeMap[hn];br||(br=$?.find(function(Dr){return Dr.id===hn})),br&&(br.x=Pn.x+Ue[0],br.y=Pn.y+Ue[1],br._order=Pn._order,Ur.add(Ne?br.x:br.y))}});var ii=Array.from(Ur).sort(bi),Xi=Ne?function(hn,Pn){return hn.x!==Pn.x}:function(hn,Pn){return hn.y!==Pn.y},ji=Ne?function(hn,Pn,br){var Dr=Math.max(Pn.y,br.y),kr=Math.min(Pn.y,br.y);return hn.filter(function(ei){return ei.y<=Dr&&ei.y>=kr})}:function(hn,Pn,br){var Dr=Math.max(Pn.x,br.x),kr=Math.min(Pn.x,br.x);return hn.filter(function(ei){return ei.x<=Dr&&ei.x>=kr})};ge.edges().forEach(function(hn){var Pn,br=ge.edge(hn),Dr=ve.findIndex(function(Qr){var Ti=(0,O.getEdgeTerminal)(Qr,"source"),Ki=(0,O.getEdgeTerminal)(Qr,"target");return Ti===hn.v&&Ki===hn.w});Dr<=-1||!k.edgeLabelSpace||!k.controlPoints||"loop"===ve[Dr].type||(null===(Pn=br?.points)||void 0===Pn||Pn.forEach(function(Qr){Qr.x+=Ue[0],Qr.y+=Ue[1]}),ve[Dr].controlPoints=x(br?.points,k.nodeMap[hn.v],k.nodeMap[hn.w],ii,Ne,Xi,ji))})}return k.onLayoutEnd&&k.onLayoutEnd(),{nodes:L,edges:ve}}},_.prototype.getRadialPos=function(g,S,w,E,A){void 0===A&&(A=[0,1]);var k=(g-S[0])/w,L=2*(k=k*(A[1]-A[0])+A[0])*Math.PI;return{x:Math.cos(L)*E,y:Math.sin(L)*E}},_.prototype.getType=function(){return"dagre"},_}(P.Base);z.DagreLayout=b;var x=function(m,_,g,S,w,E,A){var k=m?.slice(1,m.length-1)||[];if(_&&g){var L=_.x,ie=_.y,te=g.x,$=g.y;if(w&&(L=_.y,ie=_.x,te=g.y,$=g.x),$!==ie&&L!==te){var X=S.indexOf(ie),Z=S[X+1];if(Z){var Y=k[0],ae=w?{x:(ie+Z)/2,y:Y?.y||te}:{x:Y?.x||te,y:(ie+Z)/2};(!Y||E(Y,ae))&&k.unshift(ae)}var ne=S.indexOf($),se=Math.abs(ne-X);if(1===se)(k=A(k,_,g)).length||k.push(w?{x:(ie+$)/2,y:L}:{x:L,y:(ie+$)/2});else if(se>1){var ve=S[ne-1];if(ve){var ge=k[k.length-1],Fe=w?{x:($+ve)/2,y:ge?.y||te}:{x:ge?.x||L,y:($+ve)/2};(!ge||E(ge,Fe))&&k.push(Fe)}}}}return k}},8863:function(qt,z,j){"use strict";var O,R=this&&this.__extends||(O=function(P,T){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var m in x)Object.prototype.hasOwnProperty.call(x,m)&&(b[m]=x[m])})(P,T)},function(P,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function b(){this.constructor=P}O(P,T),P.prototype=null===T?Object.create(T):(b.prototype=T.prototype,new b)});Object.defineProperty(z,"__esModule",{value:!0}),z.Graph=void 0;var B=function(O){function P(){return null!==O&&O.apply(this,arguments)||this}return R(P,O),P}(j(7782).Graph);z.Graph=B},2977:function(qt,z,j){"use strict";var R=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(z,"__esModule",{value:!0});var q=R(j(2236)),B=j(6668);z.default={layout:q.default,util:{time:B.time,notime:B.notime}}},915:function(qt,z,j){"use strict";var R=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(z,"__esModule",{value:!0});var q=R(j(1204));z.default={run:function(T){var m;("greedy"===T.graph().acyclicer?(0,q.default)(T,(m=T,function(_){var g;return(null===(g=m.edge(_))||void 0===g?void 0:g.weight)||1})):function(T){var b=[],x={},m={},_=function(g){var S;m[g]||(m[g]=!0,x[g]=!0,null===(S=T.outEdges(g))||void 0===S||S.forEach(function(w){x[w.w]?b.push(w):_(w.w)}),delete x[g])};return T.nodes().forEach(_),b}(T))?.forEach(function(m){var _=T.edge(m);T.removeEdgeObj(m),_.forwardName=m.name,_.reversed=!0,T.setEdge(m.w,m.v,_,"rev-".concat(Math.random()))})},undo:function(T){T.edges().forEach(function(b){var x=T.edge(b);if(x.reversed){T.removeEdgeObj(b);var m=x.forwardName;delete x.reversed,delete x.forwardName,T.setEdge(b.w,b.v,x,m)}})}}},4885:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var R=j(6668),B=function(O,P,T,b,x,m){var g=x[P][m-1],S=(0,R.addDummyNode)(O,"border",{rank:m,borderType:P,width:0,height:0},T);x[P][m]=S,O.setParent(S,b),g&&O.setEdge(g,S,{weight:1})};z.default=function(O){var P,T=function(b){var x=O.children(b),m=O.node(b);if(x?.length&&x.forEach(function(S){return T(S)}),m.hasOwnProperty("minRank")){m.borderLeft=[],m.borderRight=[];for(var _=m.minRank,g=m.maxRank+1;_<g;_+=1)B(O,"borderLeft","_bl",b,m,_),B(O,"borderRight","_br",b,m,_)}};null===(P=O.children())||void 0===P||P.forEach(function(b){return T(b)})}},159:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var q=function(x){x.nodes().forEach(function(m){B(x.node(m))}),x.edges().forEach(function(m){B(x.edge(m))})},B=function(x){var m=x.width;x.width=x.height,x.height=m},P=function(x){x?.y&&(x.y=-x.y)},b=function(x){var m=x.x;x.x=x.y,x.y=m};z.default={adjust:function(x){var m,_=null===(m=x.graph().rankdir)||void 0===m?void 0:m.toLowerCase();("lr"===_||"rl"===_)&&q(x)},undo:function(x){var m,_=null===(m=x.graph().rankdir)||void 0===m?void 0:m.toLowerCase();("bt"===_||"rl"===_)&&function(x){x.nodes().forEach(function(m){P(x.node(m))}),x.edges().forEach(function(m){var _,g=x.edge(m);null===(_=g.points)||void 0===_||_.forEach(function(S){return P(S)}),g.hasOwnProperty("y")&&P(g)})}(x),("lr"===_||"rl"===_)&&(function(x){x.nodes().forEach(function(m){b(x.node(m))}),x.edges().forEach(function(m){var _,g=x.edge(m);null===(_=g.points)||void 0===_||_.forEach(function(S){return b(S)}),g.hasOwnProperty("x")&&b(g)})}(x),q(x))}}},65:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var j=function(B,O){if("next"!==B&&"prev"!==B)return O},R=function(B){B.prev.next=B.next,B.next.prev=B.prev,delete B.next,delete B.prev},q=function(){function B(){var O={};O.prev=O,O.next=O.prev,this.shortcut=O}return B.prototype.dequeue=function(){var O=this.shortcut,P=O.prev;if(P&&P!==O)return R(P),P},B.prototype.enqueue=function(O){var P=this.shortcut;O.prev&&O.next&&R(O),O.next=P.next,P.next.prev=O,P.next=O,O.prev=P},B.prototype.toString=function(){for(var O=[],P=this.shortcut,T=P.prev;T!==P;)O.push(JSON.stringify(T,j)),T=T?.prev;return"[".concat(O.join(", "),"]")},B}();z.default=q},1204:function(qt,z,j){"use strict";var w,R=this&&this.__extends||(w=function(E,A){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,L){k.__proto__=L}||function(k,L){for(var ie in L)Object.prototype.hasOwnProperty.call(L,ie)&&(k[ie]=L[ie])})(E,A)},function(E,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function k(){this.constructor=E}w(E,A),E.prototype=null===A?Object.create(A):(k.prototype=A.prototype,new k)}),q=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(z,"__esModule",{value:!0});var B=q(j(65)),O=j(7782),P=function(w){function E(){return null!==w&&w.apply(this,arguments)||this}return R(E,w),E}(B.default),T=function(w){function E(){return null!==w&&w.apply(this,arguments)||this}return R(E,w),E}(O.Graph),b=function(){return 1},_=function(w,E,A,k,L){var ie,te,$=[];return null===(ie=w.inEdges(k.v))||void 0===ie||ie.forEach(function(X){var Z=w.edge(X),Y=w.node(X.v);L&&$.push({v:X.v,w:X.w,in:0,out:0}),void 0===Y.out&&(Y.out=0),Y.out-=Z,S(E,A,Y)}),null===(te=w.outEdges(k.v))||void 0===te||te.forEach(function(X){var Z=w.edge(X),ae=w.node(X.w);void 0===ae.in&&(ae.in=0),ae.in-=Z,S(E,A,ae)}),w.removeNode(k.v),L?$:void 0},S=function(w,E,A){A.out?A.in?w[A.out-A.in+E].enqueue(A):w[w.length-1].enqueue(A):w[0].enqueue(A)};z.default=function(w,E){var A;if(w.nodeCount()<=1)return[];var k=function(w,E){var A=new T,k=0,L=0;w.nodes().forEach(function(Z){A.setNode(Z,{v:Z,in:0,out:0})}),w.edges().forEach(function(Z){var Y=A.edge(Z)||0,ae=E?.(Z)||1;A.setEdge(Z.v,Z.w,Y+ae),L=Math.max(L,A.node(Z.v).out+=ae),k=Math.max(k,A.node(Z.w).in+=ae)});for(var ie=[],te=L+k+3,$=0;$<te;$++)ie.push(new P);var X=k+1;return A.nodes().forEach(function(Z){S(ie,X,A.node(Z))}),{buckets:ie,zeroIdx:X,graph:A}}(w,E||b);return null===(A=function(w,E,A){for(var te,k=[],L=E[E.length-1],ie=E[0];w.nodeCount();){for(;te=ie.dequeue();)_(w,E,A,te);for(;te=L.dequeue();)_(w,E,A,te);if(w.nodeCount())for(var $=E.length-2;$>0;--$)if(te=E[$].dequeue()){k=k.concat(_(w,E,A,te,!0));break}}return k}(k.graph,k.buckets,k.zeroIdx).map(function(ie){return w.outEdges(ie.v,ie.w)}))||void 0===A?void 0:A.flat()}},2236:function(qt,z,j){"use strict";var R=this&&this.__assign||function(){return R=Object.assign||function(Ne){for(var lt,gt=1,$e=arguments.length;gt<$e;gt++)for(var dt in lt=arguments[gt])Object.prototype.hasOwnProperty.call(lt,dt)&&(Ne[dt]=lt[dt]);return Ne},R.apply(this,arguments)},q=this&&this.__importDefault||function(Ne){return Ne&&Ne.__esModule?Ne:{default:Ne}};Object.defineProperty(z,"__esModule",{value:!0});var B=q(j(915)),O=q(j(7849)),P=q(j(5127)),T=j(6668),b=q(j(8727)),x=q(j(2005)),m=q(j(4885)),_=q(j(159)),g=q(j(1967)),S=q(j(7390)),w=q(j(5884)),E=j(8863),te=["nodesep","edgesep","ranksep","marginx","marginy"],$={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},X=["acyclicer","ranker","rankdir","align"],Z=["width","height","layer","fixorder"],Y={width:0,height:0},ae=["minlen","weight","width","height","labeloffset"],ne={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},se=["labelpos"],Fe=function(Ne){Ne.edges().forEach(function(lt){var gt=Ne.edge(lt);if(gt.width&&gt.height){var $e=Ne.node(lt.v),dt=Ne.node(lt.w);(0,T.addDummyNode)(Ne,"edge-proxy",{e:lt,rank:(dt.rank-$e.rank)/2+$e.rank},"_ep")}})},Ae=function(Ne){var lt=0;Ne.nodes().forEach(function(gt){var $e,dt,De=Ne.node(gt);De.borderTop&&(De.minRank=null===($e=Ne.node(De.borderTop))||void 0===$e?void 0:$e.rank,De.maxRank=null===(dt=Ne.node(De.borderBottom))||void 0===dt?void 0:dt.rank,lt=Math.max(lt,De.maxRank||-1/0))}),Ne.graph().maxRank=lt},ze=function(Ne){Ne.nodes().forEach(function(lt){var gt=Ne.node(lt);"edge-proxy"===gt.dummy&&(Ne.edge(gt.e).labelRank=gt.rank,Ne.removeNode(lt))})},oe=function(Ne){var lt,$e,gt=0,dt=0,De=Ne.graph(),Be=De.marginx||0,vt=De.marginy||0,Ve=function(nt){if(nt){var wt=nt.x,Bt=nt.y,pn=nt.width,kn=nt.height;!isNaN(wt)&&!isNaN(pn)&&(void 0===lt&&(lt=wt-pn/2),lt=Math.min(lt,wt-pn/2),gt=Math.max(gt,wt+pn/2)),!isNaN(Bt)&&!isNaN(kn)&&(void 0===$e&&($e=Bt-kn/2),$e=Math.min($e,Bt-kn/2),dt=Math.max(dt,Bt+kn/2))}};Ne.nodes().forEach(function(nt){Ve(Ne.node(nt))}),Ne.edges().forEach(function(nt){var wt=Ne.edge(nt);wt?.hasOwnProperty("x")&&Ve(wt)}),lt-=Be,$e-=vt,Ne.nodes().forEach(function(nt){var wt=Ne.node(nt);wt&&(wt.x-=lt,wt.y-=$e)}),Ne.edges().forEach(function(nt){var wt,Bt=Ne.edge(nt);null===(wt=Bt.points)||void 0===wt||wt.forEach(function(pn){pn.x-=lt,pn.y-=$e}),Bt.hasOwnProperty("x")&&(Bt.x-=lt),Bt.hasOwnProperty("y")&&(Bt.y-=$e)}),De.width=gt-lt+Be,De.height=dt-$e+vt},ce=function(Ne){Ne.edges().forEach(function(lt){var De,Be,gt=Ne.edge(lt),$e=Ne.node(lt.v),dt=Ne.node(lt.w);gt.points?(De=gt.points[0],Be=gt.points[gt.points.length-1]):(gt.points=[],De=dt,Be=$e),gt.points.unshift((0,T.intersectRect)($e,De)),gt.points.push((0,T.intersectRect)(dt,Be))})},H=function(Ne){Ne.edges().forEach(function(lt){var gt=Ne.edge(lt);if(gt?.hasOwnProperty("x"))switch(("l"===gt.labelpos||"r"===gt.labelpos)&&(gt.width-=gt.labeloffset),gt.labelpos){case"l":gt.x-=gt.width/2+gt.labeloffset;break;case"r":gt.x+=gt.width/2+gt.labeloffset}})},re=function(Ne){Ne.edges().forEach(function(lt){var gt,$e=Ne.edge(lt);$e.reversed&&(null===(gt=$e.points)||void 0===gt||gt.reverse())})},ye=function(Ne){Ne.nodes().forEach(function(lt){var gt,$e,dt;if(null!==(gt=Ne.children(lt))&&void 0!==gt&&gt.length){var De=Ne.node(lt),Be=Ne.node(De.borderTop),vt=Ne.node(De.borderBottom),Ve=Ne.node(De.borderLeft[(null===($e=De.borderLeft)||void 0===$e?void 0:$e.length)-1]),nt=Ne.node(De.borderRight[(null===(dt=De.borderRight)||void 0===dt?void 0:dt.length)-1]);De.width=Math.abs(nt?.x-Ve?.x)||10,De.height=Math.abs(vt?.y-Be?.y)||10,De.x=(Ve?.x||0)+De.width/2,De.y=(Be?.y||0)+De.height/2}}),Ne.nodes().forEach(function(lt){var gt;"border"===(null===(gt=Ne.node(lt))||void 0===gt?void 0:gt.dummy)&&Ne.removeNode(lt)})},Ce=function(Ne){Ne.edges().forEach(function(lt){if(lt.v===lt.w){var gt=Ne.node(lt.v);gt.selfEdges||(gt.selfEdges=[]),gt.selfEdges.push({e:lt,label:Ne.edge(lt)}),Ne.removeEdgeObj(lt)}})},Ie=function(Ne){(0,T.buildLayerMatrix)(Ne)?.forEach(function(gt){var $e=0;gt?.forEach(function(dt,De){var Be,vt=Ne.node(dt);vt.order=De+$e,null===(Be=vt.selfEdges)||void 0===Be||Be.forEach(function(Ve){(0,T.addDummyNode)(Ne,"selfedge",{width:Ve.label.width,height:Ve.label.height,rank:vt.rank,order:De+ ++$e,e:Ve.e,label:Ve.label},"_se")}),delete vt.selfEdges})})},Ue=function(Ne){Ne.nodes().forEach(function(lt){var gt=Ne.node(lt);if("selfedge"===gt.dummy){var $e=Ne.node(gt.e.v),dt=$e.x+$e.width/2,De=$e.y,Be=gt.x-dt,vt=$e.height/2;Ne.setEdgeObj(gt.e,gt.label),Ne.removeNode(lt),gt.label.points=[{x:dt+2*Be/3,y:De-vt},{x:dt+5*Be/6,y:De-vt},{y:De,x:dt+Be},{x:dt+5*Be/6,y:De+vt},{x:dt+2*Be/3,y:De+vt}],gt.label.x=gt.x,gt.label.y=gt.y}})},pt=function(Ne,lt){var gt={};return lt?.forEach(function($e){void 0!==Ne[$e]&&(gt[$e]=+Ne[$e])}),gt},st=function(Ne){void 0===Ne&&(Ne={});var lt={};return Object.keys(Ne).forEach(function(gt){lt[gt.toLowerCase()]=Ne[gt]}),lt};z.default=function(Ne,lt){var gt=lt&&lt.debugTiming?T.time:T.notime;gt("layout",function(){lt&&!lt.keepNodeOrder&&lt.prevGraph&&gt("  inheritOrder",function(){!function(Ne,lt){Ne.nodes().forEach(function(gt){var $e=Ne.node(gt),dt=lt.node(gt);void 0!==dt?($e.fixorder=dt._order,delete dt._order):delete $e.fixorder})}(Ne,lt.prevGraph)});var $e=gt("  buildLayoutGraph",function(){return function(Ne){var lt=new E.Graph({multigraph:!0,compound:!0}),gt=st(Ne.graph()),$e={};return X?.forEach(function(dt){void 0!==gt[dt]&&($e[dt]=gt[dt])}),lt.setGraph(Object.assign({},$,pt(gt,te),$e)),Ne.nodes().forEach(function(dt){var De=st(Ne.node(dt)),Be=R(R({},Y),De),vt=pt(Be,Z);lt.setNode(dt,vt),lt.setParent(dt,Ne.parent(dt))}),Ne.edges().forEach(function(dt){var De=st(Ne.edge(dt)),Be={};se?.forEach(function(vt){void 0!==De[vt]&&(Be[vt]=De[vt])}),lt.setEdgeObj(dt,Object.assign({},ne,pt(De,ae),Be))}),lt}(Ne)});lt&&!1===lt.edgeLabelSpace||gt("  makeSpaceForEdgeLabels",function(){!function(Ne){var lt=Ne.graph();lt.ranksep||(lt.ranksep=0),lt.ranksep/=2,Ne.nodes().forEach(function(gt){var $e=Ne.node(gt);isNaN($e.layer)||$e.layer||($e.layer=0)}),Ne.edges().forEach(function(gt){var $e,dt=Ne.edge(gt);dt.minlen*=2,"c"!==(null===($e=dt.labelpos)||void 0===$e?void 0:$e.toLowerCase())&&("TB"===lt.rankdir||"BT"===lt.rankdir?dt.width+=dt.labeloffset:dt.height+=dt.labeloffset)})}($e)});try{gt("  runLayout",function(){!function(Ne,lt,gt){lt("    removeSelfEdges",function(){Ce(Ne)}),lt("    acyclic",function(){B.default.run(Ne)}),lt("    nestingGraph.run",function(){x.default.run(Ne)}),lt("    rank",function(){(0,P.default)((0,T.asNonCompoundGraph)(Ne))}),lt("    injectEdgeLabelProxies",function(){Fe(Ne)}),lt("    removeEmptyRanks",function(){(0,T.removeEmptyRanks)(Ne)}),lt("    nestingGraph.cleanup",function(){x.default.cleanup(Ne)}),lt("    normalizeRanks",function(){(0,T.normalizeRanks)(Ne)}),lt("    assignRankMinMax",function(){Ae(Ne)}),lt("    removeEdgeLabelProxies",function(){ze(Ne)}),lt("    normalize.run",function(){O.default.run(Ne)}),lt("    parentDummyChains",function(){(0,b.default)(Ne)}),lt("    addBorderSegments",function(){(0,m.default)(Ne)}),gt&&gt.keepNodeOrder&&lt("    initDataOrder",function(){(0,w.default)(Ne,gt.nodeOrder)}),lt("    order",function(){(0,g.default)(Ne,gt?.keepNodeOrder)}),lt("    insertSelfEdges",function(){Ie(Ne)}),lt("    adjustCoordinateSystem",function(){_.default.adjust(Ne)}),lt("    position",function(){(0,S.default)(Ne)}),lt("    positionSelfEdges",function(){Ue(Ne)}),lt("    removeBorderNodes",function(){ye(Ne)}),lt("    normalize.undo",function(){O.default.undo(Ne)}),lt("    fixupEdgeLabelCoords",function(){H(Ne)}),lt("    undoCoordinateSystem",function(){_.default.undo(Ne)}),lt("    translateGraph",function(){oe(Ne)}),lt("    assignNodeIntersects",function(){ce(Ne)}),lt("    reversePoints",function(){re(Ne)}),lt("    acyclic.undo",function(){B.default.undo(Ne)})}($e,gt,lt)})}catch(dt){if("Not possible to find intersection inside of the rectangle"===dt.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",dt);throw dt}gt("  updateInputGraph",function(){!function(Ne,lt){Ne.nodes().forEach(function(gt){var $e,dt=Ne.node(gt);if(dt){var De=lt.node(gt);dt.x=De.x,dt.y=De.y,dt._order=De.order,dt._rank=De.rank,null!==($e=lt.children(gt))&&void 0!==$e&&$e.length&&(dt.width=De.width,dt.height=De.height)}}),Ne.edges().forEach(function(gt){var $e=Ne.edge(gt),dt=lt.edge(gt);$e.points=dt?dt.points:[],dt&&dt.hasOwnProperty("x")&&($e.x=dt.x,$e.y=dt.y)}),Ne.graph().width=lt.graph().width,Ne.graph().height=lt.graph().height}(Ne,$e)})})}},2005:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var R=j(6668),B=function(b,x,m,_,g,S,w){var E=b.children(w);if(E?.length){var A=(0,R.addBorderNode)(b,"_bt"),k=(0,R.addBorderNode)(b,"_bb"),L=b.node(w);b.setParent(A,w),L.borderTop=A,b.setParent(k,w),L.borderBottom=k,E?.forEach(function(ie){B(b,x,m,_,g,S,ie);var te=b.node(ie),$=te.borderTop?te.borderTop:ie,X=te.borderBottom?te.borderBottom:ie,Z=te.borderTop?_:2*_,Y=$!==X?1:g-S[w]+1;b.setEdge(A,$,{minlen:Y,weight:Z,nestingEdge:!0}),b.setEdge(X,k,{minlen:Y,weight:Z,nestingEdge:!0})}),b.parent(w)||b.setEdge(x,A,{weight:0,minlen:g+S[w]})}else w!==x&&b.setEdge(x,w,{weight:0,minlen:m})};z.default={run:function(b){var x,m=(0,R.addDummyNode)(b,"root",{},"_root"),_=function(b){var x,m={},_=function(g,S){b.children(g)?.forEach(function(E){return _(E,S+1)}),m[g]=S};return null===(x=b.children())||void 0===x||x.forEach(function(g){return _(g,1)}),m}(b),g=Math.max.apply(Math,Object.values(_));Math.abs(g)===1/0&&(g=1);var S=g-1,w=2*S+1;b.graph().nestingRoot=m,b.edges().forEach(function(A){b.edge(A).minlen*=w});var E=function(b){var x=0;return b.edges().forEach(function(m){x+=b.edge(m).weight}),x}(b)+1;null===(x=b.children())||void 0===x||x.forEach(function(A){B(b,m,w,E,S,_,A)}),b.graph().nodeRankFactor=w},cleanup:function(b){var x=b.graph();x.nestingRoot&&b.removeNode(x.nestingRoot),delete x.nestingRoot,b.edges().forEach(function(m){b.edge(m).nestingEdge&&b.removeEdgeObj(m)})}}},7849:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var R=j(6668);z.default={run:function(P){P.graph().dummyChains=[],P.edges().forEach(function(T){return function(P,T){var b=T.v,x=P.node(b).rank,m=T.w,_=P.node(m).rank,g=T.name,S=P.edge(T),w=S.labelRank;if(_!==x+1){P.removeEdgeObj(T);var A,k,L,E=P.graph();for(L=0,++x;x<_;++L,++x)S.points=[],A=(0,R.addDummyNode)(P,"edge",k={edgeLabel:S,width:0,height:0,edgeObj:T,rank:x},"_d"),x===w&&(k.width=S.width,k.height=S.height,k.dummy="edge-label",k.labelpos=S.labelpos),P.setEdge(b,A,{weight:S.weight},g),0===L&&(E.dummyChains||(E.dummyChains=[]),E.dummyChains.push(A)),b=A;P.setEdge(b,m,{weight:S.weight},g)}}(P,T)})},undo:function(P){var T;null===(T=P.graph().dummyChains)||void 0===T||T.forEach(function(b){var _,x=P.node(b),m=x.edgeLabel;x.edgeObj&&P.setEdgeObj(x.edgeObj,m);for(var g=b;x.dummy;)_=P.successors(g)[0],P.removeNode(g),m.points.push({x:x.x,y:x.y}),"edge-label"===x.dummy&&(m.x=x.x,m.y=x.y,m.width=x.width,m.height=x.height),x=P.node(g=_)})}}},7088:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function(R,q,B){var P,O={};B?.forEach(function(T){for(var x,m,b=R.parent(T);b;){if((x=R.parent(b))?(m=O[x],O[x]=b):(m=P,P=b),m&&m!==b)return void q.setEdge(m,b);b=x}})}},6924:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function(R,q){return q.map(function(B){var O=R.inEdges(B);if(!O?.length)return{v:B};var P={sum:0,weight:0};return O?.forEach(function(T){var b=R.edge(T),x=R.node(T.v);P.sum+=b.weight*x.order,P.weight+=b.weight}),{v:B,barycenter:P.sum/P.weight,weight:P.weight}})}},2285:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var R=j(8863);z.default=function(O,P,T){var b=function(O){for(var P;O.hasNode(P="_root".concat(Math.random())););return P}(O),x=new R.Graph({compound:!0}).setGraph({root:b}).setDefaultNodeLabel(function(m){return O.node(m)});return O.nodes().forEach(function(m){var _,g=O.node(m),S=O.parent(m);(g.rank===P||g.minRank<=P&&P<=g.maxRank)&&(x.setNode(m),x.setParent(m,S||b),null===(_=O[T](m))||void 0===_||_.forEach(function(w){var E=w.v===m?w.w:w.v,A=x.edgeFromArgs(E,m),k=void 0!==A?A.weight:0;x.setEdge(E,m,{weight:O.edge(w).weight+k})}),g.hasOwnProperty("minRank")&&x.setNode(m,{borderLeft:g.borderLeft[P],borderRight:g.borderRight[P]}))}),x}},887:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var R=j(6668),q=function(O,P,T){for(var b=(0,R.zipObject)(T,T.map(function(E,A){return A})),m=P.map(function(E){var A;return(null===(A=O.outEdges(E))||void 0===A?void 0:A.map(function(L){return{pos:b[L.w]||0,weight:O.edge(L).weight}}))?.sort(function(L,ie){return L.pos-ie.pos})}).flat().filter(function(E){return void 0!==E}),_=1;_<T.length;)_<<=1;var g=2*_-1;_-=1;var S=Array(g).fill(0,0,g),w=0;return m?.forEach(function(E){if(E){var A=E.pos+_;S[A]+=E.weight;for(var k=0;A>0;)A%2&&(k+=S[A+1]),S[A=A-1>>1]+=E.weight;w+=E.weight*k}}),w};z.default=function(O,P){for(var T=0,b=1;b<P?.length;b+=1)T+=q(O,P[b-1],P[b]);return T}},1967:function(qt,z,j){"use strict";var R=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(z,"__esModule",{value:!0});var q=R(j(4473)),B=R(j(887)),O=R(j(2285)),P=R(j(7088)),T=R(j(6178)),b=j(7602),x=j(8863),m=j(6668),g=function(E,A,k){return A.map(function(L){return(0,O.default)(E,L,k)})},S=function(E,A,k,L){var ie=new x.Graph;E?.forEach(function(te){for(var $,X=te.graph().root,Z=(0,T.default)(te,X,ie,A,k,L),Y=0;Y<(null===($=Z.vs)||void 0===$?void 0:$.length);Y++){var ae=te.node(Z.vs[Y]);ae&&(ae.order=Y)}(0,P.default)(te,ie,Z.vs)})},w=function(E,A){A?.forEach(function(k){k?.forEach(function(L,ie){E.node(L).order=ie})})};z.default=function(E,A){for(var k=(0,m.maxRank)(E),L=[],ie=[],te=1;te<k+1;te++)L.push(te);for(te=k-1;te>-1;te--)ie.push(te);var $=g(E,L,"inEdges"),X=g(E,ie,"outEdges"),Z=(0,q.default)(E);w(E,Z);for(var ae,Y=Number.POSITIVE_INFINITY,ne=(te=0,0);ne<4;++te,++ne)S(te%2?$:X,te%4>=2,!1,A),Z=(0,m.buildLayerMatrix)(E),(se=(0,B.default)(E,Z))<Y&&(ne=0,ae=(0,b.clone)(Z),Y=se);for(Z=(0,q.default)(E),w(E,Z),te=0,ne=0;ne<4;++te,++ne){var se;S(te%2?$:X,te%4>=2,!0,A),Z=(0,m.buildLayerMatrix)(E),(se=(0,B.default)(E,Z))<Y&&(ne=0,ae=(0,b.clone)(Z),Y=se)}w(E,ae)}},5884:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function(R,q){for(var O=R.nodes().filter(function(x){var m;return!(null!==(m=R.children(x))&&void 0!==m&&m.length)}).map(function(x){return R.node(x).rank}),P=Math.max.apply(Math,O),T=[],b=0;b<P+1;b++)T[b]=[];q?.forEach(function(x){var m=R.node(x);!m||m?.dummy||isNaN(m.rank)||(m.fixorder=T[m.rank].length,T[m.rank].push(x))})}},4473:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function(R){for(var q={},B=R.nodes().filter(function(S){var w;return!(null!==(w=R.children(S))&&void 0!==w&&w.length)}),O=B.map(function(S){return R.node(S).rank}),P=Math.max.apply(Math,O),T=[],b=0;b<P+1;b++)T.push([]);var x=function(S){var w;if(!q.hasOwnProperty(S)){q[S]=!0;var E=R.node(S);isNaN(E.rank)||T[E.rank].push(S),null===(w=R.successors(S))||void 0===w||w.forEach(function(A){return x(A)})}},m=B.sort(function(S,w){return R.node(S).rank-R.node(w).rank});return m.filter(function(S){return void 0!==R.node(S).fixorder}).sort(function(S,w){return R.node(S).fixorder-R.node(w).fixorder})?.forEach(function(S){isNaN(R.node(S).rank)||T[R.node(S).rank].push(S),q[S]=!0}),m?.forEach(x),T}},3512:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var q=function(B,O){var P,T=0,b=0;B.weight&&(T+=B.barycenter*B.weight,b+=B.weight),O.weight&&(T+=O.barycenter*O.weight,b+=O.weight),B.vs=null===(P=O.vs)||void 0===P?void 0:P.concat(B.vs),B.barycenter=T/b,B.weight=b,B.i=Math.min(O.i,B.i),O.merged=!0};z.default=function(B,O){var P,T,b,x={};return B?.forEach(function(_,g){x[_.v]={i:g,indegree:0,in:[],out:[],vs:[_.v]};var S=x[_.v];void 0!==_.barycenter&&(S.barycenter=_.barycenter,S.weight=_.weight)}),null===(P=O.edges())||void 0===P||P.forEach(function(_){var g=x[_.v],S=x[_.w];void 0!==g&&void 0!==S&&(S.indegree++,g.out.push(x[_.w]))}),function(B){for(var O,P,T=[],m=function(){var S=B.pop();T.push(S),null===(O=S.in.reverse())||void 0===O||O.forEach(function(w){return function(S){return function(w){w.merged||(void 0===w.barycenter||void 0===S.barycenter||w.barycenter>=S.barycenter)&&q(S,w)}}(S)(w)}),null===(P=S.out)||void 0===P||P.forEach(function(w){return function(S){return function(w){w.in.push(S),0==--w.indegree&&B.push(w)}}(S)(w)})};B?.length;)m();var _=T.filter(function(S){return!S.merged}),g=["vs","i","barycenter","weight"];return _.map(function(S){var w={};return g?.forEach(function(E){void 0!==S[E]&&(w[E]=S[E])}),w})}(null===(b=(T=Object.values(x)).filter)||void 0===b?void 0:b.call(T,function(_){return!_.indegree}))}},6178:function(qt,z,j){"use strict";var R=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(z,"__esModule",{value:!0});var q=R(j(6924)),B=R(j(3512)),O=R(j(5933)),P=function(x,m,_,g,S,w){var E,A,k,L,ie=x.children(m),te=x.node(m),$=te?te.borderLeft:void 0,X=te?te.borderRight:void 0,Z={};$&&(ie=ie?.filter(function(ge){return ge!==$&&ge!==X}));var Y=(0,q.default)(x,ie||[]);Y?.forEach(function(ge){var Fe;if(null!==(Fe=x.children(ge.v))&&void 0!==Fe&&Fe.length){var Ae=P(x,ge.v,_,g,w);Z[ge.v]=Ae,Ae.hasOwnProperty("barycenter")&&b(ge,Ae)}});var ae=(0,B.default)(Y,_);T(ae,Z),null===(E=ae.filter(function(ge){return ge.vs.length>0}))||void 0===E||E.forEach(function(ge){var Fe=x.node(ge.vs[0]);Fe&&(ge.fixorder=Fe.fixorder,ge.order=Fe.order)});var ne=(0,O.default)(ae,g,S,w);if($&&(ne.vs=[$,ne.vs,X].flat(),null!==(A=x.predecessors($))&&void 0!==A&&A.length)){var se=x.node((null===(k=x.predecessors($))||void 0===k?void 0:k[0])||""),ve=x.node((null===(L=x.predecessors(X))||void 0===L?void 0:L[0])||"");ne.hasOwnProperty("barycenter")||(ne.barycenter=0,ne.weight=0),ne.barycenter=(ne.barycenter*ne.weight+se.order+ve.order)/(ne.weight+2),ne.weight+=2}return ne},T=function(x,m){x?.forEach(function(_){var g,S=null===(g=_.vs)||void 0===g?void 0:g.map(function(w){return m[w]?m[w].vs:w});_.vs=S.flat()})},b=function(x,m){void 0!==x.barycenter?(x.barycenter=(x.barycenter*x.weight+m.barycenter*m.weight)/(x.weight+m.weight),x.weight+=m.weight):(x.barycenter=m.barycenter,x.weight=m.weight)};z.default=P},5933:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var R=j(6668),B=function(P,T,b){for(var m,x=b;T.length&&(m=T[T.length-1]).i<=x;)T.pop(),P?.push(m.vs),x++;return x};z.default=function(P,T,b,x){var m=(0,R.partition)(P,function(L){var ie=L.hasOwnProperty("fixorder")&&!isNaN(L.fixorder);return x?!ie&&L.hasOwnProperty("barycenter"):ie||L.hasOwnProperty("barycenter")}),_=m.lhs,g=m.rhs.sort(function(L,ie){return-L.i- -ie.i}),S=[],w=0,E=0,A=0;_?.sort(function(P,T){return function(b,x){if(void 0!==b.fixorder&&void 0!==x.fixorder)return b.fixorder-x.fixorder;if(b.barycenter<x.barycenter)return-1;if(b.barycenter>x.barycenter)return 1;if(T&&void 0!==b.order&&void 0!==x.order){if(b.order<x.order)return-1;if(b.order>x.order)return 1}return P?x.i-b.i:b.i-x.i}}(!!T,!!b)),A=B(S,g,A),_?.forEach(function(L){var ie;A+=null===(ie=L.vs)||void 0===ie?void 0:ie.length,S.push(L.vs),w+=L.barycenter*L.weight,E+=L.weight,A=B(S,g,A)});var k={vs:S.flat()};return E&&(k.barycenter=w/E,k.weight=E),k}},8727:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function(B){var O,P=function(B){var O,P={},T=0,b=function(x){var m,_=T;null===(m=B.children(x))||void 0===m||m.forEach(b),P[x]={low:_,lim:T++}};return null===(O=B.children())||void 0===O||O.forEach(b),P}(B);null===(O=B.graph().dummyChains)||void 0===O||O.forEach(function(T){var b,x,m=T,_=B.node(m),g=_.edgeObj;if(g)for(var S=function(B,O,P,T){var g,S,b=[],x=[],m=Math.min(O[P].low,O[T].low),_=Math.max(O[P].lim,O[T].lim);g=P;do{g=B.parent(g),b.push(g)}while(g&&(O[g].low>m||_>O[g].lim));for(S=g,g=T;g&&g!==S;)x.push(g),g=B.parent(g);return{lca:S,path:b.concat(x.reverse())}}(B,P,g.v,g.w),w=S.path,E=S.lca,A=0,k=w[A],L=!0;m!==g.w;){if(_=B.node(m),L){for(;k!==E&&(null===(b=B.node(k))||void 0===b?void 0:b.maxRank)<_.rank;)k=w[++A];k===E&&(L=!1)}if(!L){for(;A<w.length-1&&(null===(x=B.node(w[A+1]))||void 0===x?void 0:x.minRank)<=_.rank;)A++;k=w[A]}B.setParent(m,k),m=B.successors(m)[0]}})}},2063:function(qt,z,j){"use strict";var te,R=this&&this.__extends||(te=function($,X){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,Y){Z.__proto__=Y}||function(Z,Y){for(var ae in Y)Object.prototype.hasOwnProperty.call(Y,ae)&&(Z[ae]=Y[ae])})($,X)},function($,X){if("function"!=typeof X&&null!==X)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function Z(){this.constructor=$}te($,X),$.prototype=null===X?Object.create(X):(Z.prototype=X.prototype,new Z)});Object.defineProperty(z,"__esModule",{value:!0}),z.width=z.sep=z.positionX=z.balance=z.alignCoordinates=z.findSmallestWidthAlignment=z.buildBlockGraph=z.horizontalCompaction=z.verticalAlignment=z.hasConflict=z.addConflict=z.findOtherInnerSegmentNode=z.findType2Conflicts=z.findType1Conflicts=void 0;var q=j(7782),B=j(6668),O=function(te){function $(){return null!==te&&te.apply(this,arguments)||this}return R($,te),$}(q.Graph);function E(te,$){var X=Object.values($),Z=Math.min.apply(Math,X),Y=Math.max.apply(Math,X);["u","d"].forEach(function(ae){["l","r"].forEach(function(ne){var ge,se=ae+ne,ve=te[se];if(ve!==$){var Fe=Object.values(ve);(ge="l"===ne?Z-Math.min.apply(Math,Fe):Y-Math.max.apply(Math,Fe))&&(te[se]={},Object.keys(ve).forEach(function(Ae){te[se][Ae]=ve[Ae]+ge}))}})})}z.findType1Conflicts=function(te,$){var X={};return $?.length&&$.reduce(function(Y,ae){var ne=0,se=0,ve=Y.length,ge=ae?.[ae?.length-1];return ae?.forEach(function(Fe,Ae){var ze,oe=(0,z.findOtherInnerSegmentNode)(te,Fe),ce=oe?te.node(oe).order:ve;(oe||Fe===ge)&&(null===(ze=ae.slice(se,Ae+1))||void 0===ze||ze.forEach(function(H){var re;null===(re=te.predecessors(H))||void 0===re||re.forEach(function(ye){var Ce,Ie=te.node(ye),Ue=Ie.order;(Ue<ne||ce<Ue)&&(!Ie.dummy||null===(Ce=te.node(H))||void 0===Ce||!Ce.dummy)&&(0,z.addConflict)(X,ye,H)})}),se=Ae+1,ne=ce)}),ae}),X},z.findType2Conflicts=function(te,$){var X={};function Z(se,ve,ge,Fe,Ae){for(var ze,oe,ce,H=ve;H<ge;H++)null!==(ze=te.node(ce=se[H]))&&void 0!==ze&&ze.dummy&&(null===(oe=te.predecessors(ce))||void 0===oe||oe.forEach(function(re){var ye=te.node(re);ye.dummy&&(ye.order<Fe||ye.order>Ae)&&(0,z.addConflict)(X,re,ce)}))}function ae(se,ve){var ge=function Y(se){return JSON.stringify(se.slice(1))}(se);ve.get(ge)||(Z.apply(void 0,se),ve.set(ge,!0))}return $?.length&&$.reduce(function(se,ve){var Fe,ge=-1,Ae=0,ze=new Map;return ve?.forEach(function(oe,ce){var H;if("border"===(null===(H=te.node(oe))||void 0===H?void 0:H.dummy)){var re=te.predecessors(oe)||[];re.length&&(Fe=te.node(re[0]).order,ae([ve,Ae,ce,ge,Fe],ze),Ae=ce,ge=Fe)}ae([ve,Ae,ve.length,Fe,se.length],ze)}),ve}),X},z.findOtherInnerSegmentNode=function(te,$){var X,Z;if(null!==(X=te.node($))&&void 0!==X&&X.dummy)return null===(Z=te.predecessors($))||void 0===Z?void 0:Z.find(function(Y){return te.node(Y).dummy})},z.addConflict=function(te,$,X){var Z=$,Y=X;if(Z>Y){var ae=Z;Z=Y,Y=ae}var ne=te[Z];ne||(te[Z]=ne={}),ne[Y]=!0},z.hasConflict=function(te,$,X){var Z=$;return Z>X&&(Z=X),!!te[Z]},z.verticalAlignment=function(te,$,X,Z){var Y={},ae={},ne={};return $?.forEach(function(se){se?.forEach(function(ve,ge){Y[ve]=ve,ae[ve]=ve,ne[ve]=ge})}),$?.forEach(function(se){var ve=-1;se?.forEach(function(ge){var Fe=Z(ge);if(Fe.length)for(var Ae=((Fe=Fe.sort(function(H,re){return ne[H]-ne[re]})).length-1)/2,ze=Math.floor(Ae),oe=Math.ceil(Ae);ze<=oe;++ze){var ce=Fe[ze];ae[ge]===ge&&ve<ne[ce]&&!(0,z.hasConflict)(X,ge,ce)&&(ae[ce]=ge,ae[ge]=Y[ge]=Y[ce],ve=ne[ce])}})}),{root:Y,align:ae}},z.horizontalCompaction=function(te,$,X,Z,Y){var ae,ne={},se=(0,z.buildBlockGraph)(te,$,X,Y),ve=Y?"borderLeft":"borderRight",ge=function(ze,oe){for(var ce=se.nodes(),H=ce.pop(),re={};H;)re[H]?ze(H):(re[H]=!0,ce.push(H),ce=ce.concat(oe(H))),H=ce.pop()};return ge(function(ze){ne[ze]=(se.inEdges(ze)||[]).reduce(function(oe,ce){return Math.max(oe,(ne[ce.v]||0)+se.edge(ce))},0)},se.predecessors.bind(se)),ge(function(ze){var oe=(se.outEdges(ze)||[]).reduce(function(H,re){return Math.min(H,(ne[re.w]||0)-se.edge(re))},Number.POSITIVE_INFINITY),ce=te.node(ze);oe!==Number.POSITIVE_INFINITY&&ce.borderType!==ve&&(ne[ze]=Math.max(ne[ze],oe))},se.successors.bind(se)),null===(ae=Object.values(Z))||void 0===ae||ae.forEach(function(ze){ne[ze]=ne[X[ze]]}),ne},z.buildBlockGraph=function(te,$,X,Z){var Y=new O,ae=te.graph(),ne=(0,z.sep)(ae.nodesep,ae.edgesep,Z);return $?.forEach(function(se){var ve;se?.forEach(function(ge){var Fe=X[ge];if(Y.setNode(Fe),ve){var Ae=X[ve],ze=Y.edgeFromArgs(Ae,Fe);Y.setEdge(Ae,Fe,Math.max(ne(te,ge,ve),ze||0))}ve=ge})}),Y},z.findSmallestWidthAlignment=function(te,$){return(0,B.minBy)(Object.values($),function(X){var Z,Y=Number.NEGATIVE_INFINITY,ae=Number.POSITIVE_INFINITY;return null===(Z=Object.keys(X))||void 0===Z||Z.forEach(function(ne){var se=X[ne],ve=(0,z.width)(te,ne)/2;Y=Math.max(se+ve,Y),ae=Math.min(se-ve,ae)}),Y-ae})},z.alignCoordinates=E,z.balance=function(te,$){var X={};return Object.keys(te.ul).forEach(function(Z){if($)X[Z]=te[$.toLowerCase()][Z];else{var Y=Object.values(te).map(function(ae){return ae[Z]});X[Z]=(Y[0]+Y[1])/2}}),X},z.positionX=function(te){var Y,$=(0,B.buildLayerMatrix)(te),X=Object.assign((0,z.findType1Conflicts)(te,$),(0,z.findType2Conflicts)(te,$)),Z={};["u","d"].forEach(function(ne){Y="u"===ne?$:Object.values($).reverse(),["l","r"].forEach(function(se){"r"===se&&(Y=Y.map(function(Ae){return Object.values(Ae).reverse()}));var ve=("u"===ne?te.predecessors:te.successors).bind(te),ge=(0,z.verticalAlignment)(te,Y,X,ve),Fe=(0,z.horizontalCompaction)(te,Y,ge.root,ge.align,"r"===se);"r"===se&&Object.keys(Fe).forEach(function(Ae){Fe[Ae]=-Fe[Ae]}),Z[ne+se]=Fe})});var ae=(0,z.findSmallestWidthAlignment)(te,Z);return E(Z,ae),(0,z.balance)(Z,te.graph().align)},z.sep=function(te,$,X){return function(Z,Y,ae){var ge,ne=Z.node(Y),se=Z.node(ae),ve=0;if(ve+=ne.width/2,ne.hasOwnProperty("labelpos"))switch((ne.labelpos||"").toLowerCase()){case"l":ge=-ne.width/2;break;case"r":ge=ne.width/2}if(ge&&(ve+=X?ge:-ge),ge=0,ve+=(ne.dummy?$:te)/2,ve+=(se.dummy?$:te)/2,ve+=se.width/2,se.labelpos)switch((se.labelpos||"").toLowerCase()){case"l":ge=se.width/2;break;case"r":ge=-se.width/2}return ge&&(ve+=X?ge:-ge),ge=0,ve}},z.width=function(te,$){return te.node($).width||0}},7390:function(qt,z,j){"use strict";var R=this&&this.__spreadArray||function(b,x,m){if(m||2===arguments.length)for(var S,_=0,g=x.length;_<g;_++)(S||!(_ in x))&&(S||(S=Array.prototype.slice.call(x,0,_)),S[_]=x[_]);return b.concat(S||Array.prototype.slice.call(x))};Object.defineProperty(z,"__esModule",{value:!0});var q=j(6668),B=j(2063);z.default=function(b){var x,m=(0,q.asNonCompoundGraph)(b);!function(b){var x=(0,q.buildLayerMatrix)(b),m=b.graph().ranksep,_=0;x?.forEach(function(g){var S=g.map(function(E){return b.node(E).height}),w=Math.max.apply(Math,R(R([],S,!1),[0],!1));g?.forEach(function(E){b.node(E).y=_+w/2}),_+=w+m})}(m);var _=function(b){var x=(0,q.buildLayerMatrix)(b),m=Object.assign((0,B.findType1Conflicts)(b,x),(0,B.findType2Conflicts)(b,x)),_={},g=[];["u","d"].forEach(function(w){g="u"===w?x:Object.values(x).reverse(),["l","r"].forEach(function(E){"r"===E&&(g=g.map(function(ie){return Object.values(ie).reverse()}));var A=("u"===w?b.predecessors:b.successors).bind(b),k=(0,B.verticalAlignment)(b,g,m,A),L=(0,B.horizontalCompaction)(b,g,k.root,k.align,"r"===E);"r"===E&&Object.keys(L).forEach(function(ie){return L[ie]=-L[ie]}),_[w+E]=L})});var S=(0,B.findSmallestWidthAlignment)(b,_);return S&&(0,B.alignCoordinates)(_,S),(0,B.balance)(_,b.graph().align)}(m);null===(x=Object.keys(_))||void 0===x||x.forEach(function(g){m.node(g).x=_[g]})}},8044:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.feasibleTreeWithLayer=z.feasibleTree=void 0;var R=j(2831),q=j(6668),B=j(8863),O=function(_){var E,A,g=new B.Graph({directed:!1}),S=_.nodes()[0],w=_.nodeCount();for(g.setNode(S,{});P(g,_)<w;)E=x(g,_),A=g.hasNode(E.v)?(0,R.slack)(_,E):-(0,R.slack)(_,E),m(g,_,A);return g};z.feasibleTree=O;var P=function(_,g){var S=function(w){g.nodeEdges(w).forEach(function(E){var A=E.v,k=w===A?E.w:A;!_.hasNode(k)&&!(0,R.slack)(g,E)&&(_.setNode(k,{}),_.setEdge(w,k,{}),S(k))})};return _.nodes().forEach(S),_.nodeCount()},T=function(_){var E,A,g=new B.Graph({directed:!1}),S=_.nodes()[0],w=_.nodes().filter(function(k){return!!_.node(k)}).length;for(g.setNode(S,{});b(g,_)<w;)E=x(g,_),A=g.hasNode(E.v)?(0,R.slack)(_,E):-(0,R.slack)(_,E),m(g,_,A);return g};z.feasibleTreeWithLayer=T;var b=function(_,g){var S=function(w){var E;null===(E=g.nodeEdges(w))||void 0===E||E.forEach(function(A){var k=A.v,L=w===k?A.w:k;!_.hasNode(L)&&(void 0!==g.node(L).layer||!(0,R.slack)(g,A))&&(_.setNode(L,{}),_.setEdge(w,L,{}),S(L))})};return _.nodes().forEach(S),_.nodeCount()},x=function(_,g){return(0,q.minBy)(g.edges(),function(S){return _.hasNode(S.v)!==_.hasNode(S.w)?(0,R.slack)(g,S):1/0})},m=function(_,g,S){_.nodes().forEach(function(w){g.node(w).rank||(g.node(w).rank=0),g.node(w).rank+=S})};z.default={feasibleTree:O,feasibleTreeWithLayer:T}},5127:function(qt,z,j){"use strict";var R=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(z,"__esModule",{value:!0});var q=j(2831),B=j(8044),O=R(j(795)),T=q.longestPath;z.default=function(m){switch(m.graph().ranker){case"network-simplex":!function(m){(0,O.default)(m)}(m);break;case"tight-tree":default:!function(m){(0,q.longestPathWithLayer)(m),(0,B.feasibleTreeWithLayer)(m)}(m);break;case"longest-path":T(m)}}},795:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.exchangeEdges=z.enterEdge=z.leaveEdge=z.initLowLimValues=z.calcCutValue=z.initCutValues=void 0;var R=j(8044),q=j(2831),B=j(6668),O=j(7782),P=O.algorithm.preorder,T=O.algorithm.postorder;z.initCutValues=function(te,$){var X=T(te,te.nodes());X=X?.slice(0,X?.length-1),X?.forEach(function(Z){m(te,$,Z)})};var m=function(te,$,X){var Z=te.node(X);te.edgeFromArgs(X,Z.parent).cutvalue=(0,z.calcCutValue)(te,$,X)};z.calcCutValue=function(te,$,X){var Z,ae=te.node(X).parent,ne=!0,se=$.edgeFromArgs(X,ae),ve=0;return se||(ne=!1,se=$.edgeFromArgs(ae,X)),ve=se.weight,null===(Z=$.nodeEdges(X))||void 0===Z||Z.forEach(function(ge){var Fe=ge.v===X,Ae=Fe?ge.w:ge.v;if(Ae!==ae){var ze=Fe===ne,oe=$.edge(ge).weight;if(ve+=ze?oe:-oe,L(te,X,Ae)){var ce=te.edgeFromArgs(X,Ae).cutvalue;ve+=ze?-ce:ce}}}),ve},z.initLowLimValues=function(te,$){void 0===$&&($=te.nodes()[0]),S(te,{},1,$)};var S=function(te,$,X,Z,Y){var ae,ne=X,se=X,ve=te.node(Z);return $[Z]=!0,null===(ae=te.neighbors(Z))||void 0===ae||ae.forEach(function(ge){$[ge]||(se=S(te,$,se,ge,Z))}),ve.low=ne,ve.lim=se++,Y?ve.parent=Y:delete ve.parent,se};z.leaveEdge=function(te){return te.edges().find(function($){return te.edge($).cutvalue<0})},z.enterEdge=function(te,$,X){var Z=X.v,Y=X.w;$.hasEdge(Z,Y)||(Z=X.w,Y=X.v);var ae=te.node(Z),ne=te.node(Y),se=ae,ve=!1;ae.lim>ne.lim&&(se=ne,ve=!0);var ge=$.edges().filter(function(Fe){return ve===ie(te,te.node(Fe.v),se)&&ve!==ie(te,te.node(Fe.w),se)});return(0,B.minBy)(ge,function(Fe){return(0,q.slack)($,Fe)})},z.exchangeEdges=function(te,$,X,Z){te.removeEdge(X.v,X.w),te.setEdge(Z.v,Z.w,{}),(0,z.initLowLimValues)(te),(0,z.initCutValues)(te,$),k(te,$)};var k=function(te,$){var X=te.nodes().find(function(Y){var ae;return!(null!==(ae=$.node(Y))&&void 0!==ae&&ae.parent)}),Z=P(te,X);Z=Z?.slice(1),Z?.forEach(function(Y){var ae=te.node(Y).parent,ne=$.edgeFromArgs(Y,ae),se=!1;ne||(ne=$.edgeFromArgs(ae,Y),se=!0),$.node(Y).rank=$.node(ae).rank+(se?ne.minlen:-ne.minlen)})},L=function(te,$,X){return te.hasEdge($,X)},ie=function(te,$,X){return X.low<=$.lim&&$.lim<=X.lim};z.default=function(te){var $=(0,B.simplify)(te);(0,q.longestPath)($);var Z,Y,X=(0,R.feasibleTree)($);for((0,z.initLowLimValues)(X),(0,z.initCutValues)(X,$);Z=(0,z.leaveEdge)(X);)Y=(0,z.enterEdge)(X,$,Z),(0,z.exchangeEdges)(X,$,Z,Y)}},2831:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.slack=z.longestPathWithLayer=z.longestPath=void 0;var j=function(B){var O,P={},T=function(b){var x,_,m=B.node(b);return m?P[b]?m.rank:(P[b]=!0,null===(x=B.outEdges(b))||void 0===x||x.forEach(function(g){var E=T(g.w)-B.edge(g).minlen;E&&(void 0===_||E<_)&&(_=E)}),_||(_=0),m.rank=_,_):0};null===(O=B.sources())||void 0===O||O.forEach(function(b){return T(b)})};z.longestPath=j;var R=function(B){var O,T,P={},b=function(_){var g,w,S=B.node(_);return S?P[_]?S.rank:(P[_]=!0,null===(g=B.outEdges(_))||void 0===g||g.forEach(function(E){var L=b(E.w)-B.edge(E).minlen;L&&(void 0===w||L<w)&&(w=L)}),w||(w=0),(void 0===T||w<T)&&(T=w),S.rank=w,w):0};null===(O=B.sources())||void 0===O||O.forEach(function(_){B.node(_)&&b(_)}),void 0===T&&(T=0);var x={},m=function(_,g){var S,w=B.node(_),E=isNaN(w.layer)?g:w.layer;(void 0===w.rank||w.rank<E)&&(w.rank=E),!x[_]&&(x[_]=!0,null===(S=B.outEdges(_))||void 0===S||S.map(function(A){m(A.w,E+B.edge(A).minlen)}))};B.nodes().forEach(function(_){var g=B.node(_);g&&(isNaN(g.layer)?g.rank-=T:m(_,g.layer))})};z.longestPathWithLayer=R;var q=function(B,O){return B.node(O.w).rank-B.node(O.v).rank-B.edge(O).minlen};z.slack=q,z.default={longestPath:j,longestPathWithLayer:R,slack:q}},6668:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.minBy=z.notime=z.time=z.partition=z.maxRank=z.addBorderNode=z.removeEmptyRanks=z.normalizeRanks=z.buildLayerMatrix=z.intersectRect=z.predecessorWeights=z.successorWeights=z.zipObject=z.asNonCompoundGraph=z.simplify=z.addDummyNode=void 0;var R=j(7602),q=j(8863),B=function($,X){return Number($)-Number(X)};z.addDummyNode=function($,X,Z,Y){var ae;do{ae="".concat(Y).concat(Math.random())}while($.hasNode(ae));return Z.dummy=X,$.setNode(ae,Z),ae},z.simplify=function($){var X=(new q.Graph).setGraph($.graph());return $.nodes().forEach(function(Z){X.setNode(Z,$.node(Z))}),$.edges().forEach(function(Z){var Y=X.edgeFromArgs(Z.v,Z.w)||{weight:0,minlen:1},ae=$.edge(Z);X.setEdge(Z.v,Z.w,{weight:Y.weight+ae.weight,minlen:Math.max(Y.minlen,ae.minlen)})}),X},z.asNonCompoundGraph=function($){var X=new q.Graph({multigraph:$.isMultigraph()}).setGraph($.graph());return $.nodes().forEach(function(Z){var Y;null!==(Y=$.children(Z))&&void 0!==Y&&Y.length||X.setNode(Z,$.node(Z))}),$.edges().forEach(function(Z){X.setEdgeObj(Z,$.edge(Z))}),X},z.zipObject=function($,X){return $?.reduce(function(Z,Y,ae){return Z[Y]=X[ae],Z},{})},z.successorWeights=function($){var X={};return $.nodes().forEach(function(Z){var Y,ae={};null===(Y=$.outEdges(Z))||void 0===Y||Y.forEach(function(ne){var se;ae[ne.w]=(ae[ne.w]||0)+((null===(se=$.edge(ne))||void 0===se?void 0:se.weight)||0)}),X[Z]=ae}),X},z.predecessorWeights=function($){var X=$.nodes(),Z=X.map(function(Y){var ae,ne={};return null===(ae=$.inEdges(Y))||void 0===ae||ae.forEach(function(se){ne[se.v]=(ne[se.v]||0)+$.edge(se).weight}),ne});return(0,z.zipObject)(X,Z)},z.intersectRect=function($,X){var ge,Fe,Z=Number($.x),Y=Number($.y),ae=Number(X.x)-Z,ne=Number(X.y)-Y,se=Number($.width)/2,ve=Number($.height)/2;return ae||ne?(Math.abs(ne)*se>Math.abs(ae)*ve?(ne<0&&(ve=-ve),ge=ve*ae/ne,Fe=ve):(ae<0&&(se=-se),ge=se,Fe=se*ne/ae),{x:Z+ge,y:Y+Fe}):{x:0,y:0}},z.buildLayerMatrix=function($){for(var X=[],Z=(0,z.maxRank)($)+1,Y=0;Y<Z;Y++)X.push([]);for($.nodes().forEach(function(ae){var ne=$.node(ae);if(ne){var se=ne.rank;void 0!==se&&X[se]&&X[se].push(ae)}}),Y=0;Y<Z;Y++)X[Y]=X[Y].sort(function(ne,se){var ve,ge;return B(null===(ve=$.node(ne))||void 0===ve?void 0:ve.order,null===(ge=$.node(se))||void 0===ge?void 0:ge.order)});return X},z.normalizeRanks=function($){var X=$.nodes().filter(function(Y){var ae;return void 0!==(null===(ae=$.node(Y))||void 0===ae?void 0:ae.rank)}).map(function(Y){return $.node(Y).rank}),Z=Math.min.apply(Math,X);$.nodes().forEach(function(Y){var ae=$.node(Y);ae.hasOwnProperty("rank")&&Z!==1/0&&(ae.rank-=Z)})},z.removeEmptyRanks=function($){var X=$.nodes(),Z=X.filter(function(Fe){var Ae;return void 0!==(null===(Ae=$.node(Fe))||void 0===Ae?void 0:Ae.rank)}).map(function(Fe){return $.node(Fe).rank}),Y=Math.min.apply(Math,Z),ae=[];X.forEach(function(Fe){var Ae,ze=((null===(Ae=$.node(Fe))||void 0===Ae?void 0:Ae.rank)||0)-Y;ae[ze]||(ae[ze]=[]),ae[ze].push(Fe)});for(var ne=0,se=$.graph().nodeRankFactor||0,ve=0;ve<ae.length;ve++){var ge=ae[ve];void 0===ge?ve%se!=0&&(ne-=1):ne&&ge?.forEach(function(Fe){var Ae=$.node(Fe);Ae&&(Ae.rank=Ae.rank||0,Ae.rank+=ne)})}},z.addBorderNode=function($,X,Z,Y){var ae={width:0,height:0};return(0,R.isNumber)(Z)&&(0,R.isNumber)(Y)&&(ae.rank=Z,ae.order=Y),(0,z.addDummyNode)($,"border",ae,X)},z.maxRank=function($){var X;return $.nodes().forEach(function(Z){var Y,ae=null===(Y=$.node(Z))||void 0===Y?void 0:Y.rank;void 0!==ae&&(void 0===X||ae>X)&&(X=ae)}),X||(X=0),X},z.partition=function($,X){var Z={lhs:[],rhs:[]};return $?.forEach(function(Y){X(Y)?Z.lhs.push(Y):Z.rhs.push(Y)}),Z},z.time=function($,X){var Z=Date.now();try{return X()}finally{console.log("".concat($," time: ").concat(Date.now()-Z,"ms"))}},z.notime=function($,X){return X()},z.minBy=function($,X){return $.reduce(function(Z,Y){return X(Z)>X(Y)?Y:Z})}},4632:function(qt,z,j){"use strict";var x,R=this&&this.__extends||(x=function(m,_){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(g[w]=S[w])})(m,_)},function(m,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function g(){this.constructor=m}x(m,_),m.prototype=null===_?Object.create(_):(g.prototype=_.prototype,new g)}),q=this&&this.__assign||function(){return q=Object.assign||function(x){for(var m,_=1,g=arguments.length;_<g;_++)for(var S in m=arguments[_])Object.prototype.hasOwnProperty.call(m,S)&&(x[S]=m[S]);return x},q.apply(this,arguments)},B=this&&this.__spreadArray||function(x,m,_){if(_||2===arguments.length)for(var w,g=0,S=m.length;g<S;g++)(w||!(g in m))&&(w||(w=Array.prototype.slice.call(m,0,g)),w[g]=m[g]);return x.concat(w||Array.prototype.slice.call(m))};Object.defineProperty(z,"__esModule",{value:!0}),z.DagreCompoundLayout=void 0;var O=j(8792),P=j(7645),T=j(7602),b=function(x){function m(_){var g=x.call(this)||this;return g.rankdir="TB",g.nodesep=50,g.edgesep=5,g.ranksep=50,g.controlPoints=!0,g.anchorPoint=!0,g.nodes=[],g.edges=[],g.combos=[],g.onLayoutEnd=function(){},g.updateCfg(_),g}return R(m,x),m.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},m.prototype.init=function(_){var S=_.hiddenEdges||[],w=_.hiddenCombos||[];this.nodes=this.getDataByOrder((_.nodes||[]).concat(_.hiddenNodes||[])),this.edges=this.getDataByOrder((_.edges||[]).concat(S)),this.combos=(_.combos||[]).concat(w.map(function(E){return q(q({},E),{collapsed:!0})}))},m.prototype.execute=function(){var _=this,g=_.nodes,S=_.edges;if(g){var w=_.getLayoutConfig(),L=(0,P.buildGraph)(w.graphDef,w.graphOption,w.graphSettings),ie=(0,P.flatGraph)(L,!0);return this.updatePosition(ie),_.onLayoutEnd&&_.onLayoutEnd(),{nodes:g,edges:S}}},m.prototype.getNodePath=function(_){var w=this.combos,E=this.nodes.find(function(k){return k.id===_}),A=function(k,L){void 0===L&&(L=[]);var ie=w.find(function(te){return te.id===k});return ie?(L.unshift(k),ie.parentId?A(ie.parentId,L):L):L};return E&&E.comboId?A(E.comboId,[_]):[_]},m.prototype.getLayoutConfig=function(){var _,g,S,ne,w=this,E=w.nodes,A=w.edges,k=w.combos,L=w.nodeSize,ie=w.rankdir,te=w.align,$=w.edgesep,X=w.nodesep,Z=w.ranksep,Y=w.settings,ae=(k||[]).reduce(function(pt,st){var Ne=E.filter(function(gt){return gt.comboId===st.id}).map(function(gt){return gt.id}),lt=(k||[]).filter(function(gt){return gt.parentId===st.id}).map(function(gt){return gt.id});return(Ne.length||lt.length)&&(pt[st.id]=B(B([],Ne,!0),lt,!0)),pt},{});ne=L?(0,T.isArray)(L)?function(){return L}:function(){return[L,L]}:function(pt){return pt&&pt.size?(0,T.isArray)(pt.size)?pt.size:(0,T.isObject)(pt.size)?[pt.size.width||40,pt.size.height||40]:[pt.size,pt.size]:[40,40]};var pt,ve=(pt=k?.[0],pt&&pt.size?(0,T.isArray)(pt.size)?pt.size:[pt.size,pt.size]:[80,40]),ge=ve[0],Fe=ve[1],Ae=null===(g=null===(_=w.graphSettings)||void 0===_?void 0:_.subScene)||void 0===g?void 0:g.meta,ze=(null===(S=k.find(function(pt){return!pt.collapsed}))||void 0===S?void 0:S.padding)||[20,20,20,20],oe=ze[0],ce=ze[1],H=ze[2],re=ze[3],ye={compound:ae,nodes:B([],(E||[]).map(function(pt){var st=ne(pt),Ne=st[0],lt=st[1];return q(q({},pt),{width:Ne,height:lt})}),!0),edges:B([],(A||[]).map(function(pt){return q(q({},pt),{v:pt.source,w:pt.target})}),!0)},Ce={expanded:(k||[]).filter(function(pt){return!pt.collapsed}).map(function(pt){return pt.id})},Ue=(0,P.mergeConfig)(Y,q({},(0,P.mergeConfig)({graph:{meta:{align:te,rankDir:ie,nodeSep:X,edgeSep:$,rankSep:Z}},subScene:{meta:{paddingTop:oe||Ae?.paddingTop||20,paddingRight:ce||Ae?.paddingRight||20,paddingBottom:H||Ae?.paddingBottom||20,paddingLeft:re||Ae?.paddingLeft||20,labelHeight:0}},nodeSize:{meta:{width:ge,height:Fe}}},P.LAYOUT_CONFIG)));return w.graphSettings=Ue,{graphDef:ye,graphOption:Ce,graphSettings:Ue}},m.prototype.updatePosition=function(_){var g=_.nodes,S=_.edges;this.updateNodePosition(g,S),this.updateEdgePosition(g,S)},m.prototype.getBegin=function(_,g){var w=this.begin,E=[0,0];if(w){var A=1/0,k=1/0;_.forEach(function(L){A>L.x&&(A=L.x),k>L.y&&(k=L.y)}),g.forEach(function(L){L.points.forEach(function(ie){A>ie.x&&(A=ie.x),k>ie.y&&(k=ie.y)})}),E[0]=w[0]-A,E[1]=w[1]-k}return E},m.prototype.updateNodePosition=function(_,g){var S=this,w=S.combos,E=S.nodes,A=S.edges,k=S.anchorPoint,L=S.graphSettings,ie=this.getBegin(_,g);_.forEach(function(te){var $,X=te.x,Z=te.y,Y=te.id,ae=te.type,ne=te.coreBox;if(ae===P.HierarchyNodeType.META&&Y!==P.ROOT_NAME){var se=w.findIndex(function(ze){return ze.id===Y}),ve=null===($=L?.subScene)||void 0===$?void 0:$.meta;w[se].offsetX=X+ie[0],w[se].offsetY=Z+ie[1],w[se].fixSize=[ne.width,ne.height],w[se].fixCollapseSize=[ne.width,ne.height],w[se].padding=te.expanded?[ve?.paddingTop,ve?.paddingRight,ve?.paddingBottom,ve?.paddingLeft]:[0,0,0,0]}else if(ae===P.HierarchyNodeType.OP&&(se=E.findIndex(function(oe){return oe.id===Y}),E[se].x=X+ie[0],E[se].y=Z+ie[1],k)){var ge=[],Fe=g.filter(function(oe){return oe.v===Y}),Ae=g.filter(function(oe){return oe.w===Y});Fe.length>0&&Fe.forEach(function(oe){var ce=oe.points[0];ge.push([(ce.x-X)/te.width+.5,(ce.y-Z)/te.height+.5]),oe.baseEdgeList.forEach(function(ye){var Ce=A.find(function(Ie){return Ie.source===ye.v&&Ie.target===ye.w});Ce&&(Ce.sourceAnchor=ge.length-1)})}),Ae.length>0&&Ae.forEach(function(oe){var ce=oe.points[oe.points.length-1];ge.push([(ce.x-X)/te.width+.5,(ce.y-Z)/te.height+.5]),oe.baseEdgeList.forEach(function(ye){var Ce=A.find(function(Ie){return Ie.source===ye.v&&Ie.target===ye.w});Ce&&(Ce.targetAnchor=ge.length-1)})}),E[se].anchorPoints=ge.length>0?ge:E[se].anchorPoints||[]}})},m.prototype.updateEdgePosition=function(_,g){var S=this,w=S.combos,E=S.edges,A=S.controlPoints,k=this.getBegin(_,g);A&&(w.forEach(function(L){L.inEdges=[],L.outEdges=[]}),E.forEach(function(L){var ie,te,$,X,Z=_.find(function(ze){return ze.id===L.source}),Y=_.find(function(ze){return ze.id===L.target}),ae=[],ne=[];if(Z&&Y)ne=(0,P.getEdges)(Z?.id,Y?.id,_);else if(!Z||!Y){var se=S.getNodePath(L.source),ve=S.getNodePath(L.target),ge=se.reverse().slice(Z?0:1).find(function(ze){return _.find(function(oe){return oe.id===ze})}),Fe=ve.reverse().slice(Y?0:1).find(function(ze){return _.find(function(oe){return oe.id===ze})});Z=_.find(function(ze){return ze.id===ge}),Y=_.find(function(ze){return ze.id===Fe}),ne=(0,P.getEdges)(Z?.id,Y?.id,_,{v:L.source,w:L.target})}if(ae=(ae=ne.reduce(function(ze,oe){return B(B([],ze,!0),oe.points.map(function(ce){return q(q({},ce),{x:ce.x+k[0],y:ce.y+k[1]})}),!0)},[])).slice(1,-1),L.controlPoints=ae,Y?.type===P.NodeType.META){var Ae=w.findIndex(function(ze){return ze.id===Y?.id});if(!w[Ae]||null!==(ie=w[Ae].inEdges)&&void 0!==ie&&ie.some(function(ze){return ze.source===Z.id&&ze.target===Y.id}))return;null===(te=w[Ae].inEdges)||void 0===te||te.push({source:Z.id,target:Y.id,controlPoints:ae})}if(Z?.type===P.NodeType.META){if(Ae=w.findIndex(function(oe){return oe.id===Z?.id}),!w[Ae]||null!==($=w[Ae].outEdges)&&void 0!==$&&$.some(function(oe){return oe.source===Z.id&&oe.target===Y.id}))return;null===(X=w[Ae].outEdges)||void 0===X||X.push({source:Z.id,target:Y.id,controlPoints:ae})}}))},m.prototype.getType=function(){return"dagreCompound"},m.prototype.getDataByOrder=function(_){return _.every(function(g){return void 0!==g.layoutOrder})||_.forEach(function(g,S){g.layoutOrder=S}),_.sort(function(g,S){return g.layoutOrder-S.layoutOrder})},m}(O.Base);z.DagreCompoundLayout=b},8458:function(qt,z,j){"use strict";var R=this&&this.__assign||function(){return R=Object.assign||function(g){for(var S,w=1,E=arguments.length;w<E;w++)for(var A in S=arguments[w])Object.prototype.hasOwnProperty.call(S,A)&&(g[A]=S[A]);return g},R.apply(this,arguments)},q=this&&this.__createBinding||(Object.create?function(g,S,w,E){void 0===E&&(E=w);var A=Object.getOwnPropertyDescriptor(S,w);(!A||("get"in A?!S.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return S[w]}}),Object.defineProperty(g,E,A)}:function(g,S,w,E){void 0===E&&(E=w),g[E]=S[w]}),B=this&&this.__setModuleDefault||(Object.create?function(g,S){Object.defineProperty(g,"default",{enumerable:!0,value:S})}:function(g,S){g.default=S}),O=this&&this.__importStar||function(g){if(g&&g.__esModule)return g;var S={};if(null!=g)for(var w in g)"default"!==w&&Object.prototype.hasOwnProperty.call(g,w)&&q(S,g,w);return B(S,g),S},P=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(z,"__esModule",{value:!0});var T=O(j(3537)),b=P(j(6079)),x=P(j(3170)),m=j(8786);z.default=function _(g,S){var w=g.nodes,E=g.edges,A=S.width,k=S.height;if(!w?.length)return Promise.resolve();var L=[];w.forEach(function(ne){if(E.filter(function(ge){return ge.source===ne.id||ge.target===ne.id}).length>1){var ve=R({},ne);delete ve.size,L.push(ve)}});var ie=[];E.forEach(function(ne){var se=L.find(function(ge){return ge.id===ne.source}),ve=L.find(function(ge){return ge.id===ne.target});se&&ve&&ie.push(ne)});var $=new m.DagreLayout({type:"dagre",ranksep:S.nodeMinGap,nodesep:S.nodeMinGap}).layout({nodes:L,edges:ie}).nodes;w.forEach(function(ne){var se=($||[]).find(function(ve){return ve.id===ne.id});ne.x=se?.x||A/2,ne.y=se?.y||k/2});var X=JSON.parse(JSON.stringify(w)),Z=JSON.parse(JSON.stringify(E)),Y=T.forceSimulation().nodes(X).force("link",T.forceLink(Z).id(function(ne){return ne.id}).distance(function(ne){return ie.find(function(ve){return ve.source===ne.source&&ve.target===ne.target})?30:20})).force("charge",T.forceManyBody()).force("center",T.forceCenter(A/2,k/2)).force("x",T.forceX(A/2)).force("y",T.forceY(k/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise(function(ne){Y.on("end",function(){w.forEach(function(oe){var ce=X.find(function(H){return H.id===oe.id});ce&&(oe.x=ce.x,oe.y=ce.y)});var se=Math.min.apply(Math,w.map(function(oe){return oe.x})),ve=Math.max.apply(Math,w.map(function(oe){return oe.x})),ge=Math.min.apply(Math,w.map(function(oe){return oe.y})),Fe=Math.max.apply(Math,w.map(function(oe){return oe.y})),Ae=A/(ve-se),ze=k/(Fe-ge);w.forEach(function(oe){void 0!==oe.x&&Ae<1&&(oe.x=(oe.x-se)*Ae),void 0!==oe.y&&ze<1&&(oe.y=(oe.y-ge)*ze)}),w.forEach(function(oe){oe.sizeTemp=oe.size,oe.size=[10,10]}),(0,x.default)(w,E),w.forEach(function(oe){oe.size=oe.sizeTemp||[],delete oe.sizeTemp}),(0,b.default)({nodes:w,edges:E},S),ne()})})}},6079:function(qt,z,j){"use strict";var R=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(z,"__esModule",{value:!0});var q=R(j(3634));z.default=function B(O,P){if(!O.nodes||0===O.nodes.length)return O;var T=P.width,b=P.height,x=P.nodeMinGap,m=1e4,_=1e4;O.nodes.forEach(function(Z){var ae=Z.size[1]||50;m=Math.min(Z.size[0]||50,m),_=Math.min(ae,_)});var g=new q.default;g.init(T,b,{CELL_H:_,CELL_W:m}),O.nodes.forEach(function(Z){var Y=g.occupyNearest(Z);Y&&(Y.node={id:Z.id,size:Z.size},Z.x=Y.x,Z.y=Y.y,Z.dx=Y.dx,Z.dy=Y.dy)});for(var S=0;S<O.nodes.length;S++){var w=O.nodes[S],E=g.findGridByNodeId(w.id);if(!E)throw new Error("can not find node cell");var A=E.column,k=E.row;if(w.size[0]+x>m){for(var ie=L=Math.ceil((w.size[0]+x)/m)-1,te=0;te<L&&(g.additionColumn.indexOf(A+te+1)>-1&&!g.cells[A+te+1][k].node);te++)ie--;g.insertColumn(A,ie)}if(w.size[1]+x>_){var L;for(ie=L=Math.ceil((w.size[1]+x)/_)-1,te=0;te<L&&(g.additionRow.indexOf(k+te+1)>-1&&!g.cells[A][k+te+1].node);te++)ie--;g.insertRow(k,ie)}}for(S=0;S<g.columnNum;S++){var X=function(Y){var ae=g.cells[S][Y];if(ae.node){var ne=O.nodes.find(function(se){var ve;return se.id===(null===(ve=ae?.node)||void 0===ve?void 0:ve.id)});ne&&(ne.x=ae.x+ne.size[0]/2,ne.y=ae.y+ne.size[1]/2)}};for(te=0;te<g.rowNum;te++)X(te)}}},3634:function(qt,z){"use strict";var j=this&&this.__assign||function(){return j=Object.assign||function(q){for(var B,O=1,P=arguments.length;O<P;O++)for(var T in B=arguments[O])Object.prototype.hasOwnProperty.call(B,T)&&(q[T]=B[T]);return q},j.apply(this,arguments)};Object.defineProperty(z,"__esModule",{value:!0});var R=function(){function q(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return q.prototype.init=function(B,O,P){this.cells=[],this.CELL_W=P.CELL_W||q.DEFAULT_CELL_W,this.CELL_H=P.CELL_H||q.DEFAULT_CELL_H,this.columnNum=Math.ceil(B/this.CELL_W),this.rowNum=Math.ceil(O/this.CELL_H),q.MIN_DIST=Math.pow(B,2)+Math.pow(O,2);for(var T=0;T<this.columnNum;T++){for(var b=[],x=0;x<this.rowNum;x++)b.push({dx:T,dy:x,x:T*this.CELL_W,y:x*this.CELL_H,occupied:!1});this.cells.push(b)}},q.prototype.findGridByNodeId=function(B){for(var O,P,T=0;T<this.columnNum;T++)for(var b=0;b<this.rowNum;b++)if(this.cells[T][b].node&&(null===(P=null===(O=this.cells[T][b])||void 0===O?void 0:O.node)||void 0===P?void 0:P.id)===B)return{column:T,row:b};return null},q.prototype.sqdist=function(B,O){return Math.pow(B.x-O.x,2)+Math.pow(B.y-O.y,2)},q.prototype.occupyNearest=function(B){for(var P,O=q.MIN_DIST,T=null,b=0;b<this.columnNum;b++)for(var x=0;x<this.rowNum;x++)!this.cells[b][x].occupied&&(P=this.sqdist(B,this.cells[b][x]))<O&&(O=P,T=this.cells[b][x]);return T&&(T.occupied=!0),T},q.prototype.insertColumn=function(B,O){if(!(O<=0)){for(var P=0;P<O;P++){this.cells[P+this.columnNum]=[];for(var T=0;T<this.rowNum;T++)this.cells[P+this.columnNum][T]={dx:P,dy:T,x:P*this.CELL_W,y:T*this.CELL_H,occupied:!1,node:null}}for(P=this.columnNum-1;P>B;P--)for(T=0;T<this.rowNum;T++)this.cells[P+O][T]=j(j({},this.cells[P][T]),{x:(P+O)*this.CELL_W,y:T*this.CELL_H}),this.cells[P][T]={x:P*this.CELL_W,y:T*this.CELL_H,occupied:!0,node:null};for(T=0;T<this.additionColumn.length;T++)this.additionColumn[T]>=B&&(this.additionColumn[T]+=O);for(P=0;P<O;P++)this.additionColumn.push(B+P+1);this.columnNum+=O}},q.prototype.insertRow=function(B,O){if(!(O<=0)){for(var P=0;P<O;P++)for(var T=0;T<this.columnNum;T++)this.cells[T][P+this.rowNum]={dx:T,dy:P,x:T*this.CELL_W,y:P*this.CELL_H,occupied:!1,node:null};for(T=0;T<this.columnNum;T++)for(P=this.rowNum-1;P>B;P--)this.cells[T][P+O]=j(j({},this.cells[T][P]),{dx:T,dy:P+O,x:T*this.CELL_W,y:(P+O)*this.CELL_H}),this.cells[T][P]={dx:T,dy:P,x:T*this.CELL_W,y:P*this.CELL_H,occupied:!1,node:null};for(P=0;P<this.additionRow.length;P++)this.additionRow[P]>=B&&(this.additionRow[P]+=O);for(T=0;T<O;T++)this.additionRow.push(B+T+1);this.rowNum+=O}},q.prototype.getNodes=function(){for(var B=[],O=0;O<this.columnNum;O++)for(var P=0;P<this.rowNum;P++)this.cells[O][P].node&&B.push(this.cells[O][P]);return B},q.MIN_DIST=50,q.DEFAULT_CELL_W=80,q.DEFAULT_CELL_H=80,q}();z.default=R},433:function(qt,z,j){"use strict";var T,R=this&&this.__extends||(T=function(b,x){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&(m[g]=_[g])})(b,x)},function(b,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function m(){this.constructor=b}T(b,x),b.prototype=null===x?Object.create(x):(m.prototype=x.prototype,new m)}),q=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(z,"__esModule",{value:!0}),z.ERLayout=void 0;var B=j(8792),O=q(j(8458)),P=function(T){function b(x){var m=T.call(this)||this;return m.width=300,m.height=300,m.nodeMinGap=50,m.onLayoutEnd=function(){},x&&m.updateCfg(x),m}return R(b,T),b.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},b.prototype.execute=function(){var x=this,m=x.nodes,_=x.edges;return m?.forEach(function(g){g.size||(g.size=[50,50])}),(0,O.default)({nodes:m,edges:_},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(function(){x.onLayoutEnd&&x.onLayoutEnd()})},b.prototype.getType=function(){return"er"},b}(B.Base);z.ERLayout=P},3170:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var j=1200,R=800,q=1e7,B=10,O=3.141592653589793,P=1.5707963267948966,T=.375*O,b=.625*O,x=new Map,m=10,_=10,g=.8,S=.1,w=.5;function A(X,Z){var ae=(x.get(X.id)||[]).find(function(Bt){return Bt.source===Z.id||Bt.target===Z.id}),ne=X.size[0]*X.size[1],se=Z.size[0]*Z.size[1],ve=ne>se?Z:X,ge=ne>se?X:Z,Fe=ve.x-ve.size[0]/2,Ae=ve.y-ve.size[1]/2,ze=ve.x+ve.size[0]/2,oe=ve.y+ve.size[1]/2,ce=ge.x-ge.size[0]/2,H=ge.y-ge.size[1]/2,re=ge.x+ge.size[0]/2,ye=ge.y+ge.size[1]/2,Ie=ve.y,pt=ge.y,Ne=0,lt=0;if(ze>=ce&&re>=Fe&&oe>=H&&ye>=Ae)0===(lt=Math.sqrt(Math.pow(ge.x-ve.x,2)+Math.pow(pt-Ie,2)))&&(lt=1e-7),Ne=1*B/lt*100+((ze<re?ze:re)-(Fe>ce?Fe:ce))*((oe<ye?oe:ye)-(Ae>H?Ae:H)),Ne*=q;else{var nt=!1,wt=function E(X,Z,Y){var ae=X.x-X.size[0]/2,ne=X.y-X.size[1]/2,se=X.x+X.size[0]/2,ve=X.y+X.size[1]/2,ge=Z.x-Z.size[0]/2,Fe=Z.y-Z.size[1]/2,Ae=Z.x+Z.size[0]/2,ze=Z.y+Z.size[1]/2,ye=Z.x-X.x,Ce=Math.atan2(ye,Z.y-X.y),Ie=0,Ue=0,pt=0,st=0;Ce>P?(Ue=ne-ze,Ie=ge-se,pt=parseFloat(Ue?(Ue/Math.cos(Ce)).toFixed(2):Ie.toFixed(2)),st=parseFloat(Ie?(Ie/Math.sin(Ce)).toFixed(2):Ue.toFixed(2))):pt=st=0<Ce&&Ce<=P?(Ue=Fe-ve)>(Ie=ge-se)?parseFloat(Ue?(Ue/Math.cos(Ce)).toFixed(2):Ie.toFixed(2)):parseFloat(Ie?(Ie/Math.sin(Ce)).toFixed(2):Ue.toFixed(2)):Ce<-P?(Ue=ne-ze)>(Ie=-(Ae-ae))?parseFloat(Ue?(Ue/Math.cos(Ce)).toFixed(2):Ie.toFixed(2)):parseFloat(Ie?(Ie/Math.sin(Ce)).toFixed(2):Ue.toFixed(2)):(Ue=Fe-ve)>(Ie=Math.abs(ye)>(se-ae)/2?ae-Ae:ye)?parseFloat(Ue?(Ue/Math.cos(Ce)).toFixed(2):Ie.toFixed(2)):parseFloat(Ie&&0!==Ce?(Ie/Math.sin(Ce)).toFixed(2):Ue.toFixed(2));var Ne=parseFloat(Ce.toFixed(2)),lt=Y;return Y&&(lt=T<Ne&&Ne<b),{distance:Math.abs(pt<st?pt:st),isHoriz:lt}}(ve,ge,nt);nt=wt.isHoriz,(lt=wt.distance)<=B?Ne+=0!==lt?ae?B+1*q/lt:B+q*B/lt:q:(Ne+=lt,ae&&(Ne+=lt*lt))}return Ne}function k(X){for(var Z=0,Y=0;Y<X.length;Y++){var ae=X[Y];(ae.x<0||ae.y<0||ae.x>j||ae.y>R)&&(Z+=1e12);for(var ne=Y+1;ne<X.length;ne++)Z+=A(ae,X[ne])}return Z}function L(X,Z,Y,ae){var ne=new Map;Y.forEach(function(Ce,Ie){ne.set(Ce.id,Ce)});var se=ae.filter(function(Ce){return Ce.source===X.id||Ce.target===X.id})||[],ve=[];se.forEach(function(Ce){var Ue=ne.get(Ce.source===X.id?Ce.target:Ce.source);Ue&&ve.push(Ue)});for(var ge=!0,Fe=0;Fe<ve.length;Fe++){var Ae=ve[Fe],ze=180*Math.atan((X.y-Ae.y)/(Ae.x-X.y)),oe=180*Math.atan((Z.y-Ae.y)/(Ae.x-Z.y)),re=ze>70&&ze<110,ye=oe>70&&oe<110;if((ze<30||ze>150)&&!(oe<30||oe>150)||ze*oe<0){ge=!1;break}if(re&&!ye||ze*oe<0){ge=!1;break}if((Ae.x-X.x)*(Ae.x-Z.x)<0){ge=!1;break}if((Ae.y-X.y)*(Ae.y-Z.y)<0){ge=!1;break}}return ge}function ie(X,Z){for(var Y=!1,ne=1*m,se=1*_,ve=[ne,-ne,0,0],ge=[0,0,se,-se],Fe=0;Fe<X.length;++Fe)for(var Ae=X[Fe],ze=te(Ae,X),oe=0;oe<ve.length;oe++)if(L(Ae,{x:Ae.x+ve[oe],y:Ae.y+ge[oe]},X,Z)){Ae.x+=ve[oe],Ae.y+=ge[oe];var H=te(Ae,X),re=Math.random();H<ze||re<g&&re>S?(ze=H,Y=!0):(Ae.x-=ve[oe],Ae.y-=ge[oe])}return g>S&&(g*=w),Y?k(X):0}function te(X,Z){var Y=0;(X.x<0||X.y<0||X.x+X.size[0]+20>j||X.y+X.size[1]+20>R)&&(Y+=1e12);for(var ae=0;ae<Z.length;++ae)X.id!==Z[ae].id&&(Y+=A(X,Z[ae]));return Y}z.default=function $(X,Z){if(0===X.length)return{nodes:X,edges:Z};X.forEach(function(Ae){var ze=Z.filter(function(oe){return oe.source===Ae.id||oe.target===Ae.id});x.set(Ae,ze)}),X.sort(function(Ae,ze){var oe,ce;return(null===(oe=x.get(Ae.id))||void 0===oe?void 0:oe.length)-(null===(ce=x.get(ze.id))||void 0===ce?void 0:ce.length)});for(var Y=k(X),ae=20,ne=1,se=0,ge=0;ae>0&&!(++ge>=50);){var Fe=ie(X,Z);0!==Fe&&(se=Fe),ne=se-Y,Y=se,0===ne?--ae:ae=20}return X.forEach(function(Ae){Ae.x=Ae.x-Ae.size[0]/2,Ae.y=Ae.y-Ae.size[1]/2}),{nodes:X,edges:Z}}},8602:function(qt,z,j){"use strict";var R=this&&this.__createBinding||(Object.create?function(b,x,m,_){void 0===_&&(_=m);var g=Object.getOwnPropertyDescriptor(x,m);(!g||("get"in g?!x.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(b,_,g)}:function(b,x,m,_){void 0===_&&(_=m),b[_]=x[m]}),q=this&&this.__setModuleDefault||(Object.create?function(b,x){Object.defineProperty(b,"default",{enumerable:!0,value:x})}:function(b,x){b.default=x}),B=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var x={};if(null!=b)for(var m in b)"default"!==m&&Object.prototype.hasOwnProperty.call(b,m)&&R(x,b,m);return q(x,b),x};Object.defineProperty(z,"__esModule",{value:!0});var O=B(j(3537)),P=j(7602);z.default=function T(){function b(De){return function(){return De}}var X,x=function(De){return De.cluster},m=b(1),_=b(-1),g=b(100),S=b(.1),w=[0,0],E=[],A={},k=[],L=100,ie=100,te={none:{x:0,y:0}},$=[],Z="force",Y=!0,ae=.1;function ne(De){if(!Y)return ne;X.tick(),ze();for(var Be=0,vt=E.length,Ve=void 0,nt=De*ae;Be<vt;++Be)(Ve=E[Be]).vx+=(te[x(Ve)].x-Ve.x)*nt,Ve.vy+=(te[x(Ve)].y-Ve.y)*nt}function se(){E&&function ve(){if(E&&E.length){if(void 0===x(E[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var De=function ge(){var nt,De=[],Be=[],vt={},wt=[];return nt=function Fe(De){var Be={};return De.forEach(function(vt){var Ve=x(vt);Be[Ve]||(Be[Ve]={count:0,sumforceNodeSize:0})}),De.forEach(function(vt){var Ve=x(vt),nt=m(vt),wt=Be[Ve];wt.count=wt.count+1,wt.sumforceNodeSize=wt.sumforceNodeSize+Math.PI*(nt*nt)*1.3,Be[Ve]=wt}),Be}(E),wt=function Ae(De){var Be={},vt=[];return De.forEach(function(nt){var wt=function oe(De){var Be=(0,P.getEdgeTerminal)(De,"source"),vt=(0,P.getEdgeTerminal)(De,"target"),Ve=x(A[Be]),nt=x(A[vt]);return Ve<=nt?"".concat(Ve,"~").concat(nt):"".concat(nt,"~").concat(Ve)}(nt),Bt=0;void 0!==Be[wt]&&(Bt=Be[wt]),Be[wt]=Bt+=1}),Object.entries(Be).forEach(function(nt){var wt=nt[0],Bt=nt[1],pn=wt.split("~")[0],kn=wt.split("~")[1];void 0!==pn&&void 0!==kn&&vt.push({source:pn,target:kn,count:Bt})}),vt}(k),Object.keys(nt).forEach(function(Bt,pn){var kn=nt[Bt];De.push({id:Bt,size:kn.count,r:Math.sqrt(kn.sumforceNodeSize/Math.PI)}),vt[Bt]=pn}),wt.forEach(function(Bt){var pn=(0,P.getEdgeTerminal)(Bt,"source"),kn=(0,P.getEdgeTerminal)(Bt,"target"),je=vt[pn],Hn=vt[kn];void 0!==je&&void 0!==Hn&&Be.push({source:je,target:Hn,count:Bt.count})}),{nodes:De,links:Be}}();X=O.forceSimulation(De.nodes).force("x",O.forceX(L).strength(.1)).force("y",O.forceY(ie).strength(.1)).force("collide",O.forceCollide(function(Be){return Be.r}).iterations(4)).force("charge",O.forceManyBody().strength(_)).force("links",O.forceLink(De.nodes.length?De.links:[]).distance(g).strength(S)),$=X.nodes(),ze()}}()}function ze(){return te={none:{x:0,y:0}},$.forEach(function(De){te[De.id]={x:De.x-w[0],y:De.y-w[1]}}),te}return ne.initialize=function(De){E=De,se()},ne.template=function H(De){return arguments.length?(Z=De,se(),ne):Z},ne.groupBy=function re(De){return arguments.length?"string"==typeof De?(x=function(Be){return Be[De]},ne):(x=De,ne):x},ne.enableGrouping=function ye(De){return arguments.length?(Y=De,ne):Y},ne.strength=function Ce(De){return arguments.length?(ae=De,ne):ae},ne.centerX=function Ie(De){return arguments.length?(L=De,ne):L},ne.centerY=function Ue(De){return arguments.length?(ie=De,ne):ie},ne.nodes=function pt(De){return arguments.length?(function ce(De){A={},De.forEach(function(Be){A[Be.id]=Be})}(De||[]),E=De||[],ne):E},ne.links=function st(De){return arguments.length?(k=De||[],se(),ne):k},ne.forceNodeSize=function Ne(De){return arguments.length?(m="function"==typeof De?De:b(+De),se(),ne):m},ne.nodeSize=ne.forceNodeSize,ne.forceCharge=function lt(De){return arguments.length?(_="function"==typeof De?De:b(+De),se(),ne):_},ne.forceLinkDistance=function gt(De){return arguments.length?(g="function"==typeof De?De:b(+De),se(),ne):g},ne.forceLinkStrength=function $e(De){return arguments.length?(S="function"==typeof De?De:b(+De),se(),ne):S},ne.offset=function dt(De){return arguments.length?(w=De,ne):w},ne.getFocis=ze,ne}},6852:function(qt,z,j){"use strict";var E,R=this&&this.__extends||(E=function(A,k){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,ie){L.__proto__=ie}||function(L,ie){for(var te in ie)Object.prototype.hasOwnProperty.call(ie,te)&&(L[te]=ie[te])})(A,k)},function(A,k){if("function"!=typeof k&&null!==k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function L(){this.constructor=A}E(A,k),A.prototype=null===k?Object.create(k):(L.prototype=k.prototype,new L)}),q=this&&this.__createBinding||(Object.create?function(E,A,k,L){void 0===L&&(L=k);var ie=Object.getOwnPropertyDescriptor(A,k);(!ie||("get"in ie?!A.__esModule:ie.writable||ie.configurable))&&(ie={enumerable:!0,get:function(){return A[k]}}),Object.defineProperty(E,L,ie)}:function(E,A,k,L){void 0===L&&(L=k),E[L]=A[k]}),B=this&&this.__setModuleDefault||(Object.create?function(E,A){Object.defineProperty(E,"default",{enumerable:!0,value:A})}:function(E,A){E.default=A}),O=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var A={};if(null!=E)for(var k in E)"default"!==k&&Object.prototype.hasOwnProperty.call(E,k)&&q(A,E,k);return B(A,E),A},P=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(z,"__esModule",{value:!0}),z.ForceLayout=void 0;var T=O(j(3537)),b=P(j(8602)),x=j(7602),m=j(8792),_=j(981),g=function(E){function A(k){var L=E.call(this)||this;return L.center=[0,0],L.nodeStrength=null,L.edgeStrength=null,L.preventOverlap=!1,L.clusterNodeStrength=null,L.clusterEdgeStrength=null,L.clusterEdgeDistance=null,L.clusterNodeSize=null,L.clusterFociStrength=null,L.linkDistance=50,L.alphaDecay=.028,L.alphaMin=.001,L.alpha=.3,L.collideStrength=1,L.workerEnabled=!1,L.tick=function(){},L.onLayoutEnd=function(){},L.ticking=void 0,k&&L.updateCfg(k),L}return R(A,E),A.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},A.prototype.init=function(k){var L=this;L.nodes=k.nodes||[],L.edges=(k.edges||[]).map(function(te){var $={},X=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(te).forEach(function(Z){X.indexOf(Z)>-1||($[Z]=te[Z])}),$}),L.ticking=!1},A.prototype.execute=function(k){var L=this,ie=L.nodes,te=L.edges;if(!L.ticking){var $=L.forceSimulation,X=L.alphaMin,Z=L.alphaDecay,Y=L.alpha;if($){if(k)if(L.clustering&&L.clusterForce&&(L.clusterForce.nodes(ie),L.clusterForce.links(te)),$.nodes(ie),te&&L.edgeForce)L.edgeForce.links(te);else if(te&&!L.edgeForce){var se=T.forceLink().id(function(Ae){return Ae.id}).links(te);L.edgeStrength&&se.strength(L.edgeStrength),L.linkDistance&&se.distance(L.linkDistance),L.edgeForce=se,$.force("link",se)}L.preventOverlap&&L.overlapProcess($),$.alpha(Y).restart(),this.ticking=!0}else try{var ae=T.forceManyBody();if(L.nodeStrength&&ae.strength(L.nodeStrength),$=T.forceSimulation().nodes(ie),L.clustering){var ne=(0,b.default)();ne.centerX(L.center[0]).centerY(L.center[1]).template("force").strength(L.clusterFociStrength),te&&ne.links(te),ie&&ne.nodes(ie),ne.forceLinkDistance(L.clusterEdgeDistance).forceLinkStrength(L.clusterEdgeStrength).forceCharge(L.clusterNodeStrength).forceNodeSize(L.clusterNodeSize),L.clusterForce=ne,$.force("group",ne)}if($.force("center",T.forceCenter(L.center[0],L.center[1])).force("charge",ae).alpha(Y).alphaDecay(Z).alphaMin(X),L.preventOverlap&&L.overlapProcess($),te&&(se=T.forceLink().id(function(Fe){return Fe.id}).links(te),L.edgeStrength&&se.strength(L.edgeStrength),L.linkDistance&&se.distance(L.linkDistance),L.edgeForce=se,$.force("link",se)),L.workerEnabled&&!function w(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}()&&(L.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),L.workerEnabled){$.stop();for(var ve=function S(E){var A=E.alphaMin(),k=E.alphaTarget(),L=E.alpha(),ie=Math.log((A-k)/(L-k))/Math.log(1-E.alphaDecay());return Math.ceil(ie)}($),ge=1;ge<=ve;ge++)$.tick(),postMessage({nodes:ie,currentTick:ge,totalTicks:ve,type:_.LAYOUT_MESSAGE.TICK},void 0);L.ticking=!1}else $.on("tick",function(){L.tick()}).on("end",function(){L.ticking=!1,L.onLayoutEnd&&L.onLayoutEnd()}),L.ticking=!0;L.forceSimulation=$,L.ticking=!0}catch(Fe){L.ticking=!1,console.warn(Fe)}}},A.prototype.overlapProcess=function(k){var $,X,L=this,ie=L.nodeSize,te=L.nodeSpacing,Z=L.collideStrength;if(X=(0,x.isNumber)(te)?function(){return te}:(0,x.isFunction)(te)?te:function(){return 0},ie)if((0,x.isFunction)(ie))$=function(se){return ie(se)+X(se)};else if((0,x.isArray)(ie)){var ae=(ie[0]>ie[1]?ie[0]:ie[1])/2;$=function(se){return ae+X(se)}}else if((0,x.isNumber)(ie)){var ne=ie/2;$=function(se){return ne+X(se)}}else $=function(){return 10};else $=function(se){return se.size?(0,x.isArray)(se.size)?(se.size[0]>se.size[1]?se.size[0]:se.size[1])/2+X(se):(0,x.isObject)(se.size)?(se.size.width>se.size.height?se.size.width:se.size.height)/2+X(se):se.size/2+X(se):10+X(se)};k.force("collisionForce",T.forceCollide($).strength(Z))},A.prototype.updateCfg=function(k){var L=this;L.ticking&&(L.forceSimulation.stop(),L.ticking=!1),L.forceSimulation=null,Object.assign(L,k)},A.prototype.destroy=function(){var k=this;k.ticking&&(k.forceSimulation.stop(),k.ticking=!1),k.nodes=null,k.edges=null,k.destroyed=!0},A}(m.Base);z.ForceLayout=g},4943:function(qt,z,j){"use strict";var R=this&&this.__createBinding||(Object.create?function(B,O,P,T){void 0===T&&(T=P);var b=Object.getOwnPropertyDescriptor(O,P);(!b||("get"in b?!O.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(B,T,b)}:function(B,O,P,T){void 0===T&&(T=P),B[T]=O[P]}),q=this&&this.__exportStar||function(B,O){for(var P in B)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&R(O,B,P)};Object.defineProperty(z,"__esModule",{value:!0}),q(j(6852),z)},3933:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.forceNBody=void 0;var R=j(3248);function P(x){var m=0,_=0,g=0;if(x.length){for(var S=0;S<4;S++)(w=x[S])&&w.weight&&(m+=w.weight,_+=w.x*w.weight,g+=w.y*w.weight);x.x=_/m,x.y=g/m,x.weight=m}else{var w;x.x=(w=x).data.x,x.y=w.data.y,x.weight=w.data.weight}}z.forceNBody=function O(x,m,_,g,S){var w=_/g,E=x.map(function(k,L){var ie=m[k.id];return{x:ie.x,y:ie.y,size:ie.size,index:L,vx:0,vy:0,weight:w*ie.data.layout.force.nodeStrength}}),A=(0,R.quadtree)(E,function(k){return k.x},function(k){return k.y}).visitAfter(P);return E.forEach(function(k){!function b(x,m){m.visit(function(_,g,S,w,E){return T(_,g,S,w,E,x)})}(k,A)}),E.map(function(k,L){var te=m[x[L].id].data.layout.force.mass,$=void 0===te?1:te;S[2*L]=k.vx/$,S[2*L+1]=k.vy/$}),S};var T=function(x,m,_,g,S,w){var te,E=w.x-x.x||.1,A=w.y-x.y||.1,k=g-m,L=E*E+A*A,ie=Math.sqrt(L)*L;return k*k*.81<L?(w.vx+=E*(te=x.weight/ie),w.vy+=A*te,!0):!x.length&&void(x.data!==w&&(w.vx+=E*(te=x.data.weight/ie),w.vy+=A*te))}},1444:function(qt,z,j){"use strict";var x,R=this&&this.__extends||(x=function(m,_){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(g[w]=S[w])})(m,_)},function(m,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function g(){this.constructor=m}x(m,_),m.prototype=null===_?Object.create(_):(g.prototype=_.prototype,new g)}),q=this&&this.__assign||function(){return q=Object.assign||function(x){for(var m,_=1,g=arguments.length;_<g;_++)for(var S in m=arguments[_])Object.prototype.hasOwnProperty.call(m,S)&&(x[S]=m[S]);return x},q.apply(this,arguments)};Object.defineProperty(z,"__esModule",{value:!0}),z.Force2Layout=void 0;var B=j(8792),O=j(7602),P=j(3933),T=function(x,m){return x?(0,O.isNumber)(x)?function(g){return x}:x:function(g){return m||1}},b=function(x){function m(_){var g=x.call(this)||this;return g.maxIteration=1e3,g.workerEnabled=!1,g.edgeStrength=200,g.nodeStrength=1e3,g.coulombDisScale=.005,g.damping=.9,g.maxSpeed=500,g.minMovement=.4,g.interval=.02,g.factor=1,g.linkDistance=200,g.gravity=0,g.clusterNodeStrength=20,g.preventOverlap=!0,g.distanceThresholdMode="mean",g.tick=function(){},g.nodes=[],g.edges=[],g.width=300,g.height=300,g.nodeMap={},g.nodeIdxMap={},g.judgingDistance=0,g.centripetalOptions={leaf:2,single:2,others:1,center:function(w){return{x:g.width/2,y:g.height/2}}},g.propsGetMass=_.getMass,g.updateCfg(_),g}return R(m,x),m.prototype.getCentripetalOptions=function(){var te,_=this,S=_.clustering,w=_.nodeClusterBy,E=_.nodes,A=_.nodeMap,k=_.clusterNodeStrength,L=function(ve){return"function"==typeof k?k(ve):k},ie={};if(_.leafCluster){te=this.getSameTypeLeafMap()||{};var $=Array.from(new Set(E?.map(function(ve){return ve[w]})))||[];ie={single:100,leaf:function(ve,ge,Fe){var Ae=te[ve.id]||{};return Ae.sameTypeLeafNodes?.length===Ae.relativeLeafNodes?.length||1===$?.length?1:L(ve)},others:1,center:function(ve,ge,Fe){var Ae,oe,ze=((null===(Ae=ve.data)||void 0===Ae?void 0:Ae.layout)||{}).degree;if(!ze)return{x:100,y:100};if(1===ze){var ce=(te[ve.id]||{}).sameTypeLeafNodes,H=void 0===ce?[]:ce;1===H.length?oe=void 0:H.length>1&&(oe=(0,O.getAvgNodePosition)(H))}else oe=void 0;return{x:oe?.x,y:oe?.y}}}}if(S){te||(te=this.getSameTypeLeafMap());var X=Array.from(new Set(E.map(function(ve,ge){return ve[w]}))).filter(function(ve){return void 0!==ve}),Z={};X.forEach(function(ve){var ge=E.filter(function(Fe){return Fe[w]===ve}).map(function(Fe){return A[Fe.id]});Z[ve]=(0,O.getAvgNodePosition)(ge)}),ie={single:function(ve){return L(ve)},leaf:function(ve){return L(ve)},others:function(ve){return L(ve)},center:function(ve,ge,Fe){var Ae=Z[ve[w]];return{x:Ae?.x,y:Ae?.y}}}}this.centripetalOptions=q(q({},this.centripetalOptions),ie);var Y=this.centripetalOptions,ae=Y.leaf,ne=Y.single,se=Y.others;ae&&"function"!=typeof ae&&(this.centripetalOptions.leaf=function(){return ae}),ne&&"function"!=typeof ne&&(this.centripetalOptions.single=function(){return ne}),se&&"function"!=typeof se&&(this.centripetalOptions.others=function(){return se})},m.prototype.updateCfg=function(_){_&&Object.assign(this,_)},m.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},m.prototype.execute=function(){var _=this;_.stop();var g=_.nodes,S=_.edges,w=_.defSpringLen;if(_.judgingDistance=0,g&&0!==g.length){!_.width&&typeof window<"u"&&(_.width=window.innerWidth),!_.height&&typeof window<"u"&&(_.height=window.innerHeight),_.center||(_.center=[_.width/2,_.height/2]);var E=_.center;if(1===g.length)return g[0].x=E[0],g[0].y=E[1],void _.onLayoutEnd([q({},g[0])]);_.degreesMap=(0,O.getDegreeMap)(g,S),_.getMass=_.propsGetMass?_.propsGetMass:function(X){var Z=1;(0,O.isNumber)(X.mass)&&(Z=X.mass);var Y=_.degreesMap[X.id].all;return!Y||Y<5?Z:5*Y*Z};var k,A=_.nodeSize;if(_.preventOverlap){var ie,L=_.nodeSpacing;ie=(0,O.isNumber)(L)?function(){return L}:(0,O.isFunction)(L)?L:function(){return 0},k=A?(0,O.isArray)(A)?function(X){return Math.max(A[0],A[1])+ie(X)}:function(X){return A+ie(X)}:function(X){return X.size?(0,O.isArray)(X.size)?Math.max(X.size[0],X.size[1])+ie(X):(0,O.isObject)(X.size)?Math.max(X.size.width,X.size.height)+ie(X):X.size+ie(X):10+ie(X)}}_.nodeSize=k,_.linkDistance=T(_.linkDistance,1),_.nodeStrength=T(_.nodeStrength,1),_.edgeStrength=T(_.edgeStrength,1);var te={},$={};g.forEach(function(X,Z){(0,O.isNumber)(X.x)||(X.x=Math.random()*_.width),(0,O.isNumber)(X.y)||(X.y=Math.random()*_.height);var Y=_.degreesMap[X.id];te[X.id]=q(q({},X),{data:q(q({},X.data),{size:_.nodeSize(X)||30,layout:{inDegree:Y.in,outDegree:Y.out,degree:Y.all,tDegree:Y.in,sDegree:Y.out,force:{mass:_.getMass(X),nodeStrength:_.nodeStrength(X)}}})}),$[X.id]=Z}),_.nodeMap=te,_.nodeIdxMap=$,_.edgeInfos=[],S?.forEach(function(X){var Z=te[X.source],Y=te[X.target];Z&&Y?_.edgeInfos.push({edgeStrength:_.edgeStrength(X),linkDistance:w?w(q(q({},X),{source:Z,target:Y}),Z,Y):_.linkDistance(X,Z,Y)||1+(A(Z)+A(Z)||0)/2}):elf.edgeInfos.push({})}),this.getCentripetalOptions(),_.onLayoutEnd=_.onLayoutEnd||function(){},_.run()}else _.onLayoutEnd([])},m.prototype.run=function(){var _=this,g=_.maxIteration,S=_.nodes,w=_.workerEnabled,E=_.minMovement,A=_.animate,k=_.nodeMap;if(S){var L=[];S.forEach(function(Y,ae){L[2*ae]=0,L[2*ae+1]=0});var ie=g;if(w||!A){for(var X=0;(_.judgingDistance>E||X<1)&&X<ie;X++)_.runOneStep(X,L);_.onLayoutEnd(Object.values(k))}else{if(typeof window>"u")return;var Z=0;this.timeInterval=window.setInterval(function(){S&&(_.runOneStep(Z,L),(++Z>=ie||_.judgingDistance<E)&&(_.onLayoutEnd(Object.values(k)),window.clearInterval(_.timeInterval)))},0)}}},m.prototype.runOneStep=function(_,g){var S,w=this,E=w.nodes,A=w.edges,L=w.monitor,ie=[];if(E?.length){w.calRepulsive(ie),A&&w.calAttractive(ie),w.calGravity(ie);var te=w.interval;w.updateVelocity(ie,g,te),w.updatePosition(g,te),null===(S=w.tick)||void 0===S||S.call(w),L&&L({energy:this.calTotalEnergy(ie),nodes:E,edges:A,iterations:_})}},m.prototype.calTotalEnergy=function(_){var S=this.nodes,w=this.nodeMap;if(!S?.length)return 0;var E=0;return S.forEach(function(A,k){var L=_[2*k],ie=_[2*k+1],$=w[A.id].data.layout.force.mass;E+=(void 0===$?1:$)*(L*L+ie*ie)*.5}),E},m.prototype.calRepulsive=function(_){var g=this,A=g.coulombDisScale;(0,P.forceNBody)(g.nodes,g.nodeMap,g.factor,A*A,_)},m.prototype.calAttractive=function(_){var g=this,w=g.nodeMap,E=g.nodeIdxMap,A=g.edgeInfos;g.edges.forEach(function(L,ie){var te=(0,O.getEdgeTerminal)(L,"source"),$=(0,O.getEdgeTerminal)(L,"target"),X=w[te],Z=w[$];if(X&&Z){var Y=Z.x-X.x,ae=Z.y-X.y;!Y&&!ae&&(Y=.01*Math.random(),ae=.01*Math.random());var ne=Math.sqrt(Y*Y+ae*ae),ge=A[ie]||{},Fe=ge.linkDistance,ze=ge.edgeStrength,H=((void 0===Fe?200:Fe)-ne)*(void 0===ze?200:ze),Ce=1/(X.data.layout.force.mass||1),Ie=1/(Z.data.layout.force.mass||1),Ue=Y/ne*H,pt=ae/ne*H,st=2*E[te],Ne=2*E[$];_[st]-=Ue*Ce,_[st+1]-=pt*Ce,_[Ne]+=Ue*Ie,_[Ne+1]+=pt*Ie}})},m.prototype.calGravity=function(_){var g,S=this,w=S.nodes,E=S.edges,A=void 0===E?[]:E,k=S.nodeMap,L=S.width,ie=S.height,te=S.center,$=S.gravity,X=S.degreesMap,Z=S.centripetalOptions;if(w)for(var Y=w.length,ae=0;ae<Y;ae++){var ne=2*ae,se=k[w[ae].id],ve=se.data.layout.force.mass,ge=void 0===ve?1:ve,Fe=0,Ae=0,ze=$,oe=X[se.id],ce=oe.in,H=oe.out,re=oe.all,ye=null===(g=S.getCenter)||void 0===g?void 0:g.call(S,se,re);if(ye?(Fe=se.x-ye[0],Ae=se.y-ye[1],ze=ye[2]):(Fe=se.x-te[0],Ae=se.y-te[1]),ze&&(_[ne]-=ze*Fe/ge,_[ne+1]-=ze*Ae/ge),Z){var pt=Z.leaf,st=Z.single,Ne=Z.others,gt=(0,Z.center)?.(se,w,A,L,ie)||{x:0,y:0,centerStrength:0},$e=gt.x,dt=gt.y,De=gt.centerStrength;if(!(0,O.isNumber)($e)||!(0,O.isNumber)(dt))continue;var Be=(se.x-$e)/ge,vt=(se.y-dt)/ge;if(De&&(_[ne]-=De*Be,_[ne+1]-=De*vt),0===re){var Ve=st(se);if(!Ve)continue;_[ne]-=Ve*Be,_[ne+1]-=Ve*vt;continue}if(0===ce||0===H){var nt=pt(se,w,A);if(!nt)continue;_[ne]-=nt*Be,_[ne+1]-=nt*vt;continue}var wt=Ne(se);if(!wt)continue;_[ne]-=wt*Be,_[ne+1]-=wt*vt}}},m.prototype.updateVelocity=function(_,g,S){var w=this,E=w.nodes,A=w.damping,k=w.maxSpeed;E?.length&&E.forEach(function(L,ie){var te=(g[2*ie]+_[2*ie]*S)*A||.01,$=(g[2*ie+1]+_[2*ie+1]*S)*A||.01,X=Math.sqrt(te*te+$*$);if(X>k){var Z=k/X;te*=Z,$*=Z}g[2*ie]=te,g[2*ie+1]=$})},m.prototype.updatePosition=function(_,g){var S=this,w=S.nodes,E=S.distanceThresholdMode,A=S.nodeMap;if(w?.length){var k=0;"max"===E?S.judgingDistance=-1/0:"min"===E&&(S.judgingDistance=1/0),w.forEach(function(L,ie){var te=A[L.id];if((0,O.isNumber)(L.fx)&&(0,O.isNumber)(L.fy))return L.x=L.fx,L.y=L.fy,te.x=L.x,void(te.y=L.y);var $=_[2*ie]*g,X=_[2*ie+1]*g;L.x+=$,L.y+=X,te.x=L.x,te.y=L.y;var Z=Math.sqrt($*$+X*X);switch(E){case"max":S.judgingDistance<Z&&(S.judgingDistance=Z);break;case"min":S.judgingDistance>Z&&(S.judgingDistance=Z);break;default:k+=Z}}),(!E||"mean"===E)&&(S.judgingDistance=k/w.length)}else this.judgingDistance=0},m.prototype.stop=function(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval)},m.prototype.destroy=function(){var _=this;_.stop(),_.tick=null,_.nodes=null,_.edges=null,_.destroyed=!0},m.prototype.getType=function(){return"force2"},m.prototype.getSameTypeLeafMap=function(){var _=this,g=_.nodeClusterBy,S=_.nodes,w=_.edges,E=_.nodeMap,A=_.degreesMap;if(S?.length){var k={};return S.forEach(function(L,ie){1===A[L.id].all&&(k[L.id]=(0,O.getCoreNodeAndRelativeLeafNodes)("leaf",L,w,g,A,E))}),k}},m}(B.Base);z.Force2Layout=b},1430:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var j=function(){function R(q){this.id=q.id||0,this.rx=q.rx,this.ry=q.ry,this.fx=0,this.fy=0,this.mass=q.mass,this.degree=q.degree,this.g=q.g||0}return R.prototype.distanceTo=function(q){return Math.hypot(this.rx-q.rx,this.ry-q.ry)},R.prototype.setPos=function(q,B){this.rx=q,this.ry=B},R.prototype.resetForce=function(){this.fx=0,this.fy=0},R.prototype.addForce=function(q){var B=q.rx-this.rx,O=q.ry-this.ry,P=Math.hypot(B,O),T=this.g*(this.degree+1)*(q.degree+1)/(P=P<1e-4?1e-4:P);this.fx+=T*B/P,this.fy+=T*O/P},R.prototype.in=function(q){return q.contains(this.rx,this.ry)},R.prototype.add=function(q){var B=this.mass+q.mass;return new R({rx:(this.rx*this.mass+q.rx*q.mass)/B,ry:(this.ry*this.mass+q.ry*q.mass)/B,mass:B,degree:this.degree+q.degree})},R}();z.default=j},3259:function(qt,z,j){"use strict";var m,R=this&&this.__extends||(m=function(_,g){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,w){S.__proto__=w}||function(S,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(S[E]=w[E])})(_,g)},function(_,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function S(){this.constructor=_}m(_,g),_.prototype=null===g?Object.create(g):(S.prototype=g.prototype,new S)}),q=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(z,"__esModule",{value:!0}),z.ForceAtlas2Layout=void 0;var B=j(8792),O=j(7602),P=q(j(1430)),T=q(j(600)),b=q(j(3125)),x=function(m){function _(g){var S=m.call(this)||this;return S.center=[0,0],S.width=300,S.height=300,S.nodes=[],S.edges=[],S.kr=5,S.kg=1,S.mode="normal",S.preventOverlap=!1,S.dissuadeHubs=!1,S.barnesHut=void 0,S.maxIteration=0,S.ks=.1,S.ksmax=10,S.tao=.1,S.onLayoutEnd=function(){},S.prune=void 0,S.updateCfg(g),S}return R(_,m),_.prototype.getDefaultCfg=function(){return{}},_.prototype.execute=function(){var g=this,S=g.nodes,w=g.onLayoutEnd,E=g.prune,A=g.maxIteration;!g.width&&typeof window<"u"&&(g.width=window.innerWidth),!g.height&&typeof window<"u"&&(g.height=window.innerHeight);for(var k=[],L=S.length,ie=0;ie<L;ie+=1){var te=S[ie],$=10,X=10;(0,O.isNumber)(te.size)&&($=te.size,X=te.size),(0,O.isArray)(te.size)?(isNaN(te.size[0])||($=te.size[0]),isNaN(te.size[1])||(X=te.size[1])):(0,O.isObject)(te.size)&&($=te.size.width,X=te.size.height),g.getWidth&&!isNaN(g.getWidth(te))&&(X=g.getWidth(te)),g.getHeight&&!isNaN(g.getHeight(te))&&($=g.getHeight(te));var Z=Math.max($,X);k.push(Z)}void 0===g.barnesHut&&L>250&&(g.barnesHut=!0),void 0===g.prune&&L>100&&(g.prune=!0),0!==this.maxIteration||g.prune?0===this.maxIteration&&E&&(A=100,L<=200&&L>100?A=500:L>200&&(A=950),this.maxIteration=A):(A=250,L<=200&&L>100?A=1e3:L>200&&(A=1200),this.maxIteration=A),g.kr||(g.kr=50,L>100&&L<=500?g.kr=20:L>500&&(g.kr=1)),g.kg||(g.kg=20,L>100&&L<=500?g.kg=10:L>500&&(g.kg=1)),this.nodes=g.updateNodesByForces(k),w()},_.prototype.updateNodesByForces=function(g){for(var S=this,E=S.maxIteration,A=S.nodes,k=S.edges.filter(function(oe){return(0,O.getEdgeTerminal)(oe,"source")!==(0,O.getEdgeTerminal)(oe,"target")}),L=A.length,ie=k.length,te=[],$={},X={},Z=[],Y=0;Y<L;Y+=1)$[A[Y].id]=Y,te[Y]=0,(void 0===A[Y].x||isNaN(A[Y].x))&&(A[Y].x=1e3*Math.random()),(void 0===A[Y].y||isNaN(A[Y].y))&&(A[Y].y=1e3*Math.random()),Z.push({x:A[Y].x,y:A[Y].y});for(Y=0;Y<ie;Y+=1){for(var ae=void 0,ne=void 0,se=0,ve=0,ge=0;ge<L;ge+=1){var Fe=(0,O.getEdgeTerminal)(k[Y],"source"),Ae=(0,O.getEdgeTerminal)(k[Y],"target");A[ge].id===Fe?(ae=A[ge],se=ge):A[ge].id===Ae&&(ne=A[ge],ve=ge),X[Y]={sourceIdx:se,targetIdx:ve}}ae&&(te[$[ae.id]]+=1),ne&&(te[$[ne.id]]+=1)}var ze=E;if(A=this.iterate(ze,$,X,ie,te,g),S.prune){for(ge=0;ge<ie;ge+=1)te[X[ge].sourceIdx]<=1?(A[X[ge].sourceIdx].x=A[X[ge].targetIdx].x,A[X[ge].sourceIdx].y=A[X[ge].targetIdx].y):te[X[ge].targetIdx]<=1&&(A[X[ge].targetIdx].x=A[X[ge].sourceIdx].x,A[X[ge].targetIdx].y=A[X[ge].sourceIdx].y);S.prune=!1,S.barnesHut=!1,A=this.iterate(ze=100,$,X,ie,te,g)}return A},_.prototype.iterate=function(g,S,w,E,A,k){for(var L=this,ie=L.nodes,te=L.kr,$=L.preventOverlap,X=L.barnesHut,Z=ie.length,Y=0,ne=g,ve=[],ge=[],Fe=[],Ae=0;Ae<Z;Ae+=1)ve[2*Ae]=0,ve[2*Ae+1]=0,X&&(Fe[Ae]=new P.default({id:Ae,rx:ie[Ae].x,ry:ie[Ae].y,mass:1,g:te,degree:A[Ae]}));for(;ne>0;){for(Ae=0;Ae<Z;Ae+=1)ge[2*Ae]=ve[2*Ae],ge[2*Ae+1]=ve[2*Ae+1],ve[2*Ae]=0,ve[2*Ae+1]=0;ve=this.getAttrForces(ne,50,E,S,w,A,k,ve),ve=X&&($&&ne>50||!$)?this.getOptRepGraForces(ve,Fe,A):this.getRepGraForces(ne,50,ve,100,k,A);var oe=this.updatePos(ve,ge,Y,A);ie=oe.nodes,Y=oe.sg,ne--,L.tick&&L.tick()}return ie},_.prototype.getAttrForces=function(g,S,w,E,A,k,L,ie){for(var te=this,$=te.nodes,X=te.preventOverlap,Z=te.dissuadeHubs,Y=te.mode,ae=te.prune,ne=0;ne<w;ne+=1){var se=$[A[ne].sourceIdx],ve=A[ne].sourceIdx,ge=$[A[ne].targetIdx],Fe=A[ne].targetIdx;if(!ae||!(k[ve]<=1||k[Fe]<=1)){var Ae=[ge.x-se.x,ge.y-se.y],ze=Math.hypot(Ae[0],Ae[1]);Ae[0]=Ae[0]/(ze=ze<1e-4?1e-4:ze),Ae[1]=Ae[1]/ze,X&&g<S&&(ze=ze-L[ve]-L[Fe]);var oe=ze,ce=oe;"linlog"===Y&&(ce=oe=Math.log(1+ze)),Z&&(oe=ze/k[ve],ce=ze/k[Fe]),X&&g<S&&ze<=0?(oe=0,ce=0):X&&g<S&&ze>0&&(oe=ze,ce=ze),ie[2*E[se.id]]+=oe*Ae[0],ie[2*E[ge.id]]-=ce*Ae[0],ie[2*E[se.id]+1]+=oe*Ae[1],ie[2*E[ge.id]+1]-=ce*Ae[1]}}return ie},_.prototype.getRepGraForces=function(g,S,w,E,A,k){for(var L=this,ie=L.nodes,te=L.preventOverlap,$=L.kr,X=L.kg,Z=L.center,Y=L.prune,ae=ie.length,ne=0;ne<ae;ne+=1){for(var se=ne+1;se<ae;se+=1)if(!Y||!(k[ne]<=1||k[se]<=1)){var ve=[ie[se].x-ie[ne].x,ie[se].y-ie[ne].y],ge=Math.hypot(ve[0],ve[1]);ve[0]=ve[0]/(ge=ge<1e-4?1e-4:ge),ve[1]=ve[1]/ge,te&&g<S&&(ge=ge-A[ne]-A[se]);var Fe=$*(k[ne]+1)*(k[se]+1)/ge;te&&g<S&&ge<0?Fe=E*(k[ne]+1)*(k[se]+1):te&&g<S&&0===ge?Fe=0:te&&g<S&&ge>0&&(Fe=$*(k[ne]+1)*(k[se]+1)/ge),w[2*ne]-=Fe*ve[0],w[2*se]+=Fe*ve[0],w[2*ne+1]-=Fe*ve[1],w[2*se+1]+=Fe*ve[1]}var Ae=[ie[ne].x-Z[0],ie[ne].y-Z[1]],ze=Math.hypot(Ae[0],Ae[1]);Ae[0]=Ae[0]/ze,Ae[1]=Ae[1]/ze;var oe=X*(k[ne]+1);w[2*ne]-=oe*Ae[0],w[2*ne+1]-=oe*Ae[1]}return w},_.prototype.getOptRepGraForces=function(g,S,w){for(var E=this,A=E.nodes,k=E.kg,L=E.center,ie=E.prune,te=A.length,$=9e10,X=-9e10,Z=9e10,Y=-9e10,ae=0;ae<te;ae+=1)ie&&w[ae]<=1||(S[ae].setPos(A[ae].x,A[ae].y),A[ae].x>=X&&(X=A[ae].x),A[ae].x<=$&&($=A[ae].x),A[ae].y>=Y&&(Y=A[ae].y),A[ae].y<=Z&&(Z=A[ae].y));var ne=Math.max(X-$,Y-Z),ve=new T.default({xmid:(X+$)/2,ymid:(Y+Z)/2,length:ne,massCenter:L,mass:te}),ge=new b.default(ve);for(ae=0;ae<te;ae+=1)ie&&w[ae]<=1||S[ae].in(ve)&&ge.insert(S[ae]);for(ae=0;ae<te;ae+=1)if(!(ie&&w[ae]<=1)){S[ae].resetForce(),ge.updateForce(S[ae]),g[2*ae]-=S[ae].fx,g[2*ae+1]-=S[ae].fy;var Fe=[A[ae].x-L[0],A[ae].y-L[1]],Ae=Math.hypot(Fe[0],Fe[1]);Fe[0]=Fe[0]/(Ae=Ae<1e-4?1e-4:Ae),Fe[1]=Fe[1]/Ae;var ze=k*(w[ae]+1);g[2*ae]-=ze*Fe[0],g[2*ae+1]-=ze*Fe[1]}return g},_.prototype.updatePos=function(g,S,w,E){for(var A=this,k=A.nodes,L=A.ks,ie=A.tao,te=A.prune,$=A.ksmax,X=k.length,Z=[],Y=[],ae=0,ne=0,se=0;se<X;se+=1)if(!(te&&E[se]<=1)){var ve=[g[2*se]-S[2*se],g[2*se+1]-S[2*se+1]],ge=Math.hypot(ve[0],ve[1]),Fe=[g[2*se]+S[2*se],g[2*se+1]+S[2*se+1]],Ae=Math.hypot(Fe[0],Fe[1]);Z[se]=ge,Y[se]=Ae/2,ae+=(E[se]+1)*Z[se],ne+=(E[se]+1)*Y[se]}var ze=w;for(w=ie*ne/ae,0!==ze&&(w=w>1.5*ze?1.5*ze:w),se=0;se<X;se+=1)if(!(te&&E[se]<=1||(0,O.isNumber)(k[se].fx)&&(0,O.isNumber)(k[se].fy))){var oe=L*w/(1+w*Math.sqrt(Z[se])),ce=Math.hypot(g[2*se],g[2*se+1]),H=$/(ce=ce<1e-4?1e-4:ce),ye=(oe=oe>H?H:oe)*g[2*se+1];k[se].x+=oe*g[2*se],k[se].y+=ye}return{nodes:k,sg:w}},_}(B.Base);z.ForceAtlas2Layout=x},600:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var j=function(){function R(q){this.xmid=q.xmid,this.ymid=q.ymid,this.length=q.length,this.massCenter=q.massCenter||[0,0],this.mass=q.mass||1}return R.prototype.getLength=function(){return this.length},R.prototype.contains=function(q,B){var O=this.length/2;return q<=this.xmid+O&&q>=this.xmid-O&&B<=this.ymid+O&&B>=this.ymid-O},R.prototype.NW=function(){return new R({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},R.prototype.NE=function(){return new R({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},R.prototype.SW=function(){return new R({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},R.prototype.SE=function(){return new R({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},R}();z.default=j},3125:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var j=function(){function R(q){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=q&&(this.quad=q)}return R.prototype.insert=function(q){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new R(this.quad.NW()),this.NE=new R(this.quad.NE()),this.SW=new R(this.quad.SW()),this.SE=new R(this.quad.SE())),this._putBody(this.body),this._putBody(q),this.body=this.body.add(q)):(this.body=this.body.add(q),this._putBody(q)):this.body=q},R.prototype._putBody=function(q){this.quad&&(q.in(this.quad.NW())&&this.NW?this.NW.insert(q):q.in(this.quad.NE())&&this.NE?this.NE.insert(q):q.in(this.quad.SW())&&this.SW?this.SW.insert(q):q.in(this.quad.SE())&&this.SE&&this.SE.insert(q))},R.prototype._isExternal=function(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE},R.prototype.updateForce=function(q){null!=this.body&&q!==this.body&&(this._isExternal()||(this.quad?this.quad.getLength():0)/this.body.distanceTo(q)<this.theta?q.addForce(this.body):(this.NW&&this.NW.updateForce(q),this.NE&&this.NE.updateForce(q),this.SW&&this.SW.updateForce(q),this.SE&&this.SE.updateForce(q)))},R}();z.default=j},5703:function(qt,z,j){"use strict";var T,R=this&&this.__extends||(T=function(b,x){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&(m[g]=_[g])})(b,x)},function(b,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function m(){this.constructor=b}T(b,x),b.prototype=null===x?Object.create(x):(m.prototype=x.prototype,new m)});Object.defineProperty(z,"__esModule",{value:!0}),z.FruchtermanLayout=void 0;var q=j(8792),B=j(7602),P=function(T){function b(x){var m=T.call(this)||this;return m.maxIteration=1e3,m.workerEnabled=!1,m.gravity=10,m.speed=5,m.clustering=!1,m.clusterGravity=10,m.nodes=[],m.edges=[],m.width=300,m.height=300,m.nodeMap={},m.nodeIdxMap={},m.onLayoutEnd=function(){},m.tick=function(){},m.animate=!0,m.updateCfg(x),m}return R(b,T),b.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},b.prototype.execute=function(){var m,_,x=this,g=this,S=g.nodes;if(void 0!==g.timeInterval&&typeof window<"u"&&window.clearInterval(g.timeInterval),S&&0!==S.length){!g.width&&typeof window<"u"&&(g.width=window.innerWidth),!g.height&&typeof window<"u"&&(g.height=window.innerHeight),g.center||(g.center=[g.width/2,g.height/2]);var w=g.center;if(1===S.length)return S[0].x=w[0],S[0].y=w[1],void(null===(_=g.onLayoutEnd)||void 0===_||_.call(g));var E={},A={};return S.forEach(function(k,L){(0,B.isNumber)(k.x)||(k.x=Math.random()*x.width),(0,B.isNumber)(k.y)||(k.y=Math.random()*x.height),E[k.id]=k,A[k.id]=L}),g.nodeMap=E,g.nodeIdxMap=A,g.run()}null===(m=g.onLayoutEnd)||void 0===m||m.call(g)},b.prototype.run=function(){var x,m=this,_=m.nodes;if(_){var g=m.edges,S=m.maxIteration,w=m.workerEnabled,A=m.animate,k={};if(m.clustering&&_.forEach(function(te){void 0===k[te.cluster]&&(k[te.cluster]={name:te.cluster,cx:0,cy:0,count:0})}),w||!A){for(var L=0;L<S;L++)m.runOneStep(k);null===(x=m.onLayoutEnd)||void 0===x||x.call(m)}else{if(typeof window>"u")return;var ie=0;this.timeInterval=window.setInterval(function(){var te;m.runOneStep(k),++ie>=S&&(null===(te=m.onLayoutEnd)||void 0===te||te.call(m),window.clearInterval(m.timeInterval))},0)}return{nodes:_,edges:g}}},b.prototype.runOneStep=function(x){var m,_=this,g=_.nodes;if(g){var S=_.edges,w=_.center,E=_.gravity,A=_.speed,k=_.clustering,L=_.height*_.width,ie=Math.sqrt(L)/10,te=L/(g.length+1),$=Math.sqrt(te),X=[];if(g.forEach(function(ae,ne){X[ne]={x:0,y:0}}),_.applyCalculate(g,S,X,$,te),k){for(var Z in x)x[Z].cx=0,x[Z].cy=0,x[Z].count=0;for(var Z in g.forEach(function(ae){var ne=x[ae.cluster];(0,B.isNumber)(ae.x)&&(ne.cx+=ae.x),(0,B.isNumber)(ae.y)&&(ne.cy+=ae.y),ne.count++}),x)x[Z].cx/=x[Z].count,x[Z].cy/=x[Z].count;var Y=_.clusterGravity||E;g.forEach(function(ae,ne){if((0,B.isNumber)(ae.x)&&(0,B.isNumber)(ae.y)){var se=x[ae.cluster],ve=Math.sqrt((ae.x-se.cx)*(ae.x-se.cx)+(ae.y-se.cy)*(ae.y-se.cy)),ge=$*Y;X[ne].x-=ge*(ae.x-se.cx)/ve,X[ne].y-=ge*(ae.y-se.cy)/ve}})}g.forEach(function(ae,ne){if((0,B.isNumber)(ae.x)&&(0,B.isNumber)(ae.y)){var se=.01*$*E;X[ne].x-=se*(ae.x-w[0]),X[ne].y-=se*(ae.y-w[1])}}),g.forEach(function(ae,ne){if((0,B.isNumber)(ae.fx)&&(0,B.isNumber)(ae.fy))return ae.x=ae.fx,void(ae.y=ae.fy);if((0,B.isNumber)(ae.x)&&(0,B.isNumber)(ae.y)){var se=Math.sqrt(X[ne].x*X[ne].x+X[ne].y*X[ne].y);if(se>0){var ve=Math.min(ie*(A/800),se);ae.x+=X[ne].x/se*ve,ae.y+=X[ne].y/se*ve}}}),null===(m=_.tick)||void 0===m||m.call(_)}},b.prototype.applyCalculate=function(x,m,_,g,S){this.calRepulsive(x,_,S),m&&this.calAttractive(m,_,g)},b.prototype.calRepulsive=function(x,m,_){x.forEach(function(g,S){m[S]={x:0,y:0},x.forEach(function(w,E){if(S!==E&&(0,B.isNumber)(g.x)&&(0,B.isNumber)(w.x)&&(0,B.isNumber)(g.y)&&(0,B.isNumber)(w.y)){var A=g.x-w.x,k=g.y-w.y,L=A*A+k*k;if(0===L){L=1;var ie=S>E?1:-1;A=.01*ie,k=.01*ie}var te=_/L;m[S].x+=A*te,m[S].y+=k*te}})})},b.prototype.calAttractive=function(x,m,_){var g=this;x.forEach(function(S){var w=(0,B.getEdgeTerminal)(S,"source"),E=(0,B.getEdgeTerminal)(S,"target");if(w&&E){var A=g.nodeIdxMap[w],k=g.nodeIdxMap[E];if(A!==k){var L=g.nodeMap[w],ie=g.nodeMap[E];if((0,B.isNumber)(ie.x)&&(0,B.isNumber)(L.x)&&(0,B.isNumber)(ie.y)&&(0,B.isNumber)(L.y)){var te=ie.x-L.x,$=ie.y-L.y,X=Math.sqrt(te*te+$*$),Z=X*X/_;m[k].x-=te/X*Z,m[k].y-=$/X*Z,m[A].x+=te/X*Z,m[A].y+=$/X*Z}}}})},b.prototype.stop=function(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval)},b.prototype.destroy=function(){var x=this;x.stop(),x.tick=null,x.nodes=null,x.edges=null,x.destroyed=!0},b.prototype.getType=function(){return"fruchterman"},b}(q.Base);z.FruchtermanLayout=P},5626:function(qt,z,j){"use strict";var T,R=this&&this.__extends||(T=function(b,x){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&(m[g]=_[g])})(b,x)},function(b,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function m(){this.constructor=b}T(b,x),b.prototype=null===x?Object.create(x):(m.prototype=x.prototype,new m)});Object.defineProperty(z,"__esModule",{value:!0}),z.GForceLayout=void 0;var q=j(8792),B=j(7602),O=function(T,b){return T?(0,B.isNumber)(T)?function(m){return T}:T:function(m){return b||1}},P=function(T){function b(x){var m=T.call(this)||this;return m.maxIteration=500,m.workerEnabled=!1,m.edgeStrength=200,m.nodeStrength=1e3,m.coulombDisScale=.005,m.damping=.9,m.maxSpeed=1e3,m.minMovement=.5,m.interval=.02,m.factor=1,m.linkDistance=1,m.gravity=10,m.preventOverlap=!0,m.collideStrength=1,m.tick=function(){},m.nodes=[],m.edges=[],m.width=300,m.height=300,m.nodeMap={},m.nodeIdxMap={},m.animate=!0,m.updateCfg(x),m}return R(b,T),b.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},b.prototype.execute=function(){var x,m,_=this,g=_.nodes;if(void 0!==_.timeInterval&&typeof window<"u"&&window.clearInterval(_.timeInterval),g&&0!==g.length){!_.width&&typeof window<"u"&&(_.width=window.innerWidth),!_.height&&typeof window<"u"&&(_.height=window.innerHeight),_.center||(_.center=[_.width/2,_.height/2]);var S=_.center;if(1===g.length)return g[0].x=S[0],g[0].y=S[1],void(null===(m=_.onLayoutEnd)||void 0===m||m.call(_));var w={},E={};g.forEach(function($,X){(0,B.isNumber)($.x)||($.x=Math.random()*_.width),(0,B.isNumber)($.y)||($.y=Math.random()*_.height),w[$.id]=$,E[$.id]=X}),_.nodeMap=w,_.nodeIdxMap=E,_.linkDistance=O(_.linkDistance,1),_.nodeStrength=O(_.nodeStrength,1),_.edgeStrength=O(_.edgeStrength,1);var k,A=_.nodeSize;if(_.preventOverlap){var ie,L=_.nodeSpacing;ie=(0,B.isNumber)(L)?function(){return L}:(0,B.isFunction)(L)?L:function(){return 0},k=A?(0,B.isArray)(A)?function($){return Math.max(A[0],A[1])+ie($)}:function($){return A+ie($)}:function($){return $.size?(0,B.isArray)($.size)?Math.max($.size[0],$.size[1])+ie($):(0,B.isObject)($.size)?Math.max($.size.width,$.size.height)+ie($):$.size+ie($):10+ie($)}}_.nodeSize=k,_.degrees=(0,B.getDegree)(g.length,_.nodeIdxMap,_.edges),_.getMass||(_.getMass=function($){return $.mass||_.degrees[_.nodeIdxMap[$.id]].all||1}),_.run()}else null===(x=_.onLayoutEnd)||void 0===x||x.call(_)},b.prototype.run=function(){var x,m=this,_=m.maxIteration,g=m.nodes,w=m.minMovement;if(g)if(m.workerEnabled||!m.animate){for(var A=0;A<_;A++){var k=m.runOneStep(A);if(m.reachMoveThreshold(g,k,w))break}null===(x=m.onLayoutEnd)||void 0===x||x.call(m)}else{if(typeof window>"u")return;var L=0;this.timeInterval=window.setInterval(function(){var ie,te;if(g){var $=m.runOneStep(L)||[];m.reachMoveThreshold(g,$,w)&&(null===(ie=m.onLayoutEnd)||void 0===ie||ie.call(m),window.clearInterval(m.timeInterval)),++L>=_&&(null===(te=m.onLayoutEnd)||void 0===te||te.call(m),window.clearInterval(m.timeInterval))}},0)}},b.prototype.reachMoveThreshold=function(x,m,_){var g=0;return x.forEach(function(S,w){var E=S.x-m[w].x,A=S.y-m[w].y;g+=Math.sqrt(E*E+A*A)}),(g/=x.length)<_},b.prototype.runOneStep=function(x){var m,_=this,g=_.nodes,S=_.edges,w=[],E=[];if(g){g.forEach(function(L,ie){w[2*ie]=0,w[2*ie+1]=0,E[2*ie]=0,E[2*ie+1]=0}),_.calRepulsive(w,g),S&&_.calAttractive(w,S),_.calGravity(w,g);var A=Math.max(.02,_.interval-.002*x);_.updateVelocity(w,E,A,g);var k=[];return g.forEach(function(L){k.push({x:L.x,y:L.y})}),_.updatePosition(E,A,g),null===(m=_.tick)||void 0===m||m.call(_),k}},b.prototype.calRepulsive=function(x,m){var _=this,g=_.getMass,S=_.factor,w=_.coulombDisScale,E=_.preventOverlap,A=_.collideStrength,k=void 0===A?1:A,L=_.nodeStrength,ie=_.nodeSize;m.forEach(function(te,$){var X=g?g(te):1;m.forEach(function(Z,Y){if(!($>=Y)){var ae=te.x-Z.x,ne=te.y-Z.y;0===ae&&0===ne&&(ae=.01*Math.random(),ne=.01*Math.random());var se=ae*ae+ne*ne,ve=Math.sqrt(se),ge=(ve+.1)*w,Fe=ae/ve,Ae=ne/ve,ze=.5*(L(te)+L(Z))*S/(ge*ge),oe=g?g(Z):1;if(x[2*$]+=Fe*ze,x[2*$+1]+=Ae*ze,x[2*Y]-=Fe*ze,x[2*Y+1]-=Ae*ze,E&&(ie(te)+ie(Z))/2>ve){var ce=k*(L(te)+L(Z))*.5/se;x[2*$]+=Fe*ce/X,x[2*$+1]+=Ae*ce/X,x[2*Y]-=Fe*ce/oe,x[2*Y+1]-=Ae*ce/oe}}})})},b.prototype.calAttractive=function(x,m){var _=this,g=_.nodeMap,S=_.nodeIdxMap,w=_.linkDistance,E=_.edgeStrength,A=_.nodeSize,k=_.getMass;m.forEach(function(L,ie){var te=(0,B.getEdgeTerminal)(L,"source"),$=(0,B.getEdgeTerminal)(L,"target"),X=g[te],Z=g[$],Y=Z.x-X.x,ae=Z.y-X.y;0===Y&&0===ae&&(Y=.01*Math.random(),ae=.01*Math.random());var ne=Math.sqrt(Y*Y+ae*ae),se=Y/ne,ve=ae/ne,Ae=((w(L,X,Z)||1+(A(X)+A(Z)||0)/2)-ne)*E(L),ze=S[te],oe=S[$],ce=k?k(X):1,H=k?k(Z):1;x[2*ze]-=se*Ae/ce,x[2*ze+1]-=ve*Ae/ce,x[2*oe]+=se*Ae/H,x[2*oe+1]+=ve*Ae/H})},b.prototype.calGravity=function(x,m){for(var _=this,g=_.center,S=_.gravity,w=_.degrees,E=m.length,A=0;A<E;A++){var k=m[A],L=k.x-g[0],ie=k.y-g[1],te=S;if(_.getCenter){var $=_.getCenter(k,w[A].all);$&&(0,B.isNumber)($[0])&&(0,B.isNumber)($[1])&&(0,B.isNumber)($[2])&&(L=k.x-$[0],ie=k.y-$[1],te=$[2])}te&&(x[2*A]-=te*L,x[2*A+1]-=te*ie)}},b.prototype.updateVelocity=function(x,m,_,g){var S=this,w=_*S.damping;g.forEach(function(E,A){var k=x[2*A]*w||.01,L=x[2*A+1]*w||.01,ie=Math.sqrt(k*k+L*L);if(ie>S.maxSpeed){var te=S.maxSpeed/ie;k*=te,L*=te}m[2*A]=k,m[2*A+1]=L})},b.prototype.updatePosition=function(x,m,_){_.forEach(function(g,S){if((0,B.isNumber)(g.fx)&&(0,B.isNumber)(g.fy))return g.x=g.fx,void(g.y=g.fy);var E=x[2*S+1]*m;g.x+=x[2*S]*m,g.y+=E})},b.prototype.stop=function(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval)},b.prototype.destroy=function(){var x=this;x.stop(),x.tick=null,x.nodes=null,x.edges=null,x.destroyed=!0},b.prototype.getType=function(){return"gForce"},b}(q.Base);z.GForceLayout=P},4989:function(qt,z,j){"use strict";var g,R=this&&this.__extends||(g=function(S,w){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,A){E.__proto__=A}||function(E,A){for(var k in A)Object.prototype.hasOwnProperty.call(A,k)&&(E[k]=A[k])})(S,w)},function(S,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function E(){this.constructor=S}g(S,w),S.prototype=null===w?Object.create(w):(E.prototype=w.prototype,new E)}),q=this&&this.__awaiter||function(g,S,w,E){return new(w||(w=Promise))(function(k,L){function ie(X){try{$(E.next(X))}catch(Z){L(Z)}}function te(X){try{$(E.throw(X))}catch(Z){L(Z)}}function $(X){X.done?k(X.value):function A(k){return k instanceof w?k:new w(function(L){L(k)})}(X.value).then(ie,te)}$((E=E.apply(g,S||[])).next())})},B=this&&this.__generator||function(g,S){var E,A,k,L,w={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return L={next:ie(0),throw:ie(1),return:ie(2)},"function"==typeof Symbol&&(L[Symbol.iterator]=function(){return this}),L;function ie($){return function(X){return function te($){if(E)throw new TypeError("Generator is already executing.");for(;L&&(L=0,$[0]&&(w=0)),w;)try{if(E=1,A&&(k=2&$[0]?A.return:$[0]?A.throw||((k=A.return)&&k.call(A),0):A.next)&&!(k=k.call(A,$[1])).done)return k;switch(A=0,k&&($=[2&$[0],k.value]),$[0]){case 0:case 1:k=$;break;case 4:return w.label++,{value:$[1],done:!1};case 5:w.label++,A=$[1],$=[0];continue;case 7:$=w.ops.pop(),w.trys.pop();continue;default:if(!(k=(k=w.trys).length>0&&k[k.length-1])&&(6===$[0]||2===$[0])){w=0;continue}if(3===$[0]&&(!k||$[1]>k[0]&&$[1]<k[3])){w.label=$[1];break}if(6===$[0]&&w.label<k[1]){w.label=k[1],k=$;break}if(k&&w.label<k[2]){w.label=k[2],w.ops.push($);break}k[2]&&w.ops.pop(),w.trys.pop();continue}$=S.call(g,w)}catch(X){$=[6,X],A=0}finally{E=k=0}if(5&$[0])throw $[1];return{value:$[0]?$[1]:void 0,done:!0}}([$,X])}}};Object.defineProperty(z,"__esModule",{value:!0}),z.FruchtermanGPULayout=void 0;var O=j(8792),P=j(7602),T=j(3305),b=j(7659),x=j(9085),m=j(981),_=function(g){function S(w){var E=g.call(this)||this;return E.maxIteration=1e3,E.gravity=10,E.speed=1,E.clustering=!1,E.clusterField="cluster",E.clusterGravity=10,E.workerEnabled=!1,E.nodes=[],E.edges=[],E.width=300,E.height=300,E.nodeMap={},E.nodeIdxMap={},E.updateCfg(w),E}return R(S,g),S.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},S.prototype.execute=function(){return q(this,void 0,void 0,function(){var w,E,A,k,L,ie=this;return B(this,function(te){switch(te.label){case 0:return(E=(w=this).nodes)&&0!==E.length?(!w.width&&typeof window<"u"&&(w.width=window.innerWidth),!w.height&&typeof window<"u"&&(w.height=window.innerHeight),w.center||(w.center=[w.width/2,w.height/2]),A=w.center,1===E.length?(E[0].x=A[0],E[0].y=A[1],w.onLayoutEnd&&w.onLayoutEnd(),[2]):(k={},L={},E.forEach(function($,X){(0,P.isNumber)($.x)||($.x=Math.random()*ie.width),(0,P.isNumber)($.y)||($.y=Math.random()*ie.height),k[$.id]=$,L[$.id]=X}),w.nodeMap=k,w.nodeIdxMap=L,[4,w.run()])):(w.onLayoutEnd&&w.onLayoutEnd(),[2]);case 1:return te.sent(),[2]}})})},S.prototype.executeWithWorker=function(w,E){return q(this,void 0,void 0,function(){var A,k,L,ie,te,$=this;return B(this,function(X){switch(X.label){case 0:return L=(A=this).center,(k=A.nodes)&&0!==k.length?1===k.length?(k[0].x=L[0],k[0].y=L[1],[2]):(ie={},te={},k.forEach(function(Z,Y){(0,P.isNumber)(Z.x)||(Z.x=Math.random()*$.width),(0,P.isNumber)(Z.y)||(Z.y=Math.random()*$.height),ie[Z.id]=Z,te[Z.id]=Y}),A.nodeMap=ie,A.nodeIdxMap=te,[4,A.run(w,E)]):[2];case 1:return X.sent(),[2]}})})},S.prototype.run=function(w,E){return q(this,void 0,void 0,function(){var A,k,L,ie,te,$,X,Z,Y,ae,ne,se,ve,ge,Fe,Ae,ze,oe,H,re,ye,Ce,Ie,Ue,st=this;return B(this,function(Ne){switch(Ne.label){case 0:for(k=(A=this).nodes,L=A.edges,ie=A.maxIteration,te=A.center,$=A.height*A.width,X=Math.sqrt($)/10,Z=$/(k.length+1),Y=Math.sqrt(Z),ae=A.speed,ne=A.clustering,se=(0,b.attributesToTextureData)([A.clusterField],k),ve=se.array,ge=se.count,k.forEach(function(lt,gt){var $e=0,dt=0;(0,P.isNumber)(lt.fx)&&(0,P.isNumber)(lt.fy)&&($e=lt.fx||.001,dt=lt.fy||.001),ve[4*gt+1]=$e,ve[4*gt+2]=dt}),Fe=k.length,Ae=(0,b.buildTextureData)(k,L),ze=Ae.maxEdgePerVetex,oe=Ae.array,H=T.World.create(A.workerEnabled?{canvas:w,engineOptions:{supportCompute:!0}}:{engineOptions:{supportCompute:!0}}),re=A.onLayoutEnd,ye=[],Ce=0;Ce<ge;Ce++)ye.push(0,0,0,0);return Ie=H.createKernel(x.fruchtermanBundle).setDispatch([Fe,1,1]).setBinding({u_Data:oe,u_K:Y,u_K2:Z,u_Gravity:A.gravity,u_ClusterGravity:A.clusterGravity||A.gravity||1,u_Speed:ae,u_MaxDisplace:X,u_Clustering:ne?1:0,u_Center:te,u_AttributeArray:ve,u_ClusterCenters:ye,MAX_EDGE_PER_VERTEX:ze,VERTEX_COUNT:Fe}),ne&&(Ue=H.createKernel(x.clusterBundle).setDispatch([ge,1,1]).setBinding({u_Data:oe,u_NodeAttributes:ve,u_ClusterCenters:ye,VERTEX_COUNT:Fe,CLUSTER_COUNT:ge})),[4,q(st,void 0,void 0,function(){var lt,gt;return B(this,function($e){switch($e.label){case 0:lt=0,$e.label=1;case 1:return lt<ie?[4,Ie.execute()]:[3,6];case 2:return $e.sent(),ne?(Ue.setBinding({u_Data:Ie}),[4,Ue.execute()]):[3,4];case 3:$e.sent(),Ie.setBinding({u_ClusterCenters:Ue}),$e.label=4;case 4:Ie.setBinding({u_MaxDisplace:X*=.99}),$e.label=5;case 5:return lt++,[3,1];case 6:return[4,Ie.getOutput()];case 7:return gt=$e.sent(),w?E.postMessage({type:m.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:gt}):k.forEach(function(dt,De){var vt=gt[4*De+1];dt.x=gt[4*De],dt.y=vt}),re&&re(),[2]}})})];case 1:return Ne.sent(),[2]}})})},S.prototype.getType=function(){return"fruchterman-gpu"},S}(O.Base);z.FruchtermanGPULayout=_},9085:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.clusterBundle=z.clusterCode=z.fruchtermanBundle=z.fruchtermanCode=void 0,z.fruchtermanCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass Fruchterman {\n  @in @out\n  u_Data: vec4[];\n  @in\n  u_K: float;\n  @in\n  u_K2: float;\n  \n  @in\n  u_Center: vec2;\n  @in\n  u_Gravity: float;\n  @in\n  u_ClusterGravity: float;\n  @in\n  u_Speed: float;\n  @in\n  u_MaxDisplace: float;\n  @in\n  u_Clustering: float;\n  @in\n  u_AttributeArray: vec4[];\n  @in\n  u_ClusterCenters: vec4[];\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const xDist = currentNode[0] - nextNode[0];\n        const yDist = currentNode[1] - nextNode[1];\n        const dist = (xDist * xDist + yDist * yDist) + 0.01;\n        let param = this.u_K2 / dist;\n        \n        if (dist > 0.0) {\n          dx += param * xDist;\n          dy += param * yDist;\n          if (xDist == 0 && yDist == 0) {\n            const sign = i < j ? 1 : -1;\n            dx += param * sign;\n            dy += param * sign;\n          }\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // \n    let dx = 0, dy = 0;\n    const vx = currentNode[0] - this.u_Center[0];\n    const vy = currentNode[1] - this.u_Center[1];\n    const gf = 0.01 * this.u_K * this.u_Gravity;\n    dx = gf * vx;\n    dy = gf * vy;\n    if (this.u_Clustering == 1) {\n      const clusterIdx = int(nodeAttributes[0]);\n      const center = this.u_ClusterCenters[clusterIdx];\n      const cvx = currentNode[0] - center[0];\n      const cvy = currentNode[1] - center[1];\n      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;\n      const parma = this.u_K * this.u_ClusterGravity / dist;\n      dx += parma * cvx;\n      dy += parma * cvy;\n    }\n    return [dx, dy];\n  }\n  calcAttractive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    const arr_offset = int(floor(currentNode[2] + 0.5));\n    const length = int(floor(currentNode[3] + 0.5));\n    const node_buffer: vec4;\n    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + p;\n      // when arr_idx % 4 == 0 update currentNodedx_buffer\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)];\n      }\n      const float_j = buf_offset == 0 ? node_buffer[0] :\n                      buf_offset == 1 ? node_buffer[1] :\n                      buf_offset == 2 ? node_buffer[2] :\n                                        node_buffer[3];\n      const nextNode = this.u_Data[int(float_j)];\n      const xDist = currentNode[0] - nextNode[0];\n      const yDist = currentNode[1] - nextNode[1];\n      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;\n      let attractiveF = dist / this.u_K;\n    \n      if (dist > 0.0) {\n        dx -= xDist * attractiveF;\n        dy -= yDist * attractiveF;\n        if (xDist == 0 && yDist == 0) {\n          const sign = i < int(float_j) ? 1 : -1;\n          dx -= sign * attractiveF;\n          dy -= sign * attractiveF;\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    let dx = 0, dy = 0;\n    if (i >= VERTEX_COUNT) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // [gravity, fx, fy, 0]\n    const nodeAttributes = this.u_AttributeArray[i];\n\n    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {\n      // the node is fixed\n      this.u_Data[i] = [\n        nodeAttributes[1],\n        nodeAttributes[2],\n        currentNode[2],\n        currentNode[3]\n      ];\n      return;\n    }\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    dx += repulsive[0];\n    dy += repulsive[1];\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode);\n    dx += attractive[0];\n    dy += attractive[1];\n    // gravity\n    const gravity = this.calcGravity(currentNode, nodeAttributes);\n    dx -= gravity[0];\n    dy -= gravity[1];\n    // speed\n    dx *= this.u_Speed;\n    dy *= this.u_Speed;\n\n    // move\n    const distLength = sqrt(dx * dx + dy * dy);\n    if (distLength > 0.0) {\n      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);\n      this.u_Data[i] = [\n        currentNode[0] + dx / distLength * limitedDist,\n        currentNode[1] + dy / distLength * limitedDist,\n        currentNode[2],\n        currentNode[3]\n      ];\n    }\n  }\n}\n",z.fruchtermanBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',z.clusterCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst VERTEX_COUNT;\nconst CLUSTER_COUNT;\n@numthreads(1, 1, 1)\nclass CalcCenter {\n  @in\n  u_Data: vec4[];\n  @in\n  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]\n  @in @out\n  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const center = this.u_ClusterCenters[i];\n    let sumx = 0;\n    let sumy = 0;\n    let count = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      const attributes = this.u_NodeAttributes[j];\n      const clusterIdx = int(attributes[0]);\n      const vertex = this.u_Data[j];\n      if (clusterIdx == i) {\n        sumx += vertex.x;\n        sumy += vertex.y;\n        count += 1;\n      }\n    }\n    this.u_ClusterCenters[i] = [\n      sumx / count,\n      sumy / count,\n      count,\n      i\n    ];\n  }\n}\n",z.clusterBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},2649:function(qt,z,j){"use strict";var S,R=this&&this.__extends||(S=function(w,E){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,k){A.__proto__=k}||function(A,k){for(var L in k)Object.prototype.hasOwnProperty.call(k,L)&&(A[L]=k[L])})(w,E)},function(w,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function A(){this.constructor=w}S(w,E),w.prototype=null===E?Object.create(E):(A.prototype=E.prototype,new A)}),q=this&&this.__awaiter||function(S,w,E,A){return new(E||(E=Promise))(function(L,ie){function te(Z){try{X(A.next(Z))}catch(Y){ie(Y)}}function $(Z){try{X(A.throw(Z))}catch(Y){ie(Y)}}function X(Z){Z.done?L(Z.value):function k(L){return L instanceof E?L:new E(function(ie){ie(L)})}(Z.value).then(te,$)}X((A=A.apply(S,w||[])).next())})},B=this&&this.__generator||function(S,w){var A,k,L,ie,E={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return ie={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(ie[Symbol.iterator]=function(){return this}),ie;function te(X){return function(Z){return function $(X){if(A)throw new TypeError("Generator is already executing.");for(;ie&&(ie=0,X[0]&&(E=0)),E;)try{if(A=1,k&&(L=2&X[0]?k.return:X[0]?k.throw||((L=k.return)&&L.call(k),0):k.next)&&!(L=L.call(k,X[1])).done)return L;switch(k=0,L&&(X=[2&X[0],L.value]),X[0]){case 0:case 1:L=X;break;case 4:return E.label++,{value:X[1],done:!1};case 5:E.label++,k=X[1],X=[0];continue;case 7:X=E.ops.pop(),E.trys.pop();continue;default:if(!(L=(L=E.trys).length>0&&L[L.length-1])&&(6===X[0]||2===X[0])){E=0;continue}if(3===X[0]&&(!L||X[1]>L[0]&&X[1]<L[3])){E.label=X[1];break}if(6===X[0]&&E.label<L[1]){E.label=L[1],L=X;break}if(L&&E.label<L[2]){E.label=L[2],E.ops.push(X);break}L[2]&&E.ops.pop(),E.trys.pop();continue}X=w.call(S,E)}catch(Z){X=[6,Z],k=0}finally{A=L=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([X,Z])}}};Object.defineProperty(z,"__esModule",{value:!0}),z.GForceGPULayout=void 0;var O=j(8792),P=j(7602),T=j(3305),b=j(7659),x=j(9337),m=j(7313),_=j(981),g=function(S){function w(E){var A=S.call(this)||this;return A.maxIteration=1e3,A.edgeStrength=200,A.nodeStrength=1e3,A.coulombDisScale=.005,A.damping=.9,A.maxSpeed=1e3,A.minMovement=.5,A.interval=.02,A.factor=1,A.linkDistance=1,A.gravity=10,A.workerEnabled=!1,A.nodes=[],A.edges=[],A.width=300,A.height=300,A.nodeMap={},A.nodeIdxMap={},A.updateCfg(E),A}return R(w,S),w.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},w.prototype.execute=function(){return q(this,void 0,void 0,function(){var E,A,k,L,ie;return B(this,function(te){switch(te.label){case 0:return(A=(E=this).nodes)&&0!==A.length?(!E.width&&typeof window<"u"&&(E.width=window.innerWidth),!E.height&&typeof window<"u"&&(E.height=window.innerHeight),E.center||(E.center=[E.width/2,E.height/2]),k=E.center,1===A.length?(A[0].x=k[0],A[0].y=k[1],E.onLayoutEnd&&E.onLayoutEnd(),[2]):(L={},ie={},A.forEach(function($,X){(0,P.isNumber)($.x)||($.x=Math.random()*E.width),(0,P.isNumber)($.y)||($.y=Math.random()*E.height),L[$.id]=$,ie[$.id]=X}),E.nodeMap=L,E.nodeIdxMap=ie,E.nodeStrength=(0,b.proccessToFunc)(E.nodeStrength,1),E.edgeStrength=(0,b.proccessToFunc)(E.edgeStrength,1),[4,E.run()])):(E.onLayoutEnd&&E.onLayoutEnd(),[2]);case 1:return te.sent(),[2]}})})},w.prototype.executeWithWorker=function(E,A){var k=this,L=k.nodes,ie=k.center;if(L&&0!==L.length){if(1===L.length)return L[0].x=ie[0],void(L[0].y=ie[1]);var te={},$={};L.forEach(function(X,Z){(0,P.isNumber)(X.x)||(X.x=Math.random()*k.width),(0,P.isNumber)(X.y)||(X.y=Math.random()*k.height),te[X.id]=X,$[X.id]=Z}),k.nodeMap=te,k.nodeIdxMap=$,k.nodeStrength=(0,b.proccessToFunc)(k.nodeStrength,1),k.edgeStrength=(0,b.proccessToFunc)(k.edgeStrength,1),k.run(E,A)}},w.prototype.run=function(E,A){return q(this,void 0,void 0,function(){var k,L,ie,te,$,X,Z,Y,ae,ne,se,ve,ge,Fe,Ae,ze,oe,ce,H,ye,Ce,Ie,Ue,pt,st,lt=this;return B(this,function(gt){switch(gt.label){case 0:for(L=(k=this).nodes,ie=k.edges,te=k.maxIteration,!k.width&&typeof window<"u"&&(k.width=window.innerWidth),!k.height&&typeof window<"u"&&(k.height=window.innerHeight),$=L.length,k.linkDistance=(0,b.proccessToFunc)(k.linkDistance),k.edgeStrength=(0,b.proccessToFunc)(k.edgeStrength),X=(0,b.buildTextureDataWithTwoEdgeAttr)(L,ie,k.linkDistance,k.edgeStrength),Z=X.maxEdgePerVetex,Y=X.array,k.degrees=(0,x.getDegree)(L.length,k.nodeIdxMap,ie).map(function($e){return $e.all}),ae=[],ne=[],se=[],ve=[],ge=[],Fe=[],Ae=[],k.getMass||(k.getMass=function($e){return k.degrees[k.nodeIdxMap[$e.id]]||1}),ze=k.gravity,oe=k.center,L.forEach(function($e,dt){ae.push(k.getMass($e)),ne.push(k.nodeStrength($e)),k.degrees[dt]||(k.degrees[dt]=0);var De=[oe[0],oe[1],ze];if(k.getCenter){var Be=k.getCenter($e,k.degrees[dt]);Be&&(0,P.isNumber)(Be[0])&&(0,P.isNumber)(Be[1])&&(0,P.isNumber)(Be[2])&&(De=Be)}se.push(De[0]),ve.push(De[1]),ge.push(De[2]),(0,P.isNumber)($e.fx)&&(0,P.isNumber)($e.fy)?(Fe.push($e.fx||.001),Ae.push($e.fy||.001)):(Fe.push(0),Ae.push(0))}),ce=(0,b.arrayToTextureData)([ae,k.degrees,ne,Fe]),H=(0,b.arrayToTextureData)([se,ve,ge,Ae]),ye=T.World.create(k.workerEnabled?{canvas:E,engineOptions:{supportCompute:!0}}:{engineOptions:{supportCompute:!0}}),Ce=k.onLayoutEnd,Ie=[],Y.forEach(function($e){Ie.push($e)}),Ue=0;Ue<4;Ue++)Ie.push(0);return pt=ye.createKernel(m.gForceBundle).setDispatch([$,1,1]).setBinding({u_Data:Y,u_damping:k.damping,u_maxSpeed:k.maxSpeed,u_minMovement:k.minMovement,u_coulombDisScale:k.coulombDisScale,u_factor:k.factor,u_NodeAttributeArray1:ce,u_NodeAttributeArray2:H,MAX_EDGE_PER_VERTEX:Z,VERTEX_COUNT:$,u_AveMovement:Ie,u_interval:k.interval}),st=ye.createKernel(m.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:Y,VERTEX_COUNT:$,u_AveMovement:[0,0,0,0]}),[4,q(lt,void 0,void 0,function(){var $e,dt,De;return B(this,function(Be){switch(Be.label){case 0:$e=0,Be.label=1;case 1:return $e<te?[4,pt.execute()]:[3,5];case 2:return Be.sent(),st.setBinding({u_Data:pt}),[4,st.execute()];case 3:Be.sent(),dt=Math.max(.02,k.interval-.002*$e),pt.setBinding({u_interval:dt,u_AveMovement:st}),Be.label=4;case 4:return $e++,[3,1];case 5:return[4,pt.getOutput()];case 6:return De=Be.sent(),E?A.postMessage({type:_.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:De}):L.forEach(function(vt,Ve){var wt=De[4*Ve+1];vt.x=De[4*Ve],vt.y=wt}),Ce&&Ce(),[2]}})})];case 1:return gt.sent(),[2]}})})},w.prototype.getType=function(){return"gForce-gpu"},w}(O.Base);z.GForceGPULayout=g},7313:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.aveMovementBundle=z.aveMovementCode=z.gForceBundle=z.gForceCode=void 0,z.gForceCode="\nimport { globalInvocationID } from 'g-webgpu';\n\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\nconst SHIFT_20 = 1048576;\n\n@numthreads(1, 1, 1)\nclass GGForce {\n  @in @out\n  u_Data: vec4[];\n\n  @in\n  u_damping: float;\n  \n  @in\n  u_maxSpeed: float;\n\n  @in\n  u_minMovement: float;\n\n  @in\n  u_AveMovement: vec4[];\n\n  @in\n  u_coulombDisScale: float;\n\n  @in\n  u_factor: float;\n\n  @in\n  u_NodeAttributeArray1: vec4[];\n\n  @in\n  u_NodeAttributeArray2: vec4[];\n\n  @in\n  u_interval: float;\n\n  unpack_float(packedValue: float): ivec2 {\n    const packedIntValue = int(packedValue);\n    const v0 = packedIntValue / SHIFT_20;\n    return [v0, packedIntValue - v0 * SHIFT_20];\n  }\n\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let ax = 0, ay = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const vx = currentNode[0] - nextNode[0];\n        const vy = currentNode[1] - nextNode[1];\n        const dist = sqrt(vx * vx + vy * vy) + 0.01;\n        const n_dist = (dist + 0.1) * this.u_coulombDisScale;\n        const direx = vx / dist;\n        const direy = vy / dist;\n        const attributesi = this.u_NodeAttributeArray1[i];\n        const attributesj = this.u_NodeAttributeArray1[j];\n        const massi = attributesi[0];\n        const nodeStrengthi = attributesi[2];\n        const nodeStrengthj = attributesj[2];\n        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;\n        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);\n        const param = nodeStrength * this.u_factor / (n_dist * n_dist);\n        ax += direx * param;\n        ay += direy * param;\n      }\n    }\n    return [ax, ay];\n  }\n\n  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {\n    // note: attributes2 = [centerX, centerY, gravity, 0]\n\n    const vx = currentNode[0] - attributes2[0];\n    const vy = currentNode[1] - attributes2[1];\n    \n    const ax = vx * attributes2[2];\n    const ay = vy * attributes2[2];\n    \n    return [ax, ay];\n  }\n\n  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {\n    // note: attributes1 = [mass, degree, nodeSterngth, 0]\n\n    const mass = attributes1[0];\n    let ax = 0, ay = 0;\n    // const arr_offset = int(floor(currentNode[2] + 0.5));\n    // const length = int(floor(currentNode[3] + 0.5));\n\n    const compressed = this.unpack_float(currentNode[2]);\n    const length = compressed[0];\n    const arr_offset = compressed[1];\n\n    const node_buffer: vec4;\n    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + 4 * p; // i \u8282\u70b9\u7684\u7b2c p \u6761\u8fb9\u5f00\u59cb\u7684\u5c0f\u683c\u5b50\u4f4d\u7f6e\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683c\u5b50\uff0c\u5927\u683c\u5b50\u4f4d\u7f6e=\u5c0f\u4e2a\u5b50\u4f4d\u7f6e / 4\uff0c\n      }\n\n      let float_j: float = node_buffer[0];\n\n      const nextNode = this.u_Data[int(float_j)];\n      const vx = nextNode[0] - currentNode[0];\n      const vy = nextNode[1] - currentNode[1];\n      const dist = sqrt(vx * vx + vy * vy) + 0.01;\n      const direx = vx / dist;\n      const direy = vy / dist;\n      const edgeLength = node_buffer[1];\n      const edgeStrength = node_buffer[2];\n      const diff: float = edgeLength - dist;//edgeLength\n      // const param = diff * this.u_stiffness / mass; //\n      const param = diff * edgeStrength / mass; // \n      ax -= direx * param;\n      ay -= direy * param;\n    }\n    return [ax, ay];\n  }\n\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    const movement = u_AveMovement[0];\n    let ax = 0, ay = 0;\n\n    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // \u6bcf\u4e2a\u8282\u70b9\u5c5e\u6027\u5360\u4e24\u4e2a\u6570\u7ec4\u4e2d\u5404\u4e00\u683c\n    // [mass, degree, nodeStrength, fx]\n    const nodeAttributes1 = this.u_NodeAttributeArray1[i];\n    // [centerX, centerY, centerGravity, fy]\n    const nodeAttributes2 = this.u_NodeAttributeArray2[i];\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    ax += repulsive[0];\n    ay += repulsive[1];\n\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);\n    ax += attractive[0];\n    ay += attractive[1];\n\n    // gravity\n    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);\n    ax -= gravity[0];\n    ay -= gravity[1];\n\n    // speed\n    const param = this.u_interval * this.u_damping;\n    let vx = ax * param;\n    let vy = ay * param;\n    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;\n    if (vlength > this.u_maxSpeed) {\n      const param2 = this.u_maxSpeed / vlength;\n      vx = param2 * vx;\n      vy = param2 * vy;\n    }\n\n    // move\n    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {\n      this.u_Data[i] = [\n        nodeAttributes1[3],\n        nodeAttributes2[3],\n        currentNode[2],\n        0\n      ];\n    } else {\n      const distx = vx * this.u_interval;\n      const disty = vy * this.u_interval;\n      const distLength = sqrt(distx * distx + disty * disty);\n      this.u_Data[i] = [\n        currentNode[0] + distx,\n        currentNode[1] + disty,\n        currentNode[2],\n        distLength\n      ];\n    }\n    \n    // the avarage move distance\n    // need to share memory\n    \n  }\n}\n",z.gForceBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {float distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',z.aveMovementCode="\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass CalcAveMovement {\n  @in\n  u_Data: vec4[];\n  @in\n  u_iter: float;\n  @in @out\n  u_AveMovement: vec4[];\n  @main\n  compute() {\n    let movement = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      const vertex = this.u_Data[j];\n      movement += vertex[3];\n    }\n    movement = movement / float(VERTEX_COUNT);\n    this.u_AveMovement[0] = [movement, 0, 0, 0];\n  }\n}\n",z.aveMovementBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},1661:function(qt,z,j){"use strict";var P,R=this&&this.__extends||(P=function(T,b){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,m){x.__proto__=m}||function(x,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(x[_]=m[_])})(T,b)},function(T,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function x(){this.constructor=T}P(T,b),T.prototype=null===b?Object.create(b):(x.prototype=b.prototype,new x)});Object.defineProperty(z,"__esModule",{value:!0}),z.GridLayout=void 0;var q=j(7602),O=function(P){function T(b){var x=P.call(this)||this;return x.begin=[0,0],x.preventOverlap=!0,x.preventOverlapPadding=10,x.condense=!1,x.sortBy="degree",x.nodes=[],x.edges=[],x.width=300,x.height=300,x.row=0,x.col=0,x.cellWidth=0,x.cellHeight=0,x.cellUsed={},x.id2manPos={},x.onLayoutEnd=function(){},x.updateCfg(b),x}return R(T,P),T.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},T.prototype.execute=function(){var b=this,x=b.nodes,m=b.edges,_=b.begin,g=x.length;if(0===g)return b.onLayoutEnd&&b.onLayoutEnd(),{nodes:x,edges:m};if(1===g)return x[0].x=_[0],x[0].y=_[1],b.onLayoutEnd&&b.onLayoutEnd(),{nodes:x,edges:m};var S=b.sortBy,w=b.width,E=b.height,A=b.condense,k=b.preventOverlapPadding,L=b.preventOverlap,ie=b.nodeSpacing,te=b.nodeSize,$=[];x.forEach(function(ce){$.push(ce)});var X={};if($.forEach(function(ce,H){X[ce.id]=H}),("degree"===S||!(0,q.isString)(S)||void 0===$[0][S])&&(S="degree",(0,q.isNaN)(x[0].degree))){var Z=(0,q.getDegree)($.length,X,m);$.forEach(function(ce,H){ce.degree=Z[H].all})}$.sort(function(ce,H){return H[S]-ce[S]}),!w&&typeof window<"u"&&(w=window.innerWidth),!E&&typeof window<"u"&&(E=window.innerHeight);var Y=b.rows,ae=null!=b.cols?b.cols:b.columns;if(b.cells=g,null!=Y&&null!=ae?(b.rows=Y,b.cols=ae):null!=Y&&null==ae?(b.rows=Y,b.cols=Math.ceil(b.cells/b.rows)):null==Y&&null!=ae?(b.cols=ae,b.rows=Math.ceil(b.cells/b.cols)):(b.splits=Math.sqrt(b.cells*b.height/b.width),b.rows=Math.round(b.splits),b.cols=Math.round(b.width/b.height*b.splits)),b.rows=Math.max(b.rows,1),b.cols=Math.max(b.cols,1),b.cols*b.rows>b.cells)((ne=b.small())-1)*(se=b.large())>=b.cells?b.small(ne-1):(se-1)*ne>=b.cells&&b.large(se-1);else for(;b.cols*b.rows<b.cells;){var se,ne=b.small();((se=b.large())+1)*ne>=b.cells?b.large(se+1):b.small(ne+1)}if(b.cellWidth=w/b.cols,b.cellHeight=E/b.rows,A&&(b.cellWidth=0,b.cellHeight=0),L||ie){var ve=(0,q.getFuncByUnknownType)(10,ie),ge=(0,q.getFuncByUnknownType)(30,te,!1);$.forEach(function(ce){(!ce.x||!ce.y)&&(ce.x=0,ce.y=0);var re,ye,H=ge(ce)||30;(0,q.isArray)(H)?(re=H[0],ye=H[1]):(re=H,ye=H);var Ce=void 0!==ve?ve(ce):k,Ue=ye+Ce;b.cellWidth=Math.max(b.cellWidth,re+Ce),b.cellHeight=Math.max(b.cellHeight,Ue)})}b.cellUsed={},b.row=0,b.col=0,b.id2manPos={};for(var Fe=0;Fe<$.length;Fe++){var Ae=$[Fe],ze=void 0;if(b.position&&(ze=b.position(Ae)),ze&&(void 0!==ze.row||void 0!==ze.col)){var oe={row:ze.row,col:ze.col};if(void 0===oe.col)for(oe.col=0;b.used(oe.row,oe.col);)oe.col++;else if(void 0===oe.row)for(oe.row=0;b.used(oe.row,oe.col);)oe.row++;b.id2manPos[Ae.id]=oe,b.use(oe.row,oe.col)}b.getPos(Ae)}return b.onLayoutEnd&&b.onLayoutEnd(),{edges:m,nodes:$}},T.prototype.small=function(b){var m,x=this,_=x.rows||5,g=x.cols||5;return null==b?m=Math.min(_,g):Math.min(_,g)===x.rows?x.rows=b:x.cols=b,m},T.prototype.large=function(b){var m,x=this,_=x.rows||5,g=x.cols||5;return null==b?m=Math.max(_,g):Math.max(_,g)===x.rows?x.rows=b:x.cols=b,m},T.prototype.used=function(b,x){return this.cellUsed["c-".concat(b,"-").concat(x)]||!1},T.prototype.use=function(b,x){this.cellUsed["c-".concat(b,"-").concat(x)]=!0},T.prototype.moveToNextCell=function(){var b=this,x=b.cols||5;b.col++,b.col>=x&&(b.col=0,b.row++)},T.prototype.getPos=function(b){var S,w,x=this,m=x.begin,_=x.cellWidth,g=x.cellHeight,E=x.id2manPos[b.id];if(E)S=E.col*_+_/2+m[0],w=E.row*g+g/2+m[1];else{for(;x.used(x.row,x.col);)x.moveToNextCell();S=x.col*_+_/2+m[0],w=x.row*g+g/2+m[1],x.use(x.row,x.col),x.moveToNextCell()}b.x=S,b.y=w},T.prototype.getType=function(){return"grid"},T}(j(8792).Base);z.GridLayout=O},4670:function(qt,z,j){"use strict";var R=this&&this.__createBinding||(Object.create?function(Z,Y,ae,ne){void 0===ne&&(ne=ae);var se=Object.getOwnPropertyDescriptor(Y,ae);(!se||("get"in se?!Y.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return Y[ae]}}),Object.defineProperty(Z,ne,se)}:function(Z,Y,ae,ne){void 0===ne&&(ne=ae),Z[ne]=Y[ae]}),q=this&&this.__exportStar||function(Z,Y){for(var ae in Z)"default"!==ae&&!Object.prototype.hasOwnProperty.call(Y,ae)&&R(Y,Z,ae)};Object.defineProperty(z,"__esModule",{value:!0}),z.ERLayout=z.ForceAtlas2Layout=z.ComboCombinedLayout=z.ComboForceLayout=z.GForceGPULayout=z.FruchtermanGPULayout=z.FruchtermanLayout=z.MDSLayout=z.ConcentricLayout=z.RadialLayout=z.DagreCompoundLayout=z.DagreLayout=z.CircularLayout=z.ForceLayout=z.Force2Layout=z.GForceLayout=z.RandomLayout=z.GridLayout=z.Layouts=z.Layout=void 0;var B=j(1661);Object.defineProperty(z,"GridLayout",{enumerable:!0,get:function(){return B.GridLayout}});var O=j(2386);Object.defineProperty(z,"RandomLayout",{enumerable:!0,get:function(){return O.RandomLayout}});var P=j(5626);Object.defineProperty(z,"GForceLayout",{enumerable:!0,get:function(){return P.GForceLayout}});var T=j(1444);Object.defineProperty(z,"Force2Layout",{enumerable:!0,get:function(){return T.Force2Layout}});var b=j(4943);Object.defineProperty(z,"ForceLayout",{enumerable:!0,get:function(){return b.ForceLayout}});var x=j(3414);Object.defineProperty(z,"CircularLayout",{enumerable:!0,get:function(){return x.CircularLayout}});var m=j(8786);Object.defineProperty(z,"DagreLayout",{enumerable:!0,get:function(){return m.DagreLayout}});var _=j(4632);Object.defineProperty(z,"DagreCompoundLayout",{enumerable:!0,get:function(){return _.DagreCompoundLayout}});var g=j(2061);Object.defineProperty(z,"RadialLayout",{enumerable:!0,get:function(){return g.RadialLayout}});var S=j(2172);Object.defineProperty(z,"ConcentricLayout",{enumerable:!0,get:function(){return S.ConcentricLayout}});var w=j(6302);Object.defineProperty(z,"MDSLayout",{enumerable:!0,get:function(){return w.MDSLayout}});var E=j(5703);Object.defineProperty(z,"FruchtermanLayout",{enumerable:!0,get:function(){return E.FruchtermanLayout}});var A=j(4989);Object.defineProperty(z,"FruchtermanGPULayout",{enumerable:!0,get:function(){return A.FruchtermanGPULayout}});var k=j(2649);Object.defineProperty(z,"GForceGPULayout",{enumerable:!0,get:function(){return k.GForceGPULayout}});var L=j(4430);Object.defineProperty(z,"ComboForceLayout",{enumerable:!0,get:function(){return L.ComboForceLayout}});var ie=j(9602);Object.defineProperty(z,"ComboCombinedLayout",{enumerable:!0,get:function(){return ie.ComboCombinedLayout}});var te=j(3259);Object.defineProperty(z,"ForceAtlas2Layout",{enumerable:!0,get:function(){return te.ForceAtlas2Layout}});var $=j(433);Object.defineProperty(z,"ERLayout",{enumerable:!0,get:function(){return $.ERLayout}});var X=j(46);Object.defineProperty(z,"Layout",{enumerable:!0,get:function(){return X.Layout}}),Object.defineProperty(z,"Layouts",{enumerable:!0,get:function(){return X.Layouts}}),q(j(7845),z)},46:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.Layouts=z.Layout=void 0;var R=j(1647),q=j(1661),B=j(2386),O=j(1444),P=j(5626),T=j(4943),b=j(3414),x=j(8786),m=j(2061),_=j(2172),g=j(6302),S=j(5703),w=j(4989),E=j(2649),A=j(4430),k=j(9602),L=j(3259),ie=j(433),te=j(4632),$=j(7602),X=function(){function Z(Y){var ae=(0,R.getLayoutByName)(Y.type);this.layoutInstance=new ae(Y)}return Z.prototype.layout=function(Y){return this.layoutInstance.layout(Y)},Z.prototype.updateCfg=function(Y){this.layoutInstance.updateCfg(Y)},Z.prototype.init=function(Y){this.correctLayers(Y.nodes),this.layoutInstance.init(Y)},Z.prototype.correctLayers=function(Y){if(Y?.length){var ae=1/0,ne=[];if(Y.forEach(function(ve){(0,$.isString)(ve.layer)&&(ve.layer=parseInt(ve.layer,10)),void 0!==ve.layer&&!isNaN(ve.layer)&&(ne.push(ve),ve.layer<ae&&(ae=ve.layer))}),ae<=0){var se=Math.abs(ae)+1;ne.forEach(function(ve){return ve.layer+=se})}}},Z.prototype.execute=function(){this.layoutInstance.execute()},Z.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},Z.prototype.destroy=function(){return this.layoutInstance.destroy()},Z}();z.Layout=X,z.Layouts={force:T.ForceLayout,fruchterman:S.FruchtermanLayout,forceAtlas2:L.ForceAtlas2Layout,gForce:P.GForceLayout,force2:O.Force2Layout,dagre:x.DagreLayout,dagreCompound:te.DagreCompoundLayout,circular:b.CircularLayout,radial:m.RadialLayout,concentric:_.ConcentricLayout,grid:q.GridLayout,mds:g.MDSLayout,comboForce:A.ComboForceLayout,comboCombined:k.ComboCombinedLayout,random:B.RandomLayout,"gForce-gpu":E.GForceGPULayout,"fruchterman-gpu":w.FruchtermanGPULayout,er:ie.ERLayout}},6302:function(qt,z,j){"use strict";var T,R=this&&this.__extends||(T=function(b,x){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&(m[g]=_[g])})(b,x)},function(b,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function m(){this.constructor=b}T(b,x),b.prototype=null===x?Object.create(x):(m.prototype=x.prototype,new m)});Object.defineProperty(z,"__esModule",{value:!0}),z.MDSLayout=void 0;var q=j(6380),B=j(7602),P=function(T){function b(x){var m=T.call(this)||this;return m.center=[0,0],m.linkDistance=50,m.nodes=[],m.edges=[],m.onLayoutEnd=function(){},m.updateCfg(x),m}return R(b,T),b.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},b.prototype.execute=function(){var x=this,m=x.nodes,_=x.edges,g=void 0===_?[]:_,S=x.center;if(m&&0!==m.length){if(1===m.length)return m[0].x=S[0],m[0].y=S[1],void(x.onLayoutEnd&&x.onLayoutEnd());var w=x.linkDistance,E=(0,B.getAdjMatrix)({nodes:m,edges:g},!1),A=(0,B.floydWarshall)(E);x.handleInfinity(A);var k=(0,B.scaleMatrix)(A,w);x.scaledDistances=k;var L=x.runMDS();return x.positions=L,L.forEach(function(ie,te){m[te].x=ie[0]+S[0],m[te].y=ie[1]+S[1]}),x.onLayoutEnd&&x.onLayoutEnd(),{nodes:m,edges:g}}x.onLayoutEnd&&x.onLayoutEnd()},b.prototype.runMDS=function(){var g=q.Matrix.mul(q.Matrix.pow(this.scaledDistances,2),-.5),S=g.mean("row"),w=g.mean("column"),E=g.mean();g.add(E).subRowVector(S).subColumnVector(w);var A=new q.SingularValueDecomposition(g),k=q.Matrix.sqrt(A.diagonalMatrix).diagonal();return A.leftSingularVectors.toJSON().map(function(L){return q.Matrix.mul([L],[k]).toJSON()[0].splice(0,2)})},b.prototype.handleInfinity=function(x){var m=-999999;x.forEach(function(_){_.forEach(function(g){g!==1/0&&m<g&&(m=g)})}),x.forEach(function(_,g){_.forEach(function(S,w){S===1/0&&(x[g][w]=m)})})},b.prototype.getType=function(){return"mds"},b}(j(8792).Base);z.MDSLayout=P},2061:function(qt,z,j){"use strict";var R=this&&this.__createBinding||(Object.create?function(B,O,P,T){void 0===T&&(T=P);var b=Object.getOwnPropertyDescriptor(O,P);(!b||("get"in b?!O.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(B,T,b)}:function(B,O,P,T){void 0===T&&(T=P),B[T]=O[P]}),q=this&&this.__exportStar||function(B,O){for(var P in B)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&R(O,B,P)};Object.defineProperty(z,"__esModule",{value:!0}),q(j(6285),z)},5998:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var R=j(6380),q=function(){function B(O){this.distances=O.distances,this.dimension=O.dimension||2,this.linkDistance=O.linkDistance}return B.prototype.layout=function(){var O=this,P=O.dimension,T=O.distances,b=O.linkDistance;try{var x=R.Matrix.mul(R.Matrix.pow(T,2),-.5),m=x.mean("row"),_=x.mean("column"),g=x.mean();x.add(g).subRowVector(m).subColumnVector(_);var S=new R.SingularValueDecomposition(x),w=R.Matrix.sqrt(S.diagonalMatrix).diagonal();return S.leftSingularVectors.toJSON().map(function(ie){return R.Matrix.mul([ie],[w]).toJSON()[0].splice(0,P)})}catch{for(var E=[],A=0;A<T.length;A++){var k=Math.random()*b,L=Math.random()*b;E.push([k,L])}return E}},B}();z.default=q},6285:function(qt,z,j){"use strict";var g,R=this&&this.__extends||(g=function(S,w){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,A){E.__proto__=A}||function(E,A){for(var k in A)Object.prototype.hasOwnProperty.call(A,k)&&(E[k]=A[k])})(S,w)},function(S,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function E(){this.constructor=S}g(S,w),S.prototype=null===w?Object.create(w):(E.prototype=w.prototype,new E)}),q=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(z,"__esModule",{value:!0}),z.RadialLayout=void 0;var B=j(7602),O=j(8792),P=q(j(5998)),T=q(j(2149));function m(g,S){return Math.sqrt((g[0]-S[0])*(g[0]-S[0])+(g[1]-S[1])*(g[1]-S[1]))}var _=function(g){function S(w){var E=g.call(this)||this;return E.maxIteration=1e3,E.focusNode=null,E.unitRadius=null,E.linkDistance=50,E.preventOverlap=!1,E.strictRadial=!0,E.maxPreventOverlapIteration=200,E.sortStrength=10,E.nodes=[],E.edges=[],E.updateCfg(w),E}return R(S,g),S.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},S.prototype.execute=function(){var w=this,E=w.nodes,A=w.edges||[];if(E&&0!==E.length){!w.width&&typeof window<"u"&&(w.width=window.innerWidth),!w.height&&typeof window<"u"&&(w.height=window.innerHeight),w.center||(w.center=[w.width/2,w.height/2]);var k=w.center;if(1===E.length)return E[0].x=k[0],E[0].y=k[1],void(w.onLayoutEnd&&w.onLayoutEnd());var L=w.linkDistance,ie=null;if((0,B.isString)(w.focusNode)){for(var te=!1,$=0;$<E.length;$++)E[$].id===w.focusNode&&(w.focusNode=ie=E[$],te=!0,$=E.length);te||(ie=null)}else ie=w.focusNode;ie||(w.focusNode=ie=E[0]);var X=function x(g,S){var w=-1;return g.forEach(function(E,A){E.id===S&&(w=A)}),w}(E,ie.id);X<0&&(X=0),w.focusIndex=X;var Z=(0,B.getAdjMatrix)({nodes:E,edges:A},!1),Y=(0,B.floydWarshall)(Z),ae=w.maxToFocus(Y,X);w.handleInfinity(Y,X,ae+1),w.distances=Y;var ne=Y[X],se=w.width||500,ve=w.height||500,ge=se-k[0]>k[0]?k[0]:se-k[0],Fe=ve-k[1]>k[1]?k[1]:ve-k[1];0===ge&&(ge=se/2),0===Fe&&(Fe=ve/2);var Ae=Fe>ge?ge:Fe,ze=Math.max.apply(Math,ne),oe=[];ne.forEach(function($e,dt){w.unitRadius||(w.unitRadius=Ae/ze),oe[dt]=$e*w.unitRadius}),w.radii=oe;var ce=w.eIdealDisMatrix();w.eIdealDistances=ce;var H=function b(g){for(var S=g.length,w=g[0].length,E=[],A=0;A<S;A++){for(var k=[],L=0;L<w;L++)k.push(0!==g[A][L]?1/(g[A][L]*g[A][L]):0);E.push(k)}return E}(ce);w.weights=H;var ye=new P.default({linkDistance:L,distances:ce}).layout();ye.forEach(function($e){(0,B.isNaN)($e[0])&&($e[0]=Math.random()*L),(0,B.isNaN)($e[1])&&($e[1]=Math.random()*L)}),w.positions=ye,ye.forEach(function($e,dt){E[dt].x=$e[0]+k[0],E[dt].y=$e[1]+k[1]}),ye.forEach(function($e){$e[0]-=ye[X][0],$e[1]-=ye[X][1]}),w.run();var Ue,Ie=w.nodeSize,pt=w.strictRadial;if(w.preventOverlap){var Ne,st=w.nodeSpacing;Ne=(0,B.isNumber)(st)?function(){return st}:(0,B.isFunction)(st)?st:function(){return 0},Ue=Ie?(0,B.isArray)(Ie)?function($e){return(Ie[0]>Ie[1]?Ie[0]:Ie[1])+Ne($e)}:function($e){return Ie+Ne($e)}:function($e){return $e.size?(0,B.isArray)($e.size)?($e.size[0]>$e.size[1]?$e.size[0]:$e.size[1])+Ne($e):(0,B.isObject)($e.size)?($e.size.width>$e.size.height?$e.size.width:$e.size.height)+Ne($e):$e.size+Ne($e):10+Ne($e)};var gt=new T.default({nodes:E,nodeSizeFunc:Ue,adjMatrix:Z,positions:ye,radii:oe,height:ve,width:se,strictRadial:pt,focusID:X,iterations:w.maxPreventOverlapIteration||200,k:ye.length/4.5});ye=gt.layout()}return ye.forEach(function($e,dt){E[dt].x=$e[0]+k[0],E[dt].y=$e[1]+k[1]}),w.onLayoutEnd&&w.onLayoutEnd(),{nodes:E,edges:A}}w.onLayoutEnd&&w.onLayoutEnd()},S.prototype.run=function(){for(var w=this,E=w.maxIteration,A=w.positions||[],k=w.weights||[],L=w.eIdealDistances||[],ie=w.radii||[],te=0;te<=E;te++)w.oneIteration(te/E,A,ie,L,k)},S.prototype.oneIteration=function(w,E,A,k,L){var te=1-w,$=this.focusIndex;E.forEach(function(X,Z){var Y=m(X,[0,0]),ae=0===Y?0:1/Y;if(Z!==$){var ne=0,se=0,ve=0;E.forEach(function(Fe,Ae){if(Z!==Ae){var ze=m(X,Fe),oe=0===ze?0:1/ze,ce=k[Ae][Z];ve+=L[Z][Ae],ne+=L[Z][Ae]*(Fe[0]+ce*(X[0]-Fe[0])*oe),se+=L[Z][Ae]*(Fe[1]+ce*(X[1]-Fe[1])*oe)}});var ge=0===A[Z]?0:1/A[Z];ve*=te,ne*=te,X[0]=(ne+=w*ge*X[0]*ae)/(ve+=w*ge*ge),se*=te,X[1]=(se+=w*ge*X[1]*ae)/ve}})},S.prototype.eIdealDisMatrix=function(){var w=this,E=w.nodes;if(!E)return[];var A=w.distances,k=w.linkDistance,L=w.radii||[],ie=w.unitRadius||50,te=[];return A&&A.forEach(function($,X){var Z=[];$.forEach(function(Y,ae){if(X===ae)Z.push(0);else if(L[X]===L[ae])if("data"===w.sortBy)Z.push(Y*(Math.abs(X-ae)*w.sortStrength)/(L[X]/ie));else if(w.sortBy){var ne=E[X][w.sortBy]||0,se=E[ae][w.sortBy]||0;(0,B.isString)(ne)&&(ne=ne.charCodeAt(0)),(0,B.isString)(se)&&(se=se.charCodeAt(0)),Z.push(Y*(Math.abs(ne-se)*w.sortStrength)/(L[X]/ie))}else Z.push(Y*k/(L[X]/ie));else Z.push(Y*((k+ie)/2))}),te.push(Z)}),te},S.prototype.handleInfinity=function(w,E,A){for(var k=w.length,L=0;L<k;L++)if(w[E][L]===1/0){w[E][L]=A,w[L][E]=A;for(var ie=0;ie<k;ie++)w[L][ie]!==1/0&&w[E][ie]===1/0&&(w[E][ie]=A+w[L][ie],w[ie][E]=A+w[L][ie])}for(L=0;L<k;L++)if(L!==E)for(ie=0;ie<k;ie++)if(w[L][ie]===1/0){var te=Math.abs(w[E][L]-w[E][ie]);w[L][ie]=te=0===te?1:te}},S.prototype.maxToFocus=function(w,E){for(var A=0,k=0;k<w[E].length;k++)w[E][k]!==1/0&&(A=w[E][k]>A?w[E][k]:A);return A},S.prototype.getType=function(){return"radial"},S}(O.Base);z.RadialLayout=_},2149:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var R=function(){function q(B){this.disp=[],this.positions=B.positions,this.adjMatrix=B.adjMatrix,this.focusID=B.focusID,this.radii=B.radii,this.iterations=B.iterations||10,this.height=B.height||10,this.width=B.width||10,this.speed=B.speed||100,this.gravity=B.gravity||10,this.nodeSizeFunc=B.nodeSizeFunc,this.k=B.k||5,this.strictRadial=B.strictRadial,this.nodes=B.nodes}return q.prototype.layout=function(){var B=this,O=B.positions,P=[],T=B.iterations;B.maxDisplace=B.width/10,B.disp=P;for(var x=0;x<T;x++)O.forEach(function(m,_){P[_]={x:0,y:0}}),B.getRepulsion(),B.updatePositions();return O},q.prototype.getRepulsion=function(){var B=this,O=B.positions,P=B.nodes,T=B.disp,b=B.k,x=B.radii||[];O.forEach(function(m,_){T[_]={x:0,y:0},O.forEach(function(g,S){if(_!==S&&x[_]===x[S]){var w=m[0]-g[0],E=m[1]-g[1],A=Math.sqrt(w*w+E*E);if(0===A){A=1;var k=_>S?1:-1;w=.01*k,E=.01*k}if(A<B.nodeSizeFunc(P[_])/2+B.nodeSizeFunc(P[S])/2){var L=b*b/A;T[_].x+=w/A*L,T[_].y+=E/A*L}}})})},q.prototype.updatePositions=function(){var B=this,O=B.positions,P=B.disp,T=B.speed,b=B.strictRadial,x=B.focusID,m=B.maxDisplace||B.width/10;b&&P.forEach(function(g,S){var w=O[S][0]-O[x][0],E=O[S][1]-O[x][1],A=Math.sqrt(w*w+E*E),k=E/A,L=-w/A,ie=Math.sqrt(g.x*g.x+g.y*g.y),te=Math.acos((k*g.x+L*g.y)/ie);te>Math.PI/2&&(te-=Math.PI/2,k*=-1,L*=-1);var $=Math.cos(te)*ie;g.x=k*$,g.y=L*$});var _=B.radii;O.forEach(function(g,S){if(S!==x){var w=Math.sqrt(P[S].x*P[S].x+P[S].y*P[S].y);if(w>0&&S!==x){var E=Math.min(m*(T/800),w);if(g[0]+=P[S].x/w*E,g[1]+=P[S].y/w*E,b){var A=g[0]-O[x][0],k=g[1]-O[x][1],L=Math.sqrt(A*A+k*k);k=k/L*_[S],g[0]=O[x][0]+(A=A/L*_[S]),g[1]=O[x][1]+k}}}})},q}();z.default=R},2386:function(qt,z,j){"use strict";var O,R=this&&this.__extends||(O=function(P,T){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var m in x)Object.prototype.hasOwnProperty.call(x,m)&&(b[m]=x[m])})(P,T)},function(P,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function b(){this.constructor=P}O(P,T),P.prototype=null===T?Object.create(T):(b.prototype=T.prototype,new b)});Object.defineProperty(z,"__esModule",{value:!0}),z.RandomLayout=void 0;var B=function(O){function P(T){var b=O.call(this)||this;return b.center=[0,0],b.width=300,b.height=300,b.nodes=[],b.edges=[],b.onLayoutEnd=function(){},b.updateCfg(T),b}return R(P,O),P.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},P.prototype.execute=function(){var T=this,b=T.nodes,m=T.center;return!T.width&&typeof window<"u"&&(T.width=window.innerWidth),!T.height&&typeof window<"u"&&(T.height=window.innerHeight),b&&b.forEach(function(_){_.x=.9*(Math.random()-.5)*T.width+m[0],_.y=.9*(Math.random()-.5)*T.height+m[1]}),T.onLayoutEnd&&T.onLayoutEnd(),{nodes:b,edges:this.edges}},P.prototype.getType=function(){return"random"},P}(j(8792).Base);z.RandomLayout=B},7845:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0})},1647:function(qt,z,j){"use strict";var x,R=this&&this.__extends||(x=function(m,_){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(g[w]=S[w])})(m,_)},function(m,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function g(){this.constructor=m}x(m,_),m.prototype=null===_?Object.create(_):(g.prototype=_.prototype,new g)});Object.defineProperty(z,"__esModule",{value:!0}),z.getLayoutByName=z.unRegisterLayout=z.registerLayout=void 0;var q=j(8792),B=j(7602),O=new Map;z.registerLayout=function(x,m){if(O.get(x)&&console.warn("The layout with the name ".concat(x," exists already, it will be overridden")),(0,B.isObject)(m)){var _=function(g){function S(w){var E,A,k=E=g.call(this)||this,L={},ie=Object.assign({},k.getDefaultCfg(),(null===(A=m.getDefaultCfg)||void 0===A?void 0:A.call(m))||{});return Object.assign(L,ie,m,w),Object.keys(L).forEach(function(te){k[te]=L[te]}),E}return R(S,g),S}(q.Base);O.set(x,_)}else O.set(x,m);return O.get(x)},z.unRegisterLayout=function(x){O.has(x)&&O.delete(x)},z.getLayoutByName=function(x){return O.has(x)?O.get(x):null}},4517:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.isArray=void 0,z.isArray=Array.isArray},7439:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getFuncByUnknownType=z.getFunc=z.isFunction=void 0;var R=j(7602),q=j(5772);z.isFunction=function(T){return"function"==typeof T},z.getFunc=function(T,b,x){return x||((0,q.isNumber)(T)?function(){return T}:function(){return b})},z.getFuncByUnknownType=function(T,b,x){return void 0===x&&(x=!0),b||0===b?(0,z.isFunction)(b)?b:(0,q.isNumber)(b)?function(){return b}:(0,R.isArray)(b)?function(){if(x){var m=Math.max.apply(Math,b);return isNaN(m)?T:m}return b}:(0,R.isObject)(b)?function(){if(x){var m=Math.max(b.width,b.height);return isNaN(m)?T:m}return[b.width,b.height]}:function(){return T}:function(m){return m.size?(0,R.isArray)(m.size)?m.size[0]>m.size[1]?m.size[0]:m.size[1]:(0,R.isObject)(m.size)?m.size.width>m.size.height?m.size.width:m.size.height:m.size:T}}},7659:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.arrayToTextureData=z.attributesToTextureData=z.buildTextureDataWithTwoEdgeAttr=z.buildTextureData=z.proccessToFunc=void 0;var R=j(7602),q=j(9337);z.proccessToFunc=function(x,m){return x?(0,R.isNumber)(x)?function(){return x}:x:function(){return m||1}},z.buildTextureData=function(x,m){var _=[],g=[],S={},w=0;for(w=0;w<x.length;w++){var E=x[w];S[E.id]=w,_.push(E.x),_.push(E.y),_.push(0),_.push(0),g.push([])}for(w=0;w<m.length;w++){var A=m[w],k=(0,q.getEdgeTerminal)(A,"source"),L=(0,q.getEdgeTerminal)(A,"target");!isNaN(S[k])&&!isNaN(S[L])&&(g[S[k]].push(S[L]),g[S[L]].push(S[k]))}var ie=0;for(w=0;w<x.length;w++){var $=g[w],X=$.length;_[4*w+2]=_.length,_[4*w+3]=X,ie=Math.max(ie,X);for(var Z=0;Z<X;++Z)_.push(+$[Z])}for(;_.length%4!=0;)_.push(0);return{maxEdgePerVetex:ie,array:new Float32Array(_)}},z.buildTextureDataWithTwoEdgeAttr=function(x,m,_,g){var S=[],w=[],E={},A=0;for(A=0;A<x.length;A++){var k=x[A];E[k.id]=A,S.push(k.x),S.push(k.y),S.push(0),S.push(0),w.push([])}for(A=0;A<m.length;A++){var L=m[A],ie=(0,q.getEdgeTerminal)(L,"source"),te=(0,q.getEdgeTerminal)(L,"target");w[E[ie]].push(E[te]),w[E[ie]].push(_(L)),w[E[ie]].push(g(L)),w[E[ie]].push(0),w[E[te]].push(E[ie]),w[E[te]].push(_(L)),w[E[te]].push(g(L)),w[E[te]].push(0)}var $=0;for(A=0;A<x.length;A++){var Z=w[A],Y=Z.length;S[4*A+2]=S.length+1048576*Y/4,S[4*A+3]=0,$=Math.max($,Y/4);for(var ae=0;ae<Y;++ae)S.push(+Z[ae])}for(;S.length%4!=0;)S.push(0);return{maxEdgePerVetex:$,array:new Float32Array(S)}},z.attributesToTextureData=function(x,m){var _=[],g=x.length,S={};return m.forEach(function(w){x.forEach(function(E,A){if(void 0===S[w[E]]&&(S[w[E]]=Object.keys(S).length),_.push(S[w[E]]),A===g-1)for(;_.length%4!=0;)_.push(0)})}),{array:new Float32Array(_),count:Object.keys(S).length}},z.arrayToTextureData=function(x){for(var m=[],_=x.length,g=x[0].length,S=function(E){x.forEach(function(A,k){if(m.push(A[E]),k===_-1)for(;m.length%4!=0;)m.push(0)})},w=0;w<g;w++)S(w);return new Float32Array(m)}},7602:function(qt,z,j){"use strict";var R=this&&this.__createBinding||(Object.create?function(B,O,P,T){void 0===T&&(T=P);var b=Object.getOwnPropertyDescriptor(O,P);(!b||("get"in b?!O.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(B,T,b)}:function(B,O,P,T){void 0===T&&(T=P),B[T]=O[P]}),q=this&&this.__exportStar||function(B,O){for(var P in B)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&R(O,B,P)};Object.defineProperty(z,"__esModule",{value:!0}),q(j(9599),z),q(j(4517),z),q(j(5772),z),q(j(9337),z),q(j(5753),z),q(j(7439),z)},9337:(qt,z,j)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getCoreNodeAndRelativeLeafNodes=z.getAvgNodePosition=z.getLayoutBBox=z.traverseTreeUp=z.scaleMatrix=z.getAdjMatrix=z.floydWarshall=z.getDegreeMap=z.getDegree=z.getEdgeTerminal=void 0;var R=j(4517),q=j(5772),B=j(5753);z.getEdgeTerminal=function(ie,te){var $=ie[te];return(0,B.isObject)($)?$.cell:$},z.getDegree=function(ie,te,$){for(var X=[],Z=0;Z<ie;Z++)X[Z]={in:0,out:0,all:0};return $&&$.forEach(function(Y){var ae=(0,z.getEdgeTerminal)(Y,"source"),ne=(0,z.getEdgeTerminal)(Y,"target");ae&&X[te[ae]]&&(X[te[ae]].out+=1,X[te[ae]].all+=1),ne&&X[te[ne]]&&(X[te[ne]].in+=1,X[te[ne]].all+=1)}),X},z.getDegreeMap=function(ie,te){var $={};return ie.forEach(function(X){$[X.id]={in:0,out:0,all:0}}),te&&te.forEach(function(X){var Z=(0,z.getEdgeTerminal)(X,"source"),Y=(0,z.getEdgeTerminal)(X,"target");Z&&($[Z].out+=1,$[Z].all+=1),Y&&($[Y].in+=1,$[Y].all+=1)}),$},z.floydWarshall=function(ie){for(var te=[],$=ie.length,X=0;X<$;X+=1){te[X]=[];for(var Z=0;Z<$;Z+=1)te[X][Z]=X===Z?0:0!==ie[X][Z]&&ie[X][Z]?ie[X][Z]:1/0}for(var Y=0;Y<$;Y+=1)for(X=0;X<$;X+=1)for(Z=0;Z<$;Z+=1)te[X][Z]>te[X][Y]+te[Y][Z]&&(te[X][Z]=te[X][Y]+te[Y][Z]);return te},z.getAdjMatrix=function(ie,te){var $=ie.nodes,X=ie.edges,Z=[],Y={};if(!$)throw new Error("invalid nodes data!");return $&&$.forEach(function(ae,ne){Y[ae.id]=ne,Z.push([])}),X?.forEach(function(ae){var ne=(0,z.getEdgeTerminal)(ae,"source"),se=(0,z.getEdgeTerminal)(ae,"target"),ve=Y[ne],ge=Y[se];void 0===ve||void 0===ge||(Z[ve][ge]=1,te||(Z[ge][ve]=1))}),Z},z.scaleMatrix=function(ie,te){var $=[];return ie.forEach(function(X){var Z=[];X.forEach(function(Y){Z.push(Y*te)}),$.push(Z)}),$};var _=function(ie,te){if(ie&&ie.children)for(var $=ie.children.length-1;$>=0;$--)if(!_(ie.children[$],te))return;return!!te(ie)};z.traverseTreeUp=function(ie,te){"function"==typeof te&&_(ie,te)},z.getLayoutBBox=function(ie){var te=1/0,$=1/0,X=-1/0,Z=-1/0;return ie.forEach(function(Y){var ae=Y.size;(0,R.isArray)(ae)?1===ae.length&&(ae=[ae[0],ae[0]]):(0,q.isNumber)(ae)?ae=[ae,ae]:(void 0===ae||isNaN(ae))&&(ae=[30,30]);var ne=[ae[0]/2,ae[1]/2],se=Y.x-ne[0],ve=Y.x+ne[0],ge=Y.y-ne[1],Fe=Y.y+ne[1];te>se&&(te=se),$>ge&&($=ge),X<ve&&(X=ve),Z<Fe&&(Z=Fe)}),{minX:te,minY:$,maxX:X,maxY:Z}},z.getAvgNodePosition=function(ie){var te={x:0,y:0};ie.forEach(function(X){te.x+=X.x||0,te.y+=X.y||0});var $=ie.length||1;return{x:te.x/$,y:te.y/$}};var E=function(ie,te,$){var X,Z;return"source"===ie?(null===(X=$?.find(function(Y){return Y.target===te.id}))||void 0===X?void 0:X.source)||{}:(null===(Z=$?.find(function(Y){return Y.source===te.id}))||void 0===Z?void 0:Z.target)||{}},A=function(ie,te,$){var X=[];switch(ie){case"source":X=$?.filter(function(Y){return Y.source===te.id}).map(function(Y){return Y.target});break;case"target":X=$?.filter(function(Y){return Y.target===te.id}).map(function(Y){return Y.source});break;case"both":X=$?.filter(function(Y){return Y.source===te.id}).map(function(Y){return Y.target}).concat($?.filter(function(Y){return Y.target===te.id}).map(function(Y){return Y.source}))}var Z=new Set(X);return Array.from(Z)};z.getCoreNodeAndRelativeLeafNodes=function(ie,te,$,X,Z,Y){var ae=Z[te.id],se=ae.out,ve=te,ge=[];0===ae.in?(ve=E("source",te,$),ge=A("both",ve,$).map(function(Ae){return Y[Ae]})):0===se&&(ve=E("target",te,$),ge=A("both",ve,$).map(function(Ae){return Y[Ae]}));var Fe=function(ie,te,$,X,Z){var Y=$[te]||"",ae=X?.filter(function(ne){return ne[te]===Y})||[];return"leaf"===ie&&(ae=ae.filter(function(ne){var se,ve;return 0===(null===(se=Z[ne.id])||void 0===se?void 0:se.in)||0===(null===(ve=Z[ne.id])||void 0===ve?void 0:ve.out)})),ae}(ie,X,te,ge=ge.filter(function(Ae){return Z[Ae.id]&&(0===Z[Ae.id].in||0===Z[Ae.id].out)}),Z);return{coreNode:ve,relativeLeafNodes:ge,sameTypeLeafNodes:Fe}}},5772:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.toNumber=z.isNaN=z.isNumber=void 0,z.isNumber=function(B){return"number"==typeof B},z.isNaN=function(B){return Number.isNaN(Number(B))},z.toNumber=function(B){var O=parseFloat(B);return(0,z.isNaN)(O)?B:O}},5753:function(qt,z){"use strict";var j=this&&this.__assign||function(){return j=Object.assign||function(B){for(var O,P=1,T=arguments.length;P<T;P++)for(var b in O=arguments[P])Object.prototype.hasOwnProperty.call(O,b)&&(B[b]=O[b]);return B},j.apply(this,arguments)};Object.defineProperty(z,"__esModule",{value:!0}),z.clone=z.isObject=void 0,z.isObject=function(B){return null!==B&&"object"==typeof B},z.clone=function(B){if(null===B)return B;if(B instanceof Date)return new Date(B.getTime());if(B instanceof Array){var O=[];return B.forEach(function(T){O.push(T)}),O.map(function(T){return(0,z.clone)(T)})}if("object"==typeof B&&Object.keys(B).length){var P=j({},B);return Object.keys(P).forEach(function(T){P[T]=(0,z.clone)(P[T])}),P}return B}},9599:(qt,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.camelize=z.isString=void 0,z.isString=function(B){return"string"==typeof B};var B,O,q=/-(\w)/g;z.camelize=(B=function(B){return B.replace(q,function(O,P){return P?P.toUpperCase():""})},O=Object.create(null),function(P){return O[P]||(O[P]=B(P))})},8276:(qt,z,j)=>{"use strict";var q=j(8793);function B(g,S,w){var E=[0,0,0,0,0,0,0,0,0];return q.mat3.fromTranslation(E,w),q.mat3.multiply(g,E,S)}function O(g,S,w){var E=[0,0,0,0,0,0,0,0,0];return q.mat3.fromRotation(E,w),q.mat3.multiply(g,E,S)}function P(g,S,w){var E=[0,0,0,0,0,0,0,0,0];return q.mat3.fromScaling(E,w),q.mat3.multiply(g,E,S)}function T(g,S,w){return q.mat3.multiply(g,w,S)}z.vs=function b(g,S){for(var w=g?[].concat(g):[1,0,0,0,1,0,0,0,1],E=0,A=S.length;E<A;E++){var k=S[E];switch(k[0]){case"t":B(w,w,[k[1],k[2]]);break;case"s":P(w,w,[k[1],k[2]]);break;case"r":O(w,w,k[1]);break;case"m":T(w,w,k[1])}}return w}},1035:(qt,z,j)=>{"use strict";j.r(z),j.d(z,{Cache:()=>Vs,assign:()=>ds,augment:()=>fa,clamp:()=>fe,clearAnimationFrame:()=>Uu,clone:()=>Gu,contains:()=>O,debounce:()=>Dl,deepMix:()=>Vd,difference:()=>x,each:()=>ie,endsWith:()=>Xi,every:()=>hn,extend:()=>pl,filter:()=>T,find:()=>ge,findIndex:()=>Ae,firstValue:()=>oe,fixedBase:()=>We,flatten:()=>H,flattenDeep:()=>ye,forIn:()=>Pe,get:()=>No,getEllipsisText:()=>Oi,getRange:()=>pt,getType:()=>iu,getWrapBehavior:()=>xa,group:()=>Ti,groupBy:()=>ei,groupToMap:()=>Qr,has:()=>Ot,hasKey:()=>ht,hasValue:()=>En,head:()=>Me,identity:()=>vl,includes:()=>O,indexOf:()=>qs,isArguments:()=>Co,isArray:()=>A,isArrayLike:()=>q,isBoolean:()=>zu,isDate:()=>Vu,isDecimal:()=>N,isElement:()=>Xr,isEmpty:()=>ui,isEqual:()=>Hl,isEqualWith:()=>$o,isError:()=>Lf,isEven:()=>Ye,isFinite:()=>Ii,isFunction:()=>S,isInteger:()=>Et,isMatch:()=>Z,isNegative:()=>Je,isNil:()=>E,isNull:()=>dl,isNumber:()=>rt,isNumberEqual:()=>yn,isObject:()=>k,isObjectLike:()=>ae,isOdd:()=>Rn,isPlainObject:()=>se,isPositive:()=>Yn,isPrototype:()=>Vl,isRegExp:()=>Mc,isString:()=>Bt,isType:()=>g,isUndefined:()=>jl,keys:()=>$,last:()=>Ur,lowerCase:()=>fr,lowerFirst:()=>Ai,map:()=>Dc,mapValues:()=>Fs,max:()=>Ce,maxBy:()=>er,measureTextWidth:()=>Zs,memoize:()=>Gl,min:()=>Ie,minBy:()=>Gr,mix:()=>ds,mod:()=>Ht,noop:()=>Bs,number2color:()=>G,omit:()=>Sa,parseRadius:()=>C,pick:()=>Ji,pull:()=>$e,pullAt:()=>Be,reduce:()=>Ve,remove:()=>wt,requestAnimationFrame:()=>Ul,set:()=>Xo,size:()=>ua,some:()=>br,sortBy:()=>kn,startsWith:()=>bi,substitute:()=>wa,throttle:()=>Tl,toArray:()=>su,toDegree:()=>cn,toInteger:()=>Lr,toRadian:()=>Oe,toString:()=>Fn,union:()=>Cr,uniq:()=>je,uniqueId:()=>hs,upperCase:()=>no,upperFirst:()=>ko,values:()=>on,valuesOfKey:()=>qn,wrapBehavior:()=>ti});const q=function(xe){return null!==xe&&"function"!=typeof xe&&isFinite(xe.length)},O=function(xe,bt){return!!q(xe)&&xe.indexOf(bt)>-1},T=function(xe,bt){if(!q(xe))return xe;for(var kt=[],Xt=0;Xt<xe.length;Xt++){var _n=xe[Xt];bt(_n,Xt)&&kt.push(_n)}return kt},x=function(xe,bt){return void 0===bt&&(bt=[]),T(xe,function(kt){return!O(bt,kt)})};var m={}.toString;const g=function(xe,bt){return m.call(xe)==="[object "+bt+"]"},S=function(xe){return g(xe,"Function")},E=function(xe){return null==xe},A=function(xe){return Array.isArray?Array.isArray(xe):g(xe,"Array")},k=function(xe){var bt=typeof xe;return null!==xe&&"object"===bt||"function"===bt},ie=function L(xe,bt){if(xe)if(A(xe))for(var Xt=0,_n=xe.length;Xt<_n&&!1!==bt(xe[Xt],Xt);Xt++);else if(k(xe))for(var or in xe)if(xe.hasOwnProperty(or)&&!1===bt(xe[or],or))break},$=Object.keys?function(xe){return Object.keys(xe)}:function(xe){var bt=[];return ie(xe,function(kt,Xt){S(xe)&&"prototype"===Xt||bt.push(Xt)}),bt},Z=function X(xe,bt){var kt=$(bt),Xt=kt.length;if(E(xe))return!Xt;for(var _n=0;_n<Xt;_n+=1){var or=kt[_n];if(bt[or]!==xe[or]||!(or in xe))return!1}return!0},ae=function(xe){return"object"==typeof xe&&null!==xe},se=function(xe){if(!ae(xe)||!g(xe,"Object"))return!1;if(null===Object.getPrototypeOf(xe))return!0;for(var bt=xe;null!==Object.getPrototypeOf(bt);)bt=Object.getPrototypeOf(bt);return Object.getPrototypeOf(xe)===bt},ge=function ve(xe,bt){if(!A(xe))return null;var kt;if(S(bt)&&(kt=bt),se(bt)&&(kt=function(_n){return Z(_n,bt)}),kt)for(var Xt=0;Xt<xe.length;Xt+=1)if(kt(xe[Xt]))return xe[Xt];return null},Ae=function Fe(xe,bt,kt){void 0===kt&&(kt=0);for(var Xt=kt;Xt<xe.length;Xt++)if(bt(xe[Xt],Xt))return Xt;return-1},oe=function(xe,bt){for(var kt=null,Xt=0;Xt<xe.length;Xt++){var or=xe[Xt][bt];if(!E(or)){kt=A(or)?or[0]:or;break}}return kt},H=function(xe){if(!A(xe))return[];for(var bt=[],kt=0;kt<xe.length;kt++)bt=bt.concat(xe[kt]);return bt};var re=function(xe,bt){if(void 0===bt&&(bt=[]),A(xe))for(var kt=0;kt<xe.length;kt+=1)re(xe[kt],bt);else bt.push(xe);return bt};const ye=re,Ce=function(xe){if(A(xe))return xe.reduce(function(bt,kt){return Math.max(bt,kt)},xe[0])},Ie=function(xe){if(A(xe))return xe.reduce(function(bt,kt){return Math.min(bt,kt)},xe[0])},pt=function(xe){var bt=xe.filter(function(Sr){return!isNaN(Sr)});if(!bt.length)return{min:0,max:0};if(A(xe[0])){for(var kt=[],Xt=0;Xt<xe.length;Xt++)kt=kt.concat(xe[Xt]);bt=kt}var _n=Ce(bt);return{min:Ie(bt),max:_n}};var st=Array.prototype,Ne=st.splice,lt=st.indexOf;const $e=function(xe){for(var bt=[],kt=1;kt<arguments.length;kt++)bt[kt-1]=arguments[kt];for(var Xt=0;Xt<bt.length;Xt++)for(var _n=bt[Xt],or=-1;(or=lt.call(xe,_n))>-1;)Ne.call(xe,or,1);return xe};var dt=Array.prototype.splice;const Be=function(bt,kt){if(!q(bt))return[];for(var Xt=bt?kt.length:0,_n=Xt-1;Xt--;){var or=void 0,Sr=kt[Xt];(Xt===_n||Sr!==or)&&(or=Sr,dt.call(bt,Sr,1))}return bt},Ve=function(xe,bt,kt){if(!A(xe)&&!se(xe))return xe;var Xt=kt;return ie(xe,function(_n,or){Xt=bt(Xt,_n,or)}),Xt},wt=function(xe,bt){var kt=[];if(!q(xe))return kt;for(var Xt=-1,_n=[],or=xe.length;++Xt<or;){var Sr=xe[Xt];bt(Sr,Xt,xe)&&(kt.push(Sr),_n.push(Xt))}return Be(xe,_n),kt},Bt=function(xe){return g(xe,"String")},kn=function pn(xe,bt){var kt;if(S(bt))kt=function(_n,or){return bt(_n)-bt(or)};else{var Xt=[];Bt(bt)?Xt.push(bt):A(bt)&&(Xt=bt),kt=function(_n,or){for(var Sr=0;Sr<Xt.length;Sr+=1){var qi=Xt[Sr];if(_n[qi]>or[qi])return 1;if(_n[qi]<or[qi])return-1}return 0}}return xe.sort(kt),xe};function je(xe,bt){void 0===bt&&(bt=new Map);var kt=[];if(Array.isArray(xe))for(var Xt=0,_n=xe.length;Xt<_n;Xt++){var or=xe[Xt];bt.has(or)||(kt.push(or),bt.set(or,!0))}return kt}const Cr=function(){for(var xe=[],bt=0;bt<arguments.length;bt++)xe[bt]=arguments[bt];return je([].concat.apply([],xe))},qn=function(xe,bt){for(var kt=[],Xt={},_n=0;_n<xe.length;_n++){var Sr=xe[_n][bt];if(!E(Sr)){A(Sr)||(Sr=[Sr]);for(var qi=0;qi<Sr.length;qi++){var Ta=Sr[qi];Xt[Ta]||(kt.push(Ta),Xt[Ta]=!0)}}}return kt};function Me(xe){if(q(xe))return xe[0]}function Ur(xe){if(q(xe))return xe[xe.length-1]}const bi=function pi(xe,bt){return!(!A(xe)&&!Bt(xe))&&xe[0]===bt},Xi=function ii(xe,bt){return!(!A(xe)&&!Bt(xe))&&xe[xe.length-1]===bt},hn=function(xe,bt){for(var kt=0;kt<xe.length;kt++)if(!bt(xe[kt],kt))return!1;return!0},br=function(xe,bt){for(var kt=0;kt<xe.length;kt++)if(bt(xe[kt],kt))return!0;return!1};var Dr=Object.prototype.hasOwnProperty;const ei=function kr(xe,bt){if(!bt||!A(xe))return{};for(var _n,kt={},Xt=S(bt)?bt:function(qi){return qi[bt]},or=0;or<xe.length;or++){var Sr=xe[or];_n=Xt(Sr),Dr.call(kt,_n)?kt[_n].push(Sr):kt[_n]=[Sr]}return kt};function Qr(xe,bt){if(!bt)return{0:xe};if(!S(bt)){var kt=A(bt)?bt:bt.replace(/\s+/g,"").split("*");bt=function(Xt){for(var _n="_",or=0,Sr=kt.length;or<Sr;or++)_n+=Xt[kt[or]]&&Xt[kt[or]].toString();return _n}}return ei(xe,bt)}const Ti=function(xe,bt){if(!bt)return[xe];var kt=Qr(xe,bt),Xt=[];for(var _n in kt)Xt.push(kt[_n]);return Xt},xa=function Ki(xe,bt){return xe["_wrap_"+bt]},ti=function Ar(xe,bt){if(xe["_wrap_"+bt])return xe["_wrap_"+bt];var kt=function(Xt){xe[bt](Xt)};return xe["_wrap_"+bt]=kt,kt};var Vr={};const G=function Se(xe){var bt=Vr[xe];if(!bt){for(var kt=xe.toString(16),Xt=kt.length;Xt<6;Xt++)kt="0"+kt;Vr[xe]=bt="#"+kt}return bt},C=function V(xe){var bt=0,kt=0,Xt=0,_n=0;return A(xe)?1===xe.length?bt=kt=Xt=_n=xe[0]:2===xe.length?(bt=Xt=xe[0],kt=_n=xe[1]):3===xe.length?(bt=xe[0],kt=_n=xe[1],Xt=xe[2]):(bt=xe[0],kt=xe[1],Xt=xe[2],_n=xe[3]):bt=kt=Xt=_n=xe,{r1:bt,r2:kt,r3:Xt,r4:_n}},fe=function(xe,bt,kt){return xe<bt?bt:xe>kt?kt:xe},We=function(xe,bt){var kt=bt.toString(),Xt=kt.indexOf(".");if(-1===Xt)return Math.round(xe);var _n=kt.substr(Xt+1).length;return _n>20&&(_n=20),parseFloat(xe.toFixed(_n))},rt=function(xe){return g(xe,"Number")},N=function(xe){return rt(xe)&&xe%1!=0},Ye=function(xe){return rt(xe)&&xe%2==0},Et=Number.isInteger?Number.isInteger:function(xe){return rt(xe)&&xe%1==0},Je=function(xe){return rt(xe)&&xe<0};var Wt=1e-5;function yn(xe,bt,kt){return void 0===kt&&(kt=Wt),Math.abs(xe-bt)<kt}const Rn=function(xe){return rt(xe)&&xe%2!=0},Yn=function(xe){return rt(xe)&&xe>0},er=function(xe,bt){if(A(xe)){for(var kt,Xt=-1/0,_n=0;_n<xe.length;_n++){var or=xe[_n],Sr=S(bt)?bt(or):or[bt];Sr>Xt&&(kt=or,Xt=Sr)}return kt}},Gr=function(xe,bt){if(A(xe)){for(var kt,Xt=1/0,_n=0;_n<xe.length;_n++){var or=xe[_n],Sr=S(bt)?bt(or):or[bt];Sr<Xt&&(kt=or,Xt=Sr)}return kt}},Ht=function(xe,bt){return(xe%bt+bt)%bt};var Ln=180/Math.PI;const cn=function(xe){return Ln*xe},Lr=parseInt;var pr=Math.PI/180;const Oe=function(xe){return pr*xe},Pe=ie,Ot=function(xe,bt){return xe.hasOwnProperty(bt)},ht=Ot,on=Object.values?function(xe){return Object.values(xe)}:function(xe){var bt=[];return ie(xe,function(kt,Xt){S(xe)&&"prototype"===Xt||bt.push(kt)}),bt},En=function(xe,bt){return O(on(xe),bt)},Fn=function(xe){return E(xe)?"":xe.toString()},fr=function(xe){return Fn(xe).toLowerCase()},Ai=function(xe){var bt=Fn(xe);return bt.charAt(0).toLowerCase()+bt.substring(1)},wa=function ca(xe,bt){return xe&&bt?xe.replace(/\\?\{([^{}]+)\}/g,function(kt,Xt){return"\\"===kt.charAt(0)?kt.slice(1):void 0===bt[Xt]?"":bt[Xt]}):xe},no=function(xe){return Fn(xe).toUpperCase()},ko=function(xe){var bt=Fn(xe);return bt.charAt(0).toUpperCase()+bt.substring(1)};var xo={}.toString;const iu=function(xe){return xo.call(xe).replace(/^\[object /,"").replace(/]$/,"")},Co=function(xe){return g(xe,"Arguments")},zu=function(xe){return g(xe,"Boolean")},Vu=function(xe){return g(xe,"Date")},Lf=function(xe){return g(xe,"Error")};function Ii(xe){return rt(xe)&&isFinite(xe)}const dl=function(xe){return null===xe};var ju=Object.prototype;const Vl=function(xe){var bt=xe&&xe.constructor;return xe===("function"==typeof bt&&bt.prototype||ju)},Mc=function(xe){return g(xe,"RegExp")},jl=function(xe){return void 0===xe},Xr=function(xe){return xe instanceof Element||xe instanceof HTMLDocument};function Ul(xe){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(kt){return setTimeout(kt,16)})(xe)}function Uu(xe){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(xe)}function wo(xe,bt){for(var kt in bt)bt.hasOwnProperty(kt)&&"constructor"!==kt&&void 0!==bt[kt]&&(xe[kt]=bt[kt])}function ds(xe,bt,kt,Xt){return bt&&wo(xe,bt),kt&&wo(xe,kt),Xt&&wo(xe,Xt),xe}const fa=function(){for(var xe=[],bt=0;bt<arguments.length;bt++)xe[bt]=arguments[bt];for(var kt=xe[0],Xt=1;Xt<xe.length;Xt++){var _n=xe[Xt];S(_n)&&(_n=_n.prototype),ds(kt.prototype,_n)}};var Cc=function(xe){if("object"!=typeof xe||null===xe)return xe;var bt;if(A(xe)){bt=[];for(var kt=0,Xt=xe.length;kt<Xt;kt++)bt[kt]="object"==typeof xe[kt]&&null!=xe[kt]?Cc(xe[kt]):xe[kt]}else for(var _n in bt={},xe)bt[_n]="object"==typeof xe[_n]&&null!=xe[_n]?Cc(xe[_n]):xe[_n];return bt};const Gu=Cc,Dl=function zd(xe,bt,kt){var Xt;return function(){var _n=this,or=arguments,qi=kt&&!Xt;clearTimeout(Xt),Xt=setTimeout(function(){Xt=null,kt||xe.apply(_n,or)},bt),qi&&xe.apply(_n,or)}},Gl=function(xe,bt){if(!S(xe))throw new TypeError("Expected a function");var kt=function(){for(var Xt=[],_n=0;_n<arguments.length;_n++)Xt[_n]=arguments[_n];var or=bt?bt.apply(this,Xt):Xt[0],Sr=kt.cache;if(Sr.has(or))return Sr.get(or);var qi=xe.apply(this,Xt);return Sr.set(or,qi),qi};return kt.cache=new Map,kt};var hl=5;function Ea(xe,bt,kt,Xt){for(var _n in kt=kt||0,Xt=Xt||hl,bt)if(bt.hasOwnProperty(_n)){var or=bt[_n];null!==or&&se(or)?(se(xe[_n])||(xe[_n]={}),kt<Xt?Ea(xe[_n],or,kt+1,Xt):xe[_n]=bt[_n]):A(or)?(xe[_n]=[],xe[_n]=xe[_n].concat(or)):void 0!==or&&(xe[_n]=or)}}const Vd=function(xe){for(var bt=[],kt=1;kt<arguments.length;kt++)bt[kt-1]=arguments[kt];for(var Xt=0;Xt<bt.length;Xt+=1)Ea(xe,bt[Xt]);return xe},pl=function(xe,bt,kt,Xt){S(bt)||(kt=bt,bt=xe,xe=function(){});var _n=Object.create?function(Sr,qi){return Object.create(Sr,{constructor:{value:qi}})}:function(Sr,qi){function Ta(){}Ta.prototype=Sr;var uo=new Ta;return uo.constructor=qi,uo},or=_n(bt.prototype,xe);return xe.prototype=ds(or,xe.prototype),xe.superclass=_n(bt.prototype,bt),ds(or,kt),ds(xe,Xt),xe},qs=function(xe,bt){if(!q(xe))return-1;var kt=Array.prototype.indexOf;if(kt)return kt.call(xe,bt);for(var Xt=-1,_n=0;_n<xe.length;_n++)if(xe[_n]===bt){Xt=_n;break}return Xt};var wn=Object.prototype.hasOwnProperty;const ui=function Es(xe){if(E(xe))return!0;if(q(xe))return!xe.length;var bt=iu(xe);if("Map"===bt||"Set"===bt)return!xe.size;if(Vl(xe))return!Object.keys(xe).length;for(var kt in xe)if(wn.call(xe,kt))return!1;return!0};var Yo=function(xe,bt){if(xe===bt)return!0;if(!xe||!bt||Bt(xe)||Bt(bt))return!1;if(q(xe)||q(bt)){if(xe.length!==bt.length)return!1;for(var kt=!0,Xt=0;Xt<xe.length&&(kt=Yo(xe[Xt],bt[Xt]));Xt++);return kt}if(ae(xe)||ae(bt)){var _n=Object.keys(xe),or=Object.keys(bt);if(_n.length!==or.length)return!1;for(kt=!0,Xt=0;Xt<_n.length&&(kt=Yo(xe[_n[Xt]],bt[_n[Xt]]));Xt++);return kt}return!1};const Hl=Yo,$o=function(xe,bt,kt){return S(kt)?!!kt(xe,bt):Hl(xe,bt)},Dc=function(xe,bt){if(!q(xe))return xe;for(var kt=[],Xt=0;Xt<xe.length;Xt++)kt.push(bt(xe[Xt],Xt));return kt};var Tc=function(xe){return xe};const Fs=function(xe,bt){void 0===bt&&(bt=Tc);var kt={};return k(xe)&&!E(xe)&&Object.keys(xe).forEach(function(Xt){kt[Xt]=bt(xe[Xt],Xt)}),kt},No=function(xe,bt,kt){for(var Xt=0,_n=Bt(bt)?bt.split("."):bt;xe&&Xt<_n.length;)xe=xe[_n[Xt++]];return void 0===xe||Xt<_n.length?kt:xe},Xo=function(xe,bt,kt){var Xt=xe,_n=Bt(bt)?bt.split("."):bt;return _n.forEach(function(or,Sr){Sr<_n.length-1?(k(Xt[or])||(Xt[or]=rt(_n[Sr+1])?[]:{}),Xt=Xt[or]):Xt[or]=kt}),xe};var fs=Object.prototype.hasOwnProperty;const Ji=function(xe,bt){if(null===xe||!se(xe))return{};var kt={};return ie(bt,function(Xt){fs.call(xe,Xt)&&(kt[Xt]=xe[Xt])}),kt},Sa=function(xe,bt){return Ve(xe,function(kt,Xt,_n){return bt.includes(_n)||(kt[_n]=Xt),kt},{})},Tl=function(xe,bt,kt){var Xt,_n,or,Sr,qi=0;kt||(kt={});var Ta=function(){qi=!1===kt.leading?0:Date.now(),Xt=null,Sr=xe.apply(_n,or),Xt||(_n=or=null)},uo=function(){var Ua=Date.now();!qi&&!1===kt.leading&&(qi=Ua);var Tr=bt-(Ua-qi);return _n=this,or=arguments,Tr<=0||Tr>bt?(Xt&&(clearTimeout(Xt),Xt=null),qi=Ua,Sr=xe.apply(_n,or),Xt||(_n=or=null)):!Xt&&!1!==kt.trailing&&(Xt=setTimeout(Ta,Tr)),Sr};return uo.cancel=function(){clearTimeout(Xt),qi=0,Xt=_n=or=null},uo},su=function(xe){return q(xe)?Array.prototype.slice.call(xe):[]};var Po={};const hs=function(xe){return Po[xe=xe||"g"]?Po[xe]+=1:Po[xe]=1,xe+Po[xe]},Bs=function(){},vl=function(xe){return xe};function ua(xe){return E(xe)?0:q(xe)?xe.length:Object.keys(xe).length}var zs,Yl=j(655);const Zs=Gl(function(xe,bt){void 0===bt&&(bt={});var kt=bt.fontSize,Xt=bt.fontFamily,_n=bt.fontWeight,or=bt.fontStyle,Sr=bt.fontVariant;return zs||(zs=document.createElement("canvas").getContext("2d")),zs.font=[or,Sr,_n,kt+"px",Xt].join(" "),zs.measureText(Bt(xe)?xe:"").width},function(xe,bt){return void 0===bt&&(bt={}),(0,Yl.__spreadArrays)([xe],on(bt)).join("")}),Oi=function(xe,bt,kt,Xt){void 0===Xt&&(Xt="...");var uo,Ua,or=Zs(Xt,kt),Sr=Bt(xe)?xe:Fn(xe),qi=bt,Ta=[];if(Zs(xe,kt)<=bt)return xe;for(;uo=Sr.substr(0,16),!((Ua=Zs(uo,kt))+or>qi&&Ua>qi);)if(Ta.push(uo),qi-=Ua,!(Sr=Sr.substr(16)))return Ta.join("");for(;uo=Sr.substr(0,1),!((Ua=Zs(uo,kt))+or>qi);)if(Ta.push(uo),qi-=Ua,!(Sr=Sr.substr(1)))return Ta.join("");return""+Ta.join("")+Xt},Vs=function(){function xe(){this.map={}}return xe.prototype.has=function(bt){return void 0!==this.map[bt]},xe.prototype.get=function(bt,kt){var Xt=this.map[bt];return void 0===Xt?kt:Xt},xe.prototype.set=function(bt,kt){this.map[bt]=kt},xe.prototype.clear=function(){this.map={}},xe.prototype.delete=function(bt){delete this.map[bt]},xe.prototype.size=function(){return Object.keys(this.map).length},xe}()},3174:(qt,z,j)=>{"use strict";var R={};j.r(R),j.d(R,{GADDI:()=>lL,Stack:()=>Cg,breadthFirstSearch:()=>AR,connectedComponent:()=>NS,cosineSimilarity:()=>jS,default:()=>ete,depthFirstSearch:()=>PS,detectAllCycles:()=>PR,detectAllDirectedCycle:()=>LS,detectAllUndirectedCycle:()=>RS,detectCycle:()=>FS,detectDirectedCycle:()=>cL,dijkstra:()=>m0,findAllPath:()=>FR,findShortestPath:()=>LR,floydWarshall:()=>y0,getAdjMatrix:()=>Fp,getDegree:()=>g0,getInDegree:()=>OR,getNeighbors:()=>yc,getOutDegree:()=>kR,iLouvain:()=>UR,kCore:()=>GR,kMeans:()=>WR,labelPropagation:()=>BR,louvain:()=>VS,minimumSpanningTree:()=>XR,nodesCosineSimilarity:()=>YR,pageRank:()=>KR});var q={};j.r(q),j.d(q,{Line:()=>zp,applyMatrix:()=>Dg,compare:()=>tte,distance:()=>xb,floydWarshall:()=>rte,fractionToLine:()=>YS,getAdjMatrix:()=>ite,getBBoxBoundLine:()=>WS,getCircleCenterByPoints:()=>GS,getCircleIntersectByPoint:()=>fL,getDegree:()=>ste,getEllipseIntersectByPoint:()=>hL,getLineIntersect:()=>bb,getPointsCenter:()=>_L,getRectIntersectByPoint:()=>dL,intersectBBox:()=>gL,invertMatrix:()=>pL,isPointInPolygon:()=>_0,isPointsOverlap:()=>$S,isPolygonsIntersect:()=>mL,itemIntersectByLine:()=>yL,lerp:()=>XS,lerpArray:()=>KS,move:()=>HS,pointLineDistance:()=>dte,pointLineSquareDist:()=>bL,pointRectSquareDist:()=>xL,rotate:()=>ote,scale:()=>ate,scaleMatrix:()=>nte,squareDist:()=>wb,translate:()=>vL});var B={};j.r(B),j.d(B,{cloneBesidesImg:()=>Db,getAnimateCfgWithCallback:()=>b0,getBBox:()=>Mb,getComboBBox:()=>Cb,getLabelPosition:()=>TL,getLetterWidth:()=>AL,getLoopCfgs:()=>DL,getTextSize:()=>IL,plainCombosToTrees:()=>JS,reconstructTree:()=>eM,shouldRefreshEdge:()=>_te,traverseTree:()=>sl,traverseTreeUp:()=>Md,truncateLabelByLength:()=>OL});var O={};j.r(O),j.d(O,{catmullRomToBezier:()=>tM,fillPath:()=>Rte,fillPathByDiff:()=>jL,formatPath:()=>oM,intersection:()=>Ote,parsePathArray:()=>RL,parsePathString:()=>Tg,pathToAbsolute:()=>nM,pathToCurve:()=>rM,rectPath:()=>BL});var P={};j.r(P),j.d(P,{easeBack:()=>kF,easeBackIn:()=>rre,easeBackInOut:()=>kF,easeBackOut:()=>ire,easeBounce:()=>D0,easeBounceIn:()=>tre,easeBounceInOut:()=>nre,easeBounceOut:()=>D0,easeCircle:()=>OF,easeCircleIn:()=>Wne,easeCircleInOut:()=>OF,easeCircleOut:()=>Yne,easeCubic:()=>MF,easeCubicIn:()=>Fne,easeCubicInOut:()=>MF,easeCubicOut:()=>Bne,easeElastic:()=>NF,easeElasticIn:()=>are,easeElasticInOut:()=>ore,easeElasticOut:()=>NF,easeExp:()=>IF,easeExpIn:()=>Gne,easeExpInOut:()=>IF,easeExpOut:()=>Hne,easeLinear:()=>Pne,easePoly:()=>CF,easePolyIn:()=>zne,easePolyInOut:()=>CF,easePolyOut:()=>Vne,easeQuad:()=>SF,easeQuadIn:()=>Rne,easeQuadInOut:()=>SF,easeQuadOut:()=>Lne,easeSin:()=>AF,easeSinIn:()=>jne,easeSinInOut:()=>AF,easeSinOut:()=>Une});var T={};j.r(T),j.d(T,{calculationItemsBBox:()=>TB,cloneEvent:()=>die,formatPadding:()=>NM,isNaN:()=>Td,isViewportChanged:()=>fie,processParallelEdges:()=>hie,uniqueId:()=>kM});var b={};j.r(b),j.d(b,{getClosedSpline:()=>UM,getControlPoint:()=>Yb,getSpline:()=>WB,getStarPath:()=>Nie,paddedHull:()=>KB,pathToPoints:()=>jM,pointsToPolygon:()=>kie,roundedHull:()=>GM});var x={};j.r(x),j.d(x,{defaultSubjectColors:()=>eae});var m={};j.r(m),j.d(m,{isForce:()=>s3});var _={};j.r(_),j.d(_,{Base:()=>Pu,Circle:()=>Mae,Ellipse:()=>Dae,Image:()=>Aae,Line:()=>Oae,Marker:()=>Pae,Path:()=>nC,Polygon:()=>Gae,Polyline:()=>Wae,Rect:()=>Kae,Text:()=>Zae});var g={};j.r(g),j.d(g,{Base:()=>qc,Circle:()=>aoe,Dom:()=>soe,Ellipse:()=>coe,Image:()=>doe,Line:()=>hoe,Marker:()=>voe,Path:()=>moe,Polygon:()=>_oe,Polyline:()=>xoe,Rect:()=>Coe,Text:()=>Ooe});var S={};j.r(S),j.d(S,{getColorSetsBySubjectColors:()=>Ase,getColorsWithSubjectColor:()=>sC,mixColor:()=>_s});var w={};j.r(w),j.d(w,{arrayToTextureData:()=>Use,attributesToTextureData:()=>jse,buildTextureData:()=>Bse,buildTextureDataWithOneEdgeAttr:()=>zse,buildTextureDataWithTwoEdgeAttr:()=>Vse,proccessToFunc:()=>Fse,radialLayout:()=>Gse});var E={};j.r(E),j.d(E,{gpuDetector:()=>a5});var A={};function k(r){return"function"==typeof r}function L(r){const e=r(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}j.r(A),j.d(A,{assign:()=>Ih,default:()=>F5,defaultI18n:()=>gC,format:()=>R5,parse:()=>L5,setGlobalDateI18n:()=>D5,setGlobalDateMasks:()=>P5});const ie=L(r=>function(e){r(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,i)=>`${i+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function te(r,t){if(r){const e=r.indexOf(t);0<=e&&r.splice(e,1)}}class ${constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const a of e)a.remove(this);else e.remove(this);const{initialTeardown:n}=this;if(k(n))try{n()}catch(a){t=a instanceof ie?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{Y(a)}catch(o){t=t??[],o instanceof ie?t=[...t,...o.errors]:t.push(o)}}if(t)throw new ie(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Y(t);else{if(t instanceof $){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&te(e,t)}remove(t){const{_finalizers:e}=this;e&&te(e,t),t instanceof $&&t._removeParent(this)}}$.EMPTY=(()=>{const r=new $;return r.closed=!0,r})();const X=$.EMPTY;function Z(r){return r instanceof $||r&&"closed"in r&&k(r.remove)&&k(r.add)&&k(r.unsubscribe)}function Y(r){k(r)?r():r.unsubscribe()}const ae={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ne={setTimeout(r,t,...e){const{delegate:n}=ne;return n?.setTimeout?n.setTimeout(r,t,...e):setTimeout(r,t,...e)},clearTimeout(r){const{delegate:t}=ne;return(t?.clearTimeout||clearTimeout)(r)},delegate:void 0};function se(r){ne.setTimeout(()=>{const{onUnhandledError:t}=ae;if(!t)throw r;t(r)})}function ve(){}const ge=ze("C",void 0,void 0);function ze(r,t,e){return{kind:r,value:t,error:e}}let oe=null;function ce(r){if(ae.useDeprecatedSynchronousErrorHandling){const t=!oe;if(t&&(oe={errorThrown:!1,error:null}),r(),t){const{errorThrown:e,error:n}=oe;if(oe=null,e)throw n}}else r()}class re extends ${constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Z(t)&&t.add(this)):this.destination=lt}static create(t,e,n){return new Ue(t,e,n)}next(t){this.isStopped?Ne(function Ae(r){return ze("N",r,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ne(function Fe(r){return ze("E",void 0,r)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ne(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ye=Function.prototype.bind;function Ce(r,t){return ye.call(r,t)}class Ie{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){pt(n)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){pt(n)}else pt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){pt(e)}}}class Ue extends re{constructor(t,e,n){let i;if(super(),k(t)||!t)i={next:t??void 0,error:e??void 0,complete:n??void 0};else{let a;this&&ae.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Ce(t.next,a),error:t.error&&Ce(t.error,a),complete:t.complete&&Ce(t.complete,a)}):i=t}this.destination=new Ie(i)}}function pt(r){ae.useDeprecatedSynchronousErrorHandling?function H(r){ae.useDeprecatedSynchronousErrorHandling&&oe&&(oe.errorThrown=!0,oe.error=r)}(r):se(r)}function Ne(r,t){const{onStoppedNotification:e}=ae;e&&ne.setTimeout(()=>e(r,t))}const lt={closed:!0,next:ve,error:function st(r){throw r},complete:ve},gt="function"==typeof Symbol&&Symbol.observable||"@@observable";function $e(r){return r}function De(r){return 0===r.length?$e:1===r.length?r[0]:function(e){return r.reduce((n,i)=>i(n),e)}}let Be=(()=>{class r{constructor(e){e&&(this._subscribe=e)}lift(e){const n=new r;return n.source=this,n.operator=e,n}subscribe(e,n,i){const a=function nt(r){return r&&r instanceof re||function Ve(r){return r&&k(r.next)&&k(r.error)&&k(r.complete)}(r)&&Z(r)}(e)?e:new Ue(e,n,i);return ce(()=>{const{operator:o,source:s}=this;a.add(o?o.call(a,s):s?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return new(n=vt(n))((i,a)=>{const o=new Ue({next:s=>{try{e(s)}catch(l){a(l),o.unsubscribe()}},error:a,complete:i});this.subscribe(o)})}_subscribe(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)}[gt](){return this}pipe(...e){return De(e)(this)}toPromise(e){return new(e=vt(e))((n,i)=>{let a;this.subscribe(o=>a=o,o=>i(o),()=>n(a))})}}return r.create=t=>new r(t),r})();function vt(r){var t;return null!==(t=r??ae.Promise)&&void 0!==t?t:Promise}const wt=L(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Bt=(()=>{class r extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const n=new pn(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new wt}next(e){ce(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(e)}})}error(e){ce(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){ce(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:n,isStopped:i,observers:a}=this;return n||i?X:(this.currentObservers=null,a.push(e),new $(()=>{this.currentObservers=null,te(a,e)}))}_checkFinalizedStatuses(e){const{hasError:n,thrownError:i,isStopped:a}=this;n?e.error(i):a&&e.complete()}asObservable(){const e=new Be;return e.source=this,e}}return r.create=(t,e)=>new pn(t,e),r})();class pn extends Bt{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)}error(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:X}}function kn(r){return k(r?.lift)}function je(r){return t=>{if(kn(t))return t.lift(function(e){try{return r(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Hn(r,t,e,n,i){return new Cr(r,t,e,n,i)}class Cr extends re{constructor(t,e,n,i,a,o){super(t),this.onFinalize=a,this.shouldUnsubscribe=o,this._next=e?function(s){try{e(s)}catch(l){t.error(l)}}:super._next,this._error=i?function(s){try{i(s)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function qn(r,t){return je((e,n)=>{let i=0;e.subscribe(Hn(n,a=>{n.next(r.call(t,a,i++))}))})}var Me=j(655);const Ur=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function pi(r){return k(r?.then)}function bi(r){return k(r[gt])}function ii(r){return Symbol.asyncIterator&&k(r?.[Symbol.asyncIterator])}function Xi(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hn=function ji(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Pn(r){return k(r?.[hn])}function br(r){return(0,Me.__asyncGenerator)(this,arguments,function*(){const e=r.getReader();try{for(;;){const{value:n,done:i}=yield(0,Me.__await)(e.read());if(i)return yield(0,Me.__await)(void 0);yield yield(0,Me.__await)(n)}}finally{e.releaseLock()}})}function Dr(r){return k(r?.getReader)}function kr(r){if(r instanceof Be)return r;if(null!=r){if(bi(r))return function ei(r){return new Be(t=>{const e=r[gt]();if(k(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(r);if(Ur(r))return function Qr(r){return new Be(t=>{for(let e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()})}(r);if(pi(r))return function Ti(r){return new Be(t=>{r.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,se)})}(r);if(ii(r))return xa(r);if(Pn(r))return function Ki(r){return new Be(t=>{for(const e of r)if(t.next(e),t.closed)return;t.complete()})}(r);if(Dr(r))return function Ar(r){return xa(br(r))}(r)}throw Xi(r)}function xa(r){return new Be(t=>{(function ti(r,t){var e,n,i,a;return(0,Me.__awaiter)(this,void 0,void 0,function*(){try{for(e=(0,Me.__asyncValues)(r);!(n=yield e.next()).done;)if(t.next(n.value),t.closed)return}catch(o){i={error:o}}finally{try{n&&!n.done&&(a=e.return)&&(yield a.call(e))}finally{if(i)throw i.error}}t.complete()})})(r,t).catch(e=>t.error(e))})}function Vr(r,t,e,n=0,i=!1){const a=t.schedule(function(){e(),i?r.add(this.schedule(null,n)):this.unsubscribe()},n);if(r.add(a),!i)return a}function G(r,t,e=1/0){return k(t)?G((n,i)=>qn((a,o)=>t(n,a,i,o))(kr(r(n,i))),e):("number"==typeof t&&(e=t),je((n,i)=>function Se(r,t,e,n,i,a,o,s){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},v=D=>c<n?y(D):l.push(D),y=D=>{a&&t.next(D),c++;let F=!1;kr(e(D,u++)).subscribe(Hn(t,K=>{i?.(K),a?v(K):t.next(K)},()=>{F=!0},void 0,()=>{if(F)try{for(c--;l.length&&c<n;){const K=l.shift();o?Vr(t,o,()=>y(K)):y(K)}h()}catch(K){t.error(K)}}))};return r.subscribe(Hn(t,v,()=>{d=!0,h()})),()=>{s?.()}}(n,i,r,e)))}function V(r=1/0){return G($e,r)}const C=new Be(r=>r.complete());function He(r){return r&&k(r.schedule)}function We(r){return r[r.length-1]}function it(r){return k(We(r))?r.pop():void 0}function rt(r){return He(We(r))?r.pop():void 0}function N(r,t=0){return je((e,n)=>{e.subscribe(Hn(n,i=>Vr(n,r,()=>n.next(i),t),()=>Vr(n,r,()=>n.complete(),t),i=>Vr(n,r,()=>n.error(i),t)))})}function Xe(r,t=0){return je((e,n)=>{n.add(r.schedule(()=>e.subscribe(n),t))})}function Je(r,t){if(!r)throw new Error("Iterable cannot be null");return new Be(e=>{Vr(e,t,()=>{const n=r[Symbol.asyncIterator]();Vr(e,t,()=>{n.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Dn(r,t){return t?function yn(r,t){if(null!=r){if(bi(r))return function Ye(r,t){return kr(r).pipe(Xe(t),N(t))}(r,t);if(Ur(r))return function Et(r,t){return new Be(e=>{let n=0;return t.schedule(function(){n===r.length?e.complete():(e.next(r[n++]),e.closed||this.schedule())})})}(r,t);if(pi(r))return function Qe(r,t){return kr(r).pipe(Xe(t),N(t))}(r,t);if(ii(r))return Je(r,t);if(Pn(r))return function nn(r,t){return new Be(e=>{let n;return Vr(e,t,()=>{n=r[hn](),Vr(e,t,()=>{let i,a;try{({value:i,done:a}=n.next())}catch(o){return void e.error(o)}a?e.complete():e.next(i)},0,!0)}),()=>k(n?.return)&&n.return()})}(r,t);if(Dr(r))return function Wt(r,t){return Je(br(r),t)}(r,t)}throw Xi(r)}(r,t):kr(r)}function Rn(...r){const t=rt(r),e=function Vt(r,t){return"number"==typeof We(r)?r.pop():t}(r,1/0),n=r;return n.length?1===n.length?kr(n[0]):V(e)(Dn(n,t)):C}function Ir(r={}){const{connector:t=(()=>new Bt),resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=r;return a=>{let o,s,l,c=0,u=!1,d=!1;const h=()=>{s?.unsubscribe(),s=void 0},v=()=>{h(),o=l=void 0,u=d=!1},y=()=>{const D=o;v(),D?.unsubscribe()};return je((D,F)=>{c++,!d&&!u&&h();const K=l=l??t();F.add(()=>{c--,0===c&&!d&&!u&&(s=Yn(y,i))}),K.subscribe(F),!o&&c>0&&(o=new Ue({next:Q=>K.next(Q),error:Q=>{d=!0,h(),s=Yn(v,e,Q),K.error(Q)},complete:()=>{u=!0,h(),s=Yn(v,n),K.complete()}}),kr(D).subscribe(o))})(a)}}function Yn(r,t,...e){if(!0===t)return void r();if(!1===t)return;const n=new Ue({next:()=>{n.unsubscribe(),r()}});return kr(t(...e)).subscribe(n)}function er(r){for(let t in r)if(r[t]===er)return t;throw Error("Could not find renamed property on target object.")}function Gr(r,t){for(const e in t)t.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(r[e]=t[e])}function Pr(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Pr).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const t=r.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Ht(r,t){return null==r||""===r?null===t?"":t:null==t||""===t?r:r+" "+t}const Ln=er({__forward_ref__:er});function Vn(r){return r.__forward_ref__=Vn,r.toString=function(){return Pr(this())},r}function cn(r){return Lr(r)?r():r}function Lr(r){return"function"==typeof r&&r.hasOwnProperty(Ln)&&r.__forward_ref__===Vn}function pr(r){return r&&!!r.\u0275providers}const Oe="https://g.co/ng/security#xss";class Pe extends Error{constructor(t,e){super(Ot(t,e)),this.code=t}}function Ot(r,t){return`NG0${Math.abs(r)}${t?": "+t.trim():""}`}function ht(r){return"string"==typeof r?r:null==r?"":String(r)}function xr(r,t){throw new Pe(-201,!1)}function Co(r,t){null==r&&function Ui(r,t,e,n){throw new Error(`ASSERTION ERROR: ${r}`+(null==n?"":` [Expected=> ${e} ${n} ${t} <=Actual]`))}(t,r,null,"!=")}function vr(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ii(r){return{providers:r.providers||[],imports:r.imports||[]}}function us(r){return ju(r,Mc)||ju(r,jl)}function ju(r,t){return r.hasOwnProperty(t)?r[t]:null}function xs(r){return r&&(r.hasOwnProperty(ou)||r.hasOwnProperty(fl))?r[ou]:null}const Mc=er({\u0275prov:er}),ou=er({\u0275inj:er}),jl=er({ngInjectableDef:er}),fl=er({ngInjectorDef:er});var Xr=(()=>((Xr=Xr||{})[Xr.Default=0]="Default",Xr[Xr.Host=1]="Host",Xr[Xr.Self=2]="Self",Xr[Xr.SkipSelf=4]="SkipSelf",Xr[Xr.Optional=8]="Optional",Xr))();let Ul;function wo(r){const t=Ul;return Ul=r,t}function ds(r,t,e){const n=us(r);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&Xr.Optional?null:void 0!==t?t:void xr(Pr(r))}const fa=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dl={},Gl="__NG_DI_FLAG__",hl="ngTempTokenPath",Ea="ngTokenPath",Hu=/\n/gm,Vd="\u0275",ws="__source";let pl;function Ks(r){const t=pl;return pl=r,t}function qs(r,t=Xr.Default){if(void 0===pl)throw new Pe(-203,!1);return null===pl?ds(r,void 0,t):pl.get(r,t&Xr.Optional?null:void 0,t)}function wn(r,t=Xr.Default){return(function Uu(){return Ul}()||qs)(cn(r),t)}function ui(r,t=Xr.Default){return wn(r,Yo(t))}function Yo(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Hl(r){const t=[];for(let e=0;e<r.length;e++){const n=cn(r[e]);if(Array.isArray(n)){if(0===n.length)throw new Pe(900,!1);let i,a=Xr.Default;for(let o=0;o<n.length;o++){const s=n[o],l=Wl(s);"number"==typeof l?-1===l?i=s.token:a|=l:i=s}t.push(wn(i,a))}else t.push(wn(n))}return t}function $o(r,t){return r[Gl]=t,r.prototype[Gl]=t,r}function Wl(r){return r[Gl]}function Fs(r){return{toString:r}.toString()}var No=(()=>((No=No||{})[No.OnPush=0]="OnPush",No[No.Default=1]="Default",No))(),Xo=(()=>{return(r=Xo||(Xo={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Xo;var r})();const fs={},Ji=[],Sa=er({\u0275cmp:er}),Tl=er({\u0275dir:er}),su=er({\u0275pipe:er}),Po=er({\u0275mod:er}),hs=er({\u0275fac:er}),Bs=er({__NG_ELEMENT_ID__:er});let vl=0;function ua(r){return Fs(()=>{const t=qi(r),e={...t,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===No.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&r.dependencies||null,getStandaloneInjector:null,data:r.data||{},encapsulation:r.encapsulation||Xo.Emulated,id:"c"+vl++,styles:r.styles||Ji,_:null,schemas:r.schemas||null,tView:null};Ta(e);const n=r.dependencies;return e.directiveDefs=uo(n,!1),e.pipeDefs=uo(n,!0),e})}function zs(r){return kt(r)||Xt(r)}function Zs(r){return null!==r}function Oi(r){return Fs(()=>({type:r.type,bootstrap:r.bootstrap||Ji,declarations:r.declarations||Ji,imports:r.imports||Ji,exports:r.exports||Ji,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Vs(r,t){if(null==r)return fs;const e={};for(const n in r)if(r.hasOwnProperty(n)){let i=r[n],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),e[i]=n,t&&(t[i]=a)}return e}function xe(r){return Fs(()=>{const t=qi(r);return Ta(t),t})}function kt(r){return r[Sa]||null}function Xt(r){return r[Tl]||null}function _n(r){return r[su]||null}function Sr(r,t){const e=r[Po]||null;if(!e&&!0===t)throw new Error(`Type ${Pr(r)} does not have '\u0275mod' property.`);return e}function qi(r){const t={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:t,exportAs:r.exportAs||null,standalone:!0===r.standalone,selectors:r.selectors||Ji,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vs(r.inputs,t),outputs:Vs(r.outputs)}}function Ta(r){r.features?.forEach(t=>t(r))}function uo(r,t){if(!r)return null;const e=t?_n:zs;return()=>("function"==typeof r?r():r).map(n=>e(n)).filter(Zs)}const Ua=0,Tr=1,xi=2,Oa=3,Do=4,js=5,To=6,Al=7,Ya=8,Ic=9,lu=10,di=11,cu=12,Qs=13,Ko=14,$l=15,Ro=16,uu=17,gl=18,Js=19,f=20,I=21,pe=22,Le=1,Ke=2,qe=7,ft=8,_t=9,Dt=10;function dn(r){return Array.isArray(r)&&"object"==typeof r[Le]}function vn(r){return Array.isArray(r)&&!0===r[Le]}function gn(r){return 0!=(4&r.flags)}function $n(r){return r.componentOffset>-1}function rr(r){return 1==(1&r.flags)}function Sn(r){return!!r.template}function _r(r){return 0!=(256&r[xi])}function fu(r,t){return r.hasOwnProperty(hs)?r[hs]:null}class Vg{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function qo(){return Ff}function Ff(r){return r.type.prototype.ngOnChanges&&(r.setInput=jg),rv}function rv(){const r=Fh(this),t=r?.current;if(t){const e=r.previous;if(e===fs)r.previous=t;else for(let n in t)e[n]=t[n];r.current=null,this.ngOnChanges(t)}}function jg(r,t,e,n){const i=this.declaredInputs[e],a=Fh(r)||function Ug(r,t){return r[Bf]=t}(r,{previous:fs,current:null}),o=a.current||(a.current={}),s=a.previous,l=s[i];o[i]=new Vg(l&&l.currentValue,t,s===fs),r[n]=t}qo.ngInherit=!0;const Bf="__ngSimpleChanges__";function Fh(r){return r[Bf]||null}const cr=function(r,t,e){},hu="svg";function Io(r){for(;Array.isArray(r);)r=r[Ua];return r}function Kl(r,t){return Io(t[r])}function Ms(r,t){return Io(t[r.index])}function Vf(r,t){return r.data[t]}function Cs(r,t){const e=t[r];return dn(e)?e:e[Ua]}function Ud(r){return 64==(64&r[xi])}function La(r,t){return null==t?null:r[t]}function Gd(r){r[gl]=0}function ql(r,t){r[js]+=t;let e=r,n=r[Oa];for(;null!==n&&(1===t&&1===e[js]||-1===t&&0===e[js]);)n[js]+=t,e=n,n=n[Oa]}const gi={lFrame:Hh(null),bindingsEnabled:!0};function zh(){return gi.bindingsEnabled}function tr(){return gi.lFrame.lView}function na(){return gi.lFrame.tView}function Lo(r){return gi.lFrame.contextLView=r,r[Ya]}function ka(r){return gi.lFrame.contextLView=null,r}function Fo(){let r=vu();for(;null!==r&&64===r.type;)r=r.parent;return r}function vu(){return gi.lFrame.currentTNode}function Ol(r,t){const e=gi.lFrame;e.currentTNode=r,e.isParent=t}function Hd(){return gi.lFrame.isParent}function Yu(){gi.lFrame.isParent=!1}function ps(){const r=gi.lFrame;let t=r.bindingRootIndex;return-1===t&&(t=r.bindingRootIndex=r.tView.bindingStartIndex),t}function Ql(){return gi.lFrame.bindingIndex++}function Jl(r){const t=gi.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+r,e}function dv(r,t){const e=gi.lFrame;e.bindingIndex=e.bindingRootIndex=r,jh(t)}function jh(r){gi.lFrame.currentDirectiveIndex=r}function Uh(r){const t=gi.lFrame.currentDirectiveIndex;return-1===t?null:r[t]}function Wd(){return gi.lFrame.currentQueryIndex}function Yd(r){gi.lFrame.currentQueryIndex=r}function Yg(r){const t=r[Tr];return 2===t.type?t.declTNode:1===t.type?r[To]:null}function $d(r,t,e){if(e&Xr.SkipSelf){let i=t,a=r;for(;!(i=i.parent,null!==i||e&Xr.Host||(i=Yg(a),null===i||(a=a[$l],10&i.type))););if(null===i)return!1;t=i,r=a}const n=gi.lFrame=fv();return n.currentTNode=t,n.lView=r,!0}function Gh(r){const t=fv(),e=r[Tr];gi.lFrame=t,t.currentTNode=e.firstChild,t.lView=r,t.tView=e,t.contextLView=r,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function fv(){const r=gi.lFrame,t=null===r?null:r.child;return null===t?Hh(r):t}function Hh(r){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=t),t}function hv(){const r=gi.lFrame;return gi.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const pv=hv;function gu(){const r=hv();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function vs(){return gi.lFrame.selectedIndex}function el(r){gi.lFrame.selectedIndex=r}function Na(){const r=gi.lFrame;return Vf(r.tView,r.selectedIndex)}function Wf(){gi.lFrame.currentNamespace=hu}function qu(r,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){const a=r.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=a;o&&(r.contentHooks||(r.contentHooks=[])).push(-e,o),s&&((r.contentHooks||(r.contentHooks=[])).push(e,s),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(e,s)),l&&(r.viewHooks||(r.viewHooks=[])).push(-e,l),c&&((r.viewHooks||(r.viewHooks=[])).push(e,c),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(e,c)),null!=u&&(r.destroyHooks||(r.destroyHooks=[])).push(e,u)}}function Zu(r,t,e){Kh(r,t,3,e)}function Qu(r,t,e,n){(3&r[xi])===e&&Kh(r,t,e,n)}function Ju(r,t){let e=r[xi];(3&e)===t&&(e&=2047,e+=1,r[xi]=e)}function Kh(r,t,e,n){const a=n??-1,o=t.length-1;let s=0;for(let l=void 0!==n?65535&r[gl]:0;l<o;l++)if("number"==typeof t[l+1]){if(s=t[l],null!=n&&s>=n)break}else t[l]<0&&(r[gl]+=65536),(s<a||-1==a)&&(vv(r,e,t,l),r[gl]=(4294901760&r[gl])+l+2),l++}function vv(r,t,e,n){const i=e[n]<0,a=e[n+1],s=r[i?-e[n]:e[n]];if(i){if(r[xi]>>11<r[gl]>>16&&(3&r[xi])===t){r[xi]+=2048,cr(4,s,a);try{a.call(s)}finally{cr(5,s,a)}}}else{cr(4,s,a);try{a.call(s)}finally{cr(5,s,a)}}}const mu=-1;class ed{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Rt(r,t,e){let n=0;for(;n<e.length;){const i=e[n];if("number"==typeof i){if(0!==i)break;n++;const a=e[n++],o=e[n++],s=e[n++];r.setAttribute(t,o,s,a)}else{const a=i,o=e[++n];yu(a)?r.setProperty(t,a,o):r.setAttribute(t,a,o),n++}}return n}function qh(r){return 3===r||4===r||6===r}function yu(r){return 64===r.charCodeAt(0)}function Oc(r,t){if(null!==t&&0!==t.length)if(null===r||0===r.length)r=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){const i=t[n];"number"==typeof i?e=i:0===e||Zh(r,e,i,null,-1===e||2===e?t[++n]:null)}}return r}function Zh(r,t,e,n,i){let a=0,o=r.length;if(-1===t)o=-1;else for(;a<r.length;){const s=r[a++];if("number"==typeof s){if(s===t){o=-1;break}if(s>t){o=a-1;break}}}for(;a<r.length;){const s=r[a];if("number"==typeof s)break;if(s===e){if(null===n)return void(null!==i&&(r[a+1]=i));if(n===r[a+1])return void(r[a+2]=i)}a++,null!==n&&a++,null!==i&&a++}-1!==o&&(r.splice(o,0,t),a=o+1),r.splice(a++,0,e),null!==n&&r.splice(a++,0,n),null!==i&&r.splice(a++,0,i)}function $f(r){return r!==mu}function Kd(r){return 32767&r}function kc(r,t){let e=function xv(r){return r>>16}(r),n=t;for(;e>0;)n=n[$l],e--;return n}let td=!0;function nd(r){const t=td;return td=r,t}const _o=255,_u=5;let Jh=0;const Ds={};function ec(r,t){const e=nc(r,t);if(-1!==e)return e;const n=t[Tr];n.firstCreatePass&&(r.injectorIndex=t.length,tc(n.data,r),tc(t,null),tc(n.blueprint,null));const i=Nc(r,t),a=r.injectorIndex;if($f(i)){const o=Kd(i),s=kc(i,t),l=s[Tr].data;for(let c=0;c<8;c++)t[a+c]=s[o+c]|l[o+c]}return t[a+8]=i,a}function tc(r,t){r.push(0,0,0,0,0,0,0,0,t)}function nc(r,t){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===t[r.injectorIndex+8]?-1:r.injectorIndex}function Nc(r,t){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let e=0,n=null,i=t;for(;null!==i;){if(n=rp(i),null===n)return mu;if(e++,i=i[$l],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return mu}function rc(r,t,e){!function kl(r,t,e){let n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(Bs)&&(n=e[Bs]),null==n&&(n=e[Bs]=Jh++);const i=n&_o;t.data[r+(i>>_u)]|=1<<i}(r,t,e)}function Pc(r,t,e){if(e&Xr.Optional||void 0!==r)return r;xr()}function qd(r,t,e,n){if(e&Xr.Optional&&void 0===n&&(n=null),!(e&(Xr.Self|Xr.Host))){const i=r[Ic],a=wo(void 0);try{return i?i.get(t,n,e&Xr.Optional):ds(t,n,e&Xr.Optional)}finally{wo(a)}}return Pc(n,0,e)}function Zd(r,t,e,n=Xr.Default,i){if(null!==r){if(1024&t[xi]){const o=function xu(r,t,e,n,i){let a=r,o=t;for(;null!==a&&null!==o&&1024&o[xi]&&!(256&o[xi]);){const s=rd(a,o,e,n|Xr.Self,Ds);if(s!==Ds)return s;let l=a.parent;if(!l){const c=o[I];if(c){const u=c.get(e,Ds,n);if(u!==Ds)return u}l=rp(o),o=o[$l]}a=l}return i}(r,t,e,n,Ds);if(o!==Ds)return o}const a=rd(r,t,e,n,Ds);if(a!==Ds)return a}return qd(t,e,n,i)}function rd(r,t,e,n,i){const a=function nl(r){if("string"==typeof r)return r.charCodeAt(0)||0;const t=r.hasOwnProperty(Bs)?r[Bs]:void 0;return"number"==typeof t?t>=0?t&_o:np:t}(e);if("function"==typeof a){if(!$d(t,r,n))return n&Xr.Host?Pc(i,0,n):qd(t,e,n,i);try{const o=a(n);if(null!=o||n&Xr.Optional)return o;xr()}finally{pv()}}else if("number"==typeof a){let o=null,s=nc(r,t),l=mu,c=n&Xr.Host?t[Ro][To]:null;for((-1===s||n&Xr.SkipSelf)&&(l=-1===s?Nc(r,t):t[s+8],l!==mu&&tp(n,!1)?(o=t[Tr],s=Kd(l),t=kc(l,t)):s=-1);-1!==s;){const u=t[Tr];if(Xf(a,s,u.data)){const d=ep(s,t,e,o,n,c);if(d!==Ds)return d}l=t[s+8],l!==mu&&tp(n,t[Tr].data[s+8]===c)&&Xf(a,s,t)?(o=u,s=Kd(l),t=kc(l,t)):s=-1}}return i}function ep(r,t,e,n,i,a){const o=t[Tr],s=o.data[r+8],u=id(s,o,e,null==n?$n(s)&&td:n!=o&&0!=(3&s.type),i&Xr.Host&&a===s);return null!==u?tl(t,o,u,s):Ds}function id(r,t,e,n,i){const a=r.providerIndexes,o=t.data,s=1048575&a,l=r.directiveStart,u=a>>20,h=i?s+u:r.directiveEnd;for(let v=n?s:s+u;v<h;v++){const y=o[v];if(v<l&&e===y||v>=l&&y.type===e)return v}if(i){const v=o[l];if(v&&Sn(v)&&v.type===e)return l}return null}function tl(r,t,e,n){let i=r[e];const a=t.data;if(function gv(r){return r instanceof ed}(i)){const o=i;o.resolving&&function on(r,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${r}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${r}${e}`)}(function At(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ht(r)}(a[e]));const s=nd(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?wo(o.injectImpl):null;$d(r,n,Xr.Default);try{i=r[e]=o.factory(void 0,a,r,n),t.firstCreatePass&&e>=n.directiveStart&&function Xh(r,t,e){const{ngOnChanges:n,ngOnInit:i,ngDoCheck:a}=t.type.prototype;if(n){const o=Ff(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(r,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r,o)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-r,i),a&&((e.preOrderHooks||(e.preOrderHooks=[])).push(r,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r,a))}(e,a[e],t)}finally{null!==l&&wo(l),nd(s),o.resolving=!1,pv()}}return i}function Xf(r,t,e){return!!(e[t+(r>>_u)]&1<<r)}function tp(r,t){return!(r&Xr.Self||r&Xr.Host&&t)}class ic{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return Zd(this._tNode,this._lView,t,Yo(n),e)}}function np(){return new ic(Fo(),tr())}function oo(r){return Fs(()=>{const t=r.prototype.constructor,e=t[hs]||Kf(t),n=Object.prototype;let i=Object.getPrototypeOf(r.prototype).constructor;for(;i&&i!==n;){const a=i[hs]||Kf(i);if(a&&a!==e)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function Kf(r){return Lr(r)?()=>{const t=Kf(cn(r));return t&&t()}:fu(r)}function rp(r){const t=r[Tr],e=t.type;return 2===e?t.declTNode:1===e?r[To]:null}function Rc(r){return function bu(r,t){if("class"===t)return r.classes;if("style"===t)return r.styles;const e=r.attrs;if(e){const n=e.length;let i=0;for(;i<n;){const a=e[i];if(qh(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<n&&"string"==typeof e[i];)i++;else{if(a===t)return e[i+1];i+=2}}}return null}(Fo(),r)}const wu="__parameters__";function Su(r,t,e){return Fs(()=>{const n=function qf(r){return function(...e){if(r){const n=r(...e);for(const i in n)this[i]=n[i]}}}(t);function i(...a){if(this instanceof i)return n.apply(this,a),this;const o=new i(...a);return s.annotation=o,s;function s(l,c,u){const d=l.hasOwnProperty(wu)?l[wu]:Object.defineProperty(l,wu,{value:[]})[wu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=r,i.annotationCls=i,i})}class ir{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=vr({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function yl(r,t){r.forEach(e=>Array.isArray(e)?yl(e,t):t(e))}function od(r,t,e){t>=r.length?r.push(e):r.splice(t,0,e)}function ac(r,t){return t>=r.length-1?r.pop():r.splice(t,1)[0]}function oc(r,t){const e=[];for(let n=0;n<r;n++)e.push(t);return e}function Ts(r,t,e){let n=ud(r,t);return n>=0?r[1|n]=e:(n=~n,function Jd(r,t,e,n){let i=r.length;if(i==t)r.push(e,n);else if(1===i)r.push(n,r[0]),r[0]=e;else{for(i--,r.push(r[i-1],r[i]);i>t;)r[i]=r[i-2],i--;r[t]=e,r[t+1]=n}}(r,n,t,e)),n}function cd(r,t){const e=ud(r,t);if(e>=0)return r[1|e]}function ud(r,t){return function Mv(r,t,e){let n=0,i=r.length>>e;for(;i!==n;){const a=n+(i-n>>1),o=r[a<<e];if(t===o)return a<<e;o>t?i=a:n=a+1}return~(i<<e)}(r,t,1)}const ef=$o(Su("Inject",r=>({token:r})),-1),As=$o(Su("Optional"),8),Cu=$o(Su("SkipSelf"),4);var le=(()=>((le=le||{})[le.Important=1]="Important",le[le.DashCase=2]="DashCase",le))();const Ge=new Map;let at=0;const lr="__ngContext__";function Bn(r,t){dn(t)?(r[lr]=t[f],function Mt(r){Ge.set(r[f],r)}(t)):r[lr]=t}let Ga;function po(r,t){return Ga(r,t)}function Xa(r){const t=r[Oa];return vn(t)?t[Oa]:t}function oa(r){return Ci(r[Qs])}function zr(r){return Ci(r[Do])}function Ci(r){for(;null!==r&&!vn(r);)r=r[Do];return r}function ki(r,t,e,n,i){if(null!=n){let a,o=!1;vn(n)?a=n:dn(n)&&(o=!0,n=n[Ua]);const s=Io(n);0===r&&null!==e?null==i?Qt(t,e,s):ut(t,e,s,i||null,!0):1===r&&null!==e?ut(t,e,s,i||null,!0):2===r?function rl(r,t,e){const n=bn(r,t);n&&function An(r,t,e,n){r.removeChild(t,e,n)}(r,n,t,e)}(t,s,o):3===r&&t.destroyNode(s),null!=a&&function Az(r,t,e,n,i){const a=e[qe];a!==Io(e)&&ki(t,r,n,a,i);for(let s=Dt;s<e.length;s++){const l=e[s];Us(l[Tr],l,r,t,n,a)}}(t,r,a,e,i)}}function St(r,t,e){return r.createElement(t,e)}function Lt(r,t){const e=r[_t],n=e.indexOf(t),i=t[Oa];512&t[xi]&&(t[xi]&=-513,ql(i,-1)),e.splice(n,1)}function en(r,t){if(r.length<=Dt)return;const e=Dt+t,n=r[e];if(n){const i=n[uu];null!==i&&i!==r&&Lt(i,n),t>0&&(r[e-1][Do]=n[Do]);const a=ac(r,Dt+t);!function fn(r,t){Us(r,t,t[di],2,null,null),t[Ua]=null,t[To]=null}(n[Tr],n);const o=a[Js];null!==o&&o.detachView(a[Tr]),n[Oa]=null,n[Do]=null,n[xi]&=-65}return n}function tn(r,t){if(!(128&t[xi])){const e=t[di];e.destroyNode&&Us(r,t,e,3,null,null),function Di(r){let t=r[Qs];if(!t)return zt(r[Tr],r);for(;t;){let e=null;if(dn(t))e=t[Qs];else{const n=t[Dt];n&&(e=n)}if(!e){for(;t&&!t[Do]&&t!==r;)dn(t)&&zt(t[Tr],t),t=t[Oa];null===t&&(t=r),dn(t)&&zt(t[Tr],t),e=t&&t[Do]}t=e}}(t)}}function zt(r,t){if(!(128&t[xi])){t[xi]&=-65,t[xi]|=128,function Yt(r,t){let e;if(null!=r&&null!=(e=r.destroyHooks))for(let n=0;n<e.length;n+=2){const i=t[e[n]];if(!(i instanceof ed)){const a=e[n+1];if(Array.isArray(a))for(let o=0;o<a.length;o+=2){const s=i[a[o]],l=a[o+1];cr(4,s,l);try{l.call(s)}finally{cr(5,s,l)}}else{cr(4,i,a);try{a.call(i)}finally{cr(5,i,a)}}}}}(r,t),function Ft(r,t){const e=r.cleanup,n=t[Al];let i=-1;if(null!==e)for(let a=0;a<e.length-1;a+=2)if("string"==typeof e[a]){const o=e[a+3];o>=0?n[i=o]():n[i=-o].unsubscribe(),a+=2}else{const o=n[i=e[a+1]];e[a].call(o)}if(null!==n){for(let a=i+1;a<n.length;a++)(0,n[a])();t[Al]=null}}(r,t),1===t[Tr].type&&t[di].destroy();const e=t[uu];if(null!==e&&vn(t[Oa])){e!==t[Oa]&&Lt(e,t);const n=t[Js];null!==n&&n.detachView(r)}!function xn(r){Ge.delete(r[f])}(t)}}function mt(r,t,e){return function Pt(r,t,e){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return e[Ua];{const{componentOffset:i}=n;if(i>-1){const{encapsulation:a}=r.data[n.directiveStart+i];if(a===Xo.None||a===Xo.Emulated)return null}return Ms(n,e)}}(r,t.parent,e)}function ut(r,t,e,n,i){r.insertBefore(t,e,n,i)}function Qt(r,t,e){r.appendChild(t,e)}function rn(r,t,e,n,i){null!==n?ut(r,t,e,n,i):Qt(r,t,e)}function bn(r,t){return r.parentNode(t)}function Or(r,t,e){return Er(r,t,e)}let jr,fy,Ux,hy,Er=function fi(r,t,e){return 40&r.type?Ms(r,e):null};function Zi(r,t,e,n){const i=mt(r,n,t),a=t[di],s=Or(n.parent||t[To],n,t);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)rn(a,i,e[l],s,!1);else rn(a,i,e,s,!1);void 0!==jr&&jr(a,n,t,e,i)}function Ka(r,t){if(null!==t){const e=t.type;if(3&e)return Ms(t,r);if(4&e)return hp(-1,r[t.index]);if(8&e){const n=t.child;if(null!==n)return Ka(r,n);{const i=r[t.index];return vn(i)?hp(-1,i):Io(i)}}if(32&e)return po(t,r)()||Io(r[t.index]);{const n=Is(r,t);return null!==n?Array.isArray(n)?n[0]:Ka(Xa(r[Ro]),n):Ka(r,t.next)}}return null}function Is(r,t){return null!==t?r[Ro][To].projection[t.projection]:null}function hp(r,t){const e=Dt+r+1;if(e<t.length){const n=t[e],i=n[Tr].firstChild;if(null!==i)return Ka(n,i)}return t[qe]}function Nv(r,t,e,n,i,a,o){for(;null!=e;){const s=n[e.index],l=e.type;if(o&&0===t&&(s&&Bn(Io(s),n),e.flags|=2),32!=(32&e.flags))if(8&l)Nv(r,t,e.child,n,i,a,!1),ki(t,r,i,s,a);else if(32&l){const c=po(e,n);let u;for(;u=c();)ki(t,r,i,u,a);ki(t,r,i,s,a)}else 16&l?oD(r,t,n,e,i,a):ki(t,r,i,s,a);e=o?e.projectionNext:e.next}}function Us(r,t,e,n,i,a){Nv(e,n,r.firstChild,t,i,a,!1)}function oD(r,t,e,n,i,a){const o=e[Ro],l=o[To].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ki(t,r,i,l[c],a);else Nv(r,t,l,o[Oa],i,a,!0)}function sD(r,t,e){""===e?r.removeAttribute(t,"class"):r.setAttribute(t,"class",e)}function lD(r,t,e){const{mergedAttrs:n,classes:i,styles:a}=e;null!==n&&Rt(r,t,n),null!==i&&sD(r,t,i),null!==a&&function Oz(r,t,e){r.setAttribute(t,"style",e)}(r,t,a)}function Pv(r){return function jx(){if(void 0===fy&&(fy=null,fa.trustedTypes))try{fy=fa.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return fy}()?.createHTML(r)||r}function fD(r){return function Gx(){if(void 0===hy&&(hy=null,fa.trustedTypes))try{hy=fa.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return hy}()?.createScriptURL(r)||r}class pp{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Oe})`}}class Lz extends pp{getTypeName(){return"HTML"}}class Fz extends pp{getTypeName(){return"Style"}}class Bz extends pp{getTypeName(){return"Script"}}class zz extends pp{getTypeName(){return"URL"}}class Vz extends pp{getTypeName(){return"ResourceURL"}}function dc(r){return r instanceof pp?r.changingThisBreaksApplicationSecurity:r}function fd(r,t){const e=function jz(r){return r instanceof pp&&r.getTypeName()||null}(r);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Oe})`)}return e===t}class $z{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pv(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class Xz{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Pv(t),e}}const qz=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function py(r){return(r=String(r)).match(qz)?r:"unsafe:"+r}function sf(r){const t={};for(const e of r.split(","))t[e]=!0;return t}function nm(...r){const t={};for(const e of r)for(const n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}const pD=sf("area,br,col,hr,img,wbr"),vD=sf("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gD=sf("rp,rt"),Hx=nm(pD,nm(vD,sf("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nm(gD,sf("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nm(gD,vD)),Wx=sf("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mD=nm(Wx,sf("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sf("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zz=sf("script,style,template");class Qz{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Hx.hasOwnProperty(e))return this.sanitizedSomething=!0,!Zz.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const a=n.item(i),o=a.name,s=o.toLowerCase();if(!mD.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=a.value;Wx[s]&&(l=py(l)),this.buf.push(" ",o,'="',yD(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Hx.hasOwnProperty(e)&&!pD.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(yD(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Jz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eV=/([^\#-~ |!])/g;function yD(r){return r.replace(/&/g,"&amp;").replace(Jz,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(eV,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vy;function _D(r,t){let e=null;try{vy=vy||function hD(r){const t=new Xz(r);return function Kz(){try{return!!(new window.DOMParser).parseFromString(Pv(""),"text/html")}catch{return!1}}()?new $z(t):t}(r);let n=t?String(t):"";e=vy.getInertBodyElement(n);let i=5,a=n;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,n=a,a=e.innerHTML,e=vy.getInertBodyElement(n)}while(n!==a);return Pv((new Qz).sanitizeChildren(Yx(e)||e))}finally{if(e){const n=Yx(e)||e;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Yx(r){return"content"in r&&function tV(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Fa=(()=>((Fa=Fa||{})[Fa.NONE=0]="NONE",Fa[Fa.HTML=1]="HTML",Fa[Fa.STYLE=2]="STYLE",Fa[Fa.SCRIPT=3]="SCRIPT",Fa[Fa.URL=4]="URL",Fa[Fa.RESOURCE_URL=5]="RESOURCE_URL",Fa))();function bD(r){const t=rm();return t?t.sanitize(Fa.URL,r)||"":fd(r,"URL")?dc(r):py(ht(r))}function xD(r){const t=rm();if(t)return fD(t.sanitize(Fa.RESOURCE_URL,r)||"");if(fd(r,"ResourceURL"))return fD(dc(r));throw new Pe(904,!1)}function rm(){const r=tr();return r&&r[cu]}const gy=new ir("ENVIRONMENT_INITIALIZER"),ED=new ir("INJECTOR",-1),SD=new ir("INJECTOR_DEF_TYPES");class MD{get(t,e=Dl){if(e===Dl){const n=new Error(`NullInjectorError: No provider for ${Pr(t)}!`);throw n.name="NullInjectorError",n}return e}}function lV(...r){return{\u0275providers:CD(0,r),\u0275fromNgModule:!0}}function CD(r,...t){const e=[],n=new Set;let i;return yl(t,a=>{const o=a;$x(o,e,[],n)&&(i||(i=[]),i.push(o))}),void 0!==i&&DD(i,e),e}function DD(r,t){for(let e=0;e<r.length;e++){const{providers:i}=r[e];Xx(i,a=>{t.push(a)})}}function $x(r,t,e,n){if(!(r=cn(r)))return!1;let i=null,a=xs(r);const o=!a&&kt(r);if(a||o){if(o&&!o.standalone)return!1;i=r}else{const l=r.ngModule;if(a=xs(l),!a)return!1;i=l}const s=n.has(i);if(o){if(s)return!1;if(n.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)$x(c,t,e,n)}}else{if(!a)return!1;{if(null!=a.imports&&!s){let c;n.add(i);try{yl(a.imports,u=>{$x(u,t,e,n)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&DD(c,t)}if(!s){const c=fu(i)||(()=>new i);t.push({provide:i,useFactory:c,deps:Ji},{provide:SD,useValue:i,multi:!0},{provide:gy,useValue:()=>wn(i),multi:!0})}const l=a.providers;null==l||s||Xx(l,u=>{t.push(u)})}}return i!==r&&void 0!==r.providers}function Xx(r,t){for(let e of r)pr(e)&&(e=e.\u0275providers),Array.isArray(e)?Xx(e,t):t(e)}const cV=er({provide:String,useValue:er});function Kx(r){return null!==r&&"object"==typeof r&&cV in r}function vp(r){return"function"==typeof r}const qx=new ir("Set Injector scope."),my={},dV={};let Zx;function yy(){return void 0===Zx&&(Zx=new MD),Zx}class lf{}class ID extends lf{get destroyed(){return this._destroyed}constructor(t,e,n,i){super(),this.parent=e,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jx(t,o=>this.processProvider(o)),this.records.set(ED,Rv(void 0,this)),i.has("environment")&&this.records.set(lf,Rv(void 0,this));const a=this.records.get(qx);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(SD.multi,Ji,Xr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=Ks(this),n=wo(void 0);try{return t()}finally{Ks(e),wo(n)}}get(t,e=Dl,n=Xr.Default){this.assertNotDestroyed(),n=Yo(n);const i=Ks(this),a=wo(void 0);try{if(!(n&Xr.SkipSelf)){let s=this.records.get(t);if(void 0===s){const l=function gV(r){return"function"==typeof r||"object"==typeof r&&r instanceof ir}(t)&&us(t);s=l&&this.injectableDefInScope(l)?Rv(Qx(t),my):null,this.records.set(t,s)}if(null!=s)return this.hydrate(t,s)}return(n&Xr.Self?yy():this.parent).get(t,e=n&Xr.Optional&&e===Dl?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[hl]=o[hl]||[]).unshift(Pr(t)),i)throw o;return function Dc(r,t,e,n){const i=r[hl];throw t[ws]&&i.unshift(t[ws]),r.message=function Tc(r,t,e,n=null){r=r&&"\n"===r.charAt(0)&&r.charAt(1)==Vd?r.slice(2):r;let i=Pr(t);if(Array.isArray(t))i=t.map(Pr).join(" -> ");else if("object"==typeof t){let a=[];for(let o in t)if(t.hasOwnProperty(o)){let s=t[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):Pr(s)))}i=`{${a.join(", ")}}`}return`${e}${n?"("+n+")":""}[${i}]: ${r.replace(Hu,"\n  ")}`}("\n"+r.message,i,e,n),r[Ea]=i,r[hl]=null,r}(o,t,"R3InjectorError",this.source)}throw o}finally{wo(a),Ks(i)}}resolveInjectorInitializers(){const t=Ks(this),e=wo(void 0);try{const n=this.get(gy.multi,Ji,Xr.Self);for(const i of n)i()}finally{Ks(t),wo(e)}}toString(){const t=[],e=this.records;for(const n of e.keys())t.push(Pr(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processProvider(t){let e=vp(t=cn(t))?t:cn(t&&t.provide);const n=function hV(r){return Kx(r)?Rv(void 0,r.useValue):Rv(OD(r),my)}(t);if(vp(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=Rv(void 0,my,!0),i.factory=()=>Hl(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,n)}hydrate(t,e){return e.value===my&&(e.value=dV,e.value=e.factory()),"object"==typeof e.value&&e.value&&function vV(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=cn(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Qx(r){const t=us(r),e=null!==t?t.factory:fu(r);if(null!==e)return e;if(r instanceof ir)throw new Pe(204,!1);if(r instanceof Function)return function fV(r){const t=r.length;if(t>0)throw oc(t,"?"),new Pe(204,!1);const e=function Bd(r){const t=r&&(r[Mc]||r[jl]);return t?(function Vl(r){if(r.hasOwnProperty("name"))return r.name;(""+r).match(/^function\s*([^\s(]+)/)}(r),t):null}(r);return null!==e?()=>e.factory(r):()=>new r}(r);throw new Pe(204,!1)}function OD(r,t,e){let n;if(vp(r)){const i=cn(r);return fu(i)||Qx(i)}if(Kx(r))n=()=>cn(r.useValue);else if(function AD(r){return!(!r||!r.useFactory)}(r))n=()=>r.useFactory(...Hl(r.deps||[]));else if(function TD(r){return!(!r||!r.useExisting)}(r))n=()=>wn(cn(r.useExisting));else{const i=cn(r&&(r.useClass||r.provide));if(!function pV(r){return!!r.deps}(r))return fu(i)||Qx(i);n=()=>new i(...Hl(r.deps))}return n}function Rv(r,t,e=!1){return{factory:r,value:t,multi:e?[]:void 0}}function Jx(r,t){for(const e of r)Array.isArray(e)?Jx(e,t):e&&pr(e)?Jx(e.\u0275providers,t):t(e)}class mV{}class kD{}class _V{resolveComponentFactory(t){throw function yV(r){const t=Error(`No component factory found for ${Pr(r)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=r,t}(t)}}let nh=(()=>{class r{}return r.NULL=new _V,r})();function bV(){return Lv(Fo(),tr())}function Lv(r,t){return new Ni(Ms(r,t))}let Ni=(()=>{class r{constructor(e){this.nativeElement=e}}return r.__NG_ELEMENT_ID__=bV,r})();function xV(r){return r instanceof Ni?r.nativeElement:r}class im{}let cf=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function wV(){const r=tr(),e=Cs(Fo().index,r);return(dn(e)?e:r)[di]}(),r})(),EV=(()=>{class r{}return r.\u0275prov=vr({token:r,providedIn:"root",factory:()=>null}),r})();class gp{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const SV=new gp("15.2.4"),ew={},tw="ngOriginalError";function nw(r){return r[tw]}class uf{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&nw(t);for(;e&&nw(e);)e=nw(e);return e||null}}function df(r){return r instanceof Function?r():r}function RD(r,t,e){let n=r.length;for(;;){const i=r.indexOf(t,e);if(-1===i)return i;if(0===i||r.charCodeAt(i-1)<=32){const a=t.length;if(i+a===n||r.charCodeAt(i+a)<=32)return i}e=i+1}}const LD="ng-template";function RV(r,t,e){let n=0,i=!0;for(;n<r.length;){let a=r[n++];if("string"==typeof a&&i){const o=r[n++];if(e&&"class"===a&&-1!==RD(o.toLowerCase(),t,0))return!0}else{if(1===a){for(;n<r.length&&"string"==typeof(a=r[n++]);)if(a.toLowerCase()===t)return!0;return!1}"number"==typeof a&&(i=!1)}}return!1}function FD(r){return 4===r.type&&r.value!==LD}function LV(r,t,e){return t===(4!==r.type||e?r.value:LD)}function FV(r,t,e){let n=4;const i=r.attrs||[],a=function VV(r){for(let t=0;t<r.length;t++)if(qh(r[t]))return t;return r.length}(i);let o=!1;for(let s=0;s<t.length;s++){const l=t[s];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!LV(r,l,e)||""===l&&1===t.length){if(Du(n))return!1;o=!0}}else{const c=8&n?l:t[++s];if(8&n&&null!==r.attrs){if(!RV(r.attrs,c,e)){if(Du(n))return!1;o=!0}continue}const d=BV(8&n?"class":l,i,FD(r),e);if(-1===d){if(Du(n))return!1;o=!0;continue}if(""!==c){let h;h=d>a?"":i[d+1].toLowerCase();const v=8&n?h:null;if(v&&-1!==RD(v,c,0)||2&n&&c!==h){if(Du(n))return!1;o=!0}}}}else{if(!o&&!Du(n)&&!Du(l))return!1;if(o&&Du(l))continue;o=!1,n=l|1&n}}return Du(n)||o}function Du(r){return 0==(1&r)}function BV(r,t,e,n){if(null===t)return-1;let i=0;if(n||!e){let a=!1;for(;i<t.length;){const o=t[i];if(o===r)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){let s=t[++i];for(;"string"==typeof s;)s=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function jV(r,t){let e=r.indexOf(4);if(e>-1)for(e++;e<r.length;){const n=r[e];if("number"==typeof n)return-1;if(n===t)return e;e++}return-1}(t,r)}function BD(r,t,e=!1){for(let n=0;n<t.length;n++)if(FV(r,t[n],e))return!0;return!1}function UV(r,t){e:for(let e=0;e<t.length;e++){const n=t[e];if(r.length===n.length){for(let i=0;i<r.length;i++)if(r[i]!==n[i])continue e;return!0}}return!1}function zD(r,t){return r?":not("+t.trim()+")":t}function GV(r){let t=r[0],e=1,n=2,i="",a=!1;for(;e<r.length;){let o=r[e];if("string"==typeof o)if(2&n){const s=r[++e];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&n?i+="."+o:4&n&&(i+=" "+o);else""!==i&&!Du(o)&&(t+=zD(a,i),i=""),n=o,a=a||!Du(n);e++}return""!==i&&(t+=zD(a,i)),t}const Wi={};function gr(r){VD(na(),tr(),vs()+r,!1)}function VD(r,t,e,n){if(!n)if(3==(3&t[xi])){const a=r.preOrderCheckHooks;null!==a&&Zu(t,a,e)}else{const a=r.preOrderHooks;null!==a&&Qu(t,a,0,e)}el(e)}function HD(r,t=null,e=null,n){const i=WD(r,t,e,n);return i.resolveInjectorInitializers(),i}function WD(r,t=null,e=null,n,i=new Set){const a=[e||Ji,lV(r)];return n=n||("object"==typeof r?void 0:Pr(r)),new ID(a,t||yy(),n||null,i)}let Gs=(()=>{class r{static create(e,n){if(Array.isArray(e))return HD({name:""},n,e,"");{const i=e.name??"";return HD({name:i},e.parent,e.providers,i)}}}return r.THROW_IF_NOT_FOUND=Dl,r.NULL=new MD,r.\u0275prov=vr({token:r,providedIn:"any",factory:()=>wn(ED)}),r.__NG_ELEMENT_ID__=-1,r})();function It(r,t=Xr.Default){const e=tr();return null===e?wn(r,t):Zd(Fo(),e,cn(r),t)}function by(){throw new Error("invalid")}function QD(r,t){const e=r.contentQueries;if(null!==e)for(let n=0;n<e.length;n+=2){const a=e[n+1];if(-1!==a){const o=r.data[a];Yd(e[n]),o.contentQueries(2,t[a],a)}}}function xy(r,t,e,n,i,a,o,s,l,c,u){const d=t.blueprint.slice();return d[Ua]=i,d[xi]=76|n,(null!==u||r&&1024&r[xi])&&(d[xi]|=1024),Gd(d),d[Oa]=d[$l]=r,d[Ya]=e,d[lu]=o||r&&r[lu],d[di]=s||r&&r[di],d[cu]=l||r&&r[cu]||null,d[Ic]=c||r&&r[Ic]||null,d[To]=a,d[f]=function Ze(){return at++}(),d[I]=u,d[Ro]=2==t.type?r[Ro]:d,d}function zv(r,t,e,n,i){let a=r.data[t];if(null===a)a=function sw(r,t,e,n,i){const a=vu(),o=Hd(),l=r.data[t]=function vj(r,t,e,n,i,a){return{type:e,index:n,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,e,t,n,i);return null===r.firstChild&&(r.firstChild=l),null!==a&&(o?null==a.child&&null!==l.parent&&(a.child=l):null===a.next&&(a.next=l,l.prev=a)),l}(r,t,e,n,i),function Wg(){return gi.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=e,a.value=n,a.attrs=i;const o=function Wu(){const r=gi.lFrame,t=r.currentTNode;return r.isParent?t:t.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return Ol(a,!0),a}function am(r,t,e,n){if(0===e)return-1;const i=t.length;for(let a=0;a<e;a++)t.push(n),r.blueprint.push(n),r.data.push(null);return i}function lw(r,t,e){Gh(t);try{const n=r.viewQuery;null!==n&&yw(1,n,e);const i=r.template;null!==i&&JD(r,t,i,1,e),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&QD(r,t),r.staticViewQueries&&yw(2,r.viewQuery,e);const a=r.components;null!==a&&function fj(r,t){for(let e=0;e<t.length;e++)Pj(r,t[e])}(t,a)}catch(n){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),n}finally{t[xi]&=-5,gu()}}function wy(r,t,e,n){const i=t[xi];if(128!=(128&i)){Gh(t);try{Gd(t),function Vh(r){return gi.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==e&&JD(r,t,e,2,n);const o=3==(3&i);if(o){const c=r.preOrderCheckHooks;null!==c&&Zu(t,c,null)}else{const c=r.preOrderHooks;null!==c&&Qu(t,c,0,null),Ju(t,0)}if(function kj(r){for(let t=oa(r);null!==t;t=zr(t)){if(!t[Ke])continue;const e=t[_t];for(let n=0;n<e.length;n++){const i=e[n];512&i[xi]||ql(i[Oa],1),i[xi]|=512}}}(t),function Oj(r){for(let t=oa(r);null!==t;t=zr(t))for(let e=Dt;e<t.length;e++){const n=t[e],i=n[Tr];Ud(n)&&wy(i,n,i.template,n[Ya])}}(t),null!==r.contentQueries&&QD(r,t),o){const c=r.contentCheckHooks;null!==c&&Zu(t,c)}else{const c=r.contentHooks;null!==c&&Qu(t,c,1),Ju(t,1)}!function uj(r,t){const e=r.hostBindingOpCodes;if(null!==e)try{for(let n=0;n<e.length;n++){const i=e[n];if(i<0)el(~i);else{const a=i,o=e[++n],s=e[++n];dv(o,a),s(2,t[a])}}}finally{el(-1)}}(r,t);const s=r.components;null!==s&&function dj(r,t){for(let e=0;e<t.length;e++)Nj(r,t[e])}(t,s);const l=r.viewQuery;if(null!==l&&yw(2,l,n),o){const c=r.viewCheckHooks;null!==c&&Zu(t,c)}else{const c=r.viewHooks;null!==c&&Qu(t,c,2),Ju(t,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),t[xi]&=-41,512&t[xi]&&(t[xi]&=-513,ql(t[Oa],-1))}finally{gu()}}}function JD(r,t,e,n,i){const a=vs(),o=2&n;try{el(-1),o&&t.length>pe&&VD(r,t,pe,!1),cr(o?2:0,i),e(n,i)}finally{el(a),cr(o?3:1,i)}}function cw(r,t,e){if(gn(t)){const i=t.directiveEnd;for(let a=t.directiveStart;a<i;a++){const o=r.data[a];o.contentQueries&&o.contentQueries(1,e[a],a)}}}function uw(r,t,e){zh()&&(function xj(r,t,e,n){const i=e.directiveStart,a=e.directiveEnd;$n(e)&&function Tj(r,t,e){const n=Ms(t,r),i=eT(e),a=r[lu],o=Ey(r,xy(r,i,null,e.onPush?32:16,n,t,a,a.createRenderer(n,e),null,null,null));r[t.index]=o}(t,e,r.data[i+e.componentOffset]),r.firstCreatePass||ec(e,t),Bn(n,t);const o=e.initialInputs;for(let s=i;s<a;s++){const l=r.data[s],c=tl(t,r,s,e);Bn(c,t),null!==o&&Aj(0,s-i,c,l,0,o),Sn(l)&&(Cs(e.index,t)[Ya]=tl(t,r,s,e))}}(r,t,e,Ms(e,t)),64==(64&e.flags)&&oT(r,t,e))}function dw(r,t,e=Ms){const n=t.localNames;if(null!==n){let i=t.index+1;for(let a=0;a<n.length;a+=2){const o=n[a+1],s=-1===o?e(t,r):r[o];r[i++]=s}}}function eT(r){const t=r.tView;return null===t||t.incompleteFirstPass?r.tView=fw(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):t}function fw(r,t,e,n,i,a,o,s,l,c){const u=pe+n,d=u+i,h=function hj(r,t){const e=[];for(let n=0;n<t;n++)e.push(n<r?null:Wi);return e}(u,d),v="function"==typeof c?c():c;return h[Tr]={type:r,blueprint:h,template:e,queries:null,viewQuery:s,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1}}function tT(r,t,e,n){const i=lT(t);null===e?i.push(n):(i.push(e),r.firstCreatePass&&cT(r).push(n,i.length-1))}function nT(r,t,e,n){for(let i in r)if(r.hasOwnProperty(i)){e=null===e?{}:e;const a=r[i];null===n?rT(e,t,i,a):n.hasOwnProperty(i)&&rT(e,t,n[i],a)}return e}function rT(r,t,e,n){r.hasOwnProperty(e)?r[e].push(t,n):r[e]=[t,n]}function fc(r,t,e,n,i,a,o,s){const l=Ms(t,e);let u,c=t.inputs;!s&&null!=c&&(u=c[n])?(_w(r,e,u,n,i),$n(t)&&iT(e,t.index)):3&t.type&&(n=function mj(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(n),i=null!=o?o(i,t.value||"",n):i,a.setProperty(l,n,i))}function iT(r,t){const e=Cs(t,r);16&e[xi]||(e[xi]|=32)}function hw(r,t,e,n){if(zh()){const i=null===n?null:{"":-1},a=function Ej(r,t){const e=r.directiveRegistry;let n=null,i=null;if(e)for(let a=0;a<e.length;a++){const o=e[a];if(BD(t,o.selectors,!1))if(n||(n=[]),Sn(o))if(null!==o.findHostDirectiveDefs){const s=[];i=i||new Map,o.findHostDirectiveDefs(o,s,i),n.unshift(...s,o),pw(r,t,s.length)}else n.unshift(o),pw(r,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,n,i),n.push(o)}return null===n?null:[n,i]}(r,e);let o,s;null===a?o=s=null:[o,s]=a,null!==o&&aT(r,t,e,o,i,s),i&&function Sj(r,t,e){if(t){const n=r.localNames=[];for(let i=0;i<t.length;i+=2){const a=e[t[i+1]];if(null==a)throw new Pe(-301,!1);n.push(t[i],a)}}}(e,n,i)}e.mergedAttrs=Oc(e.mergedAttrs,e.attrs)}function aT(r,t,e,n,i,a){for(let c=0;c<n.length;c++)rc(ec(e,t),r,n[c].type);!function Cj(r,t,e){r.flags|=1,r.directiveStart=t,r.directiveEnd=t+e,r.providerIndexes=t}(e,r.data.length,n.length);for(let c=0;c<n.length;c++){const u=n[c];u.providersResolver&&u.providersResolver(u)}let o=!1,s=!1,l=am(r,t,n.length,null);for(let c=0;c<n.length;c++){const u=n[c];e.mergedAttrs=Oc(e.mergedAttrs,u.hostAttrs),Dj(r,e,t,l,u),Mj(l,u,i),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(e.index),o=!0),!s&&(d.ngOnChanges||d.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e.index),s=!0),l++}!function gj(r,t,e){const i=t.directiveEnd,a=r.data,o=t.attrs,s=[];let l=null,c=null;for(let u=t.directiveStart;u<i;u++){const d=a[u],h=e?e.get(d):null,y=h?h.outputs:null;l=nT(d.inputs,u,l,h?h.inputs:null),c=nT(d.outputs,u,c,y);const D=null===l||null===o||FD(t)?null:Ij(l,u,o);s.push(D)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=s,t.inputs=l,t.outputs=c}(r,e,a)}function oT(r,t,e){const n=e.directiveStart,i=e.directiveEnd,a=e.index,o=function $u(){return gi.lFrame.currentDirectiveIndex}();try{el(a);for(let s=n;s<i;s++){const l=r.data[s],c=t[s];jh(s),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&wj(l,c)}}finally{el(-1),jh(o)}}function wj(r,t){null!==r.hostBindings&&r.hostBindings(1,t)}function pw(r,t,e){t.componentOffset=e,(r.components||(r.components=[])).push(t.index)}function Mj(r,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=r;Sn(t)&&(e[""]=r)}}function Dj(r,t,e,n,i){r.data[n]=i;const a=i.factory||(i.factory=fu(i.type)),o=new ed(a,Sn(i),It);r.blueprint[n]=o,e[n]=o,function _j(r,t,e,n,i){const a=i.hostBindings;if(a){let o=r.hostBindingOpCodes;null===o&&(o=r.hostBindingOpCodes=[]);const s=~t.index;(function bj(r){let t=r.length;for(;t>0;){const e=r[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=s&&o.push(s),o.push(e,n,a)}}(r,t,n,am(r,e,i.hostVars,Wi),i)}function hd(r,t,e,n,i,a){const o=Ms(r,t);!function vw(r,t,e,n,i,a,o){if(null==a)r.removeAttribute(t,i,e);else{const s=null==o?ht(a):o(a,n||"",i);r.setAttribute(t,i,s,e)}}(t[di],o,a,r.value,e,n,i)}function Aj(r,t,e,n,i,a){const o=a[t];if(null!==o){const s=n.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==s?n.setInput(e,d,c,u):e[u]=d}}}function Ij(r,t,e){let n=null,i=0;for(;i<e.length;){const a=e[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(r.hasOwnProperty(a)){null===n&&(n=[]);const o=r[a];for(let s=0;s<o.length;s+=2)if(o[s]===t){n.push(a,o[s+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return n}function sT(r,t,e,n){return[r,!0,!1,t,null,0,n,e,null,null]}function Nj(r,t){const e=Cs(t,r);if(Ud(e)){const n=e[Tr];48&e[xi]?wy(n,e,n.template,e[Ya]):e[js]>0&&gw(e)}}function gw(r){for(let n=oa(r);null!==n;n=zr(n))for(let i=Dt;i<n.length;i++){const a=n[i];if(Ud(a))if(512&a[xi]){const o=a[Tr];wy(o,a,o.template,a[Ya])}else a[js]>0&&gw(a)}const e=r[Tr].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Cs(e[n],r);Ud(i)&&i[js]>0&&gw(i)}}function Pj(r,t){const e=Cs(t,r),n=e[Tr];(function Rj(r,t){for(let e=t.length;e<r.blueprint.length;e++)t.push(r.blueprint[e])})(n,e),lw(n,e,e[Ya])}function Ey(r,t){return r[Qs]?r[Ko][Do]=t:r[Qs]=t,r[Ko]=t,t}function mw(r){for(;r;){r[xi]|=32;const t=Xa(r);if(_r(r)&&!t)return r;r=t}return null}function Sy(r,t,e,n=!0){const i=t[lu];i.begin&&i.begin();try{wy(r,t,r.template,e)}catch(o){throw n&&dT(t,o),o}finally{i.end&&i.end()}}function yw(r,t,e){Yd(0),t(r,e)}function lT(r){return r[Al]||(r[Al]=[])}function cT(r){return r.cleanup||(r.cleanup=[])}function uT(r,t,e){return(null===r||Sn(r))&&(e=function Bh(r){for(;Array.isArray(r);){if("object"==typeof r[Le])return r;r=r[Ua]}return null}(e[t.index])),e[di]}function dT(r,t){const e=r[Ic],n=e?e.get(uf,null):null;n&&n.handleError(t)}function _w(r,t,e,n,i){for(let a=0;a<e.length;){const o=e[a++],s=e[a++],l=t[o],c=r.data[o];null!==c.setInput?c.setInput(l,i,n,s):l[s]=i}}function ff(r,t,e){const n=Kl(t,r);!function uc(r,t,e){r.setValue(t,e)}(r[di],n,e)}function My(r,t,e){let n=e?r.styles:null,i=e?r.classes:null,a=0;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?a=s:1==a?i=Ht(i,s):2==a&&(n=Ht(n,s+": "+t[++o]+";"))}e?r.styles=n:r.stylesWithoutHost=n,e?r.classes=i:r.classesWithoutHost=i}function Cy(r,t,e,n,i=!1){for(;null!==e;){const a=t[e.index];if(null!==a&&n.push(Io(a)),vn(a))for(let s=Dt;s<a.length;s++){const l=a[s],c=l[Tr].firstChild;null!==c&&Cy(l[Tr],l,c,n)}const o=e.type;if(8&o)Cy(r,t,e.child,n);else if(32&o){const s=po(e,t);let l;for(;l=s();)n.push(l)}else if(16&o){const s=Is(t,e);if(Array.isArray(s))n.push(...s);else{const l=Xa(t[Ro]);Cy(l[Tr],l,s,n,!0)}}e=i?e.projectionNext:e.next}return n}class om{get rootNodes(){const t=this._lView,e=t[Tr];return Cy(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ya]}set context(t){this._lView[Ya]=t}get destroyed(){return 128==(128&this._lView[xi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Oa];if(vn(t)){const e=t[ft],n=e?e.indexOf(this):-1;n>-1&&(en(t,n),ac(e,n))}this._attachedToViewContainer=!1}tn(this._lView[Tr],this._lView)}onDestroy(t){tT(this._lView[Tr],this._lView,null,t)}markForCheck(){mw(this._cdRefInjectingView||this._lView)}detach(){this._lView[xi]&=-65}reattach(){this._lView[xi]|=64}detectChanges(){Sy(this._lView[Tr],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yr(r,t){Us(r,t,t[di],2,null,null)}(this._lView[Tr],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Pe(902,!1);this._appRef=t}}class Lj extends om{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Sy(t[Tr],t,t[Ya],!1)}checkNoChanges(){}get context(){return null}}class fT extends nh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=kt(t);return new sm(e,this.ngModule)}}function hT(r){const t=[];for(let e in r)r.hasOwnProperty(e)&&t.push({propName:r[e],templateName:e});return t}class Bj{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,n){n=Yo(n);const i=this.injector.get(t,ew,n);return i!==ew||e===ew?i:this.parentInjector.get(t,e,n)}}class sm extends kD{get inputs(){return hT(this.componentDef.inputs)}get outputs(){return hT(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function HV(r){return r.map(GV).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,n,i){let a=(i=i||this.ngModule)instanceof lf?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const o=a?new Bj(t,a):t,s=o.get(im,null);if(null===s)throw new Pe(407,!1);const l=o.get(EV,null),c=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=n?function pj(r,t,e){return r.selectRootElement(t,e===Xo.ShadowDom)}(c,n,this.componentDef.encapsulation):St(c,u,function Fj(r){const t=r.toLowerCase();return"svg"===t?hu:"math"===t?"math":null}(u)),h=this.componentDef.onPush?288:272,v=fw(0,null,null,1,0,null,null,null,null,null),y=xy(null,v,null,h,null,null,s,c,l,o,null);let D,F;Gh(y);try{const K=this.componentDef;let Q,J=null;K.findHostDirectiveDefs?(Q=[],J=new Map,K.findHostDirectiveDefs(K,Q,J),Q.push(K)):Q=[K];const de=function Vj(r,t){const e=r[Tr],n=pe;return r[n]=t,zv(e,n,2,"#host",null)}(y,d),Ee=function jj(r,t,e,n,i,a,o,s){const l=i[Tr];!function Uj(r,t,e,n){for(const i of r)t.mergedAttrs=Oc(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(My(t,t.mergedAttrs,!0),null!==e&&lD(n,e,t))}(n,r,t,o);const c=a.createRenderer(t,e),u=xy(i,eT(e),null,e.onPush?32:16,i[r.index],r,a,c,s||null,null,null);return l.firstCreatePass&&pw(l,r,n.length-1),Ey(i,u),i[r.index]=u}(de,d,K,Q,y,s,c);F=Vf(v,pe),d&&function Hj(r,t,e,n){if(n)Rt(r,e,["ng-version",SV.full]);else{const{attrs:i,classes:a}=function WV(r){const t=[],e=[];let n=1,i=2;for(;n<r.length;){let a=r[n];if("string"==typeof a)2===i?""!==a&&t.push(a,r[++n]):8===i&&e.push(a);else{if(!Du(i))break;i=a}n++}return{attrs:t,classes:e}}(t.selectors[0]);i&&Rt(r,e,i),a&&a.length>0&&sD(r,e,a.join(" "))}}(c,K,d,n),void 0!==e&&function Wj(r,t,e){const n=r.projection=[];for(let i=0;i<t.length;i++){const a=e[i];n.push(null!=a?Array.from(a):null)}}(F,this.ngContentSelectors,e),D=function Gj(r,t,e,n,i,a){const o=Fo(),s=i[Tr],l=Ms(o,i);aT(s,i,o,e,null,n);for(let u=0;u<e.length;u++)Bn(tl(i,s,o.directiveStart+u,o),i);oT(s,i,o),l&&Bn(l,i);const c=tl(i,s,o.directiveStart+o.componentOffset,o);if(r[Ya]=i[Ya]=c,null!==a)for(const u of a)u(c,t);return cw(s,o,r),c}(Ee,K,Q,J,y,[Yj]),lw(v,y,null)}finally{gu()}return new zj(this.componentType,D,Lv(F,y),y,F)}}class zj extends mV{constructor(t,e,n,i,a){super(),this.location=n,this._rootLView=i,this._tNode=a,this.instance=e,this.hostView=this.changeDetectorRef=new Lj(i),this.componentType=t}setInput(t,e){const n=this._tNode.inputs;let i;if(null!==n&&(i=n[t])){const a=this._rootLView;_w(a[Tr],a,i,t,e),iT(a,this._tNode.index)}}get injector(){return new ic(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Yj(){const r=Fo();qu(tr()[Tr],r)}function si(r){let t=function pT(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),e=!0;const n=[r];for(;t;){let i;if(Sn(r))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Pe(903,!1);i=t.\u0275dir}if(i){if(e){n.push(i);const o=r;o.inputs=bw(r.inputs),o.declaredInputs=bw(r.declaredInputs),o.outputs=bw(r.outputs);const s=i.hostBindings;s&&qj(r,s);const l=i.viewQuery,c=i.contentQueries;if(l&&Xj(r,l),c&&Kj(r,c),Gr(r.inputs,i.inputs),Gr(r.declaredInputs,i.declaredInputs),Gr(r.outputs,i.outputs),Sn(i)&&i.data.animation){const u=r.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let o=0;o<a.length;o++){const s=a[o];s&&s.ngInherit&&s(r),s===si&&(e=!1)}}t=Object.getPrototypeOf(t)}!function $j(r){let t=0,e=null;for(let n=r.length-1;n>=0;n--){const i=r[n];i.hostVars=t+=i.hostVars,i.hostAttrs=Oc(i.hostAttrs,e=Oc(e,i.hostAttrs))}}(n)}function bw(r){return r===fs?{}:r===Ji?[]:r}function Xj(r,t){const e=r.viewQuery;r.viewQuery=e?(n,i)=>{t(n,i),e(n,i)}:t}function Kj(r,t){const e=r.contentQueries;r.contentQueries=e?(n,i,a)=>{t(n,i,a),e(n,i,a)}:t}function qj(r,t){const e=r.hostBindings;r.hostBindings=e?(n,i)=>{t(n,i),e(n,i)}:t}function Dy(r){return!!xw(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function xw(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function pd(r,t,e){return r[t]=e}function il(r,t,e){return!Object.is(r[t],e)&&(r[t]=e,!0)}function mp(r,t,e,n){const i=il(r,t,e);return il(r,t+1,n)||i}function to(r,t,e,n){const i=tr();return il(i,Ql(),t)&&(na(),hd(Na(),i,r,t,e,n)),to}function jv(r,t,e,n){return il(r,Ql(),e)?t+ht(e)+n:Wi}function Gv(r,t,e,n,i,a,o,s){const c=function Ty(r,t,e,n,i){const a=mp(r,t,e,n);return il(r,t+2,i)||a}(r,function Zl(){return gi.lFrame.bindingIndex}(),e,i,o);return Jl(3),c?t+ht(e)+n+ht(i)+a+ht(o)+s:Wi}function Pi(r,t,e,n,i,a,o,s){const l=tr(),c=na(),u=r+pe,d=c.firstCreatePass?function oU(r,t,e,n,i,a,o,s,l){const c=t.consts,u=zv(t,r,4,o||null,La(c,s));hw(t,e,u,La(c,l)),qu(t,u);const d=u.tView=fw(2,u,n,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,n,i,a,o):c.data[u];Ol(d,!1);const h=l[di].createComment("");Zi(c,l,h,d),Bn(h,l),Ey(l,l[u]=sT(h,l,h,d)),rr(d)&&uw(c,l,d),null!=o&&dw(l,d,s)}function yp(r){return function pu(r,t){return r[t]}(function Hg(){return gi.lFrame.contextLView}(),pe+r)}function mr(r,t,e){const n=tr();return il(n,Ql(),t)&&fc(na(),Na(),n,r,t,n[di],e,!1),mr}function ww(r,t,e,n,i){const o=i?"class":"style";_w(r,e,t.inputs[o],o,n)}function ar(r,t,e,n){const i=tr(),a=na(),o=pe+r,s=i[di],l=a.firstCreatePass?function lU(r,t,e,n,i,a){const o=t.consts,l=zv(t,r,2,n,La(o,i));return hw(t,e,l,La(o,a)),null!==l.attrs&&My(l,l.attrs,!1),null!==l.mergedAttrs&&My(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,a,i,t,e,n):a.data[o],c=i[o]=St(s,t,function $h(){return gi.lFrame.currentNamespace}()),u=rr(l);return Ol(l,!0),lD(s,c,l),32!=(32&l.flags)&&Zi(a,i,c,l),0===function ov(){return gi.lFrame.elementDepthCount}()&&Bn(c,i),function sv(){gi.lFrame.elementDepthCount++}(),u&&(uw(a,i,l),cw(a,l,i)),null!==n&&dw(i,l),ar}function sr(){let r=Fo();Hd()?Yu():(r=r.parent,Ol(r,!1));const t=r;!function Uf(){gi.lFrame.elementDepthCount--}();const e=na();return e.firstCreatePass&&(qu(e,r),gn(r)&&e.queries.elementEnd(r)),null!=t.classesWithoutHost&&function yv(r){return 0!=(8&r.flags)}(t)&&ww(e,t,tr(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function _v(r){return 0!=(16&r.flags)}(t)&&ww(e,t,tr(),t.stylesWithoutHost,!1),sr}function Ra(r,t,e,n){return ar(r,t,e,n),sr(),Ra}function Ay(r,t,e){const n=tr(),i=na(),a=r+pe,o=i.firstCreatePass?function cU(r,t,e,n,i){const a=t.consts,o=La(a,n),s=zv(t,r,8,"ng-container",o);return null!==o&&My(s,o,!0),hw(t,e,s,La(a,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(a,i,n,t,e):i.data[a];Ol(o,!0);const s=n[a]=n[di].createComment("");return Zi(i,n,s,o),Bn(s,n),rr(o)&&(uw(i,n,o),cw(i,o,n)),null!=e&&dw(n,o),Ay}function Iy(){let r=Fo();const t=na();return Hd()?Yu():(r=r.parent,Ol(r,!1)),t.firstCreatePass&&(qu(t,r),gn(r)&&t.queries.elementEnd(r)),Iy}function rh(){return tr()}function cm(r){return!!r&&"function"==typeof r.then}const Ew=function TT(r){return!!r&&"function"==typeof r.subscribe};function ri(r,t,e,n){const i=tr(),a=na(),o=Fo();return AT(a,i,i[di],o,r,t,n),ri}function Sw(r,t){const e=Fo(),n=tr(),i=na();return AT(i,n,uT(Uh(i.data),e,n),e,r,t),Sw}function AT(r,t,e,n,i,a,o){const s=rr(n),c=r.firstCreatePass&&cT(r),u=t[Ya],d=lT(t);let h=!0;if(3&n.type||o){const D=Ms(n,t),F=o?o(D):D,K=d.length,Q=o?de=>o(Io(de[n.index])):n.index;let J=null;if(!o&&s&&(J=function uU(r,t,e,n){const i=r.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const o=i[a];if(o===e&&i[a+1]===n){const s=t[Al],l=i[a+2];return s.length>l?s[l]:null}"string"==typeof o&&(a+=2)}return null}(r,t,i,n.index)),null!==J)(J.__ngLastListenerFn__||J).__ngNextListenerFn__=a,J.__ngLastListenerFn__=a,h=!1;else{a=OT(n,t,u,a,!1);const de=e.listen(F,i,a);d.push(a,de),c&&c.push(i,Q,K,K+1)}}else a=OT(n,t,u,a,!1);const v=n.outputs;let y;if(h&&null!==v&&(y=v[i])){const D=y.length;if(D)for(let F=0;F<D;F+=2){const Ee=t[y[F]][y[F+1]].subscribe(a),ke=d.length;d.push(a,Ee),c&&c.push(i,n.index,ke,-(ke+1))}}}function IT(r,t,e,n){try{return cr(6,t,e),!1!==e(n)}catch(i){return dT(r,i),!1}finally{cr(7,t,e)}}function OT(r,t,e,n,i){return function a(o){if(o===Function)return n;mw(r.componentOffset>-1?Cs(r.index,t):t);let l=IT(t,e,n,o),c=a.__ngNextListenerFn__;for(;c;)l=IT(t,e,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Ri(r=1){return function Wh(r){return(gi.lFrame.contextLView=function Hf(r,t){for(;r>0;)t=t[$l],r--;return t}(r,gi.lFrame.contextLView))[Ya]}(r)}function dU(r,t){let e=null;const n=function zV(r){const t=r.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(r);for(let i=0;i<t.length;i++){const a=t[i];if("*"!==a){if(null===n?BD(r,a,!0):UV(n,a))return i}else e=i}return e}function _l(r){const t=tr()[Ro][To];if(!t.projection){const n=t.projection=oc(r?r.length:1,null),i=n.slice();let a=t.child;for(;null!==a;){const o=r?dU(a,r):0;null!==o&&(i[o]?i[o].projectionNext=a:n[o]=a,i[o]=a),a=a.next}}}function Ba(r,t=0,e){const n=tr(),i=na(),a=zv(i,pe+r,16,null,e||null);null===a.projection&&(a.projection=t),Yu(),32!=(32&a.flags)&&function dy(r,t,e){oD(t[di],0,t,e,mt(r,e,t),Or(e.parent||t[To],e,t))}(i,n,a)}function _p(r,t,e){return Mw(r,"",t,"",e),_p}function Mw(r,t,e,n,i){const a=tr(),o=jv(a,t,e,n);return o!==Wi&&fc(na(),Na(),a,r,o,a[di],i,!1),Mw}function Oy(r,t){return r<<17|t<<2}function ih(r){return r>>17&32767}function Cw(r){return 2|r}function bp(r){return(131068&r)>>2}function Dw(r,t){return-131069&r|t<<2}function Tw(r){return 1|r}function VT(r,t,e,n,i){const a=r[e+1],o=null===t;let s=n?ih(a):bp(a),l=!1;for(;0!==s&&(!1===l||o);){const u=r[s+1];mU(r[s],t)&&(l=!0,r[s+1]=n?Tw(u):Cw(u)),s=n?ih(u):bp(u)}l&&(r[e+1]=n?Cw(a):Tw(a))}function mU(r,t){return null===r||null==t||(Array.isArray(r)?r[1]:r)===t||!(!Array.isArray(r)||"string"!=typeof t)&&ud(r,t)>=0}const ms={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jT(r){return r.substring(ms.key,ms.keyEnd)}function UT(r,t){const e=ms.textEnd;return e===t?-1:(t=ms.keyEnd=function xU(r,t,e){for(;t<e&&r.charCodeAt(t)>32;)t++;return t}(r,ms.key=t,e),Kv(r,t,e))}function Kv(r,t,e){for(;t<e&&r.charCodeAt(t)<=32;)t++;return t}function um(r,t,e){return Tu(r,t,e,!1),um}function Ia(r,t){return Tu(r,t,null,!0),Ia}function gd(r,t){for(let e=function _U(r){return function HT(r){ms.key=0,ms.keyEnd=0,ms.value=0,ms.valueEnd=0,ms.textEnd=r.length}(r),UT(r,Kv(r,0,ms.textEnd))}(t);e>=0;e=UT(t,e))Ts(r,jT(t),!0)}function Tu(r,t,e,n){const i=tr(),a=na(),o=Jl(2);a.firstUpdatePass&&KT(a,r,o,n),t!==Wi&&il(i,o,t)&&ZT(a,a.data[vs()],i,i[di],r,i[o+1]=function OU(r,t){return null==r||("string"==typeof t?r+=t:"object"==typeof r&&(r=Pr(dc(r)))),r}(t,e),n,o)}function Au(r,t,e,n){const i=na(),a=Jl(2);i.firstUpdatePass&&KT(i,null,a,n);const o=tr();if(e!==Wi&&il(o,a,e)){const s=i.data[vs()];if(JT(s,n)&&!XT(i,a)){let l=n?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(e=Ht(l,e||"")),ww(i,s,o,e,n)}else!function IU(r,t,e,n,i,a,o,s){i===Wi&&(i=Ji);let l=0,c=0,u=0<i.length?i[0]:null,d=0<a.length?a[0]:null;for(;null!==u||null!==d;){const h=l<i.length?i[l+1]:void 0,v=c<a.length?a[c+1]:void 0;let D,y=null;u===d?(l+=2,c+=2,h!==v&&(y=d,D=v)):null===d||null!==u&&u<d?(l+=2,y=u):(c+=2,y=d,D=v),null!==y&&ZT(r,t,e,n,y,D,o,s),u=l<i.length?i[l]:null,d=c<a.length?a[c]:null}}(i,s,o,o[di],o[a+1],o[a+1]=function AU(r,t,e){if(null==e||""===e)return Ji;const n=[],i=dc(e);if(Array.isArray(i))for(let a=0;a<i.length;a++)r(n,i[a],!0);else if("object"==typeof i)for(const a in i)i.hasOwnProperty(a)&&r(n,a,i[a]);else"string"==typeof i&&t(n,i);return n}(r,t,e),n,a)}}function XT(r,t){return t>=r.expandoStartIndex}function KT(r,t,e,n){const i=r.data;if(null===i[e+1]){const a=i[vs()],o=XT(r,e);JT(a,n)&&null===t&&!o&&(t=!1),t=function MU(r,t,e,n){const i=Uh(r);let a=n?t.residualClasses:t.residualStyles;if(null===i)0===(n?t.classBindings:t.styleBindings)&&(e=dm(e=Aw(null,r,t,e,n),t.attrs,n),a=null);else{const o=t.directiveStylingLast;if(-1===o||r[o]!==i)if(e=Aw(i,r,t,e,n),null===a){let l=function CU(r,t,e){const n=e?t.classBindings:t.styleBindings;if(0!==bp(n))return r[ih(n)]}(r,t,n);void 0!==l&&Array.isArray(l)&&(l=Aw(null,r,t,l[1],n),l=dm(l,t.attrs,n),function DU(r,t,e,n){r[ih(e?t.classBindings:t.styleBindings)]=n}(r,t,n,l))}else a=function TU(r,t,e){let n;const i=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<i;a++)n=dm(n,r[a].hostAttrs,e);return dm(n,t.attrs,e)}(r,t,n)}return void 0!==a&&(n?t.residualClasses=a:t.residualStyles=a),e}(i,a,t,n),function vU(r,t,e,n,i,a){let o=a?t.classBindings:t.styleBindings,s=ih(o),l=bp(o);r[n]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||ud(e,u)>0)&&(c=!0)):u=e,i)if(0!==l){const h=ih(r[s+1]);r[n+1]=Oy(h,s),0!==h&&(r[h+1]=Dw(r[h+1],n)),r[s+1]=function hU(r,t){return 131071&r|t<<17}(r[s+1],n)}else r[n+1]=Oy(s,0),0!==s&&(r[s+1]=Dw(r[s+1],n)),s=n;else r[n+1]=Oy(l,0),0===s?s=n:r[l+1]=Dw(r[l+1],n),l=n;c&&(r[n+1]=Cw(r[n+1])),VT(r,u,n,!0),VT(r,u,n,!1),function gU(r,t,e,n,i){const a=i?r.residualClasses:r.residualStyles;null!=a&&"string"==typeof t&&ud(a,t)>=0&&(e[n+1]=Tw(e[n+1]))}(t,u,r,n,a),o=Oy(s,l),a?t.classBindings=o:t.styleBindings=o}(i,a,t,e,o,n)}}function Aw(r,t,e,n,i){let a=null;const o=e.directiveEnd;let s=e.directiveStylingLast;for(-1===s?s=e.directiveStart:s++;s<o&&(a=t[s],n=dm(n,a.hostAttrs,i),a!==r);)s++;return null!==r&&(e.directiveStylingLast=s),n}function dm(r,t,e){const n=e?1:2;let i=-1;if(null!==t)for(let a=0;a<t.length;a++){const o=t[a];"number"==typeof o?i=o:i===n&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Ts(r,o,!!e||t[++a]))}return void 0===r?null:r}function ZT(r,t,e,n,i,a,o,s){if(!(3&t.type))return;const l=r.data,c=l[s+1],u=function pU(r){return 1==(1&r)}(c)?QT(l,t,e,i,bp(c),o):void 0;ky(u)||(ky(a)||function fU(r){return 2==(2&r)}(c)&&(a=QT(l,null,e,i,s,o)),function Iz(r,t,e,n,i){if(t)i?r.addClass(e,n):r.removeClass(e,n);else{let a=-1===n.indexOf("-")?void 0:le.DashCase;null==i?r.removeStyle(e,n,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=le.Important),r.setStyle(e,n,i,a))}}(n,o,Kl(vs(),e),i,a))}function QT(r,t,e,n,i,a){const o=null===t;let s;for(;i>0;){const l=r[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[i+1];h===Wi&&(h=d?Ji:void 0);let v=d?cd(h,n):u===n?h:void 0;if(c&&!ky(v)&&(v=cd(l,n)),ky(v)&&(s=v,o))return s;const y=r[i+1];i=o?ih(y):bp(y)}if(null!==t){let l=a?t.residualClasses:t.residualStyles;null!=l&&(s=cd(l,n))}return s}function ky(r){return void 0!==r}function JT(r,t){return 0!=(r.flags&(t?8:16))}function hi(r,t=""){const e=tr(),n=na(),i=r+pe,a=n.firstCreatePass?zv(n,i,1,t,null):n.data[i],o=e[i]=function lo(r,t){return r.createText(t)}(e[di],t);Zi(n,e,o,a),Ol(a,!1)}function zc(r){return hf("",r,""),zc}function hf(r,t,e){const n=tr(),i=jv(n,r,t,e);return i!==Wi&&ff(n,vs(),i),hf}function Ny(r,t,e,n,i,a,o){const s=tr(),l=Gv(s,r,t,e,n,i,a,o);return l!==Wi&&ff(s,vs(),l),Ny}function Iw(r,t,e){Au(Ts,gd,jv(tr(),r,t,e),!0)}function qv(r,t,e){const n=tr();return il(n,Ql(),t)&&fc(na(),Na(),n,r,t,n[di],e,!0),qv}function Ow(r,t,e){const n=tr();if(il(n,Ql(),t)){const a=na(),o=Na();fc(a,o,n,r,t,uT(Uh(a.data),o,n),e,!0)}return Ow}const Qv="en-US";let yA=Qv;function Pw(r,t,e,n,i){if(r=cn(r),Array.isArray(r))for(let a=0;a<r.length;a++)Pw(r[a],t,e,n,i);else{const a=na(),o=tr();let s=vp(r)?r:cn(r.provide),l=OD(r);const c=Fo(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(vp(r)||!r.multi){const v=new ed(l,i,It),y=Lw(s,t,i?u:u+h,d);-1===y?(rc(ec(c,o),a,s),Rw(a,r,t.length),t.push(s),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(v),o.push(v)):(e[y]=v,o[y]=v)}else{const v=Lw(s,t,u+h,d),y=Lw(s,t,u,u+h),F=y>=0&&e[y];if(i&&!F||!i&&!(v>=0&&e[v])){rc(ec(c,o),a,s);const K=function XG(r,t,e,n,i){const a=new ed(r,e,It);return a.multi=[],a.index=t,a.componentProviders=0,GA(a,i,n&&!e),a}(i?$G:YG,e.length,i,n,l);!i&&F&&(e[y].providerFactory=K),Rw(a,r,t.length,0),t.push(s),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(K),o.push(K)}else Rw(a,r,v>-1?v:y,GA(e[i?y:v],l,!i&&n));!i&&n&&F&&e[y].componentProviders++}}}function Rw(r,t,e,n){const i=vp(t),a=function uV(r){return!!r.useClass}(t);if(i||a){const l=(a?cn(t.useClass):t).prototype.ngOnDestroy;if(l){const c=r.destroyHooks||(r.destroyHooks=[]);if(!i&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[n,l]):c[u+1].push(n,l)}else c.push(e,l)}}}function GA(r,t,e){return e&&r.componentProviders++,r.multi.push(t)-1}function Lw(r,t,e,n){for(let i=e;i<n;i++)if(t[i]===r)return i;return-1}function YG(r,t,e,n){return Fw(this.multi,[])}function $G(r,t,e,n){const i=this.multi;let a;if(this.providerFactory){const o=this.providerFactory.componentProviders,s=tl(e,e[Tr],this.providerFactory.index,n);a=s.slice(0,o),Fw(i,a);for(let l=o;l<s.length;l++)a.push(s[l])}else a=[],Fw(i,a);return a}function Fw(r,t){for(let e=0;e<r.length;e++)t.push((0,r[e])());return t}function va(r,t=[]){return e=>{e.providersResolver=(n,i)=>function WG(r,t,e){const n=na();if(n.firstCreatePass){const i=Sn(r);Pw(e,n.data,n.blueprint,i,!0),Pw(t,n.data,n.blueprint,i,!1)}}(n,i?i(r):r,t)}}class Jv{}class HA{}class WA extends Jv{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fT(this);const n=Sr(t);this._bootstrapComponents=df(n.bootstrap),this._r3Injector=WD(t,e,[{provide:Jv,useValue:this},{provide:nh,useValue:this.componentFactoryResolver}],Pr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Bw extends HA{constructor(t){super(),this.moduleType=t}create(t){return new WA(this.moduleType,t)}}class qG extends Jv{constructor(t,e,n){super(),this.componentFactoryResolver=new fT(this),this.instance=null;const i=new ID([...t,{provide:Jv,useValue:this},{provide:nh,useValue:this.componentFactoryResolver}],e||yy(),n,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function By(r,t,e=null){return new qG(r,t,e).injector}let ZG=(()=>{class r{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const n=CD(0,e.type),i=n.length>0?By([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=vr({token:r,providedIn:"environment",factory:()=>new r(wn(lf))}),r})();function zw(r){r.getStandaloneInjector=t=>t.get(ZG).getOrCreateStandaloneInjector(r)}function QA(r,t,e,n){return function eI(r,t,e,n,i,a){const o=t+e;return il(r,o,i)?pd(r,o+1,a?n.call(a,i):n(i)):mm(r,o+1)}(tr(),ps(),r,t,e,n)}function JA(r,t,e,n,i){return function tI(r,t,e,n,i,a,o){const s=t+e;return mp(r,s,i,a)?pd(r,s+2,o?n.call(o,i,a):n(i,a)):mm(r,s+2)}(tr(),ps(),r,t,e,n,i)}function mm(r,t){const e=r[t];return e===Wi?void 0:e}function jw(r){return t=>{setTimeout(r,void 0,t)}}const Si=class x6 extends Bt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i=t,a=e||(()=>null),o=n;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),a=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(a=jw(a),i&&(i=jw(i)),o&&(o=jw(o)));const s=super.subscribe({next:i,error:a,complete:o});return t instanceof $&&t.add(s),s}};function w6(){return this._results[Symbol.iterator]()}class eg{get changes(){return this._changes||(this._changes=new Si)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=eg.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=w6)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const i=function gs(r){return r.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Qf(r,t,e){if(r.length!==t.length)return!1;for(let n=0;n<r.length;n++){let i=r[n],a=t[n];if(e&&(i=e(i),a=e(a)),a!==i)return!1}return!0}(n._results,i,e))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let al=(()=>{class r{}return r.__NG_ELEMENT_ID__=M6,r})();const E6=al,S6=class extends E6{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t,e){const n=this._declarationTContainer.tView,i=xy(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null,e||null);i[uu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Js];return null!==o&&(i[Js]=o.createEmbeddedView(n)),lw(n,i,t),new om(i)}};function M6(){return zy(Fo(),tr())}function zy(r,t){return 4&r.type?new S6(t,r,Lv(r,t)):null}let Hs=(()=>{class r{}return r.__NG_ELEMENT_ID__=C6,r})();function C6(){return sI(Fo(),tr())}const D6=Hs,aI=class extends D6{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Lv(this._hostTNode,this._hostLView)}get injector(){return new ic(this._hostTNode,this._hostLView)}get parentInjector(){const t=Nc(this._hostTNode,this._hostLView);if($f(t)){const e=kc(t,this._hostLView),n=Kd(t);return new ic(e[Tr].data[n+8],e)}return new ic(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=oI(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Dt}createEmbeddedView(t,e,n){let i,a;"number"==typeof n?i=n:null!=n&&(i=n.index,a=n.injector);const o=t.createEmbeddedView(e||{},a);return this.insert(o,i),o}createComponent(t,e,n,i,a){const o=t&&!function Lc(r){return"function"==typeof r}(t);let s;if(o)s=e;else{const d=e||{};s=d.index,n=d.injector,i=d.projectableNodes,a=d.environmentInjector||d.ngModuleRef}const l=o?t:new sm(kt(t)),c=n||this.parentInjector;if(!a&&null==l.ngModule){const h=(o?c:this.parentInjector).get(lf,null);h&&(a=h)}const u=l.create(c,i,void 0,a);return this.insert(u.hostView,s),u}insert(t,e){const n=t._lView,i=n[Tr];if(function av(r){return vn(r[Oa])}(n)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=n[Oa],h=new aI(d,d[To],d[Oa]);h.detach(h.indexOf(t))}}const a=this._adjustIndex(e),o=this._lContainer;!function yt(r,t,e,n){const i=Dt+n,a=e.length;n>0&&(e[i-1][Do]=t),n<a-Dt?(t[Do]=e[i],od(e,Dt+n,t)):(e.push(t),t[Do]=null),t[Oa]=e;const o=t[uu];null!==o&&e!==o&&function et(r,t){const e=r[_t];t[Ro]!==t[Oa][Oa][Ro]&&(r[Ke]=!0),null===e?r[_t]=[t]:e.push(t)}(o,t);const s=t[Js];null!==s&&s.insertView(r),t[xi]|=64}(i,n,o,a);const s=hp(a,o),l=n[di],c=bn(l,o[qe]);return null!==c&&function sn(r,t,e,n,i,a){n[Ua]=i,n[To]=t,Us(r,n,e,1,i,a)}(i,o[To],l,n,c,s),t.attachToViewContainerRef(),od(Uw(o),a,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=oI(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=en(this._lContainer,e);n&&(ac(Uw(this._lContainer),e),tn(n[Tr],n))}detach(t){const e=this._adjustIndex(t,-1),n=en(this._lContainer,e);return n&&null!=ac(Uw(this._lContainer),e)?new om(n):null}_adjustIndex(t,e=0){return t??this.length+e}};function oI(r){return r[ft]}function Uw(r){return r[ft]||(r[ft]=[])}function sI(r,t){let e;const n=t[r.index];if(vn(n))e=n;else{let i;if(8&r.type)i=Io(n);else{const a=t[di];i=a.createComment("");const o=Ms(r,t);ut(a,bn(a,o),i,function Qn(r,t){return r.nextSibling(t)}(a,o),!1)}t[r.index]=e=sT(n,t,i,r),Ey(t,e)}return new aI(e,r,t)}class Gw{constructor(t){this.queryList=t,this.matches=null}clone(){return new Gw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hw{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let a=0;a<n;a++){const o=e.getByIndex(a);i.push(this.queries[o.indexInDeclarationView].clone())}return new Hw(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==fI(t,e).matches&&this.queries[e].setDirty()}}class lI{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ww{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,a=this.getByIndex(n).embeddedTView(t,i);a&&(a.indexInDeclarationView=n,null!==e?e.push(a):e=[a])}return null!==e?new Ww(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Yw{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Yw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const a=n[i];this.matchTNodeWithReadOption(t,e,T6(e,a)),this.matchTNodeWithReadOption(t,e,id(e,t,a,!1,!1))}else n===al?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,id(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Ni||i===Hs||i===al&&4&e.type)this.addMatch(e.index,-2);else{const a=id(e,t,i,!1,!1);null!==a&&this.addMatch(e.index,a)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function T6(r,t){const e=r.localNames;if(null!==e)for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1];return null}function I6(r,t,e,n){return-1===e?function A6(r,t){return 11&r.type?Lv(r,t):4&r.type?zy(r,t):null}(t,r):-2===e?function O6(r,t,e){return e===Ni?Lv(t,r):e===al?zy(t,r):e===Hs?sI(t,r):void 0}(r,t,n):tl(r,r[Tr],e,t)}function cI(r,t,e,n){const i=t[Js].queries[n];if(null===i.matches){const a=r.data,o=e.matches,s=[];for(let l=0;l<o.length;l+=2){const c=o[l];s.push(c<0?null:I6(t,a[c],o[l+1],e.metadata.read))}i.matches=s}return i.matches}function $w(r,t,e,n){const i=r.queries.getByIndex(e),a=i.matches;if(null!==a){const o=cI(r,t,i,e);for(let s=0;s<a.length;s+=2){const l=a[s];if(l>0)n.push(o[s/2]);else{const c=a[s+1],u=t[-l];for(let d=Dt;d<u.length;d++){const h=u[d];h[uu]===h[Oa]&&$w(h[Tr],h,c,n)}if(null!==u[_t]){const d=u[_t];for(let h=0;h<d.length;h++){const v=d[h];$w(v[Tr],v,c,n)}}}}}return n}function zi(r){const t=tr(),e=na(),n=Wd();Yd(n+1);const i=fI(e,n);if(r.dirty&&function ml(r){return 4==(4&r[xi])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)r.reset([]);else{const a=i.crossesNgTemplate?$w(e,t,n,[]):cI(e,t,i,n);r.reset(a,xV),r.notifyOnChanges()}return!0}return!1}function qa(r,t,e){const n=na();n.firstCreatePass&&(dI(n,new lI(r,t,e),-1),2==(2&t)&&(n.staticViewQueries=!0)),uI(n,tr(),t)}function Os(r,t,e,n){const i=na();if(i.firstCreatePass){const a=Fo();dI(i,new lI(t,e,n),a.index),function N6(r,t){const e=r.contentQueries||(r.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(r.queries.length-1,t)}(i,r),2==(2&e)&&(i.staticContentQueries=!0)}uI(i,tr(),e)}function Vi(){return function k6(r,t){return r[Js].queries[t].queryList}(tr(),Wd())}function uI(r,t,e){const n=new eg(4==(4&e));tT(r,t,n,n.destroy),null===t[Js]&&(t[Js]=new Hw),t[Js].queries.push(new Gw(n))}function dI(r,t,e){null===r.queries&&(r.queries=new Ww),r.queries.track(new Yw(t,e))}function fI(r,t){return r.queries.getByIndex(t)}function Xw(r,t){return zy(r,t)}function jy(...r){}const Uy=new ir("Application Initializer");let Gy=(()=>{class r{constructor(e){this.appInits=e,this.resolve=jy,this.reject=jy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const a=this.appInits[i]();if(cm(a))e.push(a);else if(Ew(a)){const o=new Promise((s,l)=>{a.subscribe({complete:s,error:l})});e.push(o)}}Promise.all(e).then(()=>{n()}).catch(i=>{this.reject(i)}),0===e.length&&n(),this.initialized=!0}}return r.\u0275fac=function(e){return new(e||r)(wn(Uy,8))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const bm=new ir("AppId",{providedIn:"root",factory:function II(){return`${e1()}${e1()}${e1()}`}});function e1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const OI=new ir("Platform Initializer"),t1=new ir("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Nl=new ir("AnimationModuleType");let J6=(()=>{class r{log(e){console.log(e)}warn(e){console.warn(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const md=new ir("LocaleId",{providedIn:"root",factory:()=>ui(md,Xr.Optional|Xr.SkipSelf)||function e8(){return typeof $localize<"u"&&$localize.locale||Qv}()});class n8{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let kI=(()=>{class r{compileModuleSync(e){return new Bw(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const n=this.compileModuleSync(e),a=df(Sr(e).declarations).reduce((o,s)=>{const l=kt(s);return l&&o.push(new sm(l)),o},[]);return new n8(n,a)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const a8=(()=>Promise.resolve(0))();function n1(r){typeof Zone>"u"?a8.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class ci{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Si(!1),this.onMicrotaskEmpty=new Si(!1),this.onStable=new Si(!1),this.onError=new Si(!1),typeof Zone>"u")throw new Pe(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function o8(){let r=fa.requestAnimationFrame,t=fa.cancelAnimationFrame;if(typeof Zone<"u"&&r&&t){const e=r[Zone.__symbol__("OriginalDelegate")];e&&(r=e);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function c8(r){const t=()=>{!function l8(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(fa,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,a1(r),r.isCheckStableRunning=!0,r1(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),a1(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,i,a,o,s)=>{try{return RI(r),e.invokeTask(i,a,o,s)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||r.shouldCoalesceRunChangeDetection)&&t(),LI(r)}},onInvoke:(e,n,i,a,o,s,l)=>{try{return RI(r),e.invoke(i,a,o,s,l)}finally{r.shouldCoalesceRunChangeDetection&&t(),LI(r)}},onHasTask:(e,n,i,a)=>{e.hasTask(i,a),n===i&&("microTask"==a.change?(r._hasPendingMicrotasks=a.microTask,a1(r),r1(r)):"macroTask"==a.change&&(r.hasPendingMacrotasks=a.macroTask))},onHandleError:(e,n,i,a)=>(e.handleError(i,a),r.runOutsideAngular(()=>r.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ci.isInAngularZone())throw new Pe(909,!1)}static assertNotInAngularZone(){if(ci.isInAngularZone())throw new Pe(909,!1)}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const a=this._inner,o=a.scheduleEventTask("NgZoneEvent: "+i,t,s8,jy,jy);try{return a.runTask(o,e,n)}finally{a.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const s8={};function r1(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function a1(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function RI(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function LI(r){r._nesting--,r1(r)}class u8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Si,this.onMicrotaskEmpty=new Si,this.onStable=new Si,this.onError=new Si}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}const FI=new ir(""),Hy=new ir("");let l1,o1=(()=>{class r{constructor(e,n,i){this._ngZone=e,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,l1||(function d8(r){l1=r}(i),i.addToWindow(n)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ci.assertNotInAngularZone(),n1(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())n1(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,i){let a=-1;n&&n>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==a),e(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:e,timeoutId:a,updateCb:i})}whenStable(e,n,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,n,i){return[]}}return r.\u0275fac=function(e){return new(e||r)(wn(ci),wn(s1),wn(Hy))},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})(),s1=(()=>{class r{constructor(){this._applications=new Map}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return l1?.findTestabilityInTree(this,e,n)??null}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const pf=!1;let ah=null;const BI=new ir("AllowMultipleToken"),c1=new ir("PlatformDestroyListeners"),zI=new ir("appBootstrapListener");class VI{constructor(t,e){this.name=t,this.token=e}}function UI(r,t,e=[]){const n=`Platform: ${t}`,i=new ir(n);return(a=[])=>{let o=u1();if(!o||o.injector.get(BI,!1)){const s=[...e,...a,{provide:i,useValue:!0}];r?r(s):function p8(r){if(ah&&!ah.get(BI,!1))throw new Pe(400,!1);ah=r;const t=r.get(HI);(function jI(r){const t=r.get(OI,null);t&&t.forEach(e=>e())})(r)}(function GI(r=[],t){return Gs.create({name:t,providers:[{provide:qx,useValue:"platform"},{provide:c1,useValue:new Set([()=>ah=null])},...r]})}(s,n))}return function g8(r){const t=u1();if(!t)throw new Pe(401,!1);return t}()}}function u1(){return ah?.get(HI)??null}let HI=(()=>{class r{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const i=function YI(r,t){let e;return e="noop"===r?new u8:("zone.js"===r?void 0:r)||new ci(t),e}(n?.ngZone,function WI(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(n)),a=[{provide:ci,useValue:i}];return i.run(()=>{const o=Gs.create({providers:a,parent:this.injector,name:e.moduleType.name}),s=e.create(o),l=s.injector.get(uf,null);if(!l)throw new Pe(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});s.onDestroy(()=>{Wy(this._modules,s),c.unsubscribe()})}),function $I(r,t,e){try{const n=e();return cm(n)?n.catch(i=>{throw t.runOutsideAngular(()=>r.handleError(i)),i}):n}catch(n){throw t.runOutsideAngular(()=>r.handleError(n)),n}}(l,i,()=>{const c=s.injector.get(Gy);return c.runInitializers(),c.donePromise.then(()=>(function _A(r){Co(r,"Expected localeId to be defined"),"string"==typeof r&&(yA=r.toLowerCase().replace(/_/g,"-"))}(s.injector.get(md,Qv)||Qv),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,n=[]){const i=XI({},n);return function f8(r,t,e){const n=new Bw(e);return Promise.resolve(n)}(0,0,e).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(e){const n=e.injector.get(rg);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new Pe(-403,!1);e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const e=this._injector.get(c1,null);e&&(e.forEach(n=>n()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(e){return new(e||r)(wn(Gs))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function XI(r,t){return Array.isArray(t)?t.reduce(XI,r):{...r,...t}}let rg=(()=>{class r{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,n,i){this._zone=e,this._injector=n,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Be(s=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{s.next(this._stable),s.complete()})}),o=new Be(s=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{ci.assertNotInAngularZone(),n1(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,s.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{ci.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{s.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Rn(a,o.pipe(Ir()))}bootstrap(e,n){const i=e instanceof kD;if(!this._injector.get(Gy).done){!i&&function or(r){const t=kt(r)||Xt(r)||_n(r);return null!==t&&t.standalone}(e);throw new Pe(405,pf)}let o;o=i?e:this._injector.get(nh).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const s=function h8(r){return r.isBoundToModule}(o)?void 0:this._injector.get(Jv),c=o.create(Gs.NULL,[],n||o.selector,s),u=c.location.nativeElement,d=c.injector.get(FI,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Wy(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Pe(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){const n=e;Wy(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const n=this._injector.get(zI,[]);n.push(...this._bootstrapListeners),n.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Wy(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Pe(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(e){return new(e||r)(wn(ci),wn(lf),wn(uf))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Wy(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}let es=(()=>{class r{}return r.__NG_ELEMENT_ID__=y8,r})();function y8(r){return function _8(r,t,e){if($n(r)&&!e){const n=Cs(r.index,t);return new om(n,n)}return 47&r.type?new om(t[Ro],t):null}(Fo(),tr(),16==(16&r))}class JI{constructor(){}supports(t){return Dy(t)}create(t){return new M8(t)}}const S8=(r,t)=>t;class M8{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||S8}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,a=null;for(;e||n;){const o=!n||e&&e.currentIndex<t2(n,i,a)?e:n,s=t2(o,i,a),l=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{a||(a=[]);const c=s-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const v=h<a.length?a[h]:a[h]=0,y=v+h;u<=y&&y<c&&(a[h]=v+1)}a[o.previousIndex]=u-c}}s!==l&&t(o,s,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Dy(t))throw new Pe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,a,o,e=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let s=0;s<this.length;s++)a=t[s],o=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,o)?(n&&(e=this._verifyReinsertion(e,a,o,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,s),n=!0),e=e._next}else i=0,function rU(r,t){if(Array.isArray(r))for(let e=0;e<r.length;e++)t(r[e]);else{const e=r[Symbol.iterator]();let n;for(;!(n=e.next()).done;)t(n.value)}}(t,s=>{o=this._trackByFn(i,s),null!==e&&Object.is(e.trackById,o)?(n&&(e=this._verifyReinsertion(e,s,o,i)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,i),n=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,a,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,a,i)):t=this._addAfter(new C8(e,n),a,i),t}_verifyReinsertion(t,e,n,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==a?t=this._reinsertAfter(a,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,a=t._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new e2),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new e2),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class C8{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class D8{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class e2{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new D8,this.map.set(e,n)),n.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function t2(r,t,e){const n=r.previousIndex;if(null===n)return n;let i=0;return e&&n<e.length&&(i=e[n]),n+t+i}class n2{constructor(){}supports(t){return t instanceof Map||xw(t)}create(){return new T8}}class T8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xw(t)))throw new Pe(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{const a=this._getOrCreateRecordForKey(i,n);e=this._insertBeforeOrAppend(e,a)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const a=i._prev,o=i._next;return a&&(a._next=o),o&&(o._prev=a),i._next=null,i._prev=null,i}const n=new A8(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class A8{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function r2(){return new Xy([new JI])}let Xy=(()=>{class r{constructor(e){this.factories=e}static create(e,n){if(null!=n){const i=n.factories.slice();e=e.concat(i)}return new r(e)}static extend(e){return{provide:r,useFactory:n=>r.create(e,n||r2()),deps:[[r,new Cu,new As]]}}find(e){const n=this.factories.find(i=>i.supports(e));if(null!=n)return n;throw new Pe(901,!1)}}return r.\u0275prov=vr({token:r,providedIn:"root",factory:r2}),r})();function a2(){return new xm([new n2])}let xm=(()=>{class r{constructor(e){this.factories=e}static create(e,n){if(n){const i=n.factories.slice();e=e.concat(i)}return new r(e)}static extend(e){return{provide:r,useFactory:n=>r.create(e,n||a2()),deps:[[r,new Cu,new As]]}}find(e){const n=this.factories.find(i=>i.supports(e));if(n)return n;throw new Pe(901,!1)}}return r.\u0275prov=vr({token:r,providedIn:"root",factory:a2}),r})();const k8=UI(null,"core",[]);let N8=(()=>{class r{constructor(e){}}return r.\u0275fac=function(e){return new(e||r)(wn(rg))},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({}),r})();function ig(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}let v1=null;function vf(){return v1}class L8{}const sa=new ir("DocumentToken");let g1=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:function(){return function F8(){return wn(o2)}()},providedIn:"platform"}),r})();const B8=new ir("Location Initialized");let o2=(()=>{class r extends g1{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vf().getBaseHref(this._doc)}onPopState(e){const n=vf().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=vf().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,i){s2()?this._history.pushState(e,n,i):this._location.hash=i}replaceState(e,n,i){s2()?this._history.replaceState(e,n,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return r.\u0275fac=function(e){return new(e||r)(wn(sa))},r.\u0275prov=vr({token:r,factory:function(){return function z8(){return new o2(wn(sa))}()},providedIn:"platform"}),r})();function s2(){return!!window.history.pushState}function m1(r,t){if(0==r.length)return t;if(0==t.length)return r;let e=0;return r.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?r+t.substring(1):1==e?r+t:r+"/"+t}function l2(r){const t=r.match(/#|\?|$/),e=t&&t.index||r.length;return r.slice(0,e-("/"===r[e-1]?1:0))+r.slice(e)}function gf(r){return r&&"?"!==r[0]?"?"+r:r}let Ep=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:function(){return ui(u2)},providedIn:"root"}),r})();const c2=new ir("appBaseHref");let u2=(()=>{class r extends Ep{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??ui(sa).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return m1(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+gf(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${n}${i}`:n}pushState(e,n,i,a){const o=this.prepareExternalUrl(i+gf(a));this._platformLocation.pushState(e,n,o)}replaceState(e,n,i,a){const o=this.prepareExternalUrl(i+gf(a));this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return r.\u0275fac=function(e){return new(e||r)(wn(g1),wn(c2,8))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),V8=(()=>{class r extends Ep{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=m1(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,i,a){let o=this.prepareExternalUrl(i+gf(a));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,n,o)}replaceState(e,n,i,a){let o=this.prepareExternalUrl(i+gf(a));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return r.\u0275fac=function(e){return new(e||r)(wn(g1),wn(c2,8))},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})(),Ky=(()=>{class r{constructor(e){this._subject=new Si,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function G8(r){if(new RegExp("^(https?:)?//").test(r)){const[,e]=r.split(/\/\/[^\/]+/);return e}return r}(l2(d2(n))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+gf(n))}normalize(e){return r.stripTrailingSlash(function U8(r,t){if(!r||!t.startsWith(r))return t;const e=t.substring(r.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,d2(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",i=null){this._locationStrategy.pushState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gf(n)),i)}replaceState(e,n="",i=null){this._locationStrategy.replaceState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gf(n)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(i=>i(e,n))}subscribe(e,n,i){return this._subject.subscribe({next:e,error:n,complete:i})}}return r.normalizeQueryParams=gf,r.joinWithSlash=m1,r.stripTrailingSlash=l2,r.\u0275fac=function(e){return new(e||r)(wn(Ep))},r.\u0275prov=vr({token:r,factory:function(){return function j8(){return new Ky(wn(Ep))}()},providedIn:"root"}),r})();function d2(r){return r.replace(/\/index.html$/,"")}const D1=/\s+/,b2=[];let T1=(()=>{class r{constructor(e,n,i,a){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=a,this.initialClasses=b2,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(D1):b2}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(D1):e}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const n of e)this._updateState(n,!0);else if(null!=e)for(const n of Object.keys(e))this._updateState(n,Boolean(e[n]));this._applyStateDiff()}_updateState(e,n){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==n&&(i.changed=!0,i.enabled=n),i.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const n=e[0],i=e[1];i.changed?(this._toggleClass(n,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),i.touched=!1}}_toggleClass(e,n){(e=e.trim()).length>0&&e.split(D1).forEach(i=>{n?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return r.\u0275fac=function(e){return new(e||r)(It(Xy),It(xm),It(Ni),It(cf))},r.\u0275dir=xe({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),r})();class TH{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sm=(()=>{class r{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,n,i){this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((i,a,o)=>{if(null==i.previousIndex)n.createEmbeddedView(this._template,new TH(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===a?void 0:a);else if(null!==a){const s=n.get(a);n.move(s,o),E2(s,i)}});for(let i=0,a=n.length;i<a;i++){const s=n.get(i).context;s.index=i,s.count=a,s.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{E2(n.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,n){return!0}}return r.\u0275fac=function(e){return new(e||r)(It(Hs),It(al),It(Xy))},r.\u0275dir=xe({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),r})();function E2(r,t){r.context.$implicit=t.item}let yf=(()=>{class r{constructor(e,n){this._viewContainer=e,this._context=new IH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){S2("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){S2("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}}return r.\u0275fac=function(e){return new(e||r)(It(Hs),It(al))},r.\u0275dir=xe({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),r})();class IH{constructor(){this.$implicit=null,this.ngIf=null}}function S2(r,t){if(t&&!t.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${Pr(t)}'.`)}class A1{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Mm=(()=>{class r{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const n=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const n of this._defaultViews)n.enforceState(e)}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=xe({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),r})(),I1=(()=>{class r{constructor(e,n,i){this.ngSwitch=i,i._addCase(),this._view=new A1(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(e){return new(e||r)(It(Hs),It(al),It(Mm,9))},r.\u0275dir=xe({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),r})(),M2=(()=>{class r{constructor(e,n,i){i._addDefault(new A1(e,n))}}return r.\u0275fac=function(e){return new(e||r)(It(Hs),It(al),It(Mm,9))},r.\u0275dir=xe({type:r,selectors:[["","ngSwitchDefault",""]],standalone:!0}),r})(),D2=(()=>{class r{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:o}=this;this._viewRef=n.createEmbeddedView(i,a,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return r.\u0275fac=function(e){return new(e||r)(It(Hs))},r.\u0275dir=xe({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[qo]}),r})(),oh=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({}),r})();const A2="browser";let aW=(()=>{class r{}return r.\u0275prov=vr({token:r,providedIn:"root",factory:()=>new oW(wn(sa),window)}),r})();class oW{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function sW(r,t){const e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const n=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const a=i.shadowRoot;if(a){const o=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(o)return o}i=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(n-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=I2(this.window.history)||I2(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function I2(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class RW extends L8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class R1 extends RW{static makeCurrent(){!function R8(r){v1||(v1=r)}(new R1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function LW(){return Dm=Dm||document.querySelector("base"),Dm?Dm.getAttribute("href"):null}();return null==e?null:function FW(r){s_=s_||document.createElement("a"),s_.setAttribute("href",r);const t=s_.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Dm=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function CH(r,t){t=encodeURIComponent(t);for(const e of r.split(";")){const n=e.indexOf("="),[i,a]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(i.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let s_,Dm=null;const R2=new ir("TRANSITION_ID"),zW=[{provide:Uy,useFactory:function BW(r,t,e){return()=>{e.get(Gy).donePromise.then(()=>{const n=vf(),i=t.querySelectorAll(`style[ng-transition="${r}"]`);for(let a=0;a<i.length;a++)n.remove(i[a])})}},deps:[R2,sa,Gs],multi:!0}];let jW=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})();const l_=new ir("EventManagerPlugins");let c_=(()=>{class r{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,i){return this._findPluginFor(n).addEventListener(e,n,i)}addGlobalEventListener(e,n,i){return this._findPluginFor(n).addGlobalEventListener(e,n,i)}getZone(){return this._zone}_findPluginFor(e){const n=this._eventNameToPlugin.get(e);if(n)return n;const i=this._plugins;for(let a=0;a<i.length;a++){const o=i[a];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return r.\u0275fac=function(e){return new(e||r)(wn(l_),wn(ci))},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})();class L2{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=vf().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let F2=(()=>{class r{constructor(){this.usageCount=new Map}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)0===this.changeUsageCount(n,-1)&&this.onStyleRemoved(n)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,n){const i=this.usageCount;let a=i.get(e)??0;return a+=n,a>0?i.set(e,a):i.delete(e),a}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})(),Tm=(()=>{class r extends F2{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.forEach(a=>a.remove()),n.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,n){const i=this.doc.createElement("style");i.textContent=n,e.appendChild(i);const a=this.styleRef.get(n);a?a.push(i):this.styleRef.set(n,[i])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return r.\u0275fac=function(e){return new(e||r)(wn(sa))},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})();const L1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},F1=/%COMP%/g,V2=new ir("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function j2(r,t){return t.flat(100).map(e=>e.replace(F1,r))}function U2(r){return t=>{if("__ngUnwrap__"===t)return r;!1===r(t)&&(t.preventDefault(),t.returnValue=!1)}}let u_=(()=>{class r{constructor(e,n,i,a){this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new B1(e)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;const i=this.getOrCreateRenderer(e,n);return i instanceof W2?i.applyToHost(e):i instanceof z1&&i.applyStyles(),i}getOrCreateRenderer(e,n){const i=this.rendererByCompId;let a=i.get(n.id);if(!a){const o=this.eventManager,s=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(n.encapsulation){case Xo.Emulated:a=new W2(o,s,n,this.appId,l);break;case Xo.ShadowDom:return new XW(o,s,e,n);default:a=new z1(o,s,n,l)}a.onDestroy=()=>i.delete(n.id),i.set(n.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return r.\u0275fac=function(e){return new(e||r)(wn(c_),wn(Tm),wn(bm),wn(V2))},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})();class B1{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(L1[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(H2(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(H2(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const a=L1[i];a?t.setAttributeNS(a,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=L1[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(le.DashCase|le.Important)?t.style.setProperty(e,n,i&le.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&le.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,U2(n)):this.eventManager.addEventListener(t,e,U2(n))}}function H2(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class XW extends B1{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=j2(i.id,i.styles);for(const o of a){const s=document.createElement("style");s.textContent=o,this.shadowRoot.appendChild(s)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class z1 extends B1{constructor(t,e,n,i,a=n.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=j2(a,n.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class W2 extends z1{constructor(t,e,n,i,a){const o=i+"-"+n.id;super(t,e,n,a,o),this.contentAttr=function WW(r){return"_ngcontent-%COMP%".replace(F1,r)}(o),this.hostAttr=function YW(r){return"_nghost-%COMP%".replace(F1,r)}(o)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}let KW=(()=>{class r extends L2{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,i){return e.addEventListener(n,i,!1),()=>this.removeEventListener(e,n,i)}removeEventListener(e,n,i){return e.removeEventListener(n,i)}}return r.\u0275fac=function(e){return new(e||r)(wn(sa))},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})();const Y2=["alt","control","meta","shift"],qW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZW={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let QW=(()=>{class r extends L2{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,n,i){const a=r.parseEventName(n),o=r.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vf().onAndCancel(e,a.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const a=r._normalizeKey(n.pop());let o="",s=n.indexOf("code");if(s>-1&&(n.splice(s,1),o="code."),Y2.forEach(c=>{const u=n.indexOf(c);u>-1&&(n.splice(u,1),o+=c+".")}),o+=a,0!=n.length||0===a.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(e,n){let i=qW[e.key]||e.key,a="";return n.indexOf("code.")>-1&&(i=e.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Y2.forEach(o=>{o!==i&&(0,ZW[o])(e)&&(a+=o+".")}),a+=i,a===n)}static eventCallback(e,n,i){return a=>{r.matchEventFullKeyCode(a,e)&&i.runGuarded(()=>n(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return r.\u0275fac=function(e){return new(e||r)(wn(sa))},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})();const X2=[{provide:t1,useValue:A2},{provide:OI,useValue:function JW(){R1.makeCurrent()},multi:!0},{provide:sa,useFactory:function t9(){return function Rz(r){Ux=r}(document),document},deps:[]}],n9=UI(k8,"browser",X2),K2=new ir(""),q2=[{provide:Hy,useClass:class VW{addToWindow(t){fa.getAngularTestability=(n,i=!0)=>{const a=t.findTestabilityInTree(n,i);if(null==a)throw new Error("Could not find testability for element.");return a},fa.getAllAngularTestabilities=()=>t.getAllTestabilities(),fa.getAllAngularRootElements=()=>t.getAllRootElements(),fa.frameworkStabilizers||(fa.frameworkStabilizers=[]),fa.frameworkStabilizers.push(n=>{const i=fa.getAllAngularTestabilities();let a=i.length,o=!1;const s=function(l){o=o||l,a--,0==a&&n(o)};i.forEach(function(l){l.whenStable(s)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?vf().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:FI,useClass:o1,deps:[ci,s1,Hy]},{provide:o1,useClass:o1,deps:[ci,s1,Hy]}],Z2=[{provide:qx,useValue:"root"},{provide:uf,useFactory:function e9(){return new uf},deps:[]},{provide:l_,useClass:KW,multi:!0,deps:[sa,ci,t1]},{provide:l_,useClass:QW,multi:!0,deps:[sa]},{provide:u_,useClass:u_,deps:[c_,Tm,bm,V2]},{provide:im,useExisting:u_},{provide:F2,useExisting:Tm},{provide:Tm,useClass:Tm,deps:[sa]},{provide:c_,useClass:c_,deps:[l_,ci]},{provide:class lW{},useClass:jW,deps:[]},[]];let Q2=(()=>{class r{constructor(e){}static withServerTransition(e){return{ngModule:r,providers:[{provide:bm,useValue:e.appId},{provide:R2,useExisting:bm},zW]}}}return r.\u0275fac=function(e){return new(e||r)(wn(K2,12))},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({providers:[...Z2,...q2],imports:[oh,N8]}),r})(),J2=(()=>{class r{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return r.\u0275fac=function(e){return new(e||r)(wn(sa))},r.\u0275prov=vr({token:r,factory:function(e){let n=null;return n=e?new e:function i9(){return new J2(wn(sa))}(),n},providedIn:"root"}),r})();typeof window<"u"&&window;let U1=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:function(e){let n=null;return n=e?new(e||r):wn(nO),n},providedIn:"root"}),r})(),nO=(()=>{class r extends U1{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case Fa.NONE:return n;case Fa.HTML:return fd(n,"HTML")?dc(n):_D(this._doc,String(n)).toString();case Fa.STYLE:return fd(n,"Style")?dc(n):n;case Fa.SCRIPT:if(fd(n,"Script"))return dc(n);throw new Error("unsafe value used in a script context");case Fa.URL:return fd(n,"URL")?dc(n):py(String(n));case Fa.RESOURCE_URL:if(fd(n,"ResourceURL"))return dc(n);throw new Error(`unsafe value used in a resource URL context (see ${Oe})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${Oe})`)}}bypassSecurityTrustHtml(e){return function Uz(r){return new Lz(r)}(e)}bypassSecurityTrustStyle(e){return function Gz(r){return new Fz(r)}(e)}bypassSecurityTrustScript(e){return function Hz(r){return new Bz(r)}(e)}bypassSecurityTrustUrl(e){return function Wz(r){return new zz(r)}(e)}bypassSecurityTrustResourceUrl(e){return function Yz(r){return new Vz(r)}(e)}}return r.\u0275fac=function(e){return new(e||r)(wn(sa))},r.\u0275prov=vr({token:r,factory:function(e){let n=null;return n=e?new e:function c9(r){return new nO(r.get(sa))}(wn(Gs)),n},providedIn:"root"}),r})();function Kr(...r){return Dn(r,rt(r))}class Uc extends Bt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}const d_=L(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:u9}=Array,{getPrototypeOf:d9,prototype:f9,keys:h9}=Object;function rO(r){if(1===r.length){const t=r[0];if(u9(t))return{args:t,keys:null};if(function p9(r){return r&&"object"==typeof r&&d9(r)===f9}(t)){const e=h9(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:r,keys:null}}const{isArray:v9}=Array;function G1(r){return qn(t=>function g9(r,t){return v9(t)?r(...t):r(t)}(r,t))}function iO(r,t){return r.reduce((e,n,i)=>(e[n]=t[i],e),{})}function H1(...r){const t=rt(r),e=it(r),{args:n,keys:i}=rO(r);if(0===n.length)return Dn([],t);const a=new Be(function m9(r,t,e=$e){return n=>{aO(t,()=>{const{length:i}=r,a=new Array(i);let o=i,s=i;for(let l=0;l<i;l++)aO(t,()=>{const c=Dn(r[l],t);let u=!1;c.subscribe(Hn(n,d=>{a[l]=d,u||(u=!0,s--),s||n.next(e(a.slice()))},()=>{--o||n.complete()}))},n)},n)}}(n,t,i?o=>iO(i,o):$e));return e?a.pipe(G1(e)):a}function aO(r,t,e){r?Vr(e,r,t):t()}function f_(...r){return function y9(){return V(1)}()(Dn(r,rt(r)))}function W1(r){return new Be(t=>{kr(r()).subscribe(t)})}function ag(r,t){const e=k(r)?r:()=>r,n=i=>i.error(e());return new Be(t?i=>t.schedule(n,0,i):n)}function Y1(){return je((r,t)=>{let e=null;r._refCount++;const n=Hn(t,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(e=null);const i=r._connection,a=e;e=null,i&&(!a||i===a)&&i.unsubscribe(),t.unsubscribe()});r.subscribe(n),n.closed||(e=r.connect())})}class oO extends Be{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,kn(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new $;const e=this.getSubject();t.add(this.source.subscribe(Hn(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=$.EMPTY)}return t}refCount(){return Y1()(this)}}function hc(r,t){return je((e,n)=>{let i=null,a=0,o=!1;const s=()=>o&&!i&&n.complete();e.subscribe(Hn(n,l=>{i?.unsubscribe();let c=0;const u=a++;kr(r(l,u)).subscribe(i=Hn(n,d=>n.next(t?t(l,d,u,c++):d),()=>{i=null,s()}))},()=>{o=!0,s()}))})}function pc(r){return r<=0?()=>C:je((t,e)=>{let n=0;t.subscribe(Hn(e,i=>{++n<=r&&(e.next(i),r<=n&&e.complete())}))})}function lh(...r){const t=rt(r);return je((e,n)=>{(t?f_(r,e,t):f_(r,e)).subscribe(n)})}function wl(r,t){return je((e,n)=>{let i=0;e.subscribe(Hn(n,a=>r.call(t,a,i++)&&n.next(a)))})}function h_(r){return je((t,e)=>{let n=!1;t.subscribe(Hn(e,i=>{n=!0,e.next(i)},()=>{n||e.next(r),e.complete()}))})}function sO(r=_9){return je((t,e)=>{let n=!1;t.subscribe(Hn(e,i=>{n=!0,e.next(i)},()=>n?e.complete():e.error(r())))})}function _9(){return new d_}function ch(r,t){const e=arguments.length>=2;return n=>n.pipe(r?wl((i,a)=>r(i,a,n)):$e,pc(1),e?h_(t):sO(()=>new d_))}function uh(r,t){return k(t)?G(r,t,1):G(r,1)}function rs(r,t,e){const n=k(r)||t||e?{next:r,error:t,complete:e}:r;return n?je((i,a)=>{var o;null===(o=n.subscribe)||void 0===o||o.call(n);let s=!0;i.subscribe(Hn(a,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),a.next(l)},()=>{var l;s=!1,null===(l=n.complete)||void 0===l||l.call(n),a.complete()},l=>{var c;s=!1,null===(c=n.error)||void 0===c||c.call(n,l),a.error(l)},()=>{var l,c;s&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):$e}function _f(r){return je((t,e)=>{let a,n=null,i=!1;n=t.subscribe(Hn(e,void 0,void 0,o=>{a=kr(r(o,_f(r)(t))),n?(n.unsubscribe(),n=null,a.subscribe(e)):i=!0})),i&&(n.unsubscribe(),n=null,a.subscribe(e))})}function lO(r,t){return je(function b9(r,t,e,n,i){return(a,o)=>{let s=e,l=t,c=0;a.subscribe(Hn(o,u=>{const d=c++;l=s?r(l,u,d):(s=!0,u),n&&o.next(l)},i&&(()=>{s&&o.next(l),o.complete()})))}}(r,t,arguments.length>=2,!0))}function $1(r){return r<=0?()=>C:je((t,e)=>{let n=[];t.subscribe(Hn(e,i=>{n.push(i),r<n.length&&n.shift()},()=>{for(const i of n)e.next(i);e.complete()},void 0,()=>{n=null}))})}function cO(r,t){const e=arguments.length>=2;return n=>n.pipe(r?wl((i,a)=>r(i,a,n)):$e,$1(1),e?h_(t):sO(()=>new d_))}function uO(r,t=!1){return je((e,n)=>{let i=0;e.subscribe(Hn(n,a=>{const o=r(a,i++);(o||t)&&n.next(a),!o&&n.complete()}))})}function p_(r){return je((t,e)=>{try{t.subscribe(e)}finally{e.add(r)}})}const Qi="primary",Am=Symbol("RouteTitle");class w9{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function og(r){return new w9(r)}function E9(r,t,e){const n=e.path.split("/");if(n.length>r.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<r.length))return null;const i={};for(let a=0;a<n.length;a++){const o=n[a],s=r[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:r.slice(0,n.length),posParams:i}}function yd(r,t){const e=r?Object.keys(r):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let i;for(let a=0;a<e.length;a++)if(i=e[a],!dO(r[i],t[i]))return!1;return!0}function dO(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;const e=[...r].sort(),n=[...t].sort();return e.every((i,a)=>n[a]===i)}return r===t}function fO(r){return Array.prototype.concat.apply([],r)}function hO(r){return r.length>0?r[r.length-1]:null}function Ws(r,t){for(const e in r)r.hasOwnProperty(e)&&t(r[e],e)}function dh(r){return Ew(r)?r:cm(r)?Dn(Promise.resolve(r)):Kr(r)}const v_=!1,M9={exact:function gO(r,t,e){if(!Sp(r.segments,t.segments)||!g_(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!r.children[n]||!gO(r.children[n],t.children[n],e))return!1;return!0},subset:mO},pO={exact:function C9(r,t){return yd(r,t)},subset:function D9(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>dO(r[e],t[e]))},ignored:()=>!0};function vO(r,t,e){return M9[e.paths](r.root,t.root,e.matrixParams)&&pO[e.queryParams](r.queryParams,t.queryParams)&&!("exact"===e.fragment&&r.fragment!==t.fragment)}function mO(r,t,e){return yO(r,t,t.segments,e)}function yO(r,t,e,n){if(r.segments.length>e.length){const i=r.segments.slice(0,e.length);return!(!Sp(i,e)||t.hasChildren()||!g_(i,e,n))}if(r.segments.length===e.length){if(!Sp(r.segments,e)||!g_(r.segments,e,n))return!1;for(const i in t.children)if(!r.children[i]||!mO(r.children[i],t.children[i],n))return!1;return!0}{const i=e.slice(0,r.segments.length),a=e.slice(r.segments.length);return!!(Sp(r.segments,i)&&g_(r.segments,i,n)&&r.children[Qi])&&yO(r.children[Qi],t,a,n)}}function g_(r,t,e){return t.every((n,i)=>pO[e](r[i].parameters,n.parameters))}class fh{constructor(t=new ha([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=og(this.queryParams)),this._queryParamMap}toString(){return I9.serialize(this)}}class ha{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ws(e,(n,i)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return m_(this)}}class Im{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=og(this.parameters)),this._parameterMap}toString(){return xO(this)}}function Sp(r,t){return r.length===t.length&&r.every((e,n)=>e.path===t[n].path)}let Om=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:function(){return new X1},providedIn:"root"}),r})();class X1{parse(t){const e=new z9(t);return new fh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${km(t.root,!0)}`,n=function N9(r){const t=Object.keys(r).map(e=>{const n=r[e];return Array.isArray(n)?n.map(i=>`${y_(e)}=${y_(i)}`).join("&"):`${y_(e)}=${y_(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function O9(r){return encodeURI(r)}(t.fragment)}`:""}`}}const I9=new X1;function m_(r){return r.segments.map(t=>xO(t)).join("/")}function km(r,t){if(!r.hasChildren())return m_(r);if(t){const e=r.children[Qi]?km(r.children[Qi],!1):"",n=[];return Ws(r.children,(i,a)=>{a!==Qi&&n.push(`${a}:${km(i,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function A9(r,t){let e=[];return Ws(r.children,(n,i)=>{i===Qi&&(e=e.concat(t(n,i)))}),Ws(r.children,(n,i)=>{i!==Qi&&(e=e.concat(t(n,i)))}),e}(r,(n,i)=>i===Qi?[km(r.children[Qi],!1)]:[`${i}:${km(n,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Qi]?`${m_(r)}/${e[0]}`:`${m_(r)}/(${e.join("//")})`}}function _O(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function y_(r){return _O(r).replace(/%3B/gi,";")}function K1(r){return _O(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function __(r){return decodeURIComponent(r)}function bO(r){return __(r.replace(/\+/g,"%20"))}function xO(r){return`${K1(r.path)}${function k9(r){return Object.keys(r).map(t=>`;${K1(t)}=${K1(r[t])}`).join("")}(r.parameters)}`}const P9=/^[^\/()?;=#]+/;function b_(r){const t=r.match(P9);return t?t[0]:""}const R9=/^[^=?&#]+/,F9=/^[^&#]+/;class z9{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ha([],{}):new ha([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Qi]=new ha(t,e)),n}parseSegment(){const t=b_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Pe(4009,v_);return this.capture(t),new Im(__(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=b_(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const i=b_(this.remaining);i&&(n=i,this.capture(n))}t[__(e)]=__(n)}parseQueryParam(t){const e=function L9(r){const t=r.match(R9);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const o=function B9(r){const t=r.match(F9);return t?t[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const i=bO(e),a=bO(n);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(a)}else t[i]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=b_(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Pe(4010,v_);let a;n.indexOf(":")>-1?(a=n.slice(0,n.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Qi);const o=this.parseChildren();e[a]=1===Object.keys(o).length?o[Qi]:new ha([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Pe(4011,v_)}}function q1(r){return r.segments.length>0?new ha([],{[Qi]:r}):r}function x_(r){const t={};for(const n of Object.keys(r.children)){const a=x_(r.children[n]);(a.segments.length>0||a.hasChildren())&&(t[n]=a)}return function V9(r){if(1===r.numberOfChildren&&r.children[Qi]){const t=r.children[Qi];return new ha(r.segments.concat(t.segments),t.children)}return r}(new ha(r.segments,t))}function Mp(r){return r instanceof fh}const Z1=!1;function j9(r,t,e,n,i){if(0===e.length)return sg(t.root,t.root,t.root,n,i);const a=function CO(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new MO(!0,0,r);let t=0,e=!1;const n=r.reduce((i,a,o)=>{if("object"==typeof a&&null!=a){if(a.outlets){const s={};return Ws(a.outlets,(l,c)=>{s[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:s}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===o?(a.split("/").forEach((s,l)=>{0==l&&"."===s||(0==l&&""===s?e=!0:".."===s?t++:""!=s&&i.push(s))}),i):[...i,a]},[]);return new MO(e,t,n)}(e);return a.toRoot()?sg(t.root,t.root,new ha([],{}),n,i):function o(l){const c=function G9(r,t,e,n){if(r.isAbsolute)return new lg(t.root,!0,0);if(-1===n)return new lg(e,e===t.root,0);return function DO(r,t,e){let n=r,i=t,a=e;for(;a>i;){if(a-=i,n=n.parent,!n)throw new Pe(4005,Z1&&"Invalid number of '../'");i=n.segments.length}return new lg(n,!1,i-a)}(e,n+(Nm(r.commands[0])?0:1),r.numberOfDoubleDots)}(a,t,r.snapshot?._urlSegment,l),u=c.processChildren?cg(c.segmentGroup,c.index,a.commands):Q1(c.segmentGroup,c.index,a.commands);return sg(t.root,c.segmentGroup,u,n,i)}(r.snapshot?._lastPathIndex)}function Nm(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Pm(r){return"object"==typeof r&&null!=r&&r.outlets}function sg(r,t,e,n,i){let o,a={};n&&Ws(n,(l,c)=>{a[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=r===t?e:SO(r,t,e);const s=q1(x_(o));return new fh(s,a,i)}function SO(r,t,e){const n={};return Ws(r.children,(i,a)=>{n[a]=i===t?e:SO(i,t,e)}),new ha(r.segments,n)}class MO{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Nm(n[0]))throw new Pe(4003,Z1&&"Root segment cannot have matrix parameters");const i=n.find(Pm);if(i&&i!==hO(n))throw new Pe(4004,Z1&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lg{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Q1(r,t,e){if(r||(r=new ha([],{})),0===r.segments.length&&r.hasChildren())return cg(r,t,e);const n=function W9(r,t,e){let n=0,i=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(n>=e.length)return a;const o=r.segments[i],s=e[n];if(Pm(s))break;const l=`${s}`,c=n<e.length-1?e[n+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!AO(l,c,o))return a;n+=2}else{if(!AO(l,{},o))return a;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(r,t,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){const a=new ha(r.segments.slice(0,n.pathIndex),{});return a.children[Qi]=new ha(r.segments.slice(n.pathIndex),r.children),cg(a,0,i)}return n.match&&0===i.length?new ha(r.segments,{}):n.match&&!r.hasChildren()?J1(r,t,e):n.match?cg(r,0,i):J1(r,t,e)}function cg(r,t,e){if(0===e.length)return new ha(r.segments,{});{const n=function H9(r){return Pm(r[0])?r[0].outlets:{[Qi]:r}}(e),i={};return!n[Qi]&&r.children[Qi]&&1===r.numberOfChildren&&0===r.children[Qi].segments.length?cg(r.children[Qi],t,e):(Ws(n,(a,o)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[o]=Q1(r.children[o],t,a))}),Ws(r.children,(a,o)=>{void 0===n[o]&&(i[o]=a)}),new ha(r.segments,i))}}function J1(r,t,e){const n=r.segments.slice(0,t);let i=0;for(;i<e.length;){const a=e[i];if(Pm(a)){const l=Y9(a.outlets);return new ha(n,l)}if(0===i&&Nm(e[0])){n.push(new Im(r.segments[t].path,TO(e[0]))),i++;continue}const o=Pm(a)?a.outlets[Qi]:`${a}`,s=i<e.length-1?e[i+1]:null;o&&s&&Nm(s)?(n.push(new Im(o,TO(s))),i+=2):(n.push(new Im(o,{})),i++)}return new ha(n,{})}function Y9(r){const t={};return Ws(r,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=J1(new ha([],{}),0,e))}),t}function TO(r){const t={};return Ws(r,(e,n)=>t[n]=`${e}`),t}function AO(r,t,e){return r==e.path&&yd(t,e.parameters)}const Rm="imperative";class _d{constructor(t,e){this.id=t,this.url=e}}class eE extends _d{constructor(t,e,n="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cp extends _d{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class w_ extends _d{constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class E_ extends _d{constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i,this.type=16}}class tE extends _d{constructor(t,e,n,i){super(t,e),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $9 extends _d{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X9 extends _d{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K9 extends _d{constructor(t,e,n,i,a){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class q9 extends _d{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z9 extends _d{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q9{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class J9{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class e7{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t7{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n7{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r7{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IO{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let o7=(()=>{class r{createUrlTree(e,n,i,a,o,s){return j9(e||n.root,i,a,o,s)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})(),l7=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:function(t){return o7.\u0275fac(t)},providedIn:"root"}),r})();class OO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=nE(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=nE(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=rE(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return rE(t,this._root).map(e=>e.value)}}function nE(r,t){if(r===t.value)return t;for(const e of t.children){const n=nE(r,e);if(n)return n}return null}function rE(r,t){if(r===t.value)return[t];for(const e of t.children){const n=rE(r,e);if(n.length)return n.unshift(t),n}return[]}class bf{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ug(r){const t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}class kO extends OO{constructor(t,e){super(t),this.snapshot=e,iE(this,t)}toString(){return this.snapshot.toString()}}function NO(r,t){const e=function c7(r,t){const o=new S_([],{},{},"",{},Qi,t,null,r.root,-1,{});return new RO("",new bf(o,[]))}(r,t),n=new Uc([new Im("",{})]),i=new Uc({}),a=new Uc({}),o=new Uc({}),s=new Uc(""),l=new dg(n,i,o,s,a,Qi,t,e.root);return l.snapshot=e.root,new kO(new bf(l,[]),e)}class dg{constructor(t,e,n,i,a,o,s,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.title=this.data?.pipe(qn(c=>c[Am]))??Kr(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(qn(t=>og(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(qn(t=>og(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PO(r,t="emptyOnly"){const e=r.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const i=e[n],a=e[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(a.component)break;n--}}return function u7(r){return r.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(n))}class S_{get title(){return this.data?.[Am]}constructor(t,e,n,i,a,o,s,l,c,u,d){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=og(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=og(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RO extends OO{constructor(t,e){super(e),this.url=t,iE(this,e)}toString(){return LO(this._root)}}function iE(r,t){t.value._routerState=r,t.children.forEach(e=>iE(r,e))}function LO(r){const t=r.children.length>0?` { ${r.children.map(LO).join(", ")} } `:"";return`${r.value}${t}`}function aE(r){if(r.snapshot){const t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,yd(t.queryParams,e.queryParams)||r.queryParams.next(e.queryParams),t.fragment!==e.fragment&&r.fragment.next(e.fragment),yd(t.params,e.params)||r.params.next(e.params),function S9(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!yd(r[e],t[e]))return!1;return!0}(t.url,e.url)||r.url.next(e.url),yd(t.data,e.data)||r.data.next(e.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function oE(r,t){const e=yd(r.params,t.params)&&function T9(r,t){return Sp(r,t)&&r.every((e,n)=>yd(e.parameters,t[n].parameters))}(r.url,t.url);return e&&!(!r.parent!=!t.parent)&&(!r.parent||oE(r.parent,t.parent))}function Lm(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const i=function f7(r,t,e){return t.children.map(n=>{for(const i of e.children)if(r.shouldReuseRoute(n.value,i.value.snapshot))return Lm(r,n,i);return Lm(r,n)})}(r,t,e);return new bf(n,i)}{if(r.shouldAttach(t.value)){const a=r.retrieve(t.value);if(null!==a){const o=a.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(s=>Lm(r,s)),o}}const n=function h7(r){return new dg(new Uc(r.url),new Uc(r.params),new Uc(r.queryParams),new Uc(r.fragment),new Uc(r.data),r.outlet,r.component,r)}(t.value),i=t.children.map(a=>Lm(r,a));return new bf(n,i)}}const sE="ngNavigationCancelingError";function FO(r,t){const{redirectTo:e,navigationBehaviorOptions:n}=Mp(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=BO(!1,0,t);return i.url=e,i.navigationBehaviorOptions=n,i}function BO(r,t,e){const n=new Error("NavigationCancelingError: "+(r||""));return n[sE]=!0,n.cancellationCode=t,e&&(n.url=e),n}function zO(r){return VO(r)&&Mp(r.url)}function VO(r){return r&&r[sE]}class p7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Fm,this.attachRef=null}}let Fm=(()=>{class r{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new p7,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const M_=!1;let lE=(()=>{class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qi,this.activateEvents=new Si,this.deactivateEvents=new Si,this.attachEvents=new Si,this.detachEvents=new Si,this.parentContexts=ui(Fm),this.location=ui(Hs),this.changeDetector=ui(es),this.environmentInjector=ui(lf)}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:i}=e.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Pe(4012,M_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Pe(4012,M_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Pe(4012,M_);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Pe(4013,M_);this._activatedRoute=e;const i=this.location,o=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new v7(e,s,i.injector);if(n&&function g7(r){return!!r.resolveComponentFactory}(n)){const c=n.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:n??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=xe({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qo]}),r})();class v7{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===dg?this.route:t===Fm?this.childContexts:this.parent.get(t,e)}}let cE=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ua({type:r,selectors:[["ng-component"]],standalone:!0,features:[zw],decls:1,vars:0,template:function(e,n){1&e&&Ra(0,"router-outlet")},dependencies:[lE],encapsulation:2}),r})();function jO(r,t){return r.providers&&!r._injector&&(r._injector=By(r.providers,t,`Route: ${r.path}`)),r._injector??t}function dE(r){const t=r.children&&r.children.map(dE),e=t?{...r,children:t}:{...r};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Qi&&(e.component=cE),e}function Gc(r){return r.outlet||Qi}function UO(r,t){const e=r.filter(n=>Gc(n)===t);return e.push(...r.filter(n=>Gc(n)!==t)),e}function Bm(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class x7{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),aE(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=ug(e);t.children.forEach(a=>{const o=a.value.outlet;this.deactivateRoutes(a,i[o],n),delete i[o]}),Ws(i,(a,o)=>{this.deactivateRouteAndItsChildren(a,n)})}deactivateRoutes(t,e,n){const i=t.value,a=e?e.value:null;if(i===a)if(i.component){const o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else a&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,a=ug(t);for(const o of Object.keys(a))this.deactivateRouteAndItsChildren(a[o],i);if(n&&n.outlet){const o=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,a=ug(t);for(const o of Object.keys(a))this.deactivateRouteAndItsChildren(a[o],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const i=ug(e);t.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],n),this.forwardEvent(new r7(a.value.snapshot))}),t.children.length&&this.forwardEvent(new t7(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,a=e?e.value:null;if(aE(i),i===a)if(i.component){const o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),aE(s.route.value),this.activateChildRoutes(t,null,o.children)}else{const s=Bm(i.snapshot),l=s?.get(nh)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=s,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)}}class GO{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class C_{constructor(t,e){this.component=t,this.route=e}}function w7(r,t,e){const n=r._root;return zm(n,t?t._root:null,e,[n.value])}function fg(r,t){const e=Symbol(),n=t.get(r,e);return n===e?"function"!=typeof r||function dl(r){return null!==us(r)}(r)?t.get(r):r:n}function zm(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=ug(t);return r.children.forEach(o=>{(function S7(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=r.value,o=t?t.value:null,s=e?e.getContext(r.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){const l=function M7(r,t,e){if("function"==typeof e)return e(r,t);switch(e){case"pathParamsChange":return!Sp(r.url,t.url);case"pathParamsOrQueryParamsChange":return!Sp(r.url,t.url)||!yd(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oE(r,t)||!yd(r.queryParams,t.queryParams);default:return!oE(r,t)}}(o,a,a.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new GO(n)):(a.data=o.data,a._resolvedData=o._resolvedData),zm(r,t,a.component?s?s.children:null:e,n,i),l&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new C_(s.outlet.component,o))}else o&&Vm(t,s,i),i.canActivateChecks.push(new GO(n)),zm(r,null,a.component?s?s.children:null:e,n,i)})(o,a[o.value.outlet],e,n.concat([o.value]),i),delete a[o.value.outlet]}),Ws(a,(o,s)=>Vm(o,e.getContext(s),i)),i}function Vm(r,t,e){const n=ug(r),i=r.value;Ws(n,(a,o)=>{Vm(a,i.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new C_(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function jm(r){return"function"==typeof r}function fE(r){return r instanceof d_||"EmptyError"===r?.name}const D_=Symbol("INITIAL_VALUE");function hg(){return hc(r=>H1(r.map(t=>t.pipe(pc(1),lh(D_)))).pipe(qn(t=>{for(const e of t)if(!0!==e){if(e===D_)return D_;if(!1===e||e instanceof fh)return e}return!0}),wl(t=>t!==D_),pc(1)))}function HO(r){return function dt(...r){return De(r)}(rs(t=>{if(Mp(t))throw FO(0,t)}),qn(t=>!0===t))}const hE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WO(r,t,e,n,i){const a=pE(r,t,e);return a.matched?function U7(r,t,e,n){const i=t.canMatch;return i&&0!==i.length?Kr(i.map(o=>{const s=fg(o,r);return dh(function O7(r){return r&&jm(r.canMatch)}(s)?s.canMatch(t,e):r.runInContext(()=>s(t,e)))})).pipe(hg(),HO()):Kr(!0)}(n=jO(t,n),t,e).pipe(qn(o=>!0===o?a:{...hE})):Kr(a)}function pE(r,t,e){if(""===t.path)return"full"===t.pathMatch&&(r.hasChildren()||e.length>0)?{...hE}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||E9)(e,r,t);if(!i)return{...hE};const a={};Ws(i.posParams,(s,l)=>{a[l]=s.path});const o=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function T_(r,t,e,n){if(e.length>0&&function W7(r,t,e){return e.some(n=>A_(r,t,n)&&Gc(n)!==Qi)}(r,e,n)){const a=new ha(t,function H7(r,t,e,n){const i={};i[Qi]=n,n._sourceSegment=r,n._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&Gc(a)!==Qi){const o=new ha([],{});o._sourceSegment=r,o._segmentIndexShift=t.length,i[Gc(a)]=o}return i}(r,t,n,new ha(e,r.children)));return a._sourceSegment=r,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function Y7(r,t,e){return e.some(n=>A_(r,t,n))}(r,e,n)){const a=new ha(r.segments,function G7(r,t,e,n,i){const a={};for(const o of n)if(A_(r,e,o)&&!i[Gc(o)]){const s=new ha([],{});s._sourceSegment=r,s._segmentIndexShift=t.length,a[Gc(o)]=s}return{...i,...a}}(r,t,e,n,r.children));return a._sourceSegment=r,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const i=new ha(r.segments,r.children);return i._sourceSegment=r,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:e}}function A_(r,t,e){return(!(r.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function YO(r,t,e,n){return!!(Gc(r)===n||n!==Qi&&A_(t,e,r))&&("**"===r.path||pE(t,r,e).matched)}function $O(r,t,e){return 0===t.length&&!r.children[e]}const I_=!1;class O_{constructor(t){this.segmentGroup=t||null}}class XO{constructor(t){this.urlTree=t}}function Um(r){return ag(new O_(r))}function KO(r){return ag(new XO(r))}class q7{constructor(t,e,n,i,a){this.injector=t,this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const t=T_(this.urlTree.root,[],[],this.config).segmentGroup,e=new ha(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Qi).pipe(qn(a=>this.createUrlTree(x_(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_f(a=>{if(a instanceof XO)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof O_?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Qi).pipe(qn(i=>this.createUrlTree(x_(i),t.queryParams,t.fragment))).pipe(_f(i=>{throw i instanceof O_?this.noMatchError(i):i}))}noMatchError(t){return new Pe(4002,I_)}createUrlTree(t,e,n){const i=q1(t);return new fh(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(qn(a=>new ha([],a))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const a of Object.keys(n.children))"primary"===a?i.unshift(a):i.push(a);return Dn(i).pipe(uh(a=>{const o=n.children[a],s=UO(e,a);return this.expandSegmentGroup(t,s,o,a).pipe(qn(l=>({segment:l,outlet:a})))}),lO((a,o)=>(a[o.outlet]=o.segment,a),{}),cO())}expandSegment(t,e,n,i,a,o){return Dn(n).pipe(uh(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,a,o).pipe(_f(c=>{if(c instanceof O_)return Kr(null);throw c}))),ch(s=>!!s),_f((s,l)=>{if(fE(s))return $O(e,i,a)?Kr(new ha([],{})):Um(e);throw s}))}expandSegmentAgainstRoute(t,e,n,i,a,o,s){return YO(i,e,a,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,a,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,a,o):Um(e):Um(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,a,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,a,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?KO(a):this.lineralizeSegments(n,a).pipe(G(o=>{const s=new ha(o,{});return this.expandSegment(t,s,e,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,a,o){const{matched:s,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=pE(e,i,a);if(!s)return Um(e);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?KO(d):this.lineralizeSegments(i,d).pipe(G(h=>this.expandSegment(t,e,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,n,i,a){return"**"===n.path?(t=jO(n,t),n.loadChildren?(n._loadedRoutes?Kr({routes:n._loadedRoutes,injector:n._loadedInjector}):this.configLoader.loadChildren(t,n)).pipe(qn(s=>(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,new ha(i,{})))):Kr(new ha(i,{}))):WO(e,n,i,t).pipe(hc(({matched:o,consumedSegments:s,remainingSegments:l})=>o?this.getChildConfig(t=n._injector??t,n,i).pipe(G(u=>{const d=u.injector??t,h=u.routes,{segmentGroup:v,slicedSegments:y}=T_(e,s,l,h),D=new ha(v.segments,v.children);if(0===y.length&&D.hasChildren())return this.expandChildren(d,h,D).pipe(qn(J=>new ha(s,J)));if(0===h.length&&0===y.length)return Kr(new ha(s,{}));const F=Gc(n)===a;return this.expandSegment(d,D,h,y,F?Qi:a,!0).pipe(qn(Q=>new ha(s.concat(Q.segments),Q.children)))})):Um(e)))}getChildConfig(t,e,n){return e.children?Kr({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Kr({routes:e._loadedRoutes,injector:e._loadedInjector}):function j7(r,t,e,n){const i=t.canLoad;return void 0===i||0===i.length?Kr(!0):Kr(i.map(o=>{const s=fg(o,r);return dh(function D7(r){return r&&jm(r.canLoad)}(s)?s.canLoad(t,e):r.runInContext(()=>s(t,e)))})).pipe(hg(),HO())}(t,e,n).pipe(G(i=>i?this.configLoader.loadChildren(t,e).pipe(rs(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function X7(r){return ag(BO(I_,3))}())):Kr({routes:[],injector:t})}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Kr(n);if(i.numberOfChildren>1||!i.children[Qi])return t.redirectTo,ag(new Pe(4e3,I_));i=i.children[Qi]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreateUrlTree(t,e,n,i){const a=this.createSegmentGroup(t,e.root,n,i);return new fh(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ws(t,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const s=i.substring(1);n[a]=e[s]}else n[a]=i}),n}createSegmentGroup(t,e,n,i){const a=this.createSegments(t,e.segments,n,i);let o={};return Ws(e.children,(s,l)=>{o[l]=this.createSegmentGroup(t,s,n,i)}),new ha(a,o)}createSegments(t,e,n,i){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,i):this.findOrReturn(a,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Pe(4001,I_);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}class Q7{}class tY{constructor(t,e,n,i,a,o,s){this.injector=t,this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=o,this.urlSerializer=s}recognize(){const t=T_(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Qi).pipe(qn(e=>{if(null===e)return null;const n=new S_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qi,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new bf(n,e),a=new RO(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(t){const e=t.value,n=PO(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,i)}processChildren(t,e,n){return Dn(Object.keys(n.children)).pipe(uh(i=>{const a=n.children[i],o=UO(e,i);return this.processSegmentGroup(t,o,a,i)}),lO((i,a)=>i&&a?(i.push(...a),i):null),uO(i=>null!==i),h_(null),cO(),qn(i=>{if(null===i)return null;const a=ZO(i);return function nY(r){r.sort((t,e)=>t.value.outlet===Qi?-1:e.value.outlet===Qi?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}))}processSegment(t,e,n,i,a){return Dn(e).pipe(uh(o=>this.processSegmentAgainstRoute(o._injector??t,o,n,i,a)),ch(o=>!!o),_f(o=>{if(fE(o))return $O(n,i,a)?Kr([]):Kr(null);throw o}))}processSegmentAgainstRoute(t,e,n,i,a){if(e.redirectTo||!YO(e,n,i,a))return Kr(null);let o;if("**"===e.path){const s=i.length>0?hO(i).parameters:{},l=JO(n)+i.length;o=Kr({snapshot:new S_(i,s,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ek(e),Gc(e),e.component??e._loadedComponent??null,e,QO(n),l,tk(e)),consumedSegments:[],remainingSegments:[]})}else o=WO(n,e,i,t).pipe(qn(({matched:s,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!s)return null;const d=JO(n)+l.length;return{snapshot:new S_(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ek(e),Gc(e),e.component??e._loadedComponent??null,e,QO(n),d,tk(e)),consumedSegments:l,remainingSegments:c}}));return o.pipe(hc(s=>{if(null===s)return Kr(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=s;t=e._injector??t;const d=e._loadedInjector??t,h=function rY(r){return r.children?r.children:r.loadChildren?r._loadedRoutes:[]}(e),{segmentGroup:v,slicedSegments:y}=T_(n,c,u,h.filter(F=>void 0===F.redirectTo));if(0===y.length&&v.hasChildren())return this.processChildren(d,h,v).pipe(qn(F=>null===F?null:[new bf(l,F)]));if(0===h.length&&0===y.length)return Kr([new bf(l,[])]);const D=Gc(e)===a;return this.processSegment(d,h,v,y,D?Qi:a).pipe(qn(F=>null===F?null:[new bf(l,F)]))}))}}function iY(r){const t=r.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function ZO(r){const t=[],e=new Set;for(const n of r){if(!iY(n)){t.push(n);continue}const i=t.find(a=>n.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...n.children),e.add(i)):t.push(n)}for(const n of e){const i=ZO(n.children);t.push(new bf(n.value,i))}return t.filter(n=>!e.has(n))}function QO(r){let t=r;for(;t._sourceSegment;)t=t._sourceSegment;return t}function JO(r){let t=r,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function ek(r){return r.data||{}}function tk(r){return r.resolve||{}}function nk(r){return"string"==typeof r.title||null===r.title}function vE(r){return hc(t=>{const e=r(t);return e?Dn(e).pipe(qn(()=>t)):Kr(t)})}const pg=new ir("ROUTES");let gE=(()=>{class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ui(kI)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Kr(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=dh(e.loadComponent()).pipe(qn(ik),rs(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),p_(()=>{this.componentLoaders.delete(e)})),i=new oO(n,()=>new Bt).pipe(Y1());return this.componentLoaders.set(e,i),i}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Kr({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const a=this.loadModuleFactoryOrRoutes(n.loadChildren).pipe(qn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);let l,c,u=!1;Array.isArray(s)?c=s:(l=s.create(e).injector,c=fO(l.get(pg,[],Xr.Self|Xr.Optional)));return{routes:c.map(dE),injector:l}}),p_(()=>{this.childrenLoaders.delete(n)})),o=new oO(a,()=>new Bt).pipe(Y1());return this.childrenLoaders.set(n,o),o}loadModuleFactoryOrRoutes(e){return dh(e()).pipe(qn(ik),G(n=>n instanceof HA||Array.isArray(n)?Kr(n):Dn(this.compiler.compileModuleAsync(n))))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ik(r){return function fY(r){return r&&"object"==typeof r&&"default"in r}(r)?r.default:r}let N_=(()=>{class r{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Bt,this.configLoader=ui(gE),this.environmentInjector=ui(lf),this.urlSerializer=ui(Om),this.rootContexts=ui(Fm),this.navigationId=0,this.afterPreactivation=()=>Kr(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new J9(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Q9(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e){return this.transitions=new Uc({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rm,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wl(n=>0!==n.id),qn(n=>({...n,extractedUrl:e.urlHandlingStrategy.extract(n.rawUrl)})),hc(n=>{let i=!1,a=!1;return Kr(n).pipe(rs(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),hc(o=>{const s=e.browserUrlTree.toString(),l=!e.navigated||o.extractedUrl.toString()!==s||s!==e.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const u="";return this.events.next(new E_(o.id,e.serializeUrl(n.rawUrl),u,0)),e.rawUrlTree=o.rawUrl,o.resolve(null),C}if(e.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ak(o.source)&&(e.browserUrlTree=o.extractedUrl),Kr(o).pipe(hc(u=>{const d=this.transitions?.getValue();return this.events.next(new eE(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?C:Promise.resolve(u)}),function Z7(r,t,e,n){return hc(i=>function K7(r,t,e,n,i){return new q7(r,t,e,n,i).apply()}(r,t,e,i.extractedUrl,n).pipe(qn(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),rs(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},n.urlAfterRedirects=u.urlAfterRedirects}),function oY(r,t,e,n,i){return G(a=>function eY(r,t,e,n,i,a,o="emptyOnly"){return new tY(r,t,e,n,i,o,a).recognize().pipe(hc(s=>null===s?function J7(r){return new Be(t=>t.error(r))}(new Q7):Kr(s)))}(r,t,e,a.urlAfterRedirects,n.serialize(a.urlAfterRedirects),n,i).pipe(qn(o=>({...a,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),rs(u=>{if(n.targetSnapshot=u.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=e.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);e.setBrowserUrl(h,u)}e.browserUrlTree=u.urlAfterRedirects}const d=new $9(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:v,extras:y}=o,D=new eE(u,this.urlSerializer.serialize(d),h,v);this.events.next(D);const F=NO(d,this.rootComponentType).snapshot;return Kr(n={...o,targetSnapshot:F,urlAfterRedirects:d,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new E_(o.id,e.serializeUrl(n.extractedUrl),u,1)),e.rawUrlTree=o.rawUrl,o.resolve(null),C}}),rs(o=>{const s=new X9(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),qn(o=>n={...o,guards:w7(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function N7(r,t){return G(e=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:o}}=e;return 0===o.length&&0===a.length?Kr({...e,guardsResult:!0}):function P7(r,t,e,n){return Dn(r).pipe(G(i=>function V7(r,t,e,n,i){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?Kr(a.map(s=>{const l=Bm(t)??i,c=fg(s,l);return dh(function I7(r){return r&&jm(r.canDeactivate)}(c)?c.canDeactivate(r,t,e,n):l.runInContext(()=>c(r,t,e,n))).pipe(ch())})).pipe(hg()):Kr(!0)}(i.component,i.route,e,t,n)),ch(i=>!0!==i,!0))}(o,n,i,r).pipe(G(s=>s&&function C7(r){return"boolean"==typeof r}(s)?function R7(r,t,e,n){return Dn(t).pipe(uh(i=>f_(function F7(r,t){return null!==r&&t&&t(new e7(r)),Kr(!0)}(i.route.parent,n),function L7(r,t){return null!==r&&t&&t(new n7(r)),Kr(!0)}(i.route,n),function z7(r,t,e){const n=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(o=>function E7(r){const t=r.routeConfig?r.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:r,guards:t}:null}(o)).filter(o=>null!==o).map(o=>W1(()=>Kr(o.guards.map(l=>{const c=Bm(o.node)??e,u=fg(l,c);return dh(function A7(r){return r&&jm(r.canActivateChild)}(u)?u.canActivateChild(n,r):c.runInContext(()=>u(n,r))).pipe(ch())})).pipe(hg())));return Kr(a).pipe(hg())}(r,i.path,e),function B7(r,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Kr(!0);const i=n.map(a=>W1(()=>{const o=Bm(t)??e,s=fg(a,o);return dh(function T7(r){return r&&jm(r.canActivate)}(s)?s.canActivate(t,r):o.runInContext(()=>s(t,r))).pipe(ch())}));return Kr(i).pipe(hg())}(r,i.route,e))),ch(i=>!0!==i,!0))}(n,a,r,t):Kr(s)),qn(s=>({...e,guardsResult:s})))})}(this.environmentInjector,o=>this.events.next(o)),rs(o=>{if(n.guardsResult=o.guardsResult,Mp(o.guardsResult))throw FO(0,o.guardsResult);const s=new K9(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),wl(o=>!!o.guardsResult||(e.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),vE(o=>{if(o.guards.canActivateChecks.length)return Kr(o).pipe(rs(s=>{const l=new q9(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),hc(s=>{let l=!1;return Kr(s).pipe(function sY(r,t){return G(e=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=e;if(!i.length)return Kr(e);let a=0;return Dn(i).pipe(uh(o=>function lY(r,t,e,n){const i=r.routeConfig,a=r._resolve;return void 0!==i?.title&&!nk(i)&&(a[Am]=i.title),function cY(r,t,e,n){const i=function uY(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===i.length)return Kr({});const a={};return Dn(i).pipe(G(o=>function dY(r,t,e,n){const i=Bm(t)??n,a=fg(r,i);return dh(a.resolve?a.resolve(t,e):i.runInContext(()=>a(t,e)))}(r[o],t,e,n).pipe(ch(),rs(s=>{a[o]=s}))),$1(1),function x9(r){return qn(()=>r)}(a),_f(o=>fE(o)?C:ag(o)))}(a,r,t,n).pipe(qn(o=>(r._resolvedData=o,r.data=PO(r,e).resolve,i&&nk(i)&&(r.data[Am]=i.title),null)))}(o.route,n,r,t)),rs(()=>a++),$1(1),G(o=>a===i.length?Kr(e):C))})}(e.paramsInheritanceStrategy,this.environmentInjector),rs({next:()=>l=!0,complete:()=>{l||(e.restoreHistory(s),this.cancelNavigationTransition(s,"",2))}}))}),rs(s=>{const l=new Z9(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),vE(o=>{const s=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(rs(u=>{l.component=u}),qn(()=>{})));for(const u of l.children)c.push(...s(u));return c};return H1(s(o.targetSnapshot.root)).pipe(h_(),pc(1))}),vE(()=>this.afterPreactivation()),qn(o=>{const s=function d7(r,t,e){const n=Lm(r,t._root,e?e._root:void 0);return new kO(n,t)}(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return n={...o,targetRouterState:s}}),rs(o=>{e.currentUrlTree=o.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),e.routerState=o.targetRouterState,"deferred"===e.urlUpdateStrategy&&(o.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,o),e.browserUrlTree=o.urlAfterRedirects)}),((r,t,e)=>qn(n=>(new x7(t,n.targetRouterState,n.currentRouterState,e).activate(r),n)))(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o)),rs({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Cp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),p_(()=>{i||a||this.cancelNavigationTransition(n,"",1),this.currentNavigation?.id===n.id&&(this.currentNavigation=null)}),_f(o=>{if(a=!0,VO(o)){zO(o)||(e.navigated=!0,e.restoreHistory(n,!0));const s=new w_(n.id,this.urlSerializer.serialize(n.extractedUrl),o.message,o.cancellationCode);if(this.events.next(s),zO(o)){const l=e.urlHandlingStrategy.merge(o.url,e.rawUrlTree),c={skipLocationChange:n.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||ak(n.source)};e.scheduleNavigation(l,Rm,null,c,{resolve:n.resolve,reject:n.reject,promise:n.promise})}else n.resolve(!1)}else{e.restoreHistory(n,!0);const s=new tE(n.id,this.urlSerializer.serialize(n.extractedUrl),o,n.targetSnapshot??void 0);this.events.next(s);try{n.resolve(e.errorHandler(o))}catch(l){n.reject(l)}}return C}))}))}cancelNavigationTransition(e,n,i){const a=new w_(e.id,this.urlSerializer.serialize(e.extractedUrl),n,i);this.events.next(a),e.resolve(!1)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ak(r){return r!==Rm}let ok=(()=>{class r{buildTitle(e){let n,i=e.root;for(;void 0!==i;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(a=>a.outlet===Qi);return n}getResolvedTitleForRoute(e){return e.data[Am]}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:function(){return ui(hY)},providedIn:"root"}),r})(),hY=(()=>{class r extends ok{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}}return r.\u0275fac=function(e){return new(e||r)(wn(J2))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),pY=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:function(){return ui(gY)},providedIn:"root"}),r})();class vY{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let gY=(()=>{class r extends vY{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=oo(r)))(n||r)}}(),r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const P_=new ir("",{providedIn:"root",factory:()=>({})});let yY=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:function(){return ui(_Y)},providedIn:"root"}),r})(),_Y=(()=>{class r{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function bY(r){throw r}function xY(r,t,e){return t.parse("/")}const wY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vc=(()=>{class r{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ui(J6),this.isNgZoneEnabled=!1,this.options=ui(P_,{optional:!0})||{},this.errorHandler=this.options.errorHandler||bY,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xY,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ui(yY),this.routeReuseStrategy=ui(pY),this.urlCreationStrategy=ui(l7),this.titleStrategy=ui(ok),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=fO(ui(pg,{optional:!0})??[]),this.navigationTransitions=ui(N_),this.urlSerializer=ui(Om),this.location=ui(Ky),this.isNgZoneEnabled=ui(ci)instanceof ci&&ci.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=NO(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rm,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,n,e.state)},0)}))}navigateToSyncWithBrowser(e,n,i){const a={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}const s=this.parseUrl(e);this.scheduleNavigation(s,n,o,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(dE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,n={}){const{relativeTo:i,queryParams:a,fragment:o,queryParamsHandling:s,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:o;let u=null;switch(s){case"merge":u={...this.currentUrlTree.queryParams,...a};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=a||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,e,u,c??null)}navigateByUrl(e,n={skipLocationChange:!1}){const i=Mp(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Rm,null,n)}navigate(e,n={skipLocationChange:!1}){return function SY(r){for(let t=0;t<r.length;t++){const e=r[t];if(null==e)throw new Pe(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(i){n=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return n}isActive(e,n){let i;if(i=!0===n?{...wY}:!1===n?{...EY}:n,Mp(e))return vO(this.currentUrlTree,e,i);const a=this.parseUrl(e);return vO(this.currentUrlTree,a,i)}removeEmptyProps(e){return Object.keys(e).reduce((n,i)=>{const a=e[i];return null!=a&&(n[i]=a),n},{})}scheduleNavigation(e,n,i,a,o){if(this.disposed)return Promise.resolve(!1);let s,l,c,u;return o?(s=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{s=d,l=h}),u="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(e,n){const i=this.urlSerializer.serialize(e),a={...n.extras.state,...this.generateNgRouterState(n.id,n.targetPageId)};this.location.isCurrentPathEqualTo(i)||n.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Dp=(()=>{class r{constructor(e,n,i,a,o,s){this.router=e,this.route=n,this.tabIndexAttribute=i,this.renderer=a,this.el=o,this.locationStrategy=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Bt;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Cp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=ig(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=ig(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=ig(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,i,a,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||n||i||a||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function wD(r,t,e){return function sV(r,t){return"src"===t&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===t&&("base"===r||"link"===r)?xD:bD}(t,e)(r)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,n){const i=this.renderer,a=this.el.nativeElement;null!==n?i.setAttribute(a,e,n):i.removeAttribute(a,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return r.\u0275fac=function(e){return new(e||r)(It(vc),It(dg),Rc("tabindex"),It(cf),It(Ni),It(Ep))},r.\u0275dir=xe({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,n){1&e&&ri("click",function(a){return n.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&e&&to("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[qo]}),r})();class sk{}let DY=(()=>{class r{constructor(e,n,i,a,o){this.router=e,this.injector=i,this.preloadingStrategy=a,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(wl(e=>e instanceof Cp),uh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const i=[];for(const a of n){a.providers&&!a._injector&&(a._injector=By(a.providers,e,`Route: ${a.path}`));const o=a._injector??e,s=a._loadedInjector??o;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(o,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(s,a.children??a._loadedRoutes))}return Dn(i).pipe(V())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let i;i=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):Kr(null);const a=i.pipe(G(o=>null===o?Kr(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return n.loadComponent&&!n._loadedComponent?Dn([a,this.loader.loadComponent(n)]).pipe(V()):a})}}return r.\u0275fac=function(e){return new(e||r)(wn(vc),wn(kI),wn(lf),wn(sk),wn(gE))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const yE=new ir("");let lk=(()=>{class r{constructor(e,n,i,a,o={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=i,this.zone=a,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof eE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Cp&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof IO&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new IO(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return r.\u0275fac=function(e){by()},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})();var gc=(()=>((gc=gc||{})[gc.COMPLETE=0]="COMPLETE",gc[gc.FAILED=1]="FAILED",gc[gc.REDIRECTING=2]="REDIRECTING",gc))();const vg=!1;function hh(r,t){return{\u0275kind:r,\u0275providers:t}}const _E=new ir("",{providedIn:"root",factory:()=>!1});function uk(){const r=ui(Gs);return t=>{const e=r.get(rg);if(t!==e.components[0])return;const n=r.get(vc),i=r.get(dk);1===r.get(bE)&&n.initialNavigation(),r.get(fk,null,Xr.Optional)?.setUpPreloading(),r.get(yE,null,Xr.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const dk=new ir(vg?"bootstrap done indicator":"",{factory:()=>new Bt}),bE=new ir(vg?"initial navigation":"",{providedIn:"root",factory:()=>1});function kY(){let r=[];return r=vg?[{provide:gy,multi:!0,useFactory:()=>{const t=ui(vc);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function i7(r){if(!("type"in r))return`Unknown Router Event: ${r.constructor.name}`;switch(r.type){case 14:return`ActivationEnd(path: '${r.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${r.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${r.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${r.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${r.id}, url: '${r.url}', urlAfterRedirects: '${r.urlAfterRedirects}', state: ${r.state}, shouldActivate: ${r.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${r.id}, url: '${r.url}', urlAfterRedirects: '${r.urlAfterRedirects}', state: ${r.state})`;case 2:return`NavigationCancel(id: ${r.id}, url: '${r.url}')`;case 16:return`NavigationSkipped(id: ${r.id}, url: '${r.url}')`;case 1:return`NavigationEnd(id: ${r.id}, url: '${r.url}', urlAfterRedirects: '${r.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${r.id}, url: '${r.url}', error: ${r.error})`;case 0:return`NavigationStart(id: ${r.id}, url: '${r.url}')`;case 6:return`ResolveEnd(id: ${r.id}, url: '${r.url}', urlAfterRedirects: '${r.urlAfterRedirects}', state: ${r.state})`;case 5:return`ResolveStart(id: ${r.id}, url: '${r.url}', urlAfterRedirects: '${r.urlAfterRedirects}', state: ${r.state})`;case 10:return`RouteConfigLoadEnd(path: ${r.route.path})`;case 9:return`RouteConfigLoadStart(path: ${r.route.path})`;case 4:return`RoutesRecognized(id: ${r.id}, url: '${r.url}', urlAfterRedirects: '${r.urlAfterRedirects}', state: ${r.state})`;case 15:return`Scroll(anchor: '${r.anchor}', position: '${r.position?`${r.position[0]}, ${r.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],hh(1,r)}const fk=new ir(vg?"router preloader":"");function NY(r){return hh(0,[{provide:fk,useExisting:DY},{provide:sk,useExisting:r}])}const Gm=!1,hk=new ir(Gm?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),PY=[Ky,{provide:Om,useClass:X1},vc,Fm,{provide:dg,useFactory:function ck(r){return r.routerState.root},deps:[vc]},gE,Gm?{provide:_E,useValue:!0}:[]];function RY(){return new VI("Router",vc)}let pk=(()=>{class r{constructor(e){}static forRoot(e,n){return{ngModule:r,providers:[PY,Gm&&n?.enableTracing?kY().\u0275providers:[],{provide:pg,multi:!0,useValue:e},{provide:hk,useFactory:zY,deps:[[vc,new As,new Cu]]},{provide:P_,useValue:n||{}},n?.useHash?{provide:Ep,useClass:V8}:{provide:Ep,useClass:u2},{provide:yE,useFactory:()=>{const r=ui(aW),t=ui(ci),e=ui(P_),n=ui(N_),i=ui(Om);return e.scrollOffset&&r.setOffset(e.scrollOffset),new lk(i,n,r,t,e)}},n?.preloadingStrategy?NY(n.preloadingStrategy).\u0275providers:[],{provide:VI,multi:!0,useFactory:RY},n?.initialNavigation?VY(n):[],[{provide:vk,useFactory:uk},{provide:zI,multi:!0,useExisting:vk}]]}}static forChild(e){return{ngModule:r,providers:[{provide:pg,multi:!0,useValue:e}]}}}return r.\u0275fac=function(e){return new(e||r)(wn(hk,8))},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[cE]}),r})();function zY(r){if(Gm&&r)throw new Pe(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function VY(r){return["disabled"===r.initialNavigation?hh(3,[{provide:Uy,multi:!0,useFactory:()=>{const t=ui(vc);return()=>{t.setUpLocationChangeListener()}}},{provide:bE,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?hh(2,[{provide:bE,useValue:0},{provide:Uy,multi:!0,deps:[Gs],useFactory:t=>{const e=t.get(B8,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const i=t.get(vc),a=t.get(dk);(function TY(r,t){r.events.pipe(wl(e=>e instanceof Cp||e instanceof w_||e instanceof tE||e instanceof E_),qn(e=>e instanceof Cp||e instanceof E_?gc.COMPLETE:e instanceof w_&&(0===e.code||1===e.code)?gc.REDIRECTING:gc.FAILED),wl(e=>e!==gc.REDIRECTING),pc(1)).subscribe(()=>{t()})})(i,()=>{n(!0)}),t.get(N_).afterPreactivation=()=>(n(!0),a.closed?Kr(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const vk=new ir(Gm?"Router Initializer":"");class Hm{get rows(){return this._rows}set rows(t){this._rows=t}get cols(){return this._cols}set cols(t){this._cols=t}get speed(){return this._speed}set speed(t){console.log(t),this._speed=t}get startRow(){return this._startRow}set startRow(t){this._startRow=t}get startCol(){return this._startCol}set startCol(t){this._startCol=t}get endRow(){return this._endRow}set endRow(t){this._endRow=t}get endCol(){return this._endCol}set endCol(t){this._endCol=t}constructor(t,e,n,i,a,o,s){this.DRAW_CONTROL_TIME=100,this.drawTime=0,this.ChangeColorQueue=[],this.isEnd=!1,this._rows=t,this._cols=e,this._speed=s,this._startRow=n,this._startCol=i,this._endRow=a,this._endCol=o}getIndexNode(t,e){return this.isIndexInRange(t,e)?document.querySelector(`div[row="${t}"][col="${e}"]`):null}isParent(t,e){return this.getIndexNode(t,e)!==this.getParentNodeWithIndex(t,e)}changeDivColorWithIndex(t,e,n){let i=this.getIndexNode(t,e);this.isEndPoint(t,e)||this.isStartPoint(t,e)||i&&(n===Hc.RED?i.setAttribute("class","Path_red"):n===Hc.GREEN&&i.setAttribute("class","Path_green"),i.innerHTML=null!==i.getAttribute("weight")?i.getAttribute("weight")+"|"+i.getAttribute("cost"):i.getAttribute("cost"))}changeDivColorWithIndexDelay(t,e,n,i){0===i&&(i=1),setTimeout(()=>{if(this.changeDivColorWithIndex(t,e,n),n===Hc.RED&&!this.isStartPoint(t,e)&&!this.isEndPoint(t,e)){const a=this.getIndexNode(t,e);a.innerHTML=null!==a.getAttribute("weight")?a.getAttribute("weight")+"|"+a.getAttribute("cost"):a.getAttribute("cost")}},this.drawTime),this.drawTime+=this.DRAW_CONTROL_TIME/this.speed}changeDivColorWithNodeDelay(t,e,n){let i=this.getNodeIndex(t);this.changeDivColorWithIndexDelay(i[0],i[1],e,n)}drawBestPath(){let t=this.getIndexNode(this.endRow,this.endCol);for(;t!==this.getIndexNode(this.startRow,this.startCol);){t!==this.getIndexNode(this.endRow,this.endCol)&&this.changeDivColorWithIndexDelay(parseInt(t.getAttribute("row")),parseInt(t.getAttribute("col")),Hc.GREEN,this.speed);const e=t.getAttribute("parent").split("|");t=this.getIndexNode(parseInt(e[0]),parseInt(e[1]))}}isWallWithIndex(t,e){return"true"===this.getIndexNode(t,e).getAttribute("wall")}isWallWithNode(t){return"true"===t.getAttribute("wall")}setWallWithIndex(t,e,n){this.isStartPoint(t,e)||this.isEndPoint(t,e)||(this.getIndexNode(t,e).setAttribute("wall",n.toString()),n?this.getIndexNode(t,e).classList.add("wall"):this.getIndexNode(t,e).classList.remove("wall"))}setWallWithNode(t,e){let[n,i]=this.getNodeIndex(t);this.setWallWithIndex(n,i,e)}setWallWithIndexDelay(t,e,n,i){0===i&&(i=1),setTimeout(()=>{this.setWallWithIndex(t,e,n)},this.drawTime),this.drawTime+=this.DRAW_CONTROL_TIME/i}setWallWithNodeDelay(t,e,n){let[i,a]=this.getNodeIndex(t);this.setWallWithIndexDelay(i,a,e,n)}isVisitedWithIndex(t,e){return"true"===this.getIndexNode(t,e).getAttribute("visited")}isVisitedWithNode(t){return"true"===t.getAttribute("visited")}isStartPoint(t,e){return this._startRow===t&&this._startCol===e}isStartNode(t){return this._startRow===parseInt(t.getAttribute("row"))&&this._startCol===parseInt(t.getAttribute("col"))}isEndPoint(t,e){return this._endRow===t&&this._endCol===e}isEndNode(t){return this._endRow===parseInt(t.getAttribute("row"))&&this._endCol===parseInt(t.getAttribute("col"))}setVisitedWithIndex(t,e,n){this.getIndexNode(t,e).setAttribute("visited",n.toString())}setVisitedWithNode(t,e){t.setAttribute("visited",e.toString())}setParentWithIndex(t,e,n){this.getIndexNode(t,e).setAttribute("parent",`${n.getAttribute("row")}|${n.getAttribute("col")}`)}setParentWithNode(t,e){t.setAttribute("parent",`${e.getAttribute("row")}|${e.getAttribute("col")}`)}getParentNodeWithIndex(t,e){let n=this.getIndexNode(t,e).getAttribute("parent");if(null===n)return null;let i=n.split("|");return this.getIndexNode(parseInt(i[0]),parseInt(i[1]))}getParentNodeWithNode(t){let e=t.getAttribute("parent");if(null===e)return null;let n=e.split("|");return this.getIndexNode(parseInt(n[0]),parseInt(n[1]))}setParentWithIndexToIndex(t,e,n,i){this.getIndexNode(t,e).setAttribute("parent",`${n}|${i}`)}getNodeCostWithIndex(t,e){let n=this.getIndexNode(t,e).getAttribute("cost");return null===n?1/0:parseInt(n)}getNodeCostWithNode(t){return parseInt(t.getAttribute("cost"))}setNodeCostWithIndex(t,e,n){this.getIndexNode(t,e).setAttribute("cost",n.toString())}setNodeCostWithNode(t,e){t.setAttribute("cost",e.toString())}getNodeIndex(t){return[parseInt(t.getAttribute("row")),parseInt(t.getAttribute("col"))]}isIndexInRange(t,e){return t>=0&&t<this.rows&&e>=0&&e<this.cols}addChangeColorQueue(t,e,n){this.ChangeColorQueue.push({row:t,col:e,color:n})}findPathNodeAddToQueue(){let t=this.getIndexNode(this.endRow,this.endCol);for(;t&&t!==this.getIndexNode(this.startRow,this.startCol);){t!==this.getIndexNode(this.endRow,this.endCol)&&this.addChangeColorQueue(parseInt(t.getAttribute("row")),parseInt(t.getAttribute("col")),Hc.GREEN);const e=t.getAttribute("parent").split("|");t=this.getIndexNode(parseInt(e[0]),parseInt(e[1]))}}playAnimation(){let t=this.ChangeColorQueue.shift();t?this.changeDivColorWithIndex(t.row,t.col,t.color):this.isEnd=!0,this.timer=setTimeout(()=>{this.playAnimation()},this.getCalculateSpeed())}getCalculateSpeed(){return 1e3/this.speed}startVisual(){this.start(),this.findPathNodeAddToQueue(),this.playAnimation()}stopVisual(){this.timer&&clearTimeout(this.timer),this.isEnd=!0}}var Hc=(()=>{return(r=Hc||(Hc={}))[r.RED=0]="RED",r[r.GREEN=1]="GREEN",Hc;var r})();class gk{constructor(){this.heap=[]}size(){return this.heap.length}isEmpty(){return 0===this.heap.length}insert(t,e){this.heap.push([t,e]),this.bubbleUp(this.heap.length-1)}extractMin(){if(0===this.heap.length)return;const t=this.heap[0][1],e=this.heap.pop();return this.heap.length>0&&(this.heap[0]=e,this.bubbleDown(0)),t}bubbleUp(t){for(;t>0;){const e=Math.floor((t-1)/2);if(!(this.heap[t][0]<this.heap[e][0]))break;this.swap(t,e),t=e}}bubbleDown(t){for(;t<this.heap.length;){const e=2*t+1,n=2*t+2;let i=t;if(e<this.heap.length&&this.heap[e][0]<this.heap[i][0]&&(i=e),n<this.heap.length&&this.heap[n][0]<this.heap[i][0]&&(i=n),i===t)break;this.swap(t,i),t=i}}contains(t){for(let e=0;e<this.heap.length;e++)if(this.heap[e][1]==t)return!0;return!1}swap(t,e){const n=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=n}}class UY extends Hm{start(){let t=[[-1,0],[0,1],[1,0],[0,-1]],e=new gk;for(e.insert(0,this.getIndexNode(this.startRow,this.startCol)),this.setNodeCostWithIndex(this.startRow,this.startCol,0);!e.isEmpty();){let n=e.extractMin();if(this.isEndNode(n))return void console.log("\u627e\u5230\u4e86");this.setVisitedWithNode(n,!0);let i=this.getNodeIndex(n);this.addChangeColorQueue(i[0],i[1],Hc.RED);for(let a=0;a<4;a++){let o=parseInt(n.getAttribute("row"))+t[a][0],s=parseInt(n.getAttribute("col"))+t[a][1];if(this.isIndexInRange(o,s)&&!this.isWallWithIndex(o,s)){if(this.isVisitedWithIndex(o,s))continue;e.contains(this.getIndexNode(o,s))||(this.setParentWithIndex(o,s,n),this.setNodeCostWithIndex(o,s,this.getNodeCostWithNode(n)+1),e.insert(this.f(o,s),this.getIndexNode(o,s)))}}}}constructor(t,e,n,i,a,o,s){super(t,e,n,i,a,o,s),this.D=1}g(t,e){return(Math.abs(t-this.startRow)+Math.abs(e-this.startCol))*this.D}h(t,e){return(Math.abs(t-this.endRow)+Math.abs(e-this.endCol))*this.D}f(t,e){return this.g(t,e)+this.h(t,e)}}class mk extends Hm{start(){const t=[];t.push(this.getIndexNode(this.startRow,this.startCol)),this.startAlgorithm(t,0)}constructor(t,e,n,i,a,o,s){super(t,e,n,i,a,o,s)}startAlgorithm(t,e){let n=!1;for(;t.length>0;){const i=t.shift();if(i===this.getIndexNode(this.endRow,this.endCol)){n=!0;break}let a=this.getNodeIndex(i);this.setVisitedWithIndex(a[0],a[1],!0);let o=this.getParentNodeWithNode(i);null!=o&&this.setNodeCostWithNode(i,this.getNodeCostWithNode(o)+1),this.isStartNode(i)||this.isEndNode(i)||this.addChangeColorQueue(a[0],a[1],Hc.RED);const s=this.getNeighbors(i);for(const l of s)!this.isVisitedWithNode(l)&&!this.isWallWithNode(l)&&(console.log(l.getAttribute("wall")),l.setAttribute("visited","true"),l.setAttribute("parent",`${i.getAttribute("row")}|${i.getAttribute("col")}`),t.push(l))}}getNeighbors(t){const e=parseInt(t.getAttribute("row")),n=parseInt(t.getAttribute("col")),i=[];return e>0&&i.push(this.getIndexNode(e-1,n)),n<this.cols-1&&i.push(this.getIndexNode(e,n+1)),e<this.rows-1&&i.push(this.getIndexNode(e+1,n)),n>0&&i.push(this.getIndexNode(e,n-1)),i}}class GY extends Hm{start(){let t=this.startAlgorithm(this.startRow,this.startCol,null);console.log("res>>",t),t&&console.log("\u627e\u5230\u4e86")}constructor(t,e,n,i,a,o,s){super(t,e,n,i,a,o,s),this.direction=[[-1,0],[0,1],[1,0],[0,-1]],console.log("row="+t+"col="+e+"startRow="+n+"startCol="+i+"endRow="+a+"endCol="+o+"speed="+s)}startAlgorithm(t,e,n){if(n&&(this.setParentWithIndex(t,e,n),this.setNodeCostWithIndex(t,e,this.getNodeCostWithNode(n)+1)),this.isStartPoint(t,e)&&null!==n)return!1;if(this.isEndPoint(t,e))return console.log("\u505c\u6b62\u4e86\uff0c\u6b64\u65f6\u7684\u884c\u6570\u4e3a",t,"\u6b64\u65f6\u7684\u5217\u6570\u4e3a",e),!0;if(!this.isIndexInRange(t,e))return!1;for(let i=0;i<4;i++){let a=t+this.direction[i][0],o=e+this.direction[i][1];if(console.log("newRow="+a+"newCol="+o+"isIndexInRange="+this.isIndexInRange(a,o)),this.isIndexInRange(a,o)&&!this.isWallWithIndex(a,o)&&!this.isVisitedWithIndex(a,o)&&(this.setVisitedWithIndex(a,o,!0),this.addChangeColorQueue(a,o,Hc.RED),this.startAlgorithm(a,o,this.getIndexNode(t,e))))return!0}return!1}}class HY extends Hm{start(){console.log("Dijkstra");let t=[[-1,0],[0,1],[1,0],[0,-1]],e=new gk;for(e.insert(0,[this.startRow,this.startCol]),this.setNodeCostWithIndex(this.startRow,this.startCol,0),this.setNodeCostWithIndex(this.endRow,this.endCol,2e3);!e.isEmpty();){let[n,i]=e.extractMin();if(this.isEndPoint(n,i))return void console.log("\u627e\u5230\u4e86");this.setVisitedWithIndex(n,i,!0),this.addChangeColorQueue(n,i,Hc.RED);for(let a=0;a<4;a++){let o=n+t[a][0],s=i+t[a][1];if(this.isIndexInRange(o,s)&&!this.isWallWithIndex(o,s)){let l=this.getNodeCostWithIndex(n,i)+this.getNodeWeightWithIndex(o,s);console.log("newCost",l,"nodeCost",this.getNodeCostWithIndex(o,s)),(l<this.getNodeCostWithIndex(o,s)||!this.isParent(o,s))&&(e.insert(l,[o,s]),this.setNodeCostWithIndex(o,s,l),this.setParentWithIndex(o,s,this.getIndexNode(n,i)))}}}}constructor(t,e,n,i,a,o,s){super(t,e,n,i,a,o,s)}getNodeWeightWithIndex(t,e){let n=this.getIndexNode(t,e).getAttribute("weight");return parseInt(n)}}class xE extends Hm{constructor(t,e,n,i,a,o,s){super(t,e,n,i,a,o,s),this.wallQueue=[],this.walls=new Array(this.rows);for(let l=0;l<this.rows;l++){this.walls[l]=new Array(this.cols);for(let c=0;c<this.cols;c++)this.walls[l][c]=!1}}startVisual(){this.wallQueue=[],this.start(),this.setWallQueue(),this.playSetWallAnimation()}playSetWallAnimation(){if(this.wallQueue.length>0){let t=this.wallQueue.shift();t&&this.setWallWithIndex(t.row,t.col,!0)}else this.isEnd=!0;this.timer=setTimeout(()=>{this.playSetWallAnimation()},this.getCalculateSpeed())}addTOWallQueue(t,e){this.wallQueue.push({row:t,col:e,type:"wall"})}setWallQueue(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.cols;e++)this.walls[t][e]&&this.addTOWallQueue(t,e)}}class WY extends xE{constructor(t,e,n,i,a,o,s){super(t,e,n,i,a,o,s)}start(){for(let e=0;e<this.rows;e++)for(let n=0;n<this.cols;n++)this.walls[e][n]=!0;let t=[];for(t.push([this.startRow,this.startCol]),this.setVisitedWithIndex(this.startRow,this.startCol,!0);t.length>0;){let e;e=t.pop();let n=e[0],i=e[1],a=this.getNeighbors(n,i);if(a.length>0){t.push([n,i]);let s=a[Math.floor(Math.random()*a.length)],l=s[0],c=s[1],u=(n+l)/2,d=(i+c)/2;this.walls[l][c]=!1,this.walls[u][d]=!1,t.push([l,c]),this.setVisitedWithIndex(l,c,!0)}}for(let e=0;e<this.rows;e++)for(let n=0;n<this.cols;n++)this.setVisitedWithIndex(e,n,!1)}getNeighbors(t,e){let n=[];return this.isIndexInRange(t-2,e)&&!this.isVisitedWithIndex(t-2,e)&&n.push([t-2,e]),this.isIndexInRange(t+2,e)&&!this.isVisitedWithIndex(t+2,e)&&n.push([t+2,e]),this.isIndexInRange(t,e-2)&&!this.isVisitedWithIndex(t,e-2)&&n.push([t,e-2]),this.isIndexInRange(t,e+2)&&!this.isVisitedWithIndex(t,e+2)&&n.push([t,e+2]),n}}class YY extends xE{constructor(t,e,n,i,a,o,s){super(t,e,n,i,a,o,s)}start(){let t=this.rows-1,e=0,n=0;for(;e<this.cols;)console.log(t,e),n%2==0?(this.walls[t][e]=!0,e++,t--,1==t&&n++):(this.walls[t][e]=!0,e++,t++,t==this.rows-1&&n++)}}class $Y extends xE{constructor(t,e,n,i,a,o,s){super(t,e,n,i,a,o,s)}start(){this.setBoundary(),this.divide(1,1,this.rows-2,this.cols-2);for(let t=0;t<100;++t)console.log(this.getRandomInt(3,5))}setBoundary(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.cols;e++)(0==t||t==this.rows-1||0==e||e==this.cols-1)&&(this.walls[t][e]=!0)}divide(t,e,n,i){if(Math.abs(t-n)<4||Math.abs(e-i)<4)return;let a=this.randomPoint(t,n,e,i);for(let o=t;o<=n;o++)this.walls[o][a[1]]=!0;for(let o=e;o<=i;o++)this.walls[a[0]][o]=!0;this.randomBreakWalls(a[0],a[1],t,n,e,i),this.divide(t,e,a[0],a[1]),this.divide(a[0],e,n,a[1]),this.divide(t,a[1],a[0],i),this.divide(a[0],a[1],n,i)}randomPoint(t,e,n,i){return[this.getRandomInt(t+1,e-1),this.getRandomInt(n+1,i-1)]}randomBreakWalls(t,e,n,i,a,o){let s=Math.floor(4*Math.random());for(let l=0;l<4;++l)l!=s&&this.breakWall(t,e,n,i,a,o,l)}breakWall(t,e,n,i,a,o,s){switch(s){case 0:let l=this.getRandomInt(t,n);this.walls[l][e]=!1;break;case 1:let c=this.getRandomInt(e,o);this.walls[t][c]=!1;break;case 2:let u=this.getRandomInt(t,i);this.walls[u][e]=!1;break;case 3:let d=this.getRandomInt(e,a);this.walls[t][d]=!1}}getRandomInt(t,e){let n=Math.min(t,e),i=Math.max(t,e);return Math.floor(Math.random()*(i-n-1))+n+1}}let wE;try{wE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{wE=!1}let gg,Uo=(()=>{class r{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function iW(r){return r===A2}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!wE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(e){return new(e||r)(wn(t1))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const yk=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function _k(){if(gg)return gg;if("object"!=typeof document||!document)return gg=new Set(yk),gg;let r=document.createElement("input");return gg=new Set(yk.filter(t=>(r.setAttribute("type",t),r.type===t))),gg}let Wm,R_,Tp,EE;function mg(r){return function XY(){if(null==Wm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Wm=!0}))}finally{Wm=Wm||!1}return Wm}()?r:!!r.capture}function bk(){if(null==Tp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Tp=!1,Tp;if("scrollBehavior"in document.documentElement.style)Tp=!0;else{const r=Element.prototype.scrollTo;Tp=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return Tp}function Ym(){if("object"!=typeof document||!document)return 0;if(null==R_){const r=document.createElement("div"),t=r.style;r.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",r.appendChild(e),document.body.appendChild(r),R_=0,0===r.scrollLeft&&(r.scrollLeft=1,R_=0===r.scrollLeft?1:2),r.remove()}return R_}function ph(r){return r.composedPath?r.composedPath()[0]:r.target}function SE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function yg(r,...t){return t.length?t.some(e=>r[e]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}class d$ extends ${constructor(t,e){super()}schedule(t,e=0){return this}}const B_={setInterval(r,t,...e){const{delegate:n}=B_;return n?.setInterval?n.setInterval(r,t,...e):setInterval(r,t,...e)},clearInterval(r){const{delegate:t}=B_;return(t?.clearInterval||clearInterval)(r)},delegate:void 0};class DE extends d${constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(a,this.id,e),this}requestAsyncId(t,e,n=0){return B_.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&B_.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,n=!1;try{this.work(t)}catch(a){n=!0,i=a||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,te(n,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Sk={now:()=>(Sk.delegate||Date).now(),delegate:void 0};class $m{constructor(t,e=$m.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}}$m.now=Sk.now;class TE extends $m{constructor(t,e=$m.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const AE=new TE(DE),f$=AE;function IE(r,t=AE){return je((e,n)=>{let i=null,a=null,o=null;const s=()=>{if(i){i.unsubscribe(),i=null;const c=a;a=null,n.next(c)}};function l(){const c=o+r,u=t.now();if(u<c)return i=this.schedule(void 0,c-u),void n.add(i);s()}e.subscribe(Hn(n,c=>{a=c,o=t.now(),i||(i=t.schedule(l,r),n.add(i))},()=>{s(),n.complete()},void 0,()=>{a=i=null}))})}function OE(r){return wl((t,e)=>r<=e)}function kE(r,t=$e){return r=r??h$,je((e,n)=>{let i,a=!0;e.subscribe(Hn(n,o=>{const s=t(o);(a||!r(i,s))&&(a=!1,i=s,n.next(o))}))})}function h$(r,t){return r===t}function is(r){return je((t,e)=>{kr(r).subscribe(Hn(e,()=>e.complete(),ve)),!e.closed&&t.subscribe(e)})}function Da(r){return null!=r&&"false"!=`${r}`}function Ys(r,t=0){return function p$(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):t}function z_(r){return Array.isArray(r)?r:[r]}function as(r){return null==r?"":"string"==typeof r?r:`${r}px`}function xf(r){return r instanceof Ni?r.nativeElement:r}let Mk=(()=>{class r{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),v$=(()=>{class r{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){const n=xf(e);return new Be(i=>{const o=this._observeElement(n).subscribe(i);return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const n=new Bt,i=this._mutationObserverFactory.create(a=>n.next(a));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:n,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:n,stream:i}=this._observedElements.get(e);n&&n.disconnect(),i.complete(),this._observedElements.delete(e)}}}return r.\u0275fac=function(e){return new(e||r)(wn(Mk))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ck=(()=>{class r{get disabled(){return this._disabled}set disabled(e){this._disabled=Da(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ys(e),this._subscribe()}constructor(e,n,i){this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new Si,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(IE(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(It(v$),It(Ni),It(ci))},r.\u0275dir=xe({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),NE=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({providers:[Mk]}),r})();const Dk=new Set;let _g,g$=(()=>{class r{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):y$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function m$(r){if(!Dk.has(r))try{_g||(_g=document.createElement("style"),_g.setAttribute("type","text/css"),document.head.appendChild(_g)),_g.sheet&&(_g.sheet.insertRule(`@media ${r} {body{ }}`,0),Dk.add(r))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return r.\u0275fac=function(e){return new(e||r)(wn(Uo))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function y$(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let PE=(()=>{class r{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new Bt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Tk(z_(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let a=H1(Tk(z_(e)).map(o=>this._registerQuery(o).observable));return a=f_(a.pipe(pc(1)),a.pipe(OE(1),IE(0))),a.pipe(qn(o=>{const s={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),a={observable:new Be(o=>{const s=l=>this._zone.run(()=>o.next(l));return n.addListener(s),()=>{n.removeListener(s)}}).pipe(lh(n),qn(({matches:o})=>({query:e,matches:o})),is(this._destroySubject)),mql:n};return this._queries.set(e,a),a}}return r.\u0275fac=function(e){return new(e||r)(wn(g$),wn(ci))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Tk(r){return r.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class Ok{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Bt,this._typeaheadSubscription=$.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Bt,this.change=new Bt,t instanceof eg&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(rs(e=>this._pressedLetters.push(e)),IE(t),wl(()=>this._pressedLetters.length>0),qn(()=>this._pressedLetters.join(""))).subscribe(e=>{const n=this._getItemsArray();for(let i=1;i<n.length+1;i++){const a=(this._activeItemIndex+i)%n.length,o=n[a];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!t[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const a=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(a<o?a:o-1,-1);break}return;default:return void((i||yg(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t);this._activeItem=e[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof eg?this._items.toArray():this._items}}class w$ extends Ok{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class E$ extends Ok{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function Nk(r){return 0===r.buttons||0===r.offsetX&&0===r.offsetY}function Pk(r){const t=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const A$=new ir("cdk-input-modality-detector-options"),I$={ignoreKeys:[18,17,224,91,16]},bg=mg({passive:!0,capture:!0});let O$=(()=>{class r{get mostRecentModality(){return this._modality.value}constructor(e,n,i,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Uc(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(s=>s===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ph(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Nk(o)?"keyboard":"mouse"),this._mostRecentTarget=ph(o))},this._onTouchstart=o=>{Pk(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ph(o))},this._options={...I$,...a},this.modalityDetected=this._modality.pipe(OE(1)),this.modalityChanged=this.modalityDetected.pipe(kE()),e.isBrowser&&n.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,bg),i.addEventListener("mousedown",this._onMousedown,bg),i.addEventListener("touchstart",this._onTouchstart,bg)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,bg),document.removeEventListener("mousedown",this._onMousedown,bg),document.removeEventListener("touchstart",this._onTouchstart,bg))}}return r.\u0275fac=function(e){return new(e||r)(wn(Uo),wn(ci),wn(sa),wn(A$,8))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const k$=new ir("liveAnnouncerElement",{providedIn:"root",factory:function N$(){return null}}),P$=new ir("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let R$=0,RE=(()=>{class r{constructor(e,n,i,a){this._ngZone=n,this._defaultOptions=a,this._document=i,this._liveElement=e||this._createLiveElement()}announce(e,...n){const i=this._defaultOptions;let a,o;return 1===n.length&&"number"==typeof n[0]?o=n[0]:[a,o]=n,this.clear(),clearTimeout(this._previousTimeout),a||(a=i&&i.politeness?i.politeness:"polite"),null==o&&i&&(o=i.duration),this._liveElement.setAttribute("aria-live",a),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),i=this._document.createElement("div");for(let a=0;a<n.length;a++)n[a].remove();return i.classList.add(e),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id="cdk-live-announcer-"+R$++,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(e){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<n.length;i++){const a=n[i],o=a.getAttribute("aria-owns");o?-1===o.indexOf(e)&&a.setAttribute("aria-owns",o+" "+e):a.setAttribute("aria-owns",e)}}}return r.\u0275fac=function(e){return new(e||r)(wn(k$,8),wn(ci),wn(sa),wn(P$,8))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const L$=new ir("cdk-focus-monitor-default-options"),V_=mg({passive:!0,capture:!0});let Lk=(()=>{class r{constructor(e,n,i,a,o){this._ngZone=e,this._platform=n,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Bt,this._rootNodeFocusAndBlurListener=s=>{for(let c=ph(s);c;c=c.parentElement)"focus"===s.type?this._onFocus(s,c):this._onBlur(s,c)},this._document=a,this._detectionMode=o?.detectionMode||0}monitor(e,n=!1){const i=xf(e);if(!this._platform.isBrowser||1!==i.nodeType)return Kr(null);const a=function qY(r){if(function KY(){if(null==EE){const r=typeof document<"u"?document.head:null;EE=!(!r||!r.createShadowRoot&&!r.attachShadow)}return EE}()){const t=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return n&&(o.checkChildren=!0),o.subject;const s={checkChildren:n,subject:new Bt,rootNode:a};return this._elementInfo.set(i,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){const n=xf(e),i=this._elementInfo.get(n);i&&(i.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(i))}focusVia(e,n,i){const a=xf(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([s,l])=>this._originChanged(s,n,l)):(this._setOrigin(n),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const i=this._elementInfo.get(n),a=ph(e);!i||!i.checkChildren&&n!==a||this._originChanged(n,this._getFocusOrigin(a),i)}_onBlur(e,n){const i=this._elementInfo.get(n);!i||i.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(i,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,i=this._rootNodeFocusListenerCount.get(n)||0;i||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,V_),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,V_)}),this._rootNodeFocusListenerCount.set(n,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(is(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const i=this._rootNodeFocusListenerCount.get(n);i>1?this._rootNodeFocusListenerCount.set(n,i-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,V_),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,V_),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,i){this._setClasses(e,n),this._emitOrigin(i,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((i,a)=>{(a===e||i.checkChildren&&a.contains(e))&&n.push([a,i])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const a=e.labels;if(a)for(let o=0;o<a.length;o++)if(a[o].contains(n))return!0;return!1}}return r.\u0275fac=function(e){return new(e||r)(wn(ci),wn(Uo),wn(O$),wn(sa,8),wn(L$,8))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),F$=(()=>{class r{constructor(e,n){this._elementRef=e,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new Si}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(Lk))},r.\u0275dir=xe({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),r})();const Fk="cdk-high-contrast-black-on-white",Bk="cdk-high-contrast-white-on-black",LE="cdk-high-contrast-active";let zk=(()=>{class r{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=ui(PE).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,i=n&&n.getComputedStyle?n.getComputedStyle(e):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(LE,Fk,Bk),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(LE,Fk):2===n&&e.add(LE,Bk)}}}return r.\u0275fac=function(e){return new(e||r)(wn(Uo),wn(sa))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Vk=(()=>{class r{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(e){return new(e||r)(wn(zk))},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[NE]}),r})();const B$=new ir("cdk-dir-doc",{providedIn:"root",factory:function z$(){return ui(sa)}}),V$=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let mc=(()=>{class r{constructor(e){this.value="ltr",this.change=new Si,e&&(this.value=function j$(r){const t=r?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?V$.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(e){return new(e||r)(wn(B$,8))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Xm=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({}),r})();const U$=["text"];function G$(r,t){if(1&r&&Ra(0,"mat-pseudo-checkbox",6),2&r){const e=Ri();mr("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function H$(r,t){1&r&&Ra(0,"mat-pseudo-checkbox",7),2&r&&mr("disabled",Ri().disabled)}function W$(r,t){if(1&r&&(ar(0,"span",8),hi(1),sr()),2&r){const e=Ri();gr(1),hf("(",e.group.label,")")}}const Y$=[[["mat-icon"]],"*"],$$=["mat-icon","*"],K$=new ir("mat-sanity-checks",{providedIn:"root",factory:function X$(){return!0}});let Za=(()=>{class r{constructor(e,n,i){this._sanityChecks=n,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!SE()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return r.\u0275fac=function(e){return new(e||r)(wn(zk),wn(K$,8),wn(sa))},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Xm,Xm]}),r})();function j_(r){return class extends r{get disabled(){return this._disabled}set disabled(t){this._disabled=Da(t)}constructor(...t){super(...t),this._disabled=!1}}}function U_(r,t){return class extends r{get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function G_(r){return class extends r{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Da(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function q$(r,t=0){return class extends r{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ys(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function Gk(r){return class extends r{updateErrorState(){const t=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==t&&(this.errorState=a,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let Hk=(()=>{class r{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Wk=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Za,Za]}),r})();class Q${constructor(t,e,n,i=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Yk=mg({passive:!0,capture:!0});class J${constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=ph(t);e&&this._events.get(t.type)?.forEach((n,i)=>{(i===e||i.contains(e))&&n.forEach(a=>a.handleEvent(t))})}}addHandler(t,e,n,i){const a=this._events.get(e);if(a){const o=a.get(n);o?o.add(i):a.set(n,new Set([i]))}else this._events.set(e,new Map([[n,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Yk)})}removeHandler(t,e,n){const i=this._events.get(t);if(!i)return;const a=i.get(e);a&&(a.delete(n),0===a.size&&i.delete(e),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Yk)))}}const $k={enterDuration:225,exitDuration:150},Xk=mg({passive:!0,capture:!0}),Kk=["mousedown","touchstart"],qk=["mouseup","mouseleave","touchend","touchcancel"];class qm{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=xf(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...$k,...n.animation};n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const o=n.radius||function tX(r,t,e){const n=Math.max(Math.abs(r-e.left),Math.abs(r-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+i*i)}(t,e,i),s=t-i.left,l=e-i.top,c=a.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),v=d.transitionDuration,y="none"===d.transitionProperty||"0s"===v||"0s, 0s"===v||0===i.width&&0===i.height,D=new Q$(this,u,n,y);u.style.transform="scale3d(1, 1, 1)",D.state=0,n.persistent||(this._mostRecentTransientRipple=D);let F=null;return!y&&(c||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const K=()=>this._finishRippleTransition(D),Q=()=>this._destroyRipple(D);u.addEventListener("transitionend",K),u.addEventListener("transitioncancel",Q),F={onTransitionEnd:K,onTransitionCancel:Q}}),this._activeRipples.set(D,F),(y||!c)&&this._finishRippleTransition(D),D}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,n={...$k,...t.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=xf(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Kk.forEach(n=>{qm._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{qk.forEach(e=>{this._triggerElement.addEventListener(e,this,Xk)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Nk(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Pk(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(Kk.forEach(e=>qm._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&qk.forEach(e=>t.removeEventListener(e,this,Xk)))}}qm._eventManager=new J$;const Zk=new ir("mat-ripple-global-options");let vh=(()=>{class r{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,n,i,a,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new qm(this,n,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(ci),It(Uo),It(Zk,8),It(Nl,8))},r.\u0275dir=xe({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,n){2&e&&Ia("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),r})(),H_=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Za,Za]}),r})(),nX=(()=>{class r{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return r.\u0275fac=function(e){return new(e||r)(It(Nl,8))},r.\u0275cmp=ua({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,n){2&e&&Ia("mat-pseudo-checkbox-indeterminate","indeterminate"===n.state)("mat-pseudo-checkbox-checked","checked"===n.state)("mat-pseudo-checkbox-disabled",n.disabled)("mat-pseudo-checkbox-minimal","minimal"===n.appearance)("mat-pseudo-checkbox-full","full"===n.appearance)("_mat-animation-noopable","NoopAnimations"===n._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,n){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),r})(),rX=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Za]}),r})();const Qk=new ir("MAT_OPTION_PARENT_COMPONENT"),Jk=new ir("MatOptgroup");let iX=0;class aX{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let oX=(()=>{class r{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Da(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,n,i,a){this._element=e,this._changeDetectorRef=n,this._parent=i,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+iX++,this.onSelectionChange=new Si,this._stateChanges=new Bt}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,n){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!yg(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new aX(this,e))}}return r.\u0275fac=function(e){by()},r.\u0275dir=xe({type:r,viewQuery:function(e,n){if(1&e&&qa(U$,7),2&e){let i;zi(i=Vi())&&(n._text=i.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),r})(),eN=(()=>{class r extends oX{constructor(e,n,i,a){super(e,n,i,a)}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(es),It(Qk,8),It(Jk,8))},r.\u0275cmp=ua({type:r,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mat-mdc-focus-indicator","mdc-list-item"],hostVars:12,hostBindings:function(e,n){1&e&&ri("click",function(){return n._selectViaInteraction()})("keydown",function(a){return n._handleKeydown(a)}),2&e&&(qv("id",n.id),to("tabindex",n._getTabIndex())("aria-selected",n.selected)("aria-disabled",n.disabled.toString()),Ia("mdc-list-item--selected",n.selected)("mat-mdc-option-multiple",n.multiple)("mat-mdc-option-active",n.active)("mdc-list-item--disabled",n.disabled))},exportAs:["matOption"],features:[si],ngContentSelectors:$$,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(e,n){1&e&&(_l(Y$),Pi(0,G$,1,2,"mat-pseudo-checkbox",0),Ba(1),ar(2,"span",1,2),Ba(4,1),sr(),Pi(5,H$,1,1,"mat-pseudo-checkbox",3),Pi(6,W$,2,1,"span",4),Ra(7,"div",5)),2&e&&(mr("ngIf",n.multiple),gr(5),mr("ngIf",!n.multiple&&n.selected&&!n.hideSingleSelectionIndicator),gr(1),mr("ngIf",n.group&&n.group._inert),gr(1),mr("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},dependencies:[vh,yf,nX],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active::before{content:""}'],encapsulation:2,changeDetection:0}),r})(),tN=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[H_,oh,Za,rX]}),r})();const cX=["mat-button",""],uX=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],dX=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],hX=["mat-icon-button",""],pX=["*"],vX=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],gX=U_(j_(G_(class{constructor(r){this._elementRef=r}})));let nN=(()=>{class r extends gX{constructor(e,n,i,a){super(e),this._platform=n,this._ngZone=i,this._animationMode=a,this._focusMonitor=ui(Lk),this._isFab=!1;const o=e.nativeElement.classList;for(const s of vX)this._hasHostAttributes(s.selector)&&s.mdcClasses.forEach(l=>{o.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...e){return e.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return r.\u0275fac=function(e){by()},r.\u0275dir=xe({type:r,viewQuery:function(e,n){if(1&e&&qa(vh,5),2&e){let i;zi(i=Vi())&&(n.ripple=i.first)}},features:[si]}),r})(),W_=(()=>{class r extends nN{constructor(e,n,i,a){super(e,n,i,a)}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(Uo),It(ci),It(Nl,8))},r.\u0275cmp=ua({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,n){2&e&&(to("disabled",n.disabled||null),Ia("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[si],attrs:cX,ngContentSelectors:dX,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,n){1&e&&(_l(uX),Ra(0,"span",0),Ba(1),ar(2,"span",1),Ba(3,1),sr(),Ba(4,2),Ra(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(Ia("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab),gr(6),mr("matRippleDisabled",n._isRippleDisabled())("matRippleTrigger",n._elementRef.nativeElement))},dependencies:[vh],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),r})(),rN=(()=>{class r extends nN{constructor(e,n,i,a){super(e,n,i,a)}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(Uo),It(ci),It(Nl,8))},r.\u0275cmp=ua({type:r,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,n){2&e&&(to("disabled",n.disabled||null),Ia("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[si],attrs:hX,ngContentSelectors:pX,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,n){1&e&&(_l(),Ra(0,"span",0),Ba(1),Ra(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(gr(3),mr("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",n._elementRef.nativeElement))},dependencies:[vh],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),r})(),iN=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Za,H_,Za]}),r})();class FE{}class _X{}const wf="*";function xg(r,t){return{type:7,name:r,definitions:t,options:{}}}function bd(r,t=null){return{type:4,styles:t,timings:r}}function aN(r,t=null){return{type:2,steps:r,options:t}}function Go(r){return{type:6,styles:r,offset:null}}function Ap(r,t,e){return{type:0,name:r,styles:t,options:e}}function oN(r){return{type:5,steps:r}}function Ef(r,t,e=null){return{type:1,expr:r,animation:t,options:e}}function bX(r=null){return{type:9,options:r}}function xX(r,t,e=null){return{type:11,selector:r,animation:t,options:e}}function sN(r){Promise.resolve().then(r)}class Zm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){sN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class lN{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const a=this.players.length;0==a?sN(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==a&&this._onFinish()}),o.onDestroy(()=>{++n==a&&this._onDestroy()}),o.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((o,s)=>Math.max(o,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const i=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(i)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}const BE="!";class zE{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class VE extends zE{constructor(t,e,n,i,a){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i,this.projectableNodes=a}}class Qm extends zE{constructor(t,e,n,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class wX extends zE{constructor(t){super(),this.element=t instanceof Ni?t.nativeElement:t}}class jE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof VE?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Qm?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof wX?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class EX extends jE{constructor(t,e,n,i,a){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=o=>{const s=o.element,l=this._document.createComment("dom-portal");s.parentNode.insertBefore(l,s),this.outletElement.appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=a}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=n.create(t.injector||this._defaultInjector||Gs.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(i=>this.outletElement.appendChild(i)),n.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(n);-1!==i&&e.remove(i)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let SX=(()=>{class r extends Qm{constructor(e,n){super(e,n)}}return r.\u0275fac=function(e){return new(e||r)(It(al),It(Hs))},r.\u0275dir=xe({type:r,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[si]}),r})(),Jm=(()=>{class r extends jE{constructor(e,n,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new Si,this.attachDomPortal=a=>{const o=a.element,s=this._document.createComment("dom-portal");a.setAttachedHost(this),o.parentNode.insertBefore(s,o),this._getRootNode().appendChild(o),this._attachedPortal=a,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(o,s)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,a=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=n.createComponent(a,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return r.\u0275fac=function(e){return new(e||r)(It(nh),It(Hs),It(sa))},r.\u0275dir=xe({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[si]}),r})(),UE=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({}),r})();const MX=["addListener","removeListener"],CX=["addEventListener","removeEventListener"],DX=["on","off"];function Ip(r,t,e,n){if(k(e)&&(n=e,e=void 0),n)return Ip(r,t,e).pipe(G1(n));const[i,a]=function IX(r){return k(r.addEventListener)&&k(r.removeEventListener)}(r)?CX.map(o=>s=>r[o](t,s,e)):function TX(r){return k(r.addListener)&&k(r.removeListener)}(r)?MX.map(cN(r,t)):function AX(r){return k(r.on)&&k(r.off)}(r)?DX.map(cN(r,t)):[];if(!i&&Ur(r))return G(o=>Ip(o,t,e))(kr(r));if(!i)throw new TypeError("Invalid event target");return new Be(o=>{const s=(...l)=>o.next(1<l.length?l:l[0]);return i(s),()=>a(s)})}function cN(r,t){return e=>n=>r[e](t,n)}const e0={schedule(r){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=e0;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const i=t(a=>{e=void 0,r(a)});return new $(()=>e?.(i))},requestAnimationFrame(...r){const{delegate:t}=e0;return(t?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:t}=e0;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0},NX=new class kX extends TE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let i;t=t||n.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,i){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw i}}}(class OX extends DE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=e0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){var i;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:a}=t;null!=e&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==e&&(e0.cancelAnimationFrame(e),t._scheduled=void 0)}});let GE,PX=1;const Y_={};function uN(r){return r in Y_&&(delete Y_[r],!0)}const RX={setImmediate(r){const t=PX++;return Y_[t]=!0,GE||(GE=Promise.resolve()),GE.then(()=>uN(t)&&r()),t},clearImmediate(r){uN(r)}},{setImmediate:LX,clearImmediate:FX}=RX,$_={setImmediate(...r){const{delegate:t}=$_;return(t?.setImmediate||LX)(...r)},clearImmediate(r){const{delegate:t}=$_;return(t?.clearImmediate||FX)(r)},delegate:void 0},VX=new class zX extends TE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let i;t=t||n.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,i){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw i}}}(class BX extends DE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=$_.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var i;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:a}=t;null!=e&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==e&&($_.clearImmediate(e),t._scheduled=void 0)}});function dN(r=0,t,e=f$){let n=-1;return null!=t&&(He(t)?e=t:n=t),new Be(i=>{let a=function UX(r){return r instanceof Date&&!isNaN(r)}(r)?+r-e.now():r;a<0&&(a=0);let o=0;return e.schedule(function(){i.closed||(i.next(o++),0<=n?this.schedule(void 0,n):i.complete())},a)})}function HE(r,t=AE){return function jX(r){return je((t,e)=>{let n=!1,i=null,a=null,o=!1;const s=()=>{if(a?.unsubscribe(),a=null,n){n=!1;const c=i;i=null,e.next(c)}o&&e.complete()},l=()=>{a=null,o&&e.complete()};t.subscribe(Hn(e,c=>{n=!0,i=c,a||kr(r(c)).subscribe(a=Hn(e,s,l))},()=>{o=!0,(!n||!a||a.closed)&&e.complete()}))})}(()=>dN(r,t))}const GX=["contentWrapper"],HX=["*"],WX=new ir("VIRTUAL_SCROLL_STRATEGY");let X_=(()=>{class r{constructor(e,n,i){this._ngZone=e,this._platform=n,this._scrolled=new Bt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Be(n=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(HE(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Kr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const i=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(wl(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,e)&&n.push(a)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let i=xf(n),a=e.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ip(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(e){return new(e||r)(wn(ci),wn(Uo),wn(sa,8))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),fN=(()=>{class r{constructor(e,n,i,a){this.elementRef=e,this.scrollDispatcher=n,this.ngZone=i,this.dir=a,this._destroyed=new Bt,this._elementScrolled=new Be(o=>this.ngZone.runOutsideAngular(()=>Ip(this.elementRef.nativeElement,"scroll").pipe(is(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const n=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),i&&0!=Ym()?(null!=e.left&&(e.right=n.scrollWidth-n.clientWidth-e.left),2==Ym()?e.left=e.right:1==Ym()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const n=this.elementRef.nativeElement;bk()?n.scrollTo(e):(null!=e.top&&(n.scrollTop=e.top),null!=e.left&&(n.scrollLeft=e.left))}measureScrollOffset(e){const n="left",i="right",a=this.elementRef.nativeElement;if("top"==e)return a.scrollTop;if("bottom"==e)return a.scrollHeight-a.clientHeight-a.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==e?e=o?i:n:"end"==e&&(e=o?n:i),o&&2==Ym()?e==n?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:o&&1==Ym()?e==n?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:e==n?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(X_),It(ci),It(mc,8))},r.\u0275dir=xe({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),r})(),Op=(()=>{class r{constructor(e,n,i){this._platform=e,this._change=new Bt,this._changeListener=a=>{this._change.next(a)},this._document=i,n.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),i=e.documentElement,a=i.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||n.scrollY||i.scrollTop||0,left:-a.left||e.body.scrollLeft||n.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(HE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(e){return new(e||r)(wn(Uo),wn(ci),wn(sa,8))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const hN=new ir("VIRTUAL_SCROLLABLE");let XX=(()=>{class r extends fN{constructor(e,n,i,a){super(e,n,i,a)}measureViewportSize(e){const n=this.elementRef.nativeElement;return"horizontal"===e?n.clientWidth:n.clientHeight}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(X_),It(ci),It(mc,8))},r.\u0275dir=xe({type:r,features:[si]}),r})();const qX=typeof requestAnimationFrame<"u"?NX:VX;let ZX=(()=>{class r extends XX{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Da(e)}constructor(e,n,i,a,o,s,l,c){super(e,s,i,o),this.elementRef=e,this._changeDetectorRef=n,this._scrollStrategy=a,this.scrollable=c,this._platform=ui(Uo),this._detachedSubject=new Bt,this._renderedRangeSubject=new Bt,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Be(u=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=$.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(lh(null),HE(0,qX)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(is(this._detachedSubject)).subscribe(n=>{const i=n.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function KX(r,t){return r.start==t.start&&r.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,n="to-start"){e=this.appendOnly&&"to-start"===n?0:e;const a="horizontal"==this.orientation,o=a?"X":"Y";let l=`translate${o}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===n&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,n="auto"){const i={behavior:n};"horizontal"===this.orientation?i.start=e:i.top=e,this.scrollable.scrollTo(i)}scrollToIndex(e,n="auto"){this._scrollStrategy.scrollToIndex(e,n)}measureScrollOffset(e){let n;return n=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,n(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let n;const i="left",a="right",o="rtl"==this.dir?.value;n="start"==e?o?a:i:"end"==e?o?i:a:e||("horizontal"===this.orientation?"left":"top");const s=this.scrollable.measureBoundingClientRectWithScrollOffset(n);return this.elementRef.nativeElement.getBoundingClientRect()[n]-s}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const n of e)n()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(es),It(ci),It(WX,8),It(mc,8),It(X_),It(Op),It(hN,8))},r.\u0275cmp=ua({type:r,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,n){if(1&e&&qa(GX,7),2&e){let i;zi(i=Vi())&&(n._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,n){2&e&&Ia("cdk-virtual-scroll-orientation-horizontal","horizontal"===n.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==n.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[va([{provide:fN,useFactory:(t,e)=>t||e,deps:[[new As,new ef(hN)],r]}]),si,zw],ngContentSelectors:HX,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,n){1&e&&(_l(),ar(0,"div",0,1),Ba(2),sr(),Ra(3,"div",2)),2&e&&(gr(3),um("width",n._totalContentWidth)("height",n._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),r})(),WE=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({}),r})(),pN=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Xm,WE,ZX,Xm,WE]}),r})();const vN=bk();class QX{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=as(-this._previousScrollPosition.left),t.style.top=as(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,i=this._document.body.style,a=n.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),vN&&(n.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),vN&&(n.scrollBehavior=a,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class JX{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gN{enable(){}disable(){}attach(){}}function YE(r,t){return t.some(e=>r.bottom<e.top||r.top>e.bottom||r.right<e.left||r.left>e.right)}function mN(r,t){return t.some(e=>r.top<e.top||r.bottom>e.bottom||r.left<e.left||r.right>e.right)}class eK{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:i}=this._viewportRuler.getViewportSize();YE(e,[{width:n,height:i,bottom:i,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let tK=(()=>{class r{constructor(e,n,i,a){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this.noop=()=>new gN,this.close=o=>new JX(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new QX(this._viewportRuler,this._document),this.reposition=o=>new eK(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=a}}return r.\u0275fac=function(e){return new(e||r)(wn(X_),wn(Op),wn(ci),wn(sa))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class $E{constructor(t){if(this.scrollStrategy=new gN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class nK{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let yN=(()=>{class r{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(e){return new(e||r)(wn(sa))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),rK=(()=>{class r extends yN{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=i=>{const a=this._attachedOverlays;for(let o=a.length-1;o>-1;o--)if(a[o]._keydownEvents.observers.length>0){const s=a[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>s.next(i)):s.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(e){return new(e||r)(wn(sa),wn(ci,8))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),iK=(()=>{class r extends yN{constructor(e,n,i){super(e),this._platform=n,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=ph(a)},this._clickListener=a=>{const o=ph(a),s="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(s))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(a)):d.next(a)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return r.\u0275fac=function(e){return new(e||r)(wn(sa),wn(Uo),wn(ci,8))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),_N=(()=>{class r{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||SE()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const n=this._document.createElement("div");n.classList.add(e),SE()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return r.\u0275fac=function(e){return new(e||r)(wn(sa),wn(Uo))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class aK{constructor(t,e,n,i,a,o,s,l,c,u=!1){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=a,this._keyboardDispatcher=o,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Bt,this._attachments=new Bt,this._detachments=new Bt,this._locationChanges=$.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Bt,this._outsidePointerEvents=new Bt,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(pc(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=as(this._config.width),t.height=as(this._config.height),t.minWidth=as(this._config.minWidth),t.minHeight=as(this._config.minHeight),t.maxWidth=as(this._config.maxWidth),t.maxHeight=as(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){const i=z_(e||[]).filter(a=>!!a);i.length&&(n?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(is(Rn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const bN="cdk-overlay-connected-position-bounding-box",oK=/([A-Za-z%]+)$/;class sK{get positions(){return this._preferredPositions}constructor(t,e,n,i,a){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Bt,this._resizeSubscription=$.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(bN),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=this._containerRect,a=[];let o;for(let s of this._preferredPositions){let l=this._getOriginPoint(t,i,s),c=this._getOverlayPoint(l,e,s),u=this._getOverlayFit(c,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,l);this._canFitWithFlexibleDimensions(u,c,n)?a.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(a.length){let s=null,l=-1;for(const c of a){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,s=c)}return this._isPushed=!1,void this._applyPosition(s.position,s.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let i,a;if("center"==n.originX)i=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;i="start"==n.originX?o:s}return e.left<0&&(i-=e.left),a="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(a-=e.top),{x:i,y:a}}_getOverlayPoint(t,e,n){let i,a;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+a}}_getOverlayFit(t,e,n,i){const a=wN(e);let{x:o,y:s}=t,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(s+=c);let h=0-s,v=s+a.height-n.height,y=this._subtractOverflows(a.width,0-o,o+a.width-n.width),D=this._subtractOverflows(a.height,h,v),F=y*D;return{visibleArea:F,isCompletelyWithinViewport:a.width*a.height===F,fitsInViewportVertically:D===a.height,fitsInViewportHorizontally:y==a.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,a=n.right-e.x,o=xN(this._overlayRef.getConfig().minHeight),s=xN(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=i)&&(t.fitsInViewportHorizontally||null!=s&&s<=a)}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=wN(e),a=this._viewportRect,o=Math.max(t.x+i.width-a.width,0),s=Math.max(t.y+i.height-a.height,0),l=Math.max(a.top-n.top-t.y,0),c=Math.max(a.left-n.left-t.x,0);let u=0,d=0;return u=i.width<=a.width?c||-o:t.x<this._viewportMargin?a.left-n.left-t.x:0,d=i.height<=a.height?l||-s:t.y<this._viewportMargin?a.top-n.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),i=new nK(t,n);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let a,o,s,u,d,h;if("top"===e.overlayY)o=t.y,a=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,a=n.height-s+this._viewportMargin;else{const v=Math.min(n.bottom-t.y+n.top,t.y),y=this._lastBoundingBoxSize.height;a=2*v,o=t.y-v,a>y&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-y/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)h=n.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)d=t.x,u=n.right-t.x;else{const v=Math.min(n.right-t.x+n.left,t.x),y=this._lastBoundingBoxSize.width;u=2*v,d=t.x-v,u>y&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-y/2)}return{top:o,left:d,bottom:s,right:h,width:u,height:a}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=as(n.height),i.top=as(n.top),i.bottom=as(n.bottom),i.width=as(n.width),i.left=as(n.left),i.right=as(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=as(a)),o&&(i.maxWidth=as(o))}this._lastBoundingBoxSize=n,kp(this._boundingBox.style,i)}_resetBoundingBoxStyles(){kp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();kp(n,this._getExactOverlayY(e,t,u)),kp(n,this._getExactOverlayX(e,t,u))}else n.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=as(o.maxHeight):a&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=as(o.maxWidth):a&&(n.maxWidth="")),kp(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=as(a.y),i}_getExactOverlayX(t,e,n){let o,i={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=as(a.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mN(t,n),isOriginOutsideView:YE(t,n),isOverlayClipped:mN(e,n),isOverlayOutsideView:YE(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,i)=>n-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&z_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ni)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function kp(r,t){for(let e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function xN(r){if("number"!=typeof r&&null!=r){const[t,e]=r.split(oK);return e&&"px"!==e?null:parseFloat(t)}return r||null}function wN(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const EN="cdk-global-overlay-wrapper";class lK{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(EN),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:o,maxHeight:s}=n,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==a&&"100vh"!==a||s&&"100%"!==s&&"100vh"!==s),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let v="",y="",D="";l?D="flex-start":"center"===u?(D="center",h?y=d:v=d):h?"left"===u||"end"===u?(D="flex-end",v=d):("right"===u||"start"===u)&&(D="flex-start",y=d):"left"===u||"start"===u?(D="flex-start",v=d):("right"===u||"end"===u)&&(D="flex-end",y=d),t.position=this._cssPosition,t.marginLeft=l?"0":v,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":y,e.justifyContent=D,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(EN),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let cK=(()=>{class r{constructor(e,n,i,a){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=a}global(){return new lK}flexibleConnectedTo(e){return new sK(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(e){return new(e||r)(wn(Op),wn(sa),wn(Uo),wn(_N))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),uK=0,wg=(()=>{class r{constructor(e,n,i,a,o,s,l,c,u,d,h,v){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=o,this._injector=s,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=v}create(e){const n=this._createHostElement(),i=this._createPaneElement(n),a=this._createPortalOutlet(i),o=new $E(e);return o.direction=o.direction||this._directionality.value,new aK(a,n,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+uK++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(rg)),new EX(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(e){return new(e||r)(wn(tK),wn(_N),wn(nh),wn(cK),wn(rK),wn(Gs),wn(ci),wn(sa),wn(mc),wn(Ky),wn(iK),wn(Nl,8))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const dK=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],SN=new ir("cdk-connected-overlay-scroll-strategy");let XE=(()=>{class r{constructor(e){this.elementRef=e}}return r.\u0275fac=function(e){return new(e||r)(It(Ni))},r.\u0275dir=xe({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),r})(),MN=(()=>{class r{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Da(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Da(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Da(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Da(e)}get push(){return this._push}set push(e){this._push=Da(e)}constructor(e,n,i,a,o){this._overlay=e,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=$.EMPTY,this._attachSubscription=$.EMPTY,this._detachSubscription=$.EMPTY,this._positionSubscription=$.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Si,this.positionChange=new Si,this.attach=new Si,this.detach=new Si,this.overlayKeydown=new Si,this.overlayOutsideClick=new Si,this._templatePortal=new Qm(n,i),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=dK);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!yg(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new $E({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){const n=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof XE?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(uO(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(It(wg),It(al),It(Hs),It(SN),It(mc,8))},r.\u0275dir=xe({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[qo]}),r})();const hK={provide:SN,deps:[wg],useFactory:function fK(r){return()=>r.scrollStrategies.reposition()}};let CN=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({providers:[wg,hK],imports:[Xm,UE,pN,pN]}),r})();function pK(r,t){if(1&r){const e=rh();ar(0,"div",2)(1,"button",3),ri("click",function(){return Lo(e),ka(Ri().action())}),hi(2),sr()()}if(2&r){const e=Ri();gr(2),hf(" ",e.data.action," ")}}const vK=["label"];function gK(r,t){}const mK=Math.pow(2,31)-1;class KE{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Bt,this._afterOpened=new Bt,this._onAction=new Bt,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,mK))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const DN=new ir("MatSnackBarData");class K_{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let yK=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=xe({type:r,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),r})(),_K=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=xe({type:r,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),r})(),bK=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=xe({type:r,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),r})(),xK=(()=>{class r{constructor(e,n){this.snackBarRef=e,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return r.\u0275fac=function(e){return new(e||r)(It(KE),It(DN))},r.\u0275cmp=ua({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,n){1&e&&(ar(0,"div",0),hi(1),sr(),Pi(2,pK,3,1,"div",1)),2&e&&(gr(1),hf(" ",n.data.message,"\n"),gr(1),mr("ngIf",n.hasAction))},dependencies:[yf,W_,yK,_K,bK],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),r})();const wK={snackBarState:xg("state",[Ap("void, hidden",Go({transform:"scale(0.8)",opacity:0})),Ap("visible",Go({transform:"scale(1)",opacity:1})),Ef("* => visible",bd("150ms cubic-bezier(0, 0, 0.2, 1)")),Ef("* => void, * => hidden",bd("75ms cubic-bezier(0.4, 0.0, 1, 1)",Go({opacity:0})))])};let EK=0,SK=(()=>{class r extends jE{constructor(e,n,i,a,o){super(),this._ngZone=e,this._elementRef=n,this._changeDetectorRef=i,this._platform=a,this.snackBarConfig=o,this._document=ui(sa),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Bt,this._onExit=new Bt,this._onEnter=new Bt,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+EK++,this.attachDomPortal=s=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(s);return this._afterPortalAttached(),l},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}onAnimationEnd(e){const{fromState:n,toState:i}=e;if(("void"===i&&"void"!==n||"hidden"===i)&&this._completeExit(),"visible"===i){const a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(pc(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(i=>e.classList.add(i)):e.classList.add(n)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<n.length;i++){const a=n[i],o=a.getAttribute("aria-owns");this._trackedModals.add(a),o?-1===o.indexOf(e)&&a.setAttribute("aria-owns",o+" "+e):a.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const n=e.getAttribute("aria-owns");if(n){const i=n.replace(this._liveElementId,"").trim();i.length>0?e.setAttribute("aria-owns",i):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&n){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(i=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return r.\u0275fac=function(e){return new(e||r)(It(ci),It(Ni),It(es),It(Uo),It(K_))},r.\u0275dir=xe({type:r,viewQuery:function(e,n){if(1&e&&qa(Jm,7),2&e){let i;zi(i=Vi())&&(n._portalOutlet=i.first)}},features:[si]}),r})(),MK=(()=>{class r extends SK{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,n="mdc-snackbar__label";e.classList.toggle(n,!e.querySelector(`.${n}`))}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=oo(r)))(n||r)}}(),r.\u0275cmp=ua({type:r,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,n){if(1&e&&qa(vK,7),2&e){let i;zi(i=Vi())&&(n._label=i.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,n){1&e&&Sw("@state.done",function(a){return n.onAnimationEnd(a)}),2&e&&Ow("@state",n._animationState)},features:[si],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,n){1&e&&(ar(0,"div",0)(1,"div",1,2)(3,"div",3),Pi(4,gK,0,0,"ng-template",4),sr(),Ra(5,"div"),sr()()),2&e&&(gr(5),to("aria-live",n._live)("role",n._role)("id",n._liveElementId))},dependencies:[Jm],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[wK.snackBarState]}}),r})(),TN=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[CN,UE,oh,iN,Za,Za]}),r})();const AN=new ir("mat-snack-bar-default-options",{providedIn:"root",factory:function CK(){return new K_}});let DK=(()=>{class r{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,n,i,a,o,s){this._overlay=e,this._live=n,this._injector=i,this._breakpointObserver=a,this._parentSnackBar=o,this._defaultConfig=s,this._snackBarRefAtThisLevel=null}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",i){const a={...this._defaultConfig,...i};return a.data={message:e,action:n},a.announcementMessage===e&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){const a=Gs.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:K_,useValue:n}]}),o=new VE(this.snackBarContainerComponent,n.viewContainerRef,a),s=e.attach(o);return s.instance.snackBarConfig=n,s.instance}_attach(e,n){const i={...new K_,...this._defaultConfig,...n},a=this._createOverlay(i),o=this._attachSnackBarContainer(a,i),s=new KE(o,a);if(e instanceof al){const l=new Qm(e,null,{$implicit:i.data,snackBarRef:s});s.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(i,s),c=new VE(e,void 0,l),u=o.attachComponentPortal(c);s.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(is(a.detachments())).subscribe(l=>{a.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),i.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(s,i),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration))}_createOverlay(e){const n=new $E;n.direction=e.direction;let i=this._overlay.position().global();const a="rtl"===e.direction,o="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!a||"end"===e.horizontalPosition&&a,s=!o&&"center"!==e.horizontalPosition;return o?i.left("0"):s?i.right("0"):i.centerHorizontally(),"top"===e.verticalPosition?i.top("0"):i.bottom("0"),n.positionStrategy=i,this._overlay.create(n)}_createInjector(e,n){return Gs.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:KE,useValue:n},{provide:DN,useValue:e.data}]})}}return r.\u0275fac=function(e){return new(e||r)(wn(wg),wn(RE),wn(Gs),wn(PE),wn(r,12),wn(AN))},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})(),IN=(()=>{class r extends DK{constructor(e,n,i,a,o,s){super(e,n,i,a,o,s),this.simpleSnackBarComponent=xK,this.snackBarContainerComponent=MK,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return r.\u0275fac=function(e){return new(e||r)(wn(wg),wn(RE),wn(Gs),wn(PE),wn(r,12),wn(AN))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:TN}),r})();const TK=["matFormFieldNotchedOutline",""],AK=["*"],IK=["textField"],OK=["iconPrefixContainer"],kK=["textPrefixContainer"];function NK(r,t){1&r&&Ra(0,"span",19)}function PK(r,t){if(1&r){const e=rh();ar(0,"label",17),ri("cdkObserveContent",function(){return Lo(e),ka(Ri(2)._refreshOutlineNotchWidth())}),Ba(1,1),Pi(2,NK,1,0,"span",18),sr()}if(2&r){const e=Ri(2);mr("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),to("for",e._control.id)("aria-owns",e._control.id),gr(2),mr("ngIf",!e.hideRequiredMarker&&e._control.required)}}function RK(r,t){1&r&&Pi(0,PK,3,6,"label",16),2&r&&mr("ngIf",Ri()._hasFloatingLabel())}function LK(r,t){1&r&&Ra(0,"div",20)}function FK(r,t){}function BK(r,t){1&r&&Pi(0,FK,0,0,"ng-template",22),2&r&&(Ri(2),mr("ngTemplateOutlet",yp(1)))}function zK(r,t){if(1&r&&(ar(0,"div",21),Pi(1,BK,1,1,"ng-template",9),sr()),2&r){const e=Ri();mr("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),gr(1),mr("ngIf",!e._forceDisplayInfixLabel())}}function VK(r,t){1&r&&(ar(0,"div",23,24),Ba(2,2),sr())}function jK(r,t){1&r&&(ar(0,"div",25,26),Ba(2,3),sr())}function UK(r,t){}function GK(r,t){1&r&&Pi(0,UK,0,0,"ng-template",22),2&r&&(Ri(),mr("ngTemplateOutlet",yp(1)))}function HK(r,t){1&r&&(ar(0,"div",27),Ba(1,4),sr())}function WK(r,t){1&r&&(ar(0,"div",28),Ba(1,5),sr())}function YK(r,t){1&r&&Ra(0,"div",29)}function $K(r,t){1&r&&(ar(0,"div",30),Ba(1,6),sr()),2&r&&mr("@transitionMessages",Ri()._subscriptAnimationState)}function XK(r,t){if(1&r&&(ar(0,"mat-hint",34),hi(1),sr()),2&r){const e=Ri(2);mr("id",e._hintLabelId),gr(1),zc(e.hintLabel)}}function KK(r,t){if(1&r&&(ar(0,"div",31),Pi(1,XK,2,2,"mat-hint",32),Ba(2,7),Ra(3,"div",33),Ba(4,8),sr()),2&r){const e=Ri();mr("@transitionMessages",e._subscriptAnimationState),gr(1),mr("ngIf",e.hintLabel)}}const qK=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ZK=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let t0=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=xe({type:r,selectors:[["mat-label"]]}),r})(),QK=0;const ON=new ir("MatError");let JK=(()=>{class r{constructor(e,n){this.id="mat-mdc-error-"+QK++,e||n.nativeElement.setAttribute("aria-live","polite")}}return r.\u0275fac=function(e){return new(e||r)(Rc("aria-live"),It(Ni))},r.\u0275dir=xe({type:r,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,n){2&e&&qv("id",n.id)},inputs:{id:"id"},features:[va([{provide:ON,useExisting:r}])]}),r})(),eq=0,kN=(()=>{class r{constructor(){this.align="start",this.id="mat-mdc-hint-"+eq++}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=xe({type:r,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,n){2&e&&(qv("id",n.id),to("align",null),Ia("mat-mdc-form-field-hint-end","end"===n.align))},inputs:{align:"align",id:"id"}}),r})();const tq=new ir("MatPrefix"),nq=new ir("MatSuffix");let NN=(()=>{class r{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function rq(r){if(null!==r.offsetParent)return r.scrollWidth;const e=r.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const n=e.scrollWidth;return e.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return r.\u0275fac=function(e){return new(e||r)(It(Ni))},r.\u0275dir=xe({type:r,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,n){2&e&&Ia("mdc-floating-label--float-above",n.floating)},inputs:{floating:"floating"}}),r})();const PN="mdc-line-ripple--active",q_="mdc-line-ripple--deactivating";let RN=(()=>{class r{constructor(e,n){this._elementRef=e,this._handleTransitionEnd=i=>{const a=this._elementRef.nativeElement.classList,o=a.contains(q_);"opacity"===i.propertyName&&o&&a.remove(PN,q_)},n.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(q_),e.add(PN)}deactivate(){this._elementRef.nativeElement.classList.add(q_)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(ci))},r.\u0275dir=xe({type:r,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),r})(),LN=(()=>{class r{constructor(e,n){this._elementRef=e,this._ngZone=n,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(ci))},r.\u0275cmp=ua({type:r,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,n){2&e&&Ia("mdc-notched-outline--notched",n.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:TK,ngContentSelectors:AK,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,n){1&e&&(_l(),Ra(0,"div",0),ar(1,"div",1),Ba(2),sr(),Ra(3,"div",2)),2&e&&(gr(1),um("width",n._getNotchWidth()))},encapsulation:2,changeDetection:0}),r})();const iq={transitionMessages:xg("transitionMessages",[Ap("enter",Go({opacity:1,transform:"translateY(0%)"})),Ef("void => enter",[Go({opacity:0,transform:"translateY(-5px)"}),bd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let qE=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=xe({type:r}),r})();const ZE=new ir("MatFormField"),aq=new ir("MAT_FORM_FIELD_DEFAULT_OPTIONS");let FN=0,QE=(()=>{class r{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Da(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const n=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,n,i,a,o,s,l,c){this._elementRef=e,this._changeDetectorRef=n,this._ngZone=i,this._dir=a,this._platform=o,this._defaults=s,this._animationMode=l,this._document=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+FN++,this._hintLabelId="mat-mdc-hint-"+FN++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Bt,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,s&&(s.appearance&&(this.appearance=s.appearance),this._hideRequiredMarker=Boolean(s?.hideRequiredMarker),s.color&&(this.color=s.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(is(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Rn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(is(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(is(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const n=this._control?this._control.ngControl:null;return n&&n[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,a=n?.getBoundingClientRect().width??0,o=i?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(es),It(ci),It(mc),It(Uo),It(aq,8),It(Nl,8),It(sa))},r.\u0275cmp=ua({type:r,selectors:[["mat-form-field"]],contentQueries:function(e,n,i){if(1&e&&(Os(i,t0,5),Os(i,t0,7),Os(i,qE,5),Os(i,tq,5),Os(i,nq,5),Os(i,ON,5),Os(i,kN,5)),2&e){let a;zi(a=Vi())&&(n._labelChildNonStatic=a.first),zi(a=Vi())&&(n._labelChildStatic=a.first),zi(a=Vi())&&(n._formFieldControl=a.first),zi(a=Vi())&&(n._prefixChildren=a),zi(a=Vi())&&(n._suffixChildren=a),zi(a=Vi())&&(n._errorChildren=a),zi(a=Vi())&&(n._hintChildren=a)}},viewQuery:function(e,n){if(1&e&&(qa(IK,5),qa(OK,5),qa(kK,5),qa(NN,5),qa(LN,5),qa(RN,5)),2&e){let i;zi(i=Vi())&&(n._textField=i.first),zi(i=Vi())&&(n._iconPrefixContainer=i.first),zi(i=Vi())&&(n._textPrefixContainer=i.first),zi(i=Vi())&&(n._floatingLabel=i.first),zi(i=Vi())&&(n._notchedOutline=i.first),zi(i=Vi())&&(n._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,n){2&e&&Ia("mat-mdc-form-field-label-always-float",n._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",n._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",n._hasIconSuffix)("mat-form-field-invalid",n._control.errorState)("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===n._animationMode)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-hide-placeholder",n._hasFloatingLabel()&&!n._shouldLabelFloat())("mat-focused",n._control.focused)("mat-primary","accent"!==n.color&&"warn"!==n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[va([{provide:ZE,useExisting:r}])],ngContentSelectors:ZK,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,n){1&e&&(_l(qK),Pi(0,RK,1,1,"ng-template",null,0,Xw),ar(2,"div",1,2),ri("click",function(a){return n._control.onContainerClick&&n._control.onContainerClick(a)}),Pi(4,LK,1,0,"div",3),ar(5,"div",4),Pi(6,zK,2,3,"div",5),Pi(7,VK,3,0,"div",6),Pi(8,jK,3,0,"div",7),ar(9,"div",8),Pi(10,GK,1,1,"ng-template",9),Ba(11),sr(),Pi(12,HK,2,0,"div",10),Pi(13,WK,2,0,"div",11),sr(),Pi(14,YK,1,0,"div",12),sr(),ar(15,"div",13),Pi(16,$K,2,1,"div",14),Pi(17,KK,5,2,"div",15),sr()),2&e&&(gr(2),Ia("mdc-text-field--filled",!n._hasOutline())("mdc-text-field--outlined",n._hasOutline())("mdc-text-field--no-label",!n._hasFloatingLabel())("mdc-text-field--disabled",n._control.disabled)("mdc-text-field--invalid",n._control.errorState),gr(2),mr("ngIf",!n._hasOutline()&&!n._control.disabled),gr(2),mr("ngIf",n._hasOutline()),gr(1),mr("ngIf",n._hasIconPrefix),gr(1),mr("ngIf",n._hasTextPrefix),gr(2),mr("ngIf",!n._hasOutline()||n._forceDisplayInfixLabel()),gr(2),mr("ngIf",n._hasTextSuffix),gr(1),mr("ngIf",n._hasIconSuffix),gr(1),mr("ngIf",!n._hasOutline()),gr(1),Ia("mat-mdc-form-field-subscript-dynamic-size","dynamic"===n.subscriptSizing),mr("ngSwitch",n._getDisplayedMessages()),gr(1),mr("ngSwitchCase","error"),gr(1),mr("ngSwitchCase","hint"))},dependencies:[yf,D2,Mm,I1,Ck,kN,NN,LN,RN],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[iq.transitionMessages]},changeDetection:0}),r})(),JE=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Za,oh,NE,Za]}),r})();class lq{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,n=!0,i){this._multiple=t,this._emitChanges=n,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Bt,e&&e.length&&(t?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,n=new Set(t);t.forEach(a=>this._markSelected(a)),e.filter(a=>!n.has(a)).forEach(a=>this._unmarkSelected(a));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}function VN(...r){const t=it(r),{args:e,keys:n}=rO(r),i=new Be(a=>{const{length:o}=e;if(!o)return void a.complete();const s=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;kr(e[u]).subscribe(Hn(a,h=>{d||(d=!0,c--),s[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||a.next(n?iO(n,s):s),a.complete())}))}});return t?i.pipe(G1(t)):i}let jN=(()=>{class r{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return r.\u0275fac=function(e){return new(e||r)(It(cf),It(Ni))},r.\u0275dir=xe({type:r}),r})(),Np=(()=>{class r extends jN{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=oo(r)))(n||r)}}(),r.\u0275dir=xe({type:r,features:[si]}),r})();const Wc=new ir("NgValueAccessor"),uq={provide:Wc,useExisting:Vn(()=>n0),multi:!0},fq=new ir("CompositionEventMode");let n0=(()=>{class r extends jN{constructor(e,n,i){super(e,n),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dq(){const r=vf()?vf().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return r.\u0275fac=function(e){return new(e||r)(It(cf),It(Ni),It(fq,8))},r.\u0275dir=xe({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){1&e&&ri("input",function(a){return n._handleInput(a.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(a){return n._compositionEnd(a.target.value)})},features:[va([uq]),si]}),r})();const hq=!1;function gh(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function GN(r){return null!=r&&"number"==typeof r.length}const ol=new ir("NgValidators"),mh=new ir("NgAsyncValidators"),pq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class eS{static min(t){return function HN(r){return t=>{if(gh(t.value)||gh(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<r?{min:{min:r,actual:t.value}}:null}}(t)}static max(t){return function WN(r){return t=>{if(gh(t.value)||gh(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>r?{max:{max:r,actual:t.value}}:null}}(t)}static required(t){return function YN(r){return gh(r.value)?{required:!0}:null}(t)}static requiredTrue(t){return function $N(r){return!0===r.value?null:{required:!0}}(t)}static email(t){return function XN(r){return gh(r.value)||pq.test(r.value)?null:{email:!0}}(t)}static minLength(t){return function KN(r){return t=>gh(t.value)||!GN(t.value)?null:t.value.length<r?{minlength:{requiredLength:r,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function qN(r){return t=>GN(t.value)&&t.value.length>r?{maxlength:{requiredLength:r,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ZN(r){if(!r)return Z_;let t,e;return"string"==typeof r?(e="","^"!==r.charAt(0)&&(e+="^"),e+=r,"$"!==r.charAt(r.length-1)&&(e+="$"),t=new RegExp(e)):(e=r.toString(),t=r),n=>{if(gh(n.value))return null;const i=n.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return rP(t)}static composeAsync(t){return iP(t)}}function Z_(r){return null}function QN(r){return null!=r}function JN(r){const t=cm(r)?Dn(r):r;if(hq&&!Ew(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof r&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new Pe(-1101,e)}return t}function eP(r){let t={};return r.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function tP(r,t){return t.map(e=>e(r))}function nP(r){return r.map(t=>function vq(r){return!r.validate}(t)?t:e=>t.validate(e))}function rP(r){if(!r)return null;const t=r.filter(QN);return 0==t.length?null:function(e){return eP(tP(e,t))}}function tS(r){return null!=r?rP(nP(r)):null}function iP(r){if(!r)return null;const t=r.filter(QN);return 0==t.length?null:function(e){return VN(tP(e,t).map(JN)).pipe(qn(eP))}}function nS(r){return null!=r?iP(nP(r)):null}function aP(r,t){return null===r?[t]:Array.isArray(r)?[...r,t]:[r,t]}function oP(r){return r._rawValidators}function sP(r){return r._rawAsyncValidators}function rS(r){return r?Array.isArray(r)?r:[r]:[]}function Q_(r,t){return Array.isArray(r)?r.includes(t):r===t}function lP(r,t){const e=rS(t);return rS(r).forEach(i=>{Q_(e,i)||e.push(i)}),e}function cP(r,t){return rS(t).filter(e=>!Q_(r,e))}class uP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=tS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=nS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class El extends uP{get formDirective(){return null}get path(){return null}}class xd extends uP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dP{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let iS=(()=>{class r extends dP{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(It(xd,2))},r.\u0275dir=xe({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){2&e&&Ia("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[si]}),r})();function fP(r,t){return r?`with name: '${t}'`:`at index: ${t}`}const sS=!1,r0="VALID",eb="INVALID",Eg="PENDING",a0="DISABLED";function lS(r){return(tb(r)?r.validators:r)||null}function cS(r,t){return(tb(t)?t.asyncValidators:r)||null}function tb(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class vP{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===r0}get invalid(){return this.status===eb}get pending(){return this.status==Eg}get disabled(){return this.status===a0}get enabled(){return this.status!==a0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(lP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(lP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(cP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(cP(t,this._rawAsyncValidators))}hasValidator(t){return Q_(this._rawValidators,t)}hasAsyncValidator(t){return Q_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Eg,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=a0,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=r0,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===r0||this.status===Eg)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?a0:r0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Eg,this._hasOwnPendingAsyncValidator=!0;const e=JN(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,i)=>n&&n._find(i),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Si,this.statusChanges=new Si}_calculateStatus(){return this._allControlsDisabled()?a0:this.errors?eb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eg)?Eg:this._anyControlsHaveStatus(eb)?eb:r0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){tb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Eq(r){return Array.isArray(r)?tS(r):r||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Sq(r){return Array.isArray(r)?nS(r):r||null}(this._rawAsyncValidators)}}class uS extends vP{constructor(t,e,n){super(lS(e),cS(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function pP(r,t,e){r._forEachChild((n,i)=>{if(void 0===e[i])throw new Pe(1002,sS?function wq(r,t){return`Must supply a value for form control ${fP(r,t)}`}(t,i):"")})})(this,!0,t),Object.keys(t).forEach(n=>{(function hP(r,t,e){const n=r.controls;if(!(t?Object.keys(n):n).length)throw new Pe(1e3,sS?function bq(r){return`\n    There are no form controls registered with this ${r?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!n[e])throw new Pe(1001,sS?function xq(r,t){return`Cannot find form control ${fP(r,t)}`}(t,e):"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const i=this.controls[n];i&&i.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,i)=>((n.enabled||this.disabled)&&(e[i]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((i,a)=>{n=e(n,i,a)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Pp=new ir("CallSetDisabledState",{providedIn:"root",factory:()=>o0}),o0="always";function s0(r,t,e=o0){dS(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(r.disabled),function Dq(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&gP(r,t)})}(r,t),function Aq(r,t){const e=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,t),function Tq(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&gP(r,t),"submit"!==r.updateOn&&r.markAsTouched()})}(r,t),function Cq(r,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,t)}function rb(r,t,e=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),ab(r,t),r&&(t._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function ib(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function dS(r,t){const e=oP(r);null!==t.validator?r.setValidators(aP(e,t.validator)):"function"==typeof e&&r.setValidators([e]);const n=sP(r);null!==t.asyncValidator?r.setAsyncValidators(aP(n,t.asyncValidator)):"function"==typeof n&&r.setAsyncValidators([n]);const i=()=>r.updateValueAndValidity();ib(t._rawValidators,i),ib(t._rawAsyncValidators,i)}function ab(r,t){let e=!1;if(null!==r){if(null!==t.validator){const i=oP(r);if(Array.isArray(i)&&i.length>0){const a=i.filter(o=>o!==t.validator);a.length!==i.length&&(e=!0,r.setValidators(a))}}if(null!==t.asyncValidator){const i=sP(r);if(Array.isArray(i)&&i.length>0){const a=i.filter(o=>o!==t.asyncValidator);a.length!==i.length&&(e=!0,r.setAsyncValidators(a))}}}const n=()=>{};return ib(t._rawValidators,n),ib(t._rawAsyncValidators,n),e}function gP(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function mP(r,t){dS(r,t)}function hS(r,t){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function yP(r,t){r._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function pS(r,t){if(!t)return null;let e,n,i;return Array.isArray(t),t.forEach(a=>{a.constructor===n0?e=a:function kq(r){return Object.getPrototypeOf(r.constructor)===Np}(a)?n=a:i=a}),i||n||e||null}const Pq={provide:El,useExisting:Vn(()=>c0)},l0=(()=>Promise.resolve())();let c0=(()=>{class r extends El{constructor(e,n,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Si,this.form=new uS({},tS(e),nS(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){l0.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),s0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){l0.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){l0.then(()=>{const n=this._findContainer(e.path),i=new uS({});mP(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){l0.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){l0.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,yP(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return r.\u0275fac=function(e){return new(e||r)(It(ol,10),It(mh,10),It(Pp,8))},r.\u0275dir=xe({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,n){1&e&&ri("submit",function(a){return n.onSubmit(a)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[va([Pq]),si]}),r})();function _P(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}function bP(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const vS=class extends vP{constructor(t=null,e,n){super(lS(e),cS(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tb(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=bP(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_P(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_P(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){bP(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Fq={provide:xd,useExisting:Vn(()=>gS)},EP=(()=>Promise.resolve())();let gS=(()=>{class r extends xd{constructor(e,n,i,a,o,s){super(),this._changeDetectorRef=o,this.callSetDisabledState=s,this.control=new vS,this._registered=!1,this.update=new Si,this._parent=e,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=pS(0,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),hS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){s0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){EP.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const n=e.isDisabled.currentValue,i=0!==n&&ig(n);EP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function nb(r,t){return[...t.path,r]}(e,this._parent):[e]}}return r.\u0275fac=function(e){return new(e||r)(It(El,9),It(ol,10),It(mh,10),It(Wc,10),It(es,8),It(Pp,8))},r.\u0275dir=xe({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[va([Fq]),si,qo]}),r})();const zq={provide:Wc,useExisting:Vn(()=>mS),multi:!0};let mS=(()=>{class r extends Np{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=n=>{e(""==n?null:parseFloat(n))}}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=oo(r)))(n||r)}}(),r.\u0275dir=xe({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,n){1&e&&ri("input",function(a){return n.onChange(a.target.value)})("blur",function(){return n.onTouched()})},features:[va([zq]),si]}),r})(),SP=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({}),r})();const yS=new ir("NgModelWithFormControlWarning"),Gq={provide:xd,useExisting:Vn(()=>_S)};let _S=(()=>{class r extends xd{set isDisabled(e){}constructor(e,n,i,a,o){super(),this._ngModelWarningConfig=a,this.callSetDisabledState=o,this.update=new Si,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=pS(0,i)}ngOnChanges(e){if(this._isControlChanged(e)){const n=e.form.previousValue;n&&rb(n,this,!1),s0(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}hS(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&rb(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(e){return new(e||r)(It(ol,10),It(mh,10),It(Wc,10),It(yS,8),It(Pp,8))},r.\u0275dir=xe({type:r,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[va([Gq]),si,qo]}),r})();const Hq={provide:El,useExisting:Vn(()=>u0)};let u0=(()=>{class r extends El{constructor(e,n,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Si,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ab(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return s0(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){rb(e.control||null,e,!1),function Nq(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,yP(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,i=this.form.get(e.path);n!==i&&(rb(n||null,e),(r=>r instanceof vS)(i)&&(s0(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);mP(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function Iq(r,t){return ab(r,t)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dS(this.form,this),this._oldForm&&ab(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(e){return new(e||r)(It(ol,10),It(mh,10),It(Pp,8))},r.\u0275dir=xe({type:r,selectors:[["","formGroup",""]],hostBindings:function(e,n){1&e&&ri("submit",function(a){return n.onSubmit(a)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[va([Hq]),si,qo]}),r})(),VP=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[SP]}),r})(),cZ=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:Pp,useValue:e.callSetDisabledState??o0}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[VP]}),r})(),uZ=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:yS,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Pp,useValue:e.callSetDisabledState??o0}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[VP]}),r})();const dZ=["trigger"],fZ=["panel"];function hZ(r,t){if(1&r&&(ar(0,"span",10),hi(1),sr()),2&r){const e=Ri();gr(1),zc(e.placeholder)}}function pZ(r,t){if(1&r&&(ar(0,"span",14),hi(1),sr()),2&r){const e=Ri(2);gr(1),zc(e.triggerValue)}}function vZ(r,t){1&r&&Ba(0,0,["*ngSwitchCase","true"])}function gZ(r,t){1&r&&(ar(0,"span",11),Pi(1,pZ,2,1,"span",12),Pi(2,vZ,1,0,"ng-content",13),sr()),2&r&&(mr("ngSwitch",!!Ri().customTrigger),gr(2),mr("ngSwitchCase",!0))}function mZ(r,t){if(1&r){const e=rh();Wf(),function Yh(){!function Ku(){gi.lFrame.currentNamespace=null}()}(),ar(0,"div",15,16),ri("@transformPanel.done",function(i){return Lo(e),ka(Ri()._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){return Lo(e),ka(Ri()._handleKeydown(i))}),Ba(2,1),sr()}if(2&r){const e=Ri();Iw("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),mr("ngClass",e.panelClass)("@transformPanel","showing"),to("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const yZ=[[["mat-select-trigger"]],"*"],_Z=["mat-select-trigger","*"],bZ={transformPanelWrap:xg("transformPanelWrap",[Ef("* => void",xX("@transformPanel",[bX()],{optional:!0}))]),transformPanel:xg("transformPanel",[Ap("void",Go({opacity:0,transform:"scale(1, 0.8)"})),Ef("void => showing",bd("120ms cubic-bezier(0, 0, 0.2, 1)",Go({opacity:1,transform:"scale(1, 1)"}))),Ef("* => void",bd("100ms linear",Go({opacity:0})))])};let jP=0;const UP=new ir("mat-select-scroll-strategy"),wZ=new ir("MAT_SELECT_CONFIG"),EZ={provide:UP,deps:[wg],useFactory:function xZ(r){return()=>r.scrollStrategies.reposition()}},SZ=new ir("MatSelectTrigger");class MZ{constructor(t,e){this.source=t,this.value=e}}const CZ=G_(q$(j_(Gk(class{constructor(r,t,e,n,i){this._elementRef=r,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i,this.stateChanges=new Bt}}))));let DZ=(()=>{class r extends CZ{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(eS.required)??!1}set required(e){this._required=Da(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Da(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Da(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Ys(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,n,i,a,o,s,l,c,u,d,h,v,y,D){super(o,a,l,c,d),this._viewportRuler=e,this._changeDetectorRef=n,this._ngZone=i,this._dir=s,this._parentFormField=u,this._liveAnnouncer=y,this._defaultOptions=D,this._panelOpen=!1,this._compareWith=(F,K)=>F===K,this._uid="mat-select-"+jP++,this._triggerAriaLabelledBy=null,this._destroy=new Bt,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+jP++,this._panelDoneAnimatingStream=new Bt,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=W1(()=>{const F=this.options;return F?F.changes.pipe(lh(F),hc(()=>Rn(...F.map(K=>K.onSelectionChange)))):this._ngZone.onStable.pipe(pc(1),hc(()=>this.optionSelectionChanges))}),this.openedChange=new Si,this._openedStream=this.openedChange.pipe(wl(F=>F),qn(()=>{})),this._closedStream=this.openedChange.pipe(wl(F=>!F),qn(()=>{})),this.selectionChange=new Si,this.valueChange=new Si,this.ngControl&&(this.ngControl.valueAccessor=this),null!=D?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=D.typeaheadDebounceInterval),this._scrollStrategyFactory=v,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}ngOnInit(){this._selectionModel=new lq(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(kE(),is(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(is(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(lh(null),is(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const n=e.keyCode,i=40===n||38===n||37===n||39===n,a=13===n||32===n,o=this._keyManager;if(!o.isTyping()&&a&&!yg(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){const s=this.selected;o.onKeydown(e);const l=this.selected;l&&s!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const n=this._keyManager,i=e.keyCode,a=40===i||38===i,o=n.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(o||13!==i&&32!==i||!n.activeItem||yg(e))if(!o&&this._multiple&&65===i&&e.ctrlKey){e.preventDefault();const s=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(s?l.select():l.deselect())})}else{const s=n.activeItemIndex;n.onKeydown(e),this._multiple&&a&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==s&&n.activeItem._selectViaInteraction()}else e.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(pc(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const n=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new w$(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=Rn(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(is(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Rn(...this.options.map(n=>n._stateChanges)).pipe(is(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){const i=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((n,i)=>this.sortComparator?this.sortComparator(n,i,e):e.indexOf(n)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let n=null;n=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return r.\u0275fac=function(e){return new(e||r)(It(Op),It(es),It(ci),It(Hk),It(Ni),It(mc,8),It(c0,8),It(u0,8),It(ZE,8),It(xd,10),Rc("tabindex"),It(UP),It(RE),It(wZ,8))},r.\u0275dir=xe({type:r,viewQuery:function(e,n){if(1&e&&(qa(dZ,5),qa(fZ,5),qa(MN,5)),2&e){let i;zi(i=Vi())&&(n.trigger=i.first),zi(i=Vi())&&(n.panel=i.first),zi(i=Vi())&&(n._overlayDir=i.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[si,qo]}),r})(),TZ=(()=>{class r extends DZ{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(is(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const n=this.options.toArray()[e];if(n){const i=this.panel.nativeElement,a=function sX(r,t,e){if(e.length){let n=t.toArray(),i=e.toArray(),a=0;for(let o=0;o<r+1;o++)n[o].group&&n[o].group===i[a]&&a++;return a}return 0}(e,this.options,this.optionGroups),o=n._getHostElement();i.scrollTop=0===e&&1===a?0:function lX(r,t,e,n){return r<e?r:r+t>e+n?Math.max(0,r-n+t):e}(o.offsetTop,o.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new MZ(this,e)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof XE?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Da(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=oo(r)))(n||r)}}(),r.\u0275cmp=ua({type:r,selectors:[["mat-select"]],contentQueries:function(e,n,i){if(1&e&&(Os(i,SZ,5),Os(i,eN,5),Os(i,Jk,5)),2&e){let a;zi(a=Vi())&&(n.customTrigger=a.first),zi(a=Vi())&&(n.options=a),zi(a=Vi())&&(n.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,n){1&e&&ri("keydown",function(a){return n._handleKeydown(a)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),2&e&&(to("id",n.id)("tabindex",n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-activedescendant",n._getAriaActiveDescendant()),Ia("mat-mdc-select-disabled",n.disabled)("mat-mdc-select-invalid",n.errorState)("mat-mdc-select-required",n.required)("mat-mdc-select-empty",n.empty)("mat-mdc-select-multiple",n.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[va([{provide:qE,useExisting:r},{provide:Qk,useExisting:r}]),si],ngContentSelectors:_Z,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,n){if(1&e&&(_l(yZ),ar(0,"div",0,1),ri("click",function(){return n.toggle()}),ar(3,"div",2),Pi(4,hZ,2,1,"span",3),Pi(5,gZ,3,2,"span",4),sr(),ar(6,"div",5)(7,"div",6),Wf(),ar(8,"svg",7),Ra(9,"path",8),sr()()()(),Pi(10,mZ,3,9,"ng-template",9),ri("backdropClick",function(){return n.close()})("attach",function(){return n._onAttached()})("detach",function(){return n.close()})),2&e){const i=yp(1);to("aria-owns",n.panelOpen?n.id+"-panel":null),gr(3),mr("ngSwitch",n.empty),to("id",n._valueId),gr(1),mr("ngSwitchCase",!0),gr(1),mr("ngSwitchCase",!1),gr(5),mr("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",n._preferredOverlayOrigin||i)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayWidth",n._overlayWidth)}},dependencies:[T1,Mm,I1,M2,MN,XE],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[bZ.transformPanel]},changeDetection:0}),r})(),AZ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({providers:[EZ],imports:[oh,CN,tN,Za,WE,JE,tN,Za]}),r})();const IZ=["knob"],OZ=["valueIndicatorContainer"];function kZ(r,t){if(1&r&&(ar(0,"div",4,5)(2,"div",6)(3,"span",7),hi(4),sr()()()),2&r){const e=Ri();gr(4),zc(e.valueIndicatorText)}}const NZ=["trackActive"];function PZ(r,t){if(1&r&&Ra(0,"div"),2&r){const e=t.$implicit,n=t.index,i=Ri(3);(function $T(r){Au(Ts,gd,r,!0)})(0===e?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),um("transform",i._calcTickMarkTransform(n))}}function RZ(r,t){if(1&r&&(Ay(0),Pi(1,PZ,1,4,"div",11),Iy()),2&r){const e=Ri(2);gr(1),mr("ngForOf",e._tickMarks)}}function LZ(r,t){if(1&r&&(ar(0,"div",8,9),Pi(2,RZ,2,1,"ng-container",10),sr()),2&r){const e=Ri();gr(2),mr("ngIf",e._cachedWidth)}}function FZ(r,t){if(1&r&&Ra(0,"mat-slider-visual-thumb",7),2&r){const e=Ri();mr("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}const BZ=["*"],ob=new ir("_MatSlider"),GP=new ir("_MatSliderThumb"),HP=new ir("_MatSliderRangeThumb"),WP=new ir("_MatSliderVisualThumb");let zZ=(()=>{class r{constructor(e,n,i,a){this._cdr=e,this._ngZone=n,this._slider=a,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=o=>{if(this._sliderInput._isFocused)return;const s=this._hostElement.getBoundingClientRect(),l=this._isSliderThumbHovered(o,s);this._isHovered=l,l?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=()=>{this._isActive=!0,this._showActiveRipple()},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=i.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const e=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{e.addEventListener("pointermove",this._onPointerMove),e.addEventListener("pointerdown",this._onDragStart),e.addEventListener("pointerup",this._onDragEnd),e.addEventListener("pointerleave",this._onMouseLeave),e.addEventListener("focus",this._onFocus),e.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const e=this._sliderInputEl;e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return 0===e?.state||1===e?.state}_showRipple(e,n){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||n))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const n=this._getSibling();n._isShowingAnyRipple()||(this._hideValueIndicator(),n._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}_isSliderThumbHovered(e,n){const i=n.width/2,l=e.clientY-(n.y+i);return Math.pow(e.clientX-(n.x+i),2)+Math.pow(l,2)<Math.pow(i,2)}}return r.\u0275fac=function(e){return new(e||r)(It(es),It(ci),It(Ni),It(ob))},r.\u0275cmp=ua({type:r,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(e,n){if(1&e&&(qa(vh,5),qa(IZ,5),qa(OZ,5)),2&e){let i;zi(i=Vi())&&(n._ripple=i.first),zi(i=Vi())&&(n._knob=i.first),zi(i=Vi())&&(n._valueIndicatorContainer=i.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[va([{provide:WP,useExisting:r}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(e,n){1&e&&(Pi(0,kZ,5,1,"div",0),Ra(1,"div",1,2)(3,"div",3)),2&e&&(mr("ngIf",n.discrete),gr(3),mr("matRippleDisabled",!0))},dependencies:[yf,vh],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),r})();const VZ=U_(G_(class{constructor(r){this._elementRef=r}}),"primary");let MS=(()=>{class r extends VZ{get disabled(){return this._disabled}set disabled(e){this._disabled=Da(e);const n=this._getInput(2),i=this._getInput(1);n&&(n.disabled=this._disabled),i&&(i.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(e){this._discrete=Da(e),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(e){this._showTickMarks=Da(e)}get min(){return this._min}set min(e){const n=Ys(e,this._min);this._min!==n&&this._updateMin(n)}_updateMin(e){const n=this._min;this._min=e,this._isRange?this._updateMinRange({old:n,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){const n=this._getInput(2),i=this._getInput(1),a=n.value,o=i.value;i.min=e.new,n.min=Math.max(e.new,i.value),i.max=Math.min(n.max,n.value),i._updateWidthInactive(),n._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(n,i):this._onTranslateXChangeBySideEffect(i,n),a!==n.value&&this._onValueChange(n),o!==i.value&&this._onValueChange(i)}_updateMinNonRange(e){const n=this._getInput(2);if(n){const i=n.value;n.min=e,n._updateThumbUIByValue(),this._updateTrackUI(n),i!==n.value&&this._onValueChange(n)}}get max(){return this._max}set max(e){const n=Ys(e,this._max);this._max!==n&&this._updateMax(n)}_updateMax(e){const n=this._max;this._max=e,this._isRange?this._updateMaxRange({old:n,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){const n=this._getInput(2),i=this._getInput(1),a=n.value,o=i.value;n.max=e.new,i.max=Math.min(e.new,n.value),n.min=i.value,n._updateWidthInactive(),i._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(i,n):this._onTranslateXChangeBySideEffect(n,i),a!==n.value&&this._onValueChange(n),o!==i.value&&this._onValueChange(i)}_updateMaxNonRange(e){const n=this._getInput(2);if(n){const i=n.value;n.max=e,n._updateThumbUIByValue(),this._updateTrackUI(n),i!==n.value&&this._onValueChange(n)}}get step(){return this._step}set step(e){const n=Ys(e,this._step);this._step!==n&&this._updateStep(n)}_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const e=this._getInput(2),n=this._getInput(1),i=e.value,a=n.value,o=n.value;e.min=this._min,n.max=this._max,e.step=this._step,n.step=this._step,this._platform.SAFARI&&(e.value=e.value,n.value=n.value),e.min=Math.max(this._min,n.value),n.max=Math.min(this._max,e.value),n._updateWidthInactive(),e._updateWidthInactive(),e.value<o?this._onTranslateXChangeBySideEffect(n,e):this._onTranslateXChangeBySideEffect(e,n),i!==e.value&&this._onValueChange(e),a!==n.value&&this._onValueChange(n)}_updateStepNonRange(){const e=this._getInput(2);if(e){const n=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),n!==e.value&&this._onValueChange(e)}}constructor(e,n,i,a,o,s,l){super(a),this._ngZone=e,this._cdr=n,this._platform=i,this._dir=o,this._globalRippleOptions=s,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=0,this.displayWith=c=>`${c}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===l,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const e=this._getInput(2),n=this._getInput(1);this._isRange=!!e&&!!n,this._cdr.detectChanges();const i=this._getThumb(2);this._rippleRadius=i._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(e,n):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,n){e.initProps(),e.initUI(),n.initProps(),n.initUI(),e._updateMinMax(),n._updateMinMax(),e._updateStaticStyles(),n._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),n._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const e=this._getInput(2),n=this._getInput(1);e._setIsLeftThumb(),n._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),n.translateX=n._calcTranslateXByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateWidthInactive(),n._updateWidthInactive(),e._updateThumbUIByValue(),n._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(e=2){const n=this._getInput(e);return n?n.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){const n=this._trackActive.nativeElement.style,i=e.left!==n.left&&e.right!==n.right;n.left=e.left,n.right=e.right,n.transformOrigin=e.transformOrigin,i?(this._elementRef.nativeElement.classList.add("mat-mdc-slider-disable-track-animation"),this._ngZone.onStable.pipe(pc(1)).subscribe(()=>{this._elementRef.nativeElement.classList.remove("mat-mdc-slider-disable-track-animation"),n.transform=e.transform})):n.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,n){this._hasViewInitialized&&(e._updateThumbUIByValue(),n._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const e=this._getInput(2),n=this._getInput(1);e._updateThumbUIByValue(),n._updateThumbUIByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateMinMax(),n._updateMinMax(),e._updateWidthInactive(),n._updateWidthInactive()}else{const e=this._getInput(2);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const e=this._getInput(1),n=this._getInput(2);return!(!e||!n)&&n.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){const n=e.getSibling(),i=this._getThumb(e.thumbPosition);this._getThumb(n.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),i._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){this._skipUpdate()||(this._getThumb(2===e.thumbPosition?2:1)._hostElement.style.transform=`translateX(${e.translateX}px)`)}_updateValueIndicatorUI(e){if(this._skipUpdate())return;const n=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext=n:e._hostElement.setAttribute("aria-valuetext",n),this.discrete){1===e.thumbPosition?this.startValueIndicatorText=n:this.endValueIndicatorText=n;const i=this._getThumb(e.thumbPosition);n.length<3?i._hostElement.classList.add("mdc-slider__thumb--short-value"):i._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const e=this._getInput(2),n=this._getInput(1);e&&this._updateValueIndicatorUI(e),n&&this._updateValueIndicatorUI(n)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const e=this._step&&this._step>0?this._step:1,i=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*i-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){const n=e.getSibling();if(!n||!this._cachedWidth)return;const i=Math.abs(n.translateX-e.translateX)/this._cachedWidth;this._setTrackActiveStyles(e._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-n.translateX+"px",transformOrigin:"right",transform:`scaleX(${i})`}:{left:`${n.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${i})`})}_updateTrackUINonRange(e){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){const n=this._getValue();let i=Math.max(Math.round((n-this.min)/e),0),a=Math.max(Math.round((this.max-n)/e),0);this._isRtl?i++:a++,this._tickMarks=Array(i).fill(0).concat(Array(a).fill(1))}_updateTickMarkUIRange(e){const n=this._getValue(),i=this._getValue(1),a=Math.max(Math.floor((i-this.min)/e),0),o=Math.max(Math.floor((n-i)/e)+1,0),s=Math.max(Math.floor((this.max-n)/e),0);this._tickMarks=Array(a).fill(1).concat(Array(o).fill(0),Array(s).fill(1))}_getInput(e){return 2===e&&this._input?this._input:this._inputs?.length?1===e?this._inputs.first:this._inputs.last:void 0}_getThumb(e){return 2===e?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}}return r.\u0275fac=function(e){return new(e||r)(It(ci),It(es),It(Uo),It(Ni),It(mc,8),It(Zk,8),It(Nl,8))},r.\u0275cmp=ua({type:r,selectors:[["mat-slider"]],contentQueries:function(e,n,i){if(1&e&&(Os(i,GP,5),Os(i,HP,4)),2&e){let a;zi(a=Vi())&&(n._input=a.first),zi(a=Vi())&&(n._inputs=a)}},viewQuery:function(e,n){if(1&e&&(qa(NZ,5),qa(WP,5)),2&e){let i;zi(i=Vi())&&(n._trackActive=i.first),zi(i=Vi())&&(n._thumbs=i)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(e,n){2&e&&Ia("mdc-slider--range",n._isRange)("mdc-slider--disabled",n.disabled)("mdc-slider--discrete",n.discrete)("mdc-slider--tick-marks",n.showTickMarks)("_mat-animation-noopable",n._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[va([{provide:ob,useExisting:r}]),si],ngContentSelectors:BZ,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(_l(),Ba(0),ar(1,"div",0),Ra(2,"div",1),ar(3,"div",2),Ra(4,"div",3,4),sr(),Pi(6,LZ,3,1,"div",5),sr(),Pi(7,FZ,1,3,"mat-slider-visual-thumb",6),Ra(8,"mat-slider-visual-thumb",7)),2&e&&(gr(6),mr("ngIf",n.showTickMarks),gr(1),mr("ngIf",n._isRange),gr(1),mr("discrete",n.discrete)("thumbPosition",2)("valueIndicatorText",n.endValueIndicatorText))},dependencies:[Sm,yf,zZ],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:0;margin:0;height:100%;opacity:0;pointer-events:none;position:absolute;top:0;width:100%}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),r})();const UZ={provide:Wc,useExisting:Vn(()=>d0),multi:!0};let d0=(()=>{class r{get value(){return Ys(this._hostElement.value)}set value(e){const n=Ys(e).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=n,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges()):this._initialValue=n}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}get min(){return Ys(this._hostElement.min)}set min(e){this._hostElement.min=Ys(e).toString(),this._cdr.detectChanges()}get max(){return Ys(this._hostElement.max)}set max(e){this._hostElement.max=Ys(e).toString(),this._cdr.detectChanges()}get step(){return Ys(this._hostElement.step)}set step(e){this._hostElement.step=Ys(e).toString(),this._cdr.detectChanges()}get disabled(){return Da(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=Da(e),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(e){this._isFocused=e}constructor(e,n,i,a){this._ngZone=e,this._elementRef=n,this._cdr=i,this._slider=a,this.valueChange=new Si,this.dragStart=new Si,this.dragEnd=new Si,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Bt,this._skipUIUpdate=!1,this._onChangeFn=()=>{},this._onTouchedFn=()=>{},this._hostElement=n.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){this.disabled||0!==e.button||(this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value})))}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){const n=e.clientX-this._slider._cachedLeft,i=this._slider._cachedWidth,a=0===this._slider.step?1:this._slider.step,o=Math.floor((this._slider.max-this._slider.min)/a),c=Math.round((this._slider._isRtl?1-n/i:n/i)*o)/o*(this._slider.max-this._slider.min)+this._slider.min,u=Math.round(c/a)*a;if(u===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation}));this.value=u,this.valueChange.emit(this.value),this._onChangeFn(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive()))}_clamp(e){return Math.max(Math.min(e,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,n){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(n)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){this.value=e}registerOnChange(e){this._onChangeFn=e}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return r.\u0275fac=function(e){return new(e||r)(It(ci),It(Ni),It(es),It(ob))},r.\u0275dir=xe({type:r,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(e,n){1&e&&ri("change",function(){return n._onChange()})("input",function(){return n._onInput()})("blur",function(){return n._onBlur()})("focus",function(){return n._onFocus()}),2&e&&to("aria-valuetext",n._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[va([UZ,{provide:GP,useExisting:r}])]}),r})(),WZ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Za,oh,H_]}),r})();class CS{}class yh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const i=e.slice(0,n),a=i.toLowerCase(),o=e.slice(n+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(o):this.headers.set(a,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof yh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new yh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof yh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const a=t.value;if(a){let o=this.headers.get(e);if(!o)return;o=o.filter(s=>-1===a.indexOf(s)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class YZ{encodeKey(t){return $P(t)}encodeValue(t){return $P(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const XZ=/%(\d[a-f0-9])/gi,KZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $P(r){return encodeURIComponent(r).replace(XZ,(t,e)=>KZ[e]??t)}function sb(r){return`${r}`}class _h{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new YZ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $Z(r,t){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[o,s]=-1==a?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,a)),t.decodeValue(i.slice(a+1))],l=e.get(o)||[];l.push(s),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],i=Array.isArray(n)?n.map(sb):[sb(n)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(a=>{e.push({param:n,value:a,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new _h({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(sb(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const i=n.indexOf(sb(t.value));-1!==i&&n.splice(i,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class qZ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function XP(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function KP(r){return typeof Blob<"u"&&r instanceof Blob}function qP(r){return typeof FormData<"u"&&r instanceof FormData}class f0{constructor(t,e,n,i){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ZZ(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,a=i):a=n,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new yh),this.context||(this.context=new qZ),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+o}}else this.params=new _h,this.urlWithParams=e}serializeBody(){return null===this.body?null:XP(this.body)||KP(this.body)||qP(this.body)||function QZ(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _h?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qP(this.body)?null:KP(this.body)?this.body.type||null:XP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _h?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new f0(e,n,a,{params:c,headers:l,context:u,reportProgress:s,responseType:i,withCredentials:o})}}var $s=(()=>(($s=$s||{})[$s.Sent=0]="Sent",$s[$s.UploadProgress=1]="UploadProgress",$s[$s.ResponseHeader=2]="ResponseHeader",$s[$s.DownloadProgress=3]="DownloadProgress",$s[$s.Response=4]="Response",$s[$s.User=5]="User",$s))();class JZ{constructor(t,e=200,n="OK"){this.headers=t.headers||new yh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class DS extends JZ{constructor(t={}){super(t),this.type=$s.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new DS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function TS(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let AS=(()=>{class r{constructor(e){this.handler=e}request(e,n,i={}){let a;if(e instanceof f0)a=e;else{let l,c;l=i.headers instanceof yh?i.headers:new yh(i.headers),i.params&&(c=i.params instanceof _h?i.params:new _h({fromObject:i.params})),a=new f0(e,n,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=Kr(a).pipe(uh(l=>this.handler.handle(l)));if(e instanceof f0||"events"===i.observe)return o;const s=o.pipe(wl(l=>l instanceof DS));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return s.pipe(qn(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return s.pipe(qn(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return s.pipe(qn(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return s.pipe(qn(l=>l.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new _h).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,i={}){return this.request("PATCH",e,TS(i,n))}post(e,n,i={}){return this.request("POST",e,TS(i,n))}put(e,n,i={}){return this.request("PUT",e,TS(i,n))}}return r.\u0275fac=function(e){return new(e||r)(wn(CS))},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})();const fQ=["*"];let cb;function h0(r){return function hQ(){if(void 0===cb&&(cb=null,typeof window<"u")){const r=window;void 0!==r.trustedTypes&&(cb=r.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return cb}()?.createHTML(r)||r}function iR(r){return Error(`Unable to find icon with the name "${r}"`)}function aR(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function oR(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class Lp{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let ub=(()=>{class r{constructor(e,n,i,a){this._httpClient=e,this._sanitizer=n,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,n,i){return this.addSvgIconInNamespace("",e,n,i)}addSvgIconLiteral(e,n,i){return this.addSvgIconLiteralInNamespace("",e,n,i)}addSvgIconInNamespace(e,n,i,a){return this._addSvgIconConfig(e,n,new Lp(i,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,i,a){const o=this._sanitizer.sanitize(Fa.HTML,i);if(!o)throw oR(i);const s=h0(o);return this._addSvgIconConfig(e,n,new Lp("",s,a))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,i){return this._addSvgIconSetConfig(e,new Lp(n,null,i))}addSvgIconSetLiteralInNamespace(e,n,i){const a=this._sanitizer.sanitize(Fa.HTML,n);if(!a)throw oR(n);const o=h0(a);return this._addSvgIconSetConfig(e,new Lp("",o,i))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(Fa.RESOURCE_URL,e);if(!n)throw aR(e);const i=this._cachedIconsByUrl.get(n);return i?Kr(db(i)):this._loadSvgIconFromConfig(new Lp(e,null)).pipe(rs(a=>this._cachedIconsByUrl.set(n,a)),qn(a=>db(a)))}getNamedSvgIcon(e,n=""){const i=sR(n,e);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(n,e),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(e,o):ag(iR(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Kr(db(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(qn(n=>db(n)))}_getSvgFromIconSetConfigs(e,n){const i=this._extractIconWithNameFromAnySet(e,n);return i?Kr(i):VN(n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(_f(s=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Fa.RESOURCE_URL,o.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),Kr(null)})))).pipe(qn(()=>{const o=this._extractIconWithNameFromAnySet(e,n);if(!o)throw iR(e);return o}))}_extractIconWithNameFromAnySet(e,n){for(let i=n.length-1;i>=0;i--){const a=n[i];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){const o=this._svgElementFromConfig(a),s=this._extractSvgIconFromSet(o,e,a.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(rs(n=>e.svgText=n),qn(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Kr(null):this._fetchIcon(e).pipe(rs(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,i){const a=e.querySelector(`[id="${n}"]`);if(!a)return null;const o=a.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const s=this._svgElementFromString(h0("<svg></svg>"));return s.appendChild(o),this._setSvgAttributes(s,i)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const i=n.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const n=this._svgElementFromString(h0("<svg></svg>")),i=e.attributes;for(let a=0;a<i.length;a++){const{name:o,value:s}=i[a];"id"!==o&&n.setAttribute(o,s)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[a].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){const{url:n,options:i}=e,a=i?.withCredentials??!1;if(!this._httpClient)throw function pQ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(Fa.RESOURCE_URL,n);if(!o)throw aR(n);const s=this._inProgressUrlFetches.get(o);if(s)return s;const l=this._httpClient.get(o,{responseType:"text",withCredentials:a}).pipe(qn(c=>h0(c)),p_(()=>this._inProgressUrlFetches.delete(o)),Ir());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,n,i){return this._svgIconConfigs.set(sR(e,n),i),this}_addSvgIconSetConfig(e,n){const i=this._iconSetConfigs.get(e);return i?i.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](n,e);if(a)return gQ(a)?new Lp(a.url,null,a.options):new Lp(a,null)}}}return r.\u0275fac=function(e){return new(e||r)(wn(AS,8),wn(U1),wn(sa,8),wn(uf))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function db(r){return r.cloneNode(!0)}function sR(r,t){return r+":"+t}function gQ(r){return!(!r.url||!r.options)}const mQ=U_(class{constructor(r){this._elementRef=r}}),yQ=new ir("MAT_ICON_DEFAULT_OPTIONS"),_Q=new ir("mat-icon-location",{providedIn:"root",factory:function bQ(){const r=ui(sa),t=r?r.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),lR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],xQ=lR.map(r=>`[${r}]`).join(", "),wQ=/^url\(['"]?#(.*?)['"]?\)$/;let cR=(()=>{class r extends mQ{get inline(){return this._inline}set inline(e){this._inline=Da(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(e,n,i,a,o,s){super(e),this._iconRegistry=n,this._location=a,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=$.EMPTY,s&&(s.color&&(this.color=this.defaultColor=s.color),s.fontSet&&(this.fontSet=s.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const i=e.childNodes[n];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),n.forEach(i=>e.classList.add(i)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((i,a)=>{i.forEach(o=>{a.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(xQ),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<n.length;a++)lR.forEach(o=>{const s=n[a],l=s.getAttribute(o),c=l?l.match(wQ):null;if(c){let u=i.get(s);u||(u=[],i.set(s,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,i]=this._splitIconName(e);n&&(this._svgNamespace=n),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,n).pipe(pc(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${i}! ${a.message}`))})}}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(ub),Rc("aria-hidden"),It(_Q),It(uf),It(yQ,8))},r.\u0275cmp=ua({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,n){2&e&&(to("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),Ia("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[si],ngContentSelectors:fQ,decls:1,vars:0,template:function(e,n){1&e&&(_l(),Ba(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),r})(),EQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Za,Za]}),r})();function SQ(r,t){if(1&r&&(ar(0,"mat-option",13),hi(1),sr()),2&r){const e=t.$implicit;mr("value",e.value),gr(1),zc(e.name)}}function MQ(r,t){if(1&r){const e=rh();ar(0,"mat-form-field",2)(1,"mat-label"),hi(2,"\u662f\u5426\u8bbe\u7f6e\u6743\u503c"),sr(),ar(3,"mat-select",14),ri("valueChange",function(i){return Lo(e),ka(Ri().isWeighted=i)})("valueChange",function(){return Lo(e),ka(Ri().changeNodeWeight())}),ar(4,"mat-option",13),hi(5,"\u662f"),sr(),ar(6,"mat-option",13),hi(7,"\u5426"),sr()()()}if(2&r){const e=Ri();gr(3),mr("value",e.isWeighted)("disabled",e.isRunning),gr(1),mr("value",!0),gr(2),mr("value",!1)}}function CQ(r,t){if(1&r&&(ar(0,"mat-option",13),hi(1),sr()),2&r){const e=t.$implicit;mr("value",e.value),gr(1),zc(e.name)}}let DQ=(()=>{class r{constructor(e){this._snackBar=e,this.pathFindingAlgorithm=null,this.mazeAlgorithm=null,this.rows=20,this.cols=40,this.startRow=10,this.startCol=10,this.endRow=10,this.endCol=30,this.speed=100,this.isMouseDown=!1,this.isWeighted=!1,this.isRunning=!1,this.pathFindingAlgorithms=[{name:"A*",value:"aStar"},{name:"Dijkstra",value:"dijkstra"},{name:"BFS",value:"bfs"},{name:"DFS",value:"dfs"}],this.mazeAlgorithms=[{name:"None",value:"none"},{name:"Simple Stair Maze",value:"simpleStairMaze"},{name:"Randomized depth-first search",value:"randomizedDepthFirstSearch"},{name:"Recursive Division",value:"recursiveDivision"}],this.selectedPathFindingAlgorithm="aStar",this.selectedMazeAlgorithm="none",this.costMinute=0,this.costSecond=0,this.costMillisecond=0}ngDoCheck(){this.isRunning=null!=this.pathFindingAlgorithm&&!this.pathFindingAlgorithm.isEnd||null!=this.mazeAlgorithm&&!this.mazeAlgorithm.isEnd}ngOnInit(){console.log("PathFindingComponent"),this.createBoard(),this.createStartNode(this.startRow,this.startCol),this.createEndNode(this.endRow,this.endCol)}generateMaze(){switch(this.resetTime(),this.clearMazeAlgorithm(),this.clearWall(),this.clearBoardColor(),this.createStartNode(this.startRow,this.startCol),this.createEndNode(this.endRow,this.endCol),this.selectedMazeAlgorithm){case"randomizedDepthFirstSearch":this.mazeAlgorithm=new WY(this.rows,this.cols,this.startRow-1,this.startCol-1,this.endRow-1,this.endCol-1,this.speed);break;case"simpleStairMaze":this.mazeAlgorithm=new YY(this.rows,this.cols,this.startRow-1,this.startCol-1,this.endRow-1,this.endCol-1,this.speed);break;case"recursiveDivision":this.mazeAlgorithm=new $Y(this.rows,this.cols,this.startRow-1,this.startCol-1,this.endRow-1,this.endCol-1,this.speed)}this.mazeAlgorithm?.startVisual()}createBoard(){const i=document.querySelector(".container");i.setAttribute("style",`grid-template-rows: repeat(${this.rows}, ${600/this.rows}px);grid-template-columns: repeat(${this.cols}, ${1200/this.cols}px);`),i.innerHTML="";for(let a=0;a<this.rows;a++)for(let o=0;o<this.cols;o++){let s=this.createNode(a,o);i.appendChild(s)}}createNode(e,n){let i=document.createElement("div");return i.classList.add("before_start_node"),i.setAttribute("row",e.toString()),i.setAttribute("col",n.toString()),i.setAttribute("wall","false"),i.setAttribute("parent","null"),i.setAttribute("border","1px solid black"),i.innerHTML="",i}setWallAttribute(e){if(this.isMouseDown&&e.target.classList.contains("before_start_node")){const n=e.target.getAttribute("row"),i=e.target.getAttribute("col");n==this.startRow-1&&i==this.startCol-1||this.endRow-1==n&&this.endCol-1==i?this._snackBar.open("\u4e0d\u80fd\u9009\u62e9\u8d77\u70b9\u6216\u7ec8\u70b9\uff01"):(e.target.classList.toggle("wall"),e.target.classList.contains("wall")?e.target.setAttribute("wall","true"):e.target.setAttribute("wall","false"))}}onMouseDown(e){this.isMouseDown=!0,this.setWallAttribute(e)}onMouseUp(e){this.isMouseDown=!1,this.setWallAttribute(e)}reset(){this.rows=20,this.cols=40,this.startRow=10,this.startCol=10,this.endRow=10,this.endCol=30,this.speed=100,this.isWeighted=!1,this.selectedPathFindingAlgorithm="aStar",this.selectedMazeAlgorithm="none",this.createBoard(),this.createStartNode(this.startRow,this.startCol),this.createEndNode(this.endRow,this.endCol),this.clearPathFindingAlgorithm(),this.clearMazeAlgorithm(),this.resetTime()}createStartNode(e,n){const a=document.querySelector(".container").querySelector(`div[row="${e-1}"][col="${n-1}"]`);a.setAttribute("cost",String(0)),a.setAttribute("class","ends"),a.innerHTML="S"}createEndNode(e,n){const a=document.querySelector(".container").querySelector(`div[row="${e-1}"][col="${n-1}"]`);a.setAttribute("class","ends"),a.innerHTML="E"}visualStart(){this.clearBoardColor(),"aStar"==this.selectedPathFindingAlgorithm?this.pathFindingAlgorithm=new UY(this.rows,this.cols,this.startRow-1,this.startCol-1,this.endRow-1,this.endCol-1,this.speed):"dijkstra"==this.selectedPathFindingAlgorithm?this.pathFindingAlgorithm=this.isWeighted?new HY(this.rows,this.cols,this.startRow-1,this.startCol-1,this.endRow-1,this.endCol-1,this.speed):new mk(this.rows,this.cols,this.startRow-1,this.startCol-1,this.endRow-1,this.endCol-1,this.speed):"bfs"==this.selectedPathFindingAlgorithm?this.pathFindingAlgorithm=new mk(this.rows,this.cols,this.startRow-1,this.startCol-1,this.endRow-1,this.endCol-1,this.speed):"dfs"==this.selectedPathFindingAlgorithm&&(console.log("dfs"),this.pathFindingAlgorithm=new GY(this.rows,this.cols,this.startRow-1,this.startCol-1,this.endRow-1,this.endCol-1,this.speed)),this.pathFindingAlgorithm.startVisual(),this.startCostTime()}changeNodeWeight(){if(console.log(this.isWeighted),this.isWeighted)for(let e=0;e<this.rows;e++)for(let n=0;n<this.cols;n++){let i=Math.ceil(10*Math.random());(e==this.startRow-1&&n==this.startCol-1||e==this.endRow-1&&n==this.endCol-1)&&(i=0);let a=document.querySelector(`div[row="${e}"][col="${n}"]`);a.setAttribute("weight",i.toString()),e==this.startRow-1&&n==this.startCol-1||e==this.endRow-1&&n==this.endCol-1||(a.innerHTML=i.toString())}else for(let e=0;e<this.rows;e++)for(let n=0;n<this.cols;n++){let i=document.querySelector(`div[row="${e}"][col="${n}"]`);(e!=this.startRow-1||n!=this.startCol-1)&&(e!=this.endRow-1||n!=this.endCol-1)&&(i.removeAttribute("weight"),i.innerHTML="")}}changeSpeedDynamically(){null!=this.pathFindingAlgorithm&&(this.pathFindingAlgorithm.speed=this.speed),null!=this.mazeAlgorithm&&(this.mazeAlgorithm.speed=this.speed)}algorithmChange(){this.clearWeight(),this.clearPathFindingAlgorithm(),this.clearBoardColor(),this.resetTime()}clearPathFindingAlgorithm(){this.pathFindingAlgorithm&&(this.pathFindingAlgorithm.stopVisual(),this.pathFindingAlgorithm=null)}clearMazeAlgorithm(){this.mazeAlgorithm&&(this.mazeAlgorithm.stopVisual(),this.mazeAlgorithm=null)}clearBoardColor(){const n=document.querySelector(".container").querySelectorAll("div");for(let i=0;i<n.length;i++)!this.isStartOrEndNode(n[i])&&!n[i].classList.contains("wall")&&(n[i].setAttribute("class","before_start_node"),this.isWeighted||(n[i].innerHTML="")),n[i].setAttribute("parent","null"),n[i].removeAttribute("visited"),this.isStartOrEndNode(n[i])||n[i].removeAttribute("cost")}clearWall(){const n=document.querySelector(".container").querySelectorAll("div");for(let i=0;i<n.length;i++)n[i].classList.contains("wall")&&(n[i].setAttribute("class","before_start_node"),n[i].setAttribute("wall","false"),n[i].innerHTML="",null!=n[i].getAttribute("weight")&&(n[i].innerHTML=n[i].getAttribute("weight")))}isStartOrEndNode(e){return e.classList.contains("ends")}clearWeight(){if("dijkstra"!=this.selectedPathFindingAlgorithm){this.isWeighted=!1;const n=document.querySelector(".container").querySelectorAll("div");for(let i=0;i<n.length;i++)this.isStartOrEndNode(n[i])||(n[i].removeAttribute("weight"),n[i].innerHTML="")}}startCostTime(){this.resetTime(),this.timerInterval=setInterval(()=>{this.costMillisecond++,this.costMillisecond>=100&&(this.costSecond++,this.costMillisecond=0),this.costSecond>=60&&(this.costMinute++,this.costSecond=0),(this.pathFindingAlgorithm&&this.pathFindingAlgorithm.isEnd||null==this.pathFindingAlgorithm)&&this.stopCostTime()},10)}stopCostTime(){clearInterval(this.timerInterval)}resetTime(){this.costMinute=0,this.costSecond=0,this.costMillisecond=0}}return r.\u0275fac=function(e){return new(e||r)(It(IN))},r.\u0275cmp=ua({type:r,selectors:[["ng-component"]],decls:26,vars:12,consts:[[1,"main"],["mat-icon-button","","color","primary","routerLink","/"],["appearance","outline"],[3,"value","disabled","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",4,"ngIf"],["min","1","max","100","step","1","discrete","",2,"width","300px"],["matSliderThumb","",3,"value","valueChange"],[1,"button-area"],["mat-stroked-button","","color","primary",3,"disabled","click"],["mat-stroked-button","","color","primary",3,"click"],[2,"margin-left","100px"],[1,"container",3,"mousedown","mouseup","mouseover"],[3,"value"],[3,"value","disabled","valueChange"]],template:function(e,n){1&e&&(ar(0,"div",0)(1,"button",1)(2,"mat-icon"),hi(3,"home"),sr()(),ar(4,"mat-form-field",2)(5,"mat-label"),hi(6,"\u9009\u62e9\u4e00\u4e2a\u7b97\u6cd5"),sr(),ar(7,"mat-select",3),ri("valueChange",function(a){return n.selectedPathFindingAlgorithm=a})("selectionChange",function(){return n.algorithmChange()}),Pi(8,SQ,2,2,"mat-option",4),sr()(),Pi(9,MQ,8,4,"mat-form-field",5),ar(10,"mat-form-field",2)(11,"mat-label"),hi(12,"\u9009\u62e9\u4e00\u4e2a\u8ff7\u5bab\u7b97\u6cd5"),sr(),ar(13,"mat-select",3),ri("valueChange",function(a){return n.selectedMazeAlgorithm=a})("selectionChange",function(){return n.generateMaze()}),Pi(14,CQ,2,2,"mat-option",4),sr()(),hi(15," \u901f\u5ea6: "),ar(16,"mat-slider",6)(17,"input",7),ri("valueChange",function(a){return n.speed=a})("valueChange",function(){return n.changeSpeedDynamically()}),sr()(),ar(18,"div",8)(19,"button",9),ri("click",function(){return n.visualStart()}),hi(20," \u5f00\u59cb\u53ef\u89c6\u5316 "),sr(),ar(21,"button",10),ri("click",function(){return n.reset()}),hi(22,"\u91cd\u7f6e"),sr(),ar(23,"div",11),hi(24),sr()(),ar(25,"div",12),ri("mousedown",function(a){return n.isRunning||n.onMouseDown(a)})("mouseup",function(a){return n.isRunning||n.onMouseUp(a)})("mouseover",function(a){return n.isRunning||n.setWallAttribute(a)}),sr()()),2&e&&(gr(7),mr("value",n.selectedPathFindingAlgorithm)("disabled",n.isRunning),gr(1),mr("ngForOf",n.pathFindingAlgorithms),gr(1),mr("ngIf","dijkstra"==n.selectedPathFindingAlgorithm),gr(4),mr("value",n.selectedMazeAlgorithm)("disabled",n.isRunning),gr(1),mr("ngForOf",n.mazeAlgorithms),gr(3),mr("value",n.speed),gr(2),mr("disabled",null!==n.mazeAlgorithm&&!n.mazeAlgorithm.isEnd||null!==n.pathFindingAlgorithm&&!n.pathFindingAlgorithm.isEnd),gr(5),Ny("\u6240\u7528\u65f6\u95f4\uff1a",n.costMinute,"m:",n.costSecond,"s:",10*n.costMillisecond,"ms"))},dependencies:[Sm,yf,Dp,QE,t0,TZ,eN,MS,d0,W_,rN,cR],styles:[".main[_ngcontent-%COMP%]{background:#e0e5ec}.container[_ngcontent-%COMP%]{display:grid;box-shadow:3px 3px 4px #5a5c5e,-3px -3px 4px #fff;border-radius:5px;padding:12px;margin-top:10px;margin-left:auto;margin-right:auto;grid-row-gap:5px;grid-column-gap:5px;border:none;width:1400px;height:700px}[_nghost-%COMP%]  .before_start_node{background:transparent;text-align:center;box-shadow:3px 3px 4px #5a5c5e,-3px -3px 4px #fff;border-radius:5px;display:flex;justify-content:center;align-items:center;cursor:cell;border:none}[_nghost-%COMP%]  .wall{background-color:#5a5c5e;box-shadow:inset 5px 5px 7px #464849,inset -1px -1px 2px #cccaca;color:#5a5c5e;text-align:center;border-radius:5px;display:flex;justify-content:center;align-items:center;cursor:cell;border:none}.button-area[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px}[_nghost-%COMP%]  .ends{background:#26466D;color:#fff;font-weight:bolder;text-align:center;box-shadow:3px 3px 4px #5a5c5e,-3px -3px 4px #fff;border-radius:5px;display:flex;justify-content:center;align-items:center;cursor:cell;border:none}[_nghost-%COMP%]  .Path_green{background:#00FF00;color:#000;text-align:center;box-shadow:5px 5px 9px #5a5c5e,-5px -5px 9px #fff;border-radius:5px;display:flex;justify-content:center;align-items:center;cursor:cell;border:none}[_nghost-%COMP%]  .Path_red{background:#DC143C;color:#fff;text-align:center;box-shadow:3px 3px 4px #5a5c5e,-3px -3px 4px #fff;border-radius:5px;display:flex;justify-content:center;align-items:center;cursor:cell;border:none}"]}),r})(),TQ=(()=>{class r{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Da(e)}get inset(){return this._inset}set inset(e){this._inset=Da(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ua({type:r,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,n){2&e&&(to("aria-orientation",n.vertical?"vertical":"horizontal"),Ia("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,n){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),r})(),AQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Za,Za]}),r})();const IQ=["*"],RQ=new ir("MAT_CARD_CONFIG");let uR=(()=>{class r{constructor(e){this.appearance=e?.appearance||"raised"}}return r.\u0275fac=function(e){return new(e||r)(It(RQ,8))},r.\u0275cmp=ua({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,n){2&e&&Ia("mat-mdc-card-outlined","outlined"===n.appearance)("mdc-card--outlined","outlined"===n.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:IQ,decls:1,vars:0,template:function(e,n){1&e&&(_l(),Ba(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),r})(),dR=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=xe({type:r,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),r})(),XQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Za,oh,Za]}),r})(),KQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ua({type:r,selectors:[["app-index"]],decls:21,vars:0,consts:[[2,"text-align","center","font-size","40px","margin-top","20px"],[1,"center-table",2,"margin-top","100px"],["routerLink","pathfinding",1,"card"],[1,"center-text","font-30"],["routerLink","sorting",1,"card"],["routerLink","tree",1,"card"]],template:function(e,n){1&e&&(ar(0,"h1",0),hi(1,"\u7b97\u6cd5\u53ef\u89c6\u5316"),sr(),Ra(2,"mat-divider"),ar(3,"table",1)(4,"tr")(5,"td")(6,"mat-card",2)(7,"mat-card-content")(8,"div",3),hi(9,"\u5bfb\u8def\u7b97\u6cd5"),sr()()()(),ar(10,"td")(11,"mat-card",4)(12,"mat-card-content")(13,"div",3),hi(14,"\u6392\u5e8f\u7b97\u6cd5"),sr()()()(),ar(15,"td")(16,"mat-card",5)(17,"mat-card-content")(18,"div",3),hi(19,"\u6811\u7b97\u6cd5"),sr()()()()(),Ra(20,"tr"),sr())},dependencies:[Dp,TQ,uR,dR],styles:[".center-table[_ngcontent-%COMP%]{justify-content:center;align-items:center;margin:25px auto}.card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:20px;box-shadow:0 1px 1px #0000000d;margin-right:40px;margin-bottom:20px;cursor:pointer;height:300px;width:400px}.center-text[_ngcontent-%COMP%]{left:50%;top:50%;position:absolute;transform:translate(-50%,-50%)}.font-30[_ngcontent-%COMP%]{font-size:30px}mat-grid-tile[_ngcontent-%COMP%]{background:lightblue}"]}),r})();class p0{get speed(){return this._speed}getCalculateSpeed(){return 1e3-9*this.speed}set speed(t){this._speed=t}constructor(t,e,n){this.animationBuilder=n,this.count=0,this.isEnd=!1,this.animationQueue=[],this.swapCount=0,this.compareCount=0,this.array=t,this.arrayCopy=t.slice(),this._speed=e}startSort(){this.sort(),this.beforePlayAnimation(),this.playAnimationQueue(0)}playAnimationQueue(t){if(t>=this.animationQueue.length)return this.isEnd=!0,void this.afterPlayAnimation();{let e=this.animationQueue[t];"compare"===e.type?(this.playCompareAnimation(t),this.compareCount++):"swap"===e.type&&(this.playSwapAnimation(e.i,e.j),e.i!==e.j&&this.swapCount++),this.sortTimer=setTimeout(()=>{this.playAnimationQueue(t+1)},this.getCalculateSpeed())}}swap(t,e){let n=this.array[t];this.array[t]=this.array[e],this.array[e]=n}swapWithCopy(t,e){let n=this.arrayCopy[t];this.arrayCopy[t]=this.arrayCopy[e],this.arrayCopy[e]=n}isIndexValid(t){return t>=0&&t<this.array.length}getDivByIndex(t){return document.querySelector(`.sort-item[id="${t}"]`)}playSwapAnimation(t,e){if(!this.isIndexValid(t)||!this.isIndexValid(e)||t===e)return;this.setBackGroundColor(t,za.YELLOW),this.setBackGroundColor(e,za.YELLOW);let n=Math.max(t,e),i=Math.min(t,e),a=n-i,o=this.getDivByIndex(i),s=this.getDivByIndex(n),l=o.getBoundingClientRect().width,c=o.getBoundingClientRect().height;const u=this.animationBuilder.build([bd(`${this.getCalculateSpeed()}ms ease-in-out`,oN([Go({transform:`translateY(-${c}px) translateX(0)`,offset:.3}),Go({transform:`translateY(-${c}px) translateX(${a*l}px)`,offset:.7}),Go({transform:`translateY(0) translateX(${a*l}px)`,offset:1})]))]),d=this.animationBuilder.build([bd(`${this.getCalculateSpeed()}ms ease-in-out`,oN([Go({transform:`translateY(${c}px) translateX(0)`,offset:.3}),Go({transform:`translateY(${c}px) translateX(-${a*l}px)`,offset:.7}),Go({transform:`translateY(0) translateX(-${a*l}px)`,offset:1})]))]),h=u.create(o),v=d.create(s);h.play(),v.play(),h.onDone(()=>{v.onDone(()=>{console.log("done"),this.swap(t,e),h.destroy(),v.destroy(),this.setBackGroundColor(t,za.GREENYELLOW),this.setBackGroundColor(e,za.GREENYELLOW)})})}setBackGroundColor(t,e){let n=this.getDivByIndex(t);switch(e){case za.NONE:n.classList.remove(za.YELLOW,za.GREENYELLOW);break;case za.GREENYELLOW:n.classList.remove(za.YELLOW),n.classList.add(za.GREENYELLOW);break;case za.YELLOW:n.classList.remove(za.GREENYELLOW),n.classList.add(za.YELLOW)}}hasBackGroundColor(t,e){let n=this.getDivByIndex(t);switch(e){case za.NONE:return!n.classList.contains(za.YELLOW)&&!n.classList.contains(za.GREENYELLOW);case za.GREENYELLOW:return n.classList.contains(za.GREENYELLOW);case za.YELLOW:return n.classList.contains(za.YELLOW);default:return!1}}beforePlayAnimation(){this.isEnd=!1}afterPlayAnimation(){setTimeout(()=>{this.isEnd=!0;for(let t=0;t<this.array.length;t++)this.hasBackGroundColor(t,za.GREENYELLOW)||this.setBackGroundColor(t,za.GREENYELLOW)},this.getCalculateSpeed())}addCompareAnimation(t,e){this.animationQueue.push({type:"compare",i:t,j:e,count:this.count++})}addSwapAnimation(t,e){this.animationQueue.push({type:"swap",i:t,j:e,count:this.count++})}stopSort(){this.sortTimer&&clearTimeout(this.sortTimer);for(let t=0;t<this.array.length;t++)this.setBackGroundColor(t,za.NONE);this.isEnd=!0}removeBackGroundColor(){for(let t=0;t<this.array.length;t++)this.setBackGroundColor(t,za.NONE)}playCompareAnimation(t){if(t>0&&t<this.animationQueue.length){let e=this.animationQueue.filter(i=>"compare"===i.type&&i.count<t),n=e.length;n>0&&(this.setBackGroundColor(e[n-1].i,za.NONE),this.setBackGroundColor(e[n-1].j,za.NONE)),this.setBackGroundColor(this.animationQueue[t].i,za.YELLOW),this.setBackGroundColor(this.animationQueue[t].j,za.YELLOW)}}}var za=(()=>{return(r=za||(za={})).NONE="none",r.GREENYELLOW="background-greenyellow",r.YELLOW="background-yellow",za;var r})();class qQ extends p0{sort(){for(let t=0;t<this.arrayCopy.length-1;t++)for(let e=t+1;e<this.arrayCopy.length;e++)this.addCompareAnimation(t,e),this.arrayCopy[t]>this.arrayCopy[e]&&(this.swapWithCopy(t,e),this.addSwapAnimation(t,e))}}class ZQ extends p0{sort(){this.quickSort(this.arrayCopy,0,this.arrayCopy.length-1)}quickSort(t,e,n){if(e<n){let i=this.partition(t,e,n);this.quickSort(t,e,i-1),this.quickSort(t,i+1,n)}}partition(t,e,n){let i=t[e];for(;e<n;){for(;e<n&&t[n]>=i;)this.addCompareAnimation(n,e),n--;for(this.swapWithCopy(e,n),this.addSwapAnimation(e,n);e<n&&t[e]<=i;)this.addCompareAnimation(e,n),e++;this.swapWithCopy(e,n),this.addSwapAnimation(e,n)}return e}}class QQ extends p0{sort(){for(let t=0;t<this.arrayCopy.length;t++){let e=t;for(let n=t+1;n<this.arrayCopy.length;n++)this.addCompareAnimation(e,n),this.arrayCopy[n]<this.arrayCopy[e]&&(e=n);this.swapWithCopy(t,e),this.addSwapAnimation(t,e)}}}class JQ extends p0{sort(){for(let t=1;t<this.arrayCopy.length;t++){let e=t;for(;e>0&&this.arrayCopy[e]<this.arrayCopy[e-1];)this.addCompareAnimation(e,e-1),this.swapWithCopy(e,e-1),this.addSwapAnimation(e,e-1),e--}}}class eJ extends p0{sort(){for(let t=Math.floor(this.arrayCopy.length/2)-1;t>=0;t--)this.heapify(this.arrayCopy,t,this.arrayCopy.length);for(let t=this.arrayCopy.length-1;t>0;t--)this.swapWithCopy(0,t),this.addSwapAnimation(0,t),this.heapify(this.arrayCopy,0,t)}heapify(t,e,n){let i=2*e+1,a=2*e+2,o=e;i<n&&t[i]>t[o]&&(this.addCompareAnimation(i,o),o=i),a<n&&t[a]>t[o]&&(this.addCompareAnimation(i,o),o=a),o!=e&&(this.swapWithCopy(e,o),this.addSwapAnimation(e,o),this.heapify(t,o,n))}}const fR=mg({passive:!0});let tJ=(()=>{class r{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return C;const n=xf(e),i=this._monitoredElements.get(n);if(i)return i.subject;const a=new Bt,o="cdk-text-field-autofilled",s=l=>{"cdk-text-field-autofill-start"!==l.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>a.next({target:l.target,isAutofilled:!1}))):(n.classList.add(o),this._ngZone.run(()=>a.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",s,fR),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:a,unlisten:()=>{n.removeEventListener("animationstart",s,fR)}}),a}stopMonitoring(e){const n=xf(e),i=this._monitoredElements.get(n);i&&(i.unlisten(),i.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}}return r.\u0275fac=function(e){return new(e||r)(wn(Uo),wn(ci))},r.\u0275prov=vr({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),nJ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({}),r})();const rJ=new ir("MAT_INPUT_VALUE_ACCESSOR"),iJ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let aJ=0;const oJ=Gk(class{constructor(r,t,e,n){this._defaultErrorStateMatcher=r,this._parentForm=t,this._parentFormGroup=e,this.ngControl=n,this.stateChanges=new Bt}});let hR=(()=>{class r extends oJ{get disabled(){return this._disabled}set disabled(e){this._disabled=Da(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(eS.required)??!1}set required(e){this._required=Da(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&_k().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Da(e)}constructor(e,n,i,a,o,s,l,c,u,d){super(s,a,o,i),this._elementRef=e,this._platform=n,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+aJ++,this.focused=!1,this.stateChanges=new Bt,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(y=>_k().has(y)),this._iOSKeyupListener=y=>{const D=y.target;!D.value&&0===D.selectionStart&&0===D.selectionEnd&&(D.setSelectionRange(1,1),D.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,v=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===v,this._isTextarea="textarea"===v,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){iJ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(Uo),It(xd,10),It(c0,8),It(u0,8),It(Hk),It(rJ,10),It(tJ),It(ci),It(ZE,8))},r.\u0275dir=xe({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,n){1&e&&ri("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),2&e&&(qv("id",n.id)("disabled",n.disabled)("required",n.required),to("name",n.name||null)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required)("id",n.id),Ia("mat-input-server",n._isServer)("mat-mdc-form-field-textarea-control",n._isInFormField&&n._isTextarea)("mat-mdc-form-field-input-control",n._isInFormField)("mdc-text-field__input",n._isInFormField)("mat-mdc-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[va([{provide:qE,useExisting:r}]),si,qo]}),r})(),sJ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Za,JE,JE,nJ,Za]}),r})();function lJ(r,t){}const cJ=function(r){return{animationDuration:r}},uJ=function(r,t){return{value:r,params:t}};function dJ(r,t){1&r&&Ba(0)}const pR=["*"],fJ=["tabListContainer"],hJ=["tabList"],pJ=["tabListInner"],vJ=["nextPaginator"],gJ=["previousPaginator"],mJ=["tabBodyWrapper"],yJ=["tabHeader"];function _J(r,t){}function bJ(r,t){1&r&&Pi(0,_J,0,0,"ng-template",14),2&r&&mr("cdkPortalOutlet",Ri().$implicit.templateLabel)}function xJ(r,t){1&r&&hi(0),2&r&&zc(Ri().$implicit.textLabel)}function wJ(r,t){if(1&r){const e=rh();ar(0,"div",6,7),ri("click",function(){const i=Lo(e),a=i.$implicit,o=i.index,s=Ri(),l=yp(1);return ka(s._handleClick(a,l,o))})("cdkFocusChange",function(i){const o=Lo(e).index;return ka(Ri()._tabFocusChanged(i,o))}),Ra(2,"span",8)(3,"div",9),ar(4,"span",10)(5,"span",11),Pi(6,bJ,1,1,"ng-template",12),Pi(7,xJ,1,1,"ng-template",null,13,Xw),sr()()()}if(2&r){const e=t.$implicit,n=t.index,i=yp(1),a=yp(8),o=Ri();Ia("mdc-tab--active",o.selectedIndex===n),mr("id",o._getTabLabelId(n))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),to("tabIndex",o._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(n))("aria-selected",o.selectedIndex===n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),gr(3),mr("matRippleTrigger",i)("matRippleDisabled",e.disabled||o.disableRipple),gr(3),mr("ngIf",e.templateLabel)("ngIfElse",a)}}function EJ(r,t){if(1&r){const e=rh();ar(0,"mat-tab-body",15),ri("_onCentered",function(){return Lo(e),ka(Ri()._removeTabBodyWrapperHeight())})("_onCentering",function(i){return Lo(e),ka(Ri()._setTabBodyWrapperHeight(i))}),sr()}if(2&r){const e=t.$implicit,n=t.index,i=Ri();Ia("mat-mdc-tab-body-active",i.selectedIndex===n),mr("id",i._getTabContentId(n))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),to("tabindex",null!=i.contentTabIndex&&i.selectedIndex===n?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(n))}}const SJ={translateTab:xg("translateTab",[Ap("center, void, left-origin-center, right-origin-center",Go({transform:"none"})),Ap("left",Go({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Ap("right",Go({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Ef("* => left, * => right, left => center, right => center",bd("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Ef("void => left-origin-center",[Go({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),bd("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Ef("void => right-origin-center",[Go({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),bd("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let MJ=(()=>{class r extends Jm{constructor(e,n,i,a){super(e,n,a),this._host=i,this._centeringSub=$.EMPTY,this._leavingSub=$.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(lh(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(It(nh),It(Hs),It(Vn(()=>vR)),It(sa))},r.\u0275dir=xe({type:r,selectors:[["","matTabBodyHost",""]],features:[si]}),r})(),CJ=(()=>{class r{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,n,i){this._elementRef=e,this._dir=n,this._dirChangeSubscription=$.EMPTY,this._translateTabComplete=new Bt,this._onCentering=new Si,this._beforeCentering=new Si,this._afterLeavingCenter=new Si,this._onCentered=new Si(!0),this.animationDuration="500ms",this.preserveContent=!1,n&&(this._dirChangeSubscription=n.change.subscribe(a=>{this._computePositionAnimationState(a),i.markForCheck()})),this._translateTabComplete.pipe(kE((a,o)=>a.fromState===o.fromState&&a.toState===o.toState)).subscribe(a=>{this._isCenterPosition(a.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(a.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const n=this._isCenterPosition(e.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const n=this._getLayoutDirection();return"ltr"==n&&e<=0||"rtl"==n&&e>0?"left-origin-center":"right-origin-center"}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(mc,8),It(es))},r.\u0275dir=xe({type:r,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),r})(),vR=(()=>{class r extends CJ{constructor(e,n,i){super(e,n,i)}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(mc,8),It(es))},r.\u0275cmp=ua({type:r,selectors:[["mat-tab-body"]],viewQuery:function(e,n){if(1&e&&qa(Jm,5),2&e){let i;zi(i=Vi())&&(n._portalHost=i.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[si],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,n){1&e&&(ar(0,"div",0,1),ri("@translateTab.start",function(a){return n._onTranslateTabStarted(a)})("@translateTab.done",function(a){return n._translateTabComplete.next(a)}),Pi(2,lJ,0,0,"ng-template",2),sr()),2&e&&mr("@translateTab",JA(3,uJ,n._position,QA(1,cJ,n.animationDuration)))},dependencies:[MJ],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[SJ.translateTab]}}),r})();const DJ=new ir("MatTabContent");let TJ=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(It(al))},r.\u0275dir=xe({type:r,selectors:[["","matTabContent",""]],features:[va([{provide:DJ,useExisting:r}])]}),r})();const AJ=new ir("MatTabLabel"),gR=new ir("MAT_TAB");let IJ=(()=>{class r extends SX{constructor(e,n,i){super(e,n),this._closestTab=i}}return r.\u0275fac=function(e){return new(e||r)(It(al),It(Hs),It(gR,8))},r.\u0275dir=xe({type:r,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[va([{provide:AJ,useExisting:r}]),si]}),r})();const OS="mdc-tab-indicator--active",mR="mdc-tab-indicator--no-transition";class OJ{constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar())}alignToElement(t){const e=this._items.find(i=>i.elementRef.nativeElement===t),n=this._currentItem;if(n?.deactivateInkBar(),e){const i=n?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(i),this._currentItem=e}}}function kJ(r){return class extends r{constructor(...t){super(...t),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){const e=Da(t);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){const e=this.elementRef.nativeElement;if(!t||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(OS);const n=e.getBoundingClientRect(),i=t.width/n.width,a=t.left-n.left;e.classList.add(mR),this._inkBarContentElement.style.setProperty("transform",`translateX(${a}px) scaleX(${i})`),e.getBoundingClientRect(),e.classList.remove(mR),e.classList.add(OS),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(OS)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const t=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=t.createElement("span"),this._inkBarContentElement=t.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const PJ=j_(class{}),RJ=kJ((()=>{class r extends PJ{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return r.\u0275fac=function(e){return new(e||r)(It(Ni))},r.\u0275dir=xe({type:r,features:[si]}),r})());let yR=(()=>{class r extends RJ{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=oo(r)))(n||r)}}(),r.\u0275dir=xe({type:r,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,n){2&e&&(to("aria-disabled",!!n.disabled),Ia("mat-mdc-tab-disabled",n.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[si]}),r})();const LJ=j_(class{}),_R=new ir("MAT_TAB_GROUP");let FJ=(()=>{class r extends LJ{get content(){return this._contentPortal}constructor(e,n){super(),this._viewContainerRef=e,this._closestTabGroup=n,this.textLabel="",this._contentPortal=null,this._stateChanges=new Bt,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Qm(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return r.\u0275fac=function(e){return new(e||r)(It(Hs),It(_R,8))},r.\u0275dir=xe({type:r,viewQuery:function(e,n){if(1&e&&qa(al,7),2&e){let i;zi(i=Vi())&&(n._implicitContent=i.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[si,qo]}),r})(),kS=(()=>{class r extends FJ{get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=oo(r)))(n||r)}}(),r.\u0275cmp=ua({type:r,selectors:[["mat-tab"]],contentQueries:function(e,n,i){if(1&e&&(Os(i,TJ,7,al),Os(i,IJ,5)),2&e){let a;zi(a=Vi())&&(n._explicitContent=a.first),zi(a=Vi())&&(n.templateLabel=a.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[va([{provide:gR,useExisting:r}]),si],ngContentSelectors:pR,decls:1,vars:0,template:function(e,n){1&e&&(_l(),Pi(0,dJ,1,0,"ng-template"))},encapsulation:2}),r})();const bR=mg({passive:!0});let VJ=(()=>{class r{get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=Da(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Ys(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}constructor(e,n,i,a,o,s,l){this._elementRef=e,this._changeDetectorRef=n,this._viewportRuler=i,this._dir=a,this._ngZone=o,this._platform=s,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Bt,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Bt,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Si,this.indexFocused=new Si,o.runOutsideAngular(()=>{Ip(e.nativeElement,"mouseleave").pipe(is(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Ip(this._previousPaginator.nativeElement,"touchstart",bR).pipe(is(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ip(this._nextPaginator.nativeElement,"touchstart",bR).pipe(is(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Kr("ltr"),n=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new E$(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(pc(1)).subscribe(i),Rn(e,n,this._items.changes,this._itemsResized()).pipe(is(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),i()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}_itemsResized(){return"function"!=typeof ResizeObserver?C:this._items.changes.pipe(lh(this._items),hc(e=>new Be(n=>this._ngZone.runOutsideAngular(()=>{const i=new ResizeObserver(a=>n.next(a));return e.forEach(a=>i.observe(a.elementRef.nativeElement)),()=>{i.disconnect()}}))),OE(1),wl(e=>e.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!yg(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const n=this._tabListContainer.nativeElement;n.scrollLeft="ltr"==this._getLayoutDirection()?0:n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,n="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const n=this._items?this._items.toArray()[e]:null;if(!n)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:a,offsetWidth:o}=n.elementRef.nativeElement;let s,l;"ltr"==this._getLayoutDirection()?(s=a,l=s+o):(l=this._tabListInner.nativeElement.offsetWidth-a,s=l-o);const c=this.scrollDistance,u=this.scrollDistance+i;s<c?this.scrollDistance-=c-s:l>u&&(this.scrollDistance+=Math.min(l-u,s-c))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,n){n&&null!=n.button&&0!==n.button||(this._stopInterval(),dN(650,100).pipe(is(Rn(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:i,distance:a}=this._scrollHeader(e);(0===a||a>=i)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(es),It(Op),It(mc,8),It(ci),It(Uo),It(Nl,8))},r.\u0275dir=xe({type:r,inputs:{disablePagination:"disablePagination"}}),r})(),jJ=(()=>{class r extends VJ{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Da(e)}constructor(e,n,i,a,o,s,l){super(e,n,i,a,o,s,l),this._disableRipple=!1}_itemSelected(e){e.preventDefault()}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(es),It(Op),It(mc,8),It(ci),It(Uo),It(Nl,8))},r.\u0275dir=xe({type:r,inputs:{disableRipple:"disableRipple"},features:[si]}),r})(),UJ=(()=>{class r extends jJ{constructor(e,n,i,a,o,s,l){super(e,n,i,a,o,s,l)}ngAfterContentInit(){this._inkBar=new OJ(this._items),super.ngAfterContentInit()}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(es),It(Op),It(mc,8),It(ci),It(Uo),It(Nl,8))},r.\u0275cmp=ua({type:r,selectors:[["mat-tab-header"]],contentQueries:function(e,n,i){if(1&e&&Os(i,yR,4),2&e){let a;zi(a=Vi())&&(n._items=a)}},viewQuery:function(e,n){if(1&e&&(qa(fJ,7),qa(hJ,7),qa(pJ,7),qa(vJ,5),qa(gJ,5)),2&e){let i;zi(i=Vi())&&(n._tabListContainer=i.first),zi(i=Vi())&&(n._tabList=i.first),zi(i=Vi())&&(n._tabListInner=i.first),zi(i=Vi())&&(n._nextPaginator=i.first),zi(i=Vi())&&(n._previousPaginator=i.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(e,n){2&e&&Ia("mat-mdc-tab-header-pagination-controls-enabled",n._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==n._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[si],ngContentSelectors:pR,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,n){1&e&&(_l(),ar(0,"button",0,1),ri("click",function(){return n._handlePaginatorClick("before")})("mousedown",function(a){return n._handlePaginatorPress("before",a)})("touchend",function(){return n._stopInterval()}),Ra(2,"div",2),sr(),ar(3,"div",3,4),ri("keydown",function(a){return n._handleKeydown(a)}),ar(5,"div",5,6),ri("cdkObserveContent",function(){return n._onContentChanges()}),ar(7,"div",7,8),Ba(9),sr()()(),ar(10,"button",9,10),ri("mousedown",function(a){return n._handlePaginatorPress("after",a)})("click",function(){return n._handlePaginatorClick("after")})("touchend",function(){return n._stopInterval()}),Ra(12,"div",2),sr()),2&e&&(Ia("mat-mdc-tab-header-pagination-disabled",n._disableScrollBefore),mr("matRippleDisabled",n._disableScrollBefore||n.disableRipple)("disabled",n._disableScrollBefore||null),gr(3),Ia("_mat-animation-noopable","NoopAnimations"===n._animationMode),gr(7),Ia("mat-mdc-tab-header-pagination-disabled",n._disableScrollAfter),mr("matRippleDisabled",n._disableScrollAfter||n.disableRipple)("disabled",n._disableScrollAfter||null))},dependencies:[vh,Ck],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),r})();const xR=new ir("MAT_TABS_CONFIG");let GJ=0;const HJ=U_(G_(class{constructor(r){this._elementRef=r}}),"primary");let WJ=(()=>{class r extends HJ{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Da(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Ys(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=Ys(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=Da(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=Da(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&n.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,n,i,a){super(e),this._changeDetectorRef=n,this._animationMode=a,this._tabs=new eg,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=$.EMPTY,this._tabLabelSubscription=$.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new Si,this.focusChange=new Si,this.animationDone=new Si,this.selectedTabChange=new Si(!0),this._groupId=GJ++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight,this.contentTabIndex=i?.contentTabIndex??null,this.preserveContent=!!i?.preserveContent}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const n=null==this._selectedIndex;if(!n){this.selectedTabChange.emit(this._createChangeEvent(e));const i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,a)=>i.isActive=a===e),n||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,i)=>{n.position=i-e,null!=this._selectedIndex&&0==n.position&&!n.origin&&(n.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const n=this._tabs.toArray();let i;for(let a=0;a<n.length;a++)if(n[a].isActive){this._indexToSelect=this._selectedIndex=a,this._lastFocusedTabIndex=null,i=n[a];break}!i&&n[e]&&Promise.resolve().then(()=>{n[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(lh(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const n=this._tabHeader;n&&(n.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const n=new YJ;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Rn(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,n,i){n.focusIndex=i,e.disabled||(this.selectedIndex=i)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,n){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=n)}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(es),It(xR,8),It(Nl,8))},r.\u0275dir=xe({type:r,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[si]}),r})(),wR=(()=>{class r extends WJ{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=Da(e),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=Da(e)}constructor(e,n,i,a){super(e,n,i,a),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!i||null==i.fitInkBarToContent)&&i.fitInkBarToContent}}return r.\u0275fac=function(e){return new(e||r)(It(Ni),It(es),It(xR,8),It(Nl,8))},r.\u0275cmp=ua({type:r,selectors:[["mat-tab-group"]],contentQueries:function(e,n,i){if(1&e&&Os(i,kS,5),2&e){let a;zi(a=Vi())&&(n._allTabs=a)}},viewQuery:function(e,n){if(1&e&&(qa(mJ,5),qa(yJ,5)),2&e){let i;zi(i=Vi())&&(n._tabBodyWrapper=i.first),zi(i=Vi())&&(n._tabHeader=i.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:6,hostBindings:function(e,n){2&e&&Ia("mat-mdc-tab-group-dynamic-height",n.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===n.headerPosition)("mat-mdc-tab-group-stretch-tabs",n.stretchTabs)},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[va([{provide:_R,useExisting:r}]),si],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,n){1&e&&(ar(0,"mat-tab-header",0,1),ri("indexFocused",function(a){return n._focusChanged(a)})("selectFocusedIndex",function(a){return n.selectedIndex=a}),Pi(2,wJ,9,17,"div",2),sr(),ar(3,"div",3,4),Pi(5,EJ,1,11,"mat-tab-body",5),sr()),2&e&&(mr("selectedIndex",n.selectedIndex||0)("disableRipple",n.disableRipple)("disablePagination",n.disablePagination),gr(2),mr("ngForOf",n._tabs),gr(1),Ia("_mat-animation-noopable","NoopAnimations"===n._animationMode),gr(2),mr("ngForOf",n._tabs))},dependencies:[T1,Sm,yf,Jm,vh,F$,vR,yR,UJ],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-tab.mdc-tab{height:48px;flex-grow:0}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none}.mat-mdc-tab .mdc-tab__text-label{display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-disabled{opacity:.4}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-mdc-tab-header-with-background-background-color, transparent)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab-indicator__content--underline,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),r})();class YJ{}let $J=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[oh,Za,UE,H_,NE,Vk,Za]}),r})();function XJ(r,t){if(1&r&&(ar(0,"mat-error"),hi(1),sr()),2&r){const e=Ri(2);gr(1),hf("\u8f93\u5165\u6570\u5b57\u4e0d\u80fd\u8d85\u8fc7",e.maxNumber,"")}}function KJ(r,t){1&r&&(ar(0,"mat-error"),hi(1,"\u8f93\u5165\u683c\u5f0f\u4e3a[\u6570\u5b57,\u6570\u5b57,\u6570\u5b57]"),sr())}function qJ(r,t){if(1&r&&(ar(0,"div")(1,"div",23),hi(2),sr()()),2&r){const e=t.$implicit,n=t.index;Iw("sort-item ",Ri().$implicit.value,""),to("id",n),gr(2),zc(e)}}function ZJ(r,t){if(1&r){const e=rh();ar(0,"mat-tab",3)(1,"div",4)(2,"button",5),hi(3,"\u8fd4\u56de\u9996\u9875"),sr(),ar(4,"button",6),ri("click",function(){return Lo(e),ka(Ri().randomArray())}),hi(5,"\u751f\u6210\u6570\u636e "),sr(),ar(6,"mat-form-field",7)(7,"mat-label"),hi(8,"\u6570\u7ec4"),sr(),ar(9,"input",8),ri("ngModelChange",function(i){return Lo(e),ka(Ri().sortArrayString=i)})("ngModelChange",function(){return Lo(e),ka(Ri().changeArray())}),sr(),Pi(10,XJ,2,1,"mat-error",9),Pi(11,KJ,2,0,"mat-error",9),sr(),hi(12," \u901f\u5ea6\uff1a "),ar(13,"mat-slider",10)(14,"input",11),ri("valueChange",function(i){return Lo(e),ka(Ri().speed=i)})("valueChange",function(){return Lo(e),ka(Ri().changeSpeed())}),sr()(),ar(15,"button",12),ri("click",function(){const a=Lo(e).index;return ka(Ri().startSort(a))}),ar(16,"mat-icon"),hi(17,"play_arrow"),sr()(),ar(18,"button",13),ri("click",function(){return Lo(e),ka(Ri().replay())}),ar(19,"mat-icon"),hi(20,"replay"),sr()()(),ar(21,"div",14)(22,"div",15)(23,"div",16),hi(24),sr(),ar(25,"div",17),hi(26),sr()(),ar(27,"div",18),Pi(28,qJ,3,5,"div",19),sr(),ar(29,"div",20)(30,"div",21),hi(31),sr(),ar(32,"div",22),hi(33),sr()()()()}if(2&r){const e=t.$implicit,n=Ri();_p("label",e.label),gr(4),mr("disabled",!(null==n.sortAlgorithm||n.sortAlgorithm.isEnd)),gr(5),mr("formControl",n.inputControl)("ngModel",n.sortArrayString)("readonly",!(null==n.sortAlgorithm||n.sortAlgorithm.isEnd)),gr(1),mr("ngIf",n.inputControl.hasError("overMaxNumber")),gr(1),mr("ngIf",n.inputControl.hasError("formatError")),gr(2),_p("min",n.minSpeed),_p("max",n.maxSpeed),_p("step",n.maxSpeed/100),gr(1),mr("value",n.speed),gr(1),mr("disabled",!(null==n.sortAlgorithm||n.sortAlgorithm.isEnd)),gr(9),zc(e.name),gr(2),Ny("\u65f6\u95f4\uff1a",n.costMinute,"m:",n.costSecond,"s:",10*n.costMillisecond,"ms"),gr(2),mr("ngForOf",n.sortArray),gr(3),hf("\u4ea4\u6362\u6b21\u6570\uff1a",null==n.sortAlgorithm?0:n.sortAlgorithm.swapCount,""),gr(2),hf("\u6bd4\u8f83\u6b21\u6570\uff1a",null==n.sortAlgorithm?0:n.sortAlgorithm.compareCount,"")}}let QJ=(()=>{class r{constructor(e){this.animationBuilder=e,this.reg=/^((\d+)(,)?)*$/,this.maxNumber=50,this.minSpeed=1,this.maxSpeed=100,this.speed=50,this.algorithm=[{name:"Bubble Sort",value:"bubbleSort",label:"\u5192\u6ce1\u6392\u5e8f"},{name:"Selection Sort",value:"selectionSort",label:"\u9009\u62e9\u6392\u5e8f"},{name:"Insertion Sort",value:"insertionSort",label:"\u63d2\u5165\u6392\u5e8f"},{name:"Quick Sort",value:"quickSort",label:"\u5feb\u901f\u6392\u5e8f"},{name:"Heap Sort",value:"heapSort",label:"\u5806\u6392\u5e8f"}],this.sortAlgorithm=null,this.sortArray=[],this.sortArrayString="",this.inputControl=new vS("",[eS.required,this.validInputFormatFunction,this.validInputNumberFunction]),this.costMinute=0,this.costSecond=0,this.costMillisecond=0,this.timerInterval=null}ngOnInit(){this.initArray()}validInputFormatFunction(e){return/^((\d+)(,)?)*$/.test(e.value)?null:{formatError:!0}}validInputNumberFunction(e){let a=e.value.split(",");for(let o=0;o<a.length;o++)if(a[o]>50||a[o]<0)return{overMaxNumber:!0};return null}initArray(){for(let e=0;e<10;e++)this.sortArray.push(Math.floor(Math.random()*this.maxNumber));this.sortArrayString=this.sortArray.toString()}printArray(){console.log(this.sortArray)}changeArray(){if(console.log(this.sortArrayString),this.inputControl.hasError("formatError")||this.inputControl.hasError("overMaxNumber"))return;let e=this.sortArrayString.split(","),n=[];for(let i=0;i<e.length;i++)""!=e[i]&&n.push(parseInt(e[i]));this.sortArray=n}randomArray(){const e=Math.floor(10*Math.random())+10;this.sortArray=Array.from({length:e},()=>Math.floor(Math.random()*this.maxNumber)),this.sortArrayString=this.sortArray.toString()}startSort(e){switch(console.log(e),e){case 0:this.sortAlgorithm=new qQ(this.sortArray,this.speed,this.animationBuilder);break;case 1:this.sortAlgorithm=new QQ(this.sortArray,this.speed,this.animationBuilder);break;case 2:this.sortAlgorithm=new JQ(this.sortArray,this.speed,this.animationBuilder);break;case 3:this.sortAlgorithm=new ZQ(this.sortArray,this.speed,this.animationBuilder);break;case 4:this.sortAlgorithm=new eJ(this.sortArray,this.speed,this.animationBuilder)}this.sortAlgorithm?.stopSort(),this.sortAlgorithm.startSort(),this.startCostTime()}changeSpeed(){this.sortAlgorithm&&(this.sortAlgorithm.speed=this.speed)}replay(){this.stop(),this.randomArray(),this.resetTime()}startCostTime(){this.resetTime(),this.timerInterval=setInterval(()=>{this.costMillisecond++,this.costMillisecond>=100&&(this.costSecond++,this.costMillisecond=0),this.costSecond>=60&&(this.costMinute++,this.costSecond=0),(this.sortAlgorithm&&this.sortAlgorithm.isEnd||null==this.sortAlgorithm)&&this.stopCostTime()},10)}stopCostTime(){clearInterval(this.timerInterval)}resetTime(){this.costMinute=0,this.costSecond=0,this.costMillisecond=0}stop(){this.sortAlgorithm&&(this.sortAlgorithm.stopSort(),this.sortAlgorithm.removeBackGroundColor()),this.sortAlgorithm=null}TabChanged(e){this.stop()}}return r.\u0275fac=function(e){return new(e||r)(It(FE))},r.\u0275cmp=ua({type:r,selectors:[["app-sorting"]],decls:3,vars:1,consts:[[1,"sort-main"],[3,"selectedIndexChange"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[1,"content"],["mat-raised-button","","color","primary","routerLink","/"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"input-area"],["matInput","","type","text",3,"formControl","ngModel","readonly","ngModelChange"],[4,"ngIf"],["discrete","",1,"slider-length",3,"min","max","step"],["matSliderThumb","",3,"value","valueChange"],["mat-icon-button","","color","primary",3,"disabled","click"],["mat-icon-button","","color","primary",3,"click"],[1,"sort-card"],[1,"sort-title"],[1,"sort-name"],[1,"sort-time"],[1,"sort-area"],[3,"class",4,"ngFor","ngForOf"],[1,"sort-footer"],[1,"sort-swap"],[1,"sort-compare"],[1,"sort-item-content"]],template:function(e,n){1&e&&(ar(0,"div",0)(1,"mat-tab-group",1),ri("selectedIndexChange",function(a){return n.TabChanged(a)}),Pi(2,ZJ,34,19,"mat-tab",2),sr()()),2&e&&(gr(2),mr("ngForOf",n.algorithm))},dependencies:[Sm,yf,Dp,QE,t0,JK,MS,d0,W_,rN,hR,n0,iS,cR,kS,wR,_S],styles:[".input-area[_ngcontent-%COMP%]{width:45%}.content[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.slider-length[_ngcontent-%COMP%]{width:30%}.sort-main[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sort-title[_ngcontent-%COMP%], .sort-footer[_ngcontent-%COMP%]{height:20%;display:flex;flex-direction:row}.sort-name[_ngcontent-%COMP%], .sort-time[_ngcontent-%COMP%], .sort-swap[_ngcontent-%COMP%], .sort-compare[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center}.sort-area[_ngcontent-%COMP%]{height:60%;display:flex;justify-content:center;align-items:center;flex-direction:row}.sort-card[_ngcontent-%COMP%]{border:1px solid black;border-radius:20px;height:300px}.sort-item-content[_ngcontent-%COMP%]{height:50px;width:50px;border:1px solid #ddd;border-radius:5px;display:flex;justify-content:center;align-items:center;margin:0 auto}.background-white[_ngcontent-%COMP%]{background-color:#fff}.background-yellow[_ngcontent-%COMP%]{background-color:#ff0}.background-greenyellow[_ngcontent-%COMP%]{background-color:#adff2f}"],data:{animation:[xg("swap",[])]}}),r})();var ue=j(1035);const JJ={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(t){return Object.assign(this,t),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(t){var e=this,n=this.events;this.graph=t,("drag-canvas"===this.type||"brush-select"===this.type||"lasso-select"===this.type)&&t.get("canvas").set("draggable",!0),(0,ue.each)(n,function(i,a){t.on(a,i)}),document.addEventListener("visibilitychange",function(){e.keydown=!1})},unbind:function(t){var e=this.events,n=t.get("canvas").get("draggable");("drag-canvas"===this.type||"brush-select"===this.type||"lasso-select"===this.type)&&t.get("canvas").set("draggable",!1),(0,ue.each)(e,function(i,a){t.off(a,i)}),t.get("canvas").set("draggable",n)},get:function(t){return this[t]},set:function(t,e){return this[t]=e,this}};var eee=function(){function r(){}return r.registerBehavior=function(t,e){if(!e)throw new Error("please specify handler for this behavior: ".concat(t));var n=(0,ue.clone)(JJ);Object.assign(n,e);var i=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var c={};l&&((0,ue.each)(l,function(u,d){c[d]=(0,ue.wrapBehavior)(s,u)}),this.events=c)};i.prototype=n,r.types[t]=i},r.hasBehavior=function(t){return!!r.types[t]},r.getBehavior=function(t){return r.types[t]},r.types={},r}();const ER=eee,SR=ER;var tee="*",nee=function(){function r(){this._events={}}return r.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},r.prototype.once=function(t,e){return this.on(t,e,!0)},r.prototype.emit=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this._events[tee]||[],s=function(l){for(var c=l.length,u=0;u<c;u++)if(l[u]){var d=l[u],h=d.callback;d.once&&(l.splice(u,1),0===l.length&&delete e._events[t],c--,u--),h.apply(e,n)}};s(this._events[t]||[]),s(o)},r.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],i=n.length,a=0;a<i;a++)n[a].callback===e&&(n.splice(a,1),i--,a--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},r.prototype.getEvents=function(){return this._events},r}();const MR=nee;var wd=j(7543);function ree(r,t,e){var n=[0,0,0,0,0,0,0,0,0];return wd.fromTranslation(n,e),wd.multiply(r,n,t)}function iee(r,t,e){var n=[0,0,0,0,0,0,0,0,0];return wd.fromRotation(n,e),wd.multiply(r,n,t)}function aee(r,t,e){var n=[0,0,0,0,0,0,0,0,0];return wd.fromScaling(n,e),wd.multiply(r,n,t)}function oee(r,t,e){return wd.multiply(r,e,t)}function Yc(r,t){for(var e=r?[].concat(r):[1,0,0,0,1,0,0,0,1],n=0,i=t.length;n<i;n++){var a=t[n];switch(a[0]){case"t":ree(e,e,[a[1],a[2]]);break;case"s":aee(e,e,[a[1],a[2]]);break;case"r":iee(e,e,a[1]);break;case"m":oee(e,e,a[1])}}return e}const Fp=function(t,e){var n=t.nodes,i=t.edges,a=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(s,l){o[s.id]=l,a.push([])}),i&&i.forEach(function(s){var u=o[s.source],d=o[s.target];!u&&0!==u||!d&&0!==d||(a[u][d]=1,e||(a[d][u]=1))}),a};var cee=function(t,e){return t===e},CR=function(){function r(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return r.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},r}(),uee=function(){function r(t){void 0===t&&(t=cee),this.head=null,this.tail=null,this.compare=t}return r.prototype.prepend=function(t){var e=new CR(t,this.head);return this.head=e,this.tail||(this.tail=e),this},r.prototype.append=function(t){var e=new CR(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)},r.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},r.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,i=t.callback,a=void 0===i?void 0:i;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},r.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},r.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},r.prototype.fromArray=function(t){var e=this;return t.forEach(function(n){return e.append(n)}),this},r.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},r.prototype.reverse=function(){for(var t=this.head,e=null,n=null;t;)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e},r.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map(function(e){return e.toString(t)}).toString()},r}();const DR=uee;var dee=function(){function r(){this.linkedList=new DR}return r.prototype.isEmpty=function(){return!this.linkedList.head},r.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},r.prototype.enqueue=function(t){this.linkedList.append(t)},r.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},r.prototype.toString=function(t){return this.linkedList.toString(t)},r}();const fee=dee;var yc=function(t,e,n){void 0===e&&(e=[]);var i=e.filter(function(l){return l.source===t||l.target===t});return"target"===n?i.filter(function(c){return c.source===t}).map(function(l){return l.target}):"source"===n?i.filter(function(c){return c.target===t}).map(function(l){return l.source}):i.map(function(c){return c.source===t?c.target:c.source})},fb=function(t,e){return e.filter(function(n){return n.source===t||n.target===t})},TR=function(t){void 0===t&&(t=0);var e="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(e).concat(n)};const AR=function(t,e,n,i){void 0===i&&(i=!0);var a=function pee(r){void 0===r&&(r={});var i,t=r,e=function(){},n=(i={},function(a){var o=a.next;return!i[o]&&(i[o]=!0,!0)});return t.allowTraversal=r.allowTraversal||n,t.enter=r.enter||e,t.leave=r.leave||e,t}(n),o=new fee,s=t.edges,l=void 0===s?[]:s;o.enqueue(e);for(var c="",u=function(){var h=o.dequeue();a.enter({current:h,previous:c}),yc(h,l,i?"target":void 0).forEach(function(v){a.allowTraversal({previous:c,current:h,next:v})&&o.enqueue(v)}),a.leave({current:h,previous:c}),c=h};!o.isEmpty();)u()};var gee=function(t){for(var e=t.nodes,n=void 0===e?[]:e,i=t.edges,a=void 0===i?[]:i,o=[],s={},l=[],c=function v(y){l.push(y),s[y.id]=!0;for(var D=yc(y.id,a),F=function(J){var de=D[J];if(!s[de]){var Ee=n.filter(function(ke){return ke.id===de});Ee.length>0&&v(Ee[0])}},K=0;K<D.length;++K)F(K)},u=0;u<n.length;u++){var d=n[u];if(!s[d.id]){c(d);for(var h=[];l.length>0;)h.push(l.pop());o.push(h)}}return o},IR=function(t){for(var e=t.nodes,n=void 0===e?[]:e,i=t.edges,a=void 0===i?[]:i,o=[],s={},l={},c={},u=[],d=0,h=function F(K){l[K.id]=d,c[K.id]=d,d+=1,o.push(K),s[K.id]=!0;for(var Q=yc(K.id,a,"target").filter(function(Re){return n.map(function(tt){return tt.id}).indexOf(Re)>-1}),J=function(tt){var xt=Q[tt];if(l[xt]||0===l[xt])s[xt]&&(c[K.id]=Math.min(c[K.id],l[xt]));else{var ct=n.filter(function(Nt){return Nt.id===xt});ct.length>0&&F(ct[0]),c[K.id]=Math.min(c[K.id],c[xt])}},de=0;de<Q.length;de++)J(de);if(c[K.id]===l[K.id]){for(var Ee=[];o.length>0;){var ke=o.pop();if(s[ke.id]=!1,Ee.push(ke),ke===K)break}Ee.length>0&&u.push(Ee)}},v=0,y=n;v<y.length;v++){var D=y[v];!l[D.id]&&0!==l[D.id]&&h(D)}return u};function NS(r,t){return t?IR(r):gee(r)}var v0=function(t){var e={},n=t.nodes,a=t.edges,o=void 0===a?[]:a;return(void 0===n?[]:n).forEach(function(s){e[s.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(s){e[s.source].degree++,e[s.source].outDegree++,e[s.target].degree++,e[s.target].inDegree++}),e};const g0=v0;var OR=function(t,e){return v0(t)[e]?v0(t)[e].inDegree:0},kR=function(t,e){return v0(t)[e]?v0(t)[e].outDegree:0};function NR(r,t,e,n){n.enter({current:t,previous:e});var i=r.edges;yc(t,void 0===i?[]:i,"target").forEach(function(o){n.allowTraversal({previous:e,current:t,next:o})&&NR(r,o,t,n)}),n.leave({current:t,previous:e})}function PS(r,t,e){NR(r,t,"",function mee(r){void 0===r&&(r={});var i,t=r,e=function(){},n=(i={},function(a){var o=a.next;return!i[o]&&(i[o]=!0,!0)});return t.allowTraversal=r.allowTraversal||n,t.enter=r.enter||e,t.leave=r.leave||e,t}(e))}var RS=function(t,e,n){var i,a;void 0===n&&(n=!0);for(var o=[],l=0,c=NS(t,!1);l<c.length;l++){var u=c[l];if(u.length)for(var d=u[0],h=d.id,v=[d],y=((i={})[h]=d,i),D=((a={})[h]=new Set,a);v.length>0;)for(var F=v.pop(),K=F.id,Q=yc(K,t.edges),J=function(ke){var Re,tt=Q[ke],xt=t.nodes.find(function(zn){return zn.id===tt});if(tt===K)o.push(((Re={})[tt]=F,Re));else if(tt in D){if(!D[K].has(xt)){for(var ct=!0,Nt=[xt,F],Ut=y[K];D[tt].size&&!D[tt].has(Ut)&&(Nt.push(Ut),Ut!==y[Ut.id]);)Ut=y[Ut.id];if(Nt.push(Ut),e&&n?(ct=!1,Nt.findIndex(function(zn){return e.indexOf(zn.id)>-1})>-1&&(ct=!0)):e&&!n&&Nt.findIndex(function(zn){return e.indexOf(zn.id)>-1})>-1&&(ct=!1),ct){for(var Mn={},Jn=1;Jn<Nt.length;Jn+=1)Mn[Nt[Jn-1].id]=Nt[Jn];Nt.length&&(Mn[Nt[Nt.length-1].id]=Nt[0]),o.push(Mn)}D[tt].add(F)}}else y[tt]=F,v.push(xt),D[tt]=new Set([F])},de=0;de<Q.length;de+=1)J(de)}return o},LS=function(t,e,n){void 0===n&&(n=!0);for(var i=[],a=new Set,o=[],s=[],l={},c={},d=function Nt(Ut,Mn,Jn){var zn=!1;if(e&&!1===n&&e.indexOf(Ut.id)>-1)return zn;i.push(Ut),a.add(Ut);for(var $t=Jn[Ut.id],Tn=0;Tn<$t.length;Tn+=1)if((In=l[$t[Tn]])===Mn){for(var an={},On=1;On<i.length;On+=1)an[i[On-1].id]=i[On];i.length&&(an[i[i.length-1].id]=i[0]),s.push(an),zn=!0}else a.has(In)||Nt(In,Mn,Jn)&&(zn=!0);if(zn)!function(Ut){for(var Mn=[Ut];Mn.length>0;){var Jn=Mn.pop();a.has(Jn)&&(a.delete(Jn),o[Jn.id].forEach(function(zn){Mn.push(zn)}),o[Jn.id].clear())}}(Ut);else for(Tn=0;Tn<$t.length;Tn+=1){var In;o[(In=l[$t[Tn]]).id].has(Ut)||o[In.id].add(Ut)}return i.pop(),zn},h=t.nodes,v=void 0===h?[]:h,y=0;y<v.length;y+=1){var D=v[y];c[D.id]=y,l[y]=D}if(e&&n){var K=function(Ut){var Mn=e[Ut];c[v[Ut].id]=c[Mn],c[Mn]=0,l[0]=v.find(function(Jn){return Jn.id===Mn}),l[c[v[Ut].id]]=v[Ut]};for(y=0;y<e.length;y++)K(y)}for(var Q=function(Ut){for(var Mn,Jn,zn=1/0,$t=0;$t<Ut.length;$t+=1)for(var Tn=Ut[$t],In=0;In<Tn.length;In++){var an=c[Tn[In].id];an<zn&&(zn=an,Jn=$t)}var On=Ut[Jn],Kn=[];for($t=0;$t<On.length;$t+=1){var Gn=On[$t];Kn[Gn.id]=[];for(var dr=0,ur=yc(Gn.id,t.edges,"target").filter(function(_i){return On.map(function(Li){return Li.id}).indexOf(_i)>-1});dr<ur.length;dr++){var Zr=ur[dr];Zr!==Gn.id||!1===n&&e.indexOf(Gn.id)>-1?Kn[Gn.id].push(c[Zr]):s.push(((Mn={})[Gn.id]=Gn,Mn))}}return{component:On,adjList:Kn,minIdx:zn}},J=0;J<v.length;){var de=v.filter(function(Nt){return c[Nt.id]>=J}),Ee=IR({nodes:de,edges:t.edges}).filter(function(Nt){return Nt.length>1});if(0===Ee.length)break;var ke=Q(Ee),Re=ke.minIdx,tt=ke.adjList,xt=ke.component;if(!(xt.length>1))break;xt.forEach(function(Nt){o[Nt.id]=new Set});var ct=l[Re];if(e&&n&&-1===e.indexOf(ct.id))return s;d(ct,ct,tt),J=Re+1}return s},PR=function(t,e,n,i){return void 0===i&&(i=!0),e?LS(t,n,i):RS(t,n,i)};const FS=function(t){var e=null,n=t.nodes,a={},o={},s={},l={};(void 0===n?[]:n).forEach(function(d){o[d.id]=d});for(var c={enter:function(h){var v=h.current,y=h.previous;if(s[v]){e={};for(var D=v,F=y;F!==v;)e[D]=F,D=F,F=a[F];e[D]=F}else s[v]=v,delete o[v],a[v]=y},leave:function(h){var v=h.current;l[v]=v,delete s[v]},allowTraversal:function(h){return!e&&!l[h.next]}};Object.keys(o).length;)PS(t,Object.keys(o)[0],c);return e},m0=function(t,e,n,i){var a=t.nodes,o=void 0===a?[]:a,s=t.edges,l=void 0===s?[]:s,c=[],u={},d={},h={};o.forEach(function(J,de){var Ee=J.id;c.push(Ee),d[Ee]=1/0,Ee===e&&(d[Ee]=0)});for(var v=o.length,y=function(de){var Ee=function(t,e,n){for(var a,i=1/0,o=0;o<e.length;o++){var s=e[o].id;!n[s]&&t[s]<=i&&(i=t[s],a=e[o])}return a}(d,o,u),ke=Ee.id;if(u[ke]=!0,d[ke]===1/0)return"continue";var Re=[];Re=n?function(t,e){return e.filter(function(n){return n.source===t})}(ke,l):fb(ke,l),Re.forEach(function(tt){var xt=tt.target,Nt=xt===ke?tt.source:xt,Ut=i&&tt[i]?tt[i]:1;d[Nt]>d[Ee.id]+Ut?(d[Nt]=d[Ee.id]+Ut,h[Nt]=[Ee.id]):d[Nt]===d[Ee.id]+Ut&&h[Nt].push(Ee.id)})},D=0;D<v;D++)y();h[e]=[e];var F={};for(var K in d)d[K]!==1/0&&RR(e,K,h,F);var Q={};for(var K in F)Q[K]=F[K][0];return{length:d,path:Q,allPath:F}};function RR(r,t,e,n){if(r===t)return[r];if(n[t])return n[t];for(var i=[],a=0,o=e[t];a<o.length;a++){var l=RR(r,o[a],e,n);if(!l)return;for(var c=0,u=l;c<u.length;c++){var d=u[c];(0,ue.isArray)(d)?i.push((0,Me.__spreadArray)((0,Me.__spreadArray)([],d,!0),[t],!1)):i.push([d,t])}}return n[t]=i,n[t]}var LR=function(t,e,n,i,a){var o=m0(t,e,i,a);return{length:o.length[n],path:o.path[n],allPath:o.allPath[n]}},FR=function(t,e,n,i){var a;if(e===n)return[[e]];var o=t.edges,s=void 0===o?[]:o,l=[e],c=((a={})[e]=!0,a),u=[],d=[],h=i?yc(e,s,"target"):yc(e,s);for(u.push(h);l.length>0&&u.length>0;){var v=u[u.length-1];if(v.length){var y=v.shift();if(y&&(l.push(y),c[y]=!0,h=i?yc(y,s,"target"):yc(y,s),u.push(h.filter(function(K){return!c[K]}))),l[l.length-1]===n){var F=l.map(function(Q){return Q});d.push(F),D=l.pop(),c[D]=!1,u.pop()}}else{var D=l.pop();c[D]=!1,u.pop()}}return d};const y0=function(t,e){for(var n=Fp(t,e),i=[],a=n.length,o=0;o<a;o+=1){i[o]=[];for(var s=0;s<a;s+=1)i[o][s]=o===s?0:0!==n[o][s]&&n[o][s]?n[o][s]:1/0}for(var l=0;l<a;l+=1)for(o=0;o<a;o+=1)for(s=0;s<a;s+=1)i[o][s]>i[o][l]+i[l][s]&&(i[o][s]=i[o][l]+i[l][s]);return i},BR=function(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===i&&(i=1e3);var a=t.nodes,o=void 0===a?[]:a,s=t.edges,l=void 0===s?[]:s,c={},u={};o.forEach(function(de,Ee){var ke=TR();de.clusterId=ke,c[ke]={id:ke,nodes:[de]},u[de.id]={node:de,idx:Ee}});var d=Fp(t,e),h=[],v={};d.forEach(function(de,Ee){var ke=0,Re=o[Ee].id;v[Re]={},de.forEach(function(tt,xt){tt&&(ke+=tt,v[Re][o[xt].id]=tt)}),h.push(ke)});for(var y=0,D=function(){var Ee=!1;if(o.forEach(function(ke){var Re={};Object.keys(v[ke.id]).forEach(function(zn){var $t=v[ke.id][zn],In=u[zn].node.clusterId;Re[In]||(Re[In]=0),Re[In]+=$t});var tt=-1/0,xt=[];if(Object.keys(Re).forEach(function(zn){tt<Re[zn]?(tt=Re[zn],xt=[zn]):tt===Re[zn]&&xt.push(zn)}),1!==xt.length||xt[0]!==ke.clusterId){var ct=xt.indexOf(ke.clusterId);if(ct>=0&&xt.splice(ct,1),xt&&xt.length){Ee=!0;var Nt=c[ke.clusterId],Ut=Nt.nodes.indexOf(ke);Nt.nodes.splice(Ut,1);var Mn=Math.floor(Math.random()*xt.length),Jn=c[xt[Mn]];Jn.nodes.push(ke),ke.clusterId=Jn.id}}}),!Ee)return"break";y++};y<i&&"break"!==D(););Object.keys(c).forEach(function(de){var Ee=c[de];(!Ee.nodes||!Ee.nodes.length)&&delete c[de]});var K=[],Q={};l.forEach(function(de){var Re=de[n]||1,tt=u[de.source].node.clusterId,xt=u[de.target].node.clusterId,ct="".concat(tt,"---").concat(xt);if(Q[ct])Q[ct].weight+=Re,Q[ct].count++;else{var Nt={source:tt,target:xt,weight:Re,count:1};Q[ct]=Nt,K.push(Nt)}});var J=[];return Object.keys(c).forEach(function(de){J.push(c[de])}),{clusters:J,clusterEdges:K}};var Eee=function(){function r(t){this.arr=t}return r.prototype.getArr=function(){return this.arr||[]},r.prototype.add=function(t){var e,n=t.arr;if(null===(e=this.arr)||void 0===e||!e.length)return new r(n);if(!n?.length)return new r(this.arr);if(this.arr.length===n.length){var i=[];for(var a in this.arr)i[a]=this.arr[a]+n[a];return new r(i)}},r.prototype.subtract=function(t){var e,n=t.arr;if(null===(e=this.arr)||void 0===e||!e.length)return new r(n);if(!n?.length)return new r(this.arr);if(this.arr.length===n.length){var i=[];for(var a in this.arr)i[a]=this.arr[a]-n[a];return new r(i)}},r.prototype.avg=function(t){var e=[];if(0!==t)for(var n in this.arr)e[n]=this.arr[n]/t;return new r(e)},r.prototype.negate=function(){var t=[];for(var e in this.arr)t[e]=-this.arr[e];return new r(t)},r.prototype.squareEuclideanDistance=function(t){var e,n=t.arr;if(null===(e=this.arr)||void 0===e||!e.length||!n?.length)return 0;if(this.arr.length===n.length){var i=0;for(var a in this.arr)i+=Math.pow(this.arr[a]-t.arr[a],2);return i}},r.prototype.euclideanDistance=function(t){var e,n=t.arr;if(null===(e=this.arr)||void 0===e||!e.length||!n?.length)return 0;if(this.arr.length===n.length){var i=0;for(var a in this.arr)i+=Math.pow(this.arr[a]-t.arr[a],2);return Math.sqrt(i)}console.error("The two vectors are unequal in length.")},r.prototype.normalize=function(){var t=[],e=(0,ue.clone)(this.arr);e.sort(function(o,s){return o-s});var n=e[e.length-1],i=e[0];for(var a in this.arr)t[a]=(this.arr[a]-i)/(n-i);return new r(t)},r.prototype.norm2=function(){var t;if(null===(t=this.arr)||void 0===t||!t.length)return 0;var e=0;for(var n in this.arr)e+=Math.pow(this.arr[n],2);return Math.sqrt(e)},r.prototype.dot=function(t){var e,n=t.arr;if(null===(e=this.arr)||void 0===e||!e.length||!n?.length)return 0;if(this.arr.length===n.length){var i=0;for(var a in this.arr)i+=this.arr[a]*t.arr[a];return i}console.error("The two vectors are unequal in length.")},r.prototype.equal=function(t){var e,n=t.arr;if((null===(e=this.arr)||void 0===e?void 0:e.length)!==n?.length)return!1;for(var i in this.arr)if(this.arr[i]!==n[i])return!1;return!0},r}();const $c=Eee;var hb=function(t,e){void 0===e&&(e=void 0);var n=[];return t.forEach(function(i){void 0===e&&n.push(i),void 0!==i[e]&&n.push(i[e])}),n},Xc=(()=>((Xc||(Xc={})).EuclideanDistance="euclideanDistance",Xc))(),pb=function(t,e,n){var i=function(t,e,n){var i=[];e?.length?i=e:(t.forEach(function(o){i=i.concat(Object.keys(o))}),i=(0,ue.uniq)(i));var a={};return i.forEach(function(o){var s=[];t.forEach(function(l){void 0!==l[o]&&""!==l[o]&&s.push(l[o])}),s.length&&!n?.includes(o)&&(a[o]=(0,ue.uniq)(s))}),a}(t,e,n),a=[];if(!Object.keys(i).length)return a;var s=Object.values(i).every(function(l){return l.every(function(c){return"number"==typeof c})});return t.forEach(function(l,c){var u=[];Object.keys(i).forEach(function(d){var h=l[d],v=i[d],y=v.findIndex(function(K){return h===K}),D=[];if(s)D.push(h);else for(var F=0;F<v.length;F++)D.push(F===y?1:0);u=u.concat(D)}),a[c]=u}),a},BS=function(t,e,n,i){void 0===n&&(n=Xc.EuclideanDistance);var a=0;return n===Xc.EuclideanDistance&&(a=new $c(t).euclideanDistance(new $c(e))),a},jR=function(t,e,n,i){for(var a=e.length,o=2*i,s=0,l=0;l<a;l++)for(var c=t[l].clusterId,u=0;u<a;u++)c===t[u].clusterId&&(s+=(e[l][u]||0)-(n[l]||0)*(n[u]||0)/o);return s*(1/o)},zS=function(t,e){void 0===t&&(t=[]);for(var n=t.length,i=new $c([]),a=0;a<n;a++)i=i.add(new $c(e[a]));var o=i.avg(n);o.normalize();var s=0;for(a=0;a<n;a++)s+=(l=new $c(e[a])).squareEuclideanDistance(o);var u=[];for(t.forEach(function(){u.push([])}),a=0;a<n;a++){var l=new $c(e[a]);t[a].clusterInertial=0;for(var d=0;d<n;d++)if(a!==d){var h=new $c(e[d]);u[a][d]=l.squareEuclideanDistance(h),t[a].clusterInertial+=u[a][d]}else u[a][d]=0}var v=0,y=2*n*s;for(a=0;a<n;a++){var D=t[a].clusterId;for(d=0;d<n;d++)a!==d&&D===t[d].clusterId&&(v+=t[a].clusterInertial*t[d].clusterInertial/Math.pow(y,2)-u[a][d]/y)}return Number(v.toFixed(4))};const VS=function(t,e,n,i,a,o,s,l,c){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===i&&(i=1e-4),void 0===a&&(a=!1),void 0===o&&(o=void 0),void 0===s&&(s=[]),void 0===l&&(l=["id"]),void 0===c&&(c=1);var u=t.nodes,d=void 0===u?[]:u,h=t.edges,v=void 0===h?[]:h,y=[];if(a){d.forEach(function(an,On){an.properties=an.properties||{},an.originIndex=On});var D=[];d.every(function(an){return an.hasOwnProperty("nodeType")})&&(D=Array.from(new Set(d.map(function(an){return an.nodeType}))),d.forEach(function(an){an.properties.nodeType=D.findIndex(function(On){return On===an.nodeType})}));var F=hb(d,o);y=pb(F,s,l)}var K=1,Q={},J={};d.forEach(function(an,On){var Kn=String(K++);an.clusterId=Kn,Q[Kn]={id:Kn,nodes:[an]},J[an.id]={node:an,idx:On}});var de=Fp(t,e),Ee=[],ke={},Re=0;de.forEach(function(an,On){var Kn=0,Gn=d[On].id;ke[Gn]={},an.forEach(function(dr,ur){dr&&(Kn+=dr,ke[Gn][d[ur].id]=dr,Re+=dr)}),Ee.push(Kn)}),Re/=2;for(var tt=1/0,xt=1/0,ct=0,Nt=[],Ut={};;){tt=a&&d.every(function(an){return an.hasOwnProperty("properties")})?jR(d,de,Ee,Re)+zS(d,y)*c:jR(d,de,Ee,Re),0===ct&&(xt=tt,Nt=d,Ut=Q);var Mn=tt>0&&tt>xt&&tt-xt<i;if(tt>xt&&(Nt=d.map(function(an){return{node:an,clusterId:an.clusterId}}),Ut=(0,ue.clone)(Q),xt=tt),Mn||ct>100)break;ct++,Object.keys(Q).forEach(function(an){var On=0;v.forEach(function(Kn){var ur=J[Kn.source].node.clusterId,Zr=J[Kn.target].node.clusterId;(ur===an&&Zr!==an||Zr===an&&ur!==an)&&(On+=Kn[n]||1)}),Q[an].sumTot=On}),d.forEach(function(an,On){var dr,Kn=Q[an.clusterId],Gn=0,ur=Ee[On]/(2*Re),Zr=0,yi=Kn.nodes;yi.forEach(function(ls){Zr+=de[On][J[ls.id].idx]||0});var _i=Zr-Kn.sumTot*ur,Li=yi.filter(function(ls){return ls.id!==an.id}),Fi=[];Li.forEach(function(ls,cs){Fi[cs]=y[ls.originIndex]});var ya=zS(Li,y)*c;if(Object.keys(ke[an.id]).forEach(function(ls){var wc=J[ls].node.clusterId;if(wc!==an.clusterId){var Xs=Q[wc],Sl=Xs.nodes;if(Sl&&Sl.length){var $i=0;Sl.forEach(function(ta){$i+=de[On][J[ta.id].idx]||0});var Ma=$i-Xs.sumTot*ur,Gi=Sl.concat([an]),Ca=[];Gi.forEach(function(ta,aa){Ca[aa]=y[ta.originIndex]});var Ha=zS(Gi,y)*c,Wr=Ma-_i;a&&(Wr=Ma+Ha-(_i+ya)),Wr>Gn&&(Gn=Wr,dr=Xs)}}}),Gn>0){dr.nodes.push(an);var Qa=an.clusterId;an.clusterId=dr.id;var tu=Kn.nodes.indexOf(an);Kn.nodes.splice(tu,1);var ss=0,nu=0;v.forEach(function(ls){var Xs=J[ls.source].node.clusterId,Sl=J[ls.target].node.clusterId;(Xs===dr.id&&Sl!==dr.id||Sl===dr.id&&Xs!==dr.id)&&(ss+=ls[n]||1),(Xs===Qa&&Sl!==Qa||Sl===Qa&&Xs!==Qa)&&(nu+=ls[n]||1)}),dr.sumTot=ss,Kn.sumTot=nu}})}var Jn={},zn=0;Object.keys(Ut).forEach(function(an){var On=Ut[an];if(On.nodes&&On.nodes.length){var Kn=String(zn+1);Kn!==an&&(On.id=Kn,On.nodes=On.nodes.map(function(Gn){return{id:Gn.id,clusterId:Kn}}),Ut[Kn]=On,Jn[an]=Kn,delete Ut[an],zn++)}else delete Ut[an]}),Nt.forEach(function(an){var On=an.node;On&&(On.clusterId=an.clusterId,On.clusterId&&Jn[On.clusterId]&&(On.clusterId=Jn[On.clusterId]))});var $t=[],Tn={};v.forEach(function(an){var Gn=an[n]||1,dr=J[an.source].node.clusterId,ur=J[an.target].node.clusterId;if(dr&&ur){var Zr="".concat(dr,"---").concat(ur);if(Tn[Zr])Tn[Zr].weight+=Gn,Tn[Zr].count++;else{var yi={source:dr,target:ur,weight:Gn,count:1};Tn[Zr]=yi,$t.push(yi)}}});var In=[];return Object.keys(Ut).forEach(function(an){In.push(Ut[an])}),{clusters:In,clusterEdges:$t}},UR=function(t,e,n,i,a,o,s,l){return void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===i&&(i=1e-4),void 0===a&&(a=void 0),void 0===o&&(o=[]),void 0===s&&(s=["id"]),void 0===l&&(l=1),VS(t,e,n,i,!0,a,o,s,l)},GR=function(t,e){var n;void 0===e&&(e=1);for(var i=(0,ue.clone)(t),a=i.nodes,o=void 0===a?[]:a,s=i.edges,l=void 0===s?[]:s,c=function(){var h=g0({nodes:o,edges:l}),v=Object.keys(h);v.sort(function(F,K){var Q,J;return(null===(Q=h[F])||void 0===Q?void 0:Q.degree)-(null===(J=h[K])||void 0===J?void 0:J.degree)});var y=v[0];if(!o.length||(null===(n=h[y])||void 0===n?void 0:n.degree)>=e)return"break";var D=o.findIndex(function(F){return F.id===y});o.splice(D,1),l=l.filter(function(F){return!(F.source===y||F.target===y)})};"break"!==c(););return{nodes:o,edges:l}};var HR=function(t,e,n){return t===Xc.EuclideanDistance?e[n]:[]};const WR=function(t,e,n,i,a,o){void 0===e&&(e=3),void 0===n&&(n=void 0),void 0===i&&(i=[]),void 0===a&&(a=["id"]),void 0===o&&(o=Xc.EuclideanDistance);var s=t.nodes,l=void 0===s?[]:s,c=t.edges,u=void 0===c?[]:c,d={clusters:[{id:"0",nodes:l}],clusterEdges:[]};if(o===Xc.EuclideanDistance&&!l.every(function(Kn){return Kn.hasOwnProperty(n)}))return d;var h=[],v=[];if(o===Xc.EuclideanDistance&&(h=hb(l,n),v=pb(h,i,a)),!v.length)return d;for(var y=(0,ue.uniq)(v.map(function(Kn){return Kn.join("")})),D=Math.min(e,l.length,y.length),F=0;F<l.length;F++)l[F].originIndex=F;var K=[],Q=[],J=[];for(F=0;F<D;F++)if(0===F){var de=Math.floor(Math.random()*l.length);K[F]=o===Xc.EuclideanDistance?v[de]:[],Q.push(de),J[F]=[l[de]],l[de].clusterId=String(F)}else{for(var Ee=-1/0,ke=0,Re=function(dr){if(!Q.includes(dr)){for(var ur=0,Zr=0;Zr<K.length;Zr++){var yi=0;o===Xc.EuclideanDistance&&(yi=BS(v[l[dr].originIndex],K[Zr],o)),ur+=yi}var _i=ur/K.length;_i>Ee&&!K.find(function(Li){return(0,ue.isEqual)(Li,HR(o,v,l[dr].originIndex))})&&(Ee=_i,ke=dr)}},tt=0;tt<l.length;tt++)Re(tt);K[F]=HR(o,v,ke),Q.push(ke),J[F]=[l[ke]],l[ke].clusterId=String(F)}for(var xt=0;;){for(F=0;F<l.length;F++){var ct=0,Nt=1/0;if(0!==xt||!Q.includes(F)){for(var Ut=0;Ut<K.length;Ut++){var Mn=0;o===Xc.EuclideanDistance&&(Mn=BS(v[F],K[Ut],o)),Mn<Nt&&(Nt=Mn,ct=Ut)}if(void 0!==l[F].clusterId)for(var Jn=J[Number(l[F].clusterId)].length-1;Jn>=0;Jn--)J[Number(l[F].clusterId)][Jn].id===l[F].id&&J[Number(l[F].clusterId)].splice(Jn,1);l[F].clusterId=String(ct),J[ct].push(l[F])}}var zn=!1;for(F=0;F<J.length;F++){var $t=J[F],Tn=new $c([]);for(Ut=0;Ut<$t.length;Ut++)Tn=Tn.add(new $c(v[$t[Ut].originIndex]));var In=Tn.avg($t.length);In.equal(new $c(K[F]))||(zn=!0,K[F]=In.getArr())}if(xt++,l.every(function(Kn){return void 0!==Kn.clusterId})&&zn||xt>=1e3)break}var an=[],On={};return u.forEach(function(Kn){var Gn,dr,ur=Kn.source,Zr=Kn.target,yi=null===(Gn=l.find(function(ya){return ya.id===ur}))||void 0===Gn?void 0:Gn.clusterId,_i=null===(dr=l.find(function(ya){return ya.id===Zr}))||void 0===dr?void 0:dr.clusterId,Li="".concat(yi,"---").concat(_i);if(On[Li])On[Li].count++;else{var Fi={source:yi,target:_i,count:1};On[Li]=Fi,an.push(Fi)}}),{clusters:J,clusterEdges:an}},jS=function(t,e){var n=new $c(e),i=n.norm2(),a=new $c(t),o=a.norm2(),s=n.dot(a),l=i*o;return l?s/l:0},YR=function(t,e,n,i,a){void 0===t&&(t=[]),void 0===n&&(n=void 0),void 0===i&&(i=[]),void 0===a&&(a=[]);var o=(0,ue.clone)(t.filter(function(h){return h.id!==e.id})),s=t.findIndex(function(h){return h.id===e.id}),l=hb(t,n),c=pb(l,i,a),u=c[s],d=[];return o.forEach(function(h,v){if(h.id!==e.id){var D=jS(c[v],u);d.push(D),h.cosineSimilarity=D}}),o.sort(function(h,v){return v.cosineSimilarity-h.cosineSimilarity}),{allCosineSimilarity:d,similarNodes:o}};var Pee=function(){function r(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var i=n[e];this.parent[i]=i}}return r.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},r.prototype.union=function(t,e){var n=this.find(t),i=this.find(e);n!==i&&(n<i?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},r.prototype.connected=function(t,e){return this.find(t)===this.find(e)},r}();const Ree=Pee;var Lee=function(t,e){return t-e},Fee=function(){function r(t){void 0===t&&(t=Lee),this.compareFn=t,this.list=[]}return r.prototype.getLeft=function(t){return 2*t+1},r.prototype.getRight=function(t){return 2*t+2},r.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},r.prototype.isEmpty=function(){return this.list.length<=0},r.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},r.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},r.prototype.insert=function(t){return null!==t&&(this.list.push(t),this.moveUp(this.list.length-1),!0)},r.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&t>0&&this.compareFn(this.list[e],this.list[t])>0;){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,e=this.getParent(t=e)}},r.prototype.moveDown=function(t){var e,n=t,i=this.getLeft(t),a=this.getRight(t),o=this.list.length;null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0?n=i:null!==a&&a<o&&this.compareFn(this.list[n],this.list[a])>0&&(n=a),t!==n&&(this.list[t]=(e=[this.list[n],this.list[t]])[0],this.list[n]=e[1],this.moveDown(n))},r}();const Bee=Fee;var zee=function(t,e){var n=[],i=t.nodes,a=void 0===i?[]:i,o=t.edges,s=void 0===o?[]:o;if(0===a.length)return n;var l=a[0],c=new Set;c.add(l);var d=new Bee(function(F,K){return e?F.weight-K.weight:0});for(fb(l.id,s).forEach(function(D){d.insert(D)});!d.isEmpty();){var h=d.delMin(),v=h.source,y=h.target;c.has(v)&&c.has(y)||(n.push(h),c.has(v)||(c.add(v),fb(v,s).forEach(function(D){d.insert(D)})),c.has(y)||(c.add(y),fb(y,s).forEach(function(D){d.insert(D)})))}return n},$R=function(t,e){var n=[],i=t.nodes,a=void 0===i?[]:i,o=t.edges;if(0===a.length)return n;var l=(void 0===o?[]:o).map(function(v){return v});e&&l.sort(function(v,y){return v.weight-y.weight});for(var c=new Ree(a.map(function(v){return v.id}));l.length>0;){var u=l.shift(),d=u.source,h=u.target;c.connected(d,h)||(n.push(u),c.union(d,h))}return n};const XR=function(t,e,n){return n?{prim:zee,kruskal:$R}[n](t,e):$R(t,e)},KR=function(t,e,n){"number"!=typeof e&&(e=1e-6),"number"!=typeof n&&(n=.85);for(var h,i=1,a=0,o=1e3,s=t.nodes,l=void 0===s?[]:s,c=t.edges,u=void 0===c?[]:c,d=l.length,v={},y={},D=0;D<d;++D)v[K=(F=l[D]).id]=1/d,y[K]=1/d;for(var Q=g0(t);o>0&&i>e;){for(a=0,D=0;D<d;++D){var K=(F=l[D]).id;if(h=0,0===Q[F.id].inDegree)v[K]=0;else{for(var J=yc(K,u,"source"),de=0;de<J.length;++de){var Ee=J[de],ke=Q[Ee].outDegree;ke>0&&(h+=y[Ee]/ke)}v[K]=n*h,a+=v[K]}}for(a=(1-a)/d,i=0,D=0;D<d;++D){var F;h=v[K=(F=l[D]).id]+a,i+=Math.abs(h-y[K]),y[K]=h}o-=1}return y};var vb=-1,qR="-1",Ed="-1",QR=function r(t,e,n,i){void 0===t&&(t=-1),void 0===e&&(e=vb),void 0===n&&(n=vb),void 0===i&&(i=qR),this.id=t,this.from=e,this.to=n,this.label=i},Gee=function(){function r(t,e){void 0===t&&(t=vb),void 0===e&&(e=Ed),this.id=t,this.label=e,this.edges=[],this.edgeMap={}}return r.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},r}(),JR=function(){function r(t,e,n){void 0===t&&(t=vb),void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return r.prototype.getNodeNum=function(){return this.nodes.length},r.prototype.addNode=function(t,e){if(!this.nodeMap[t]){var n=new Gee(t,e);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t)}},r.prototype.addEdge=function(t,e,n,i){if((this.edgeIdAutoIncrease||void 0===t)&&(t=this.counter++),!(this.nodeMap[e]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t])){var a=new QR(t,e,n,i);if(this.edges.push(a),this.edgeMap[t]=a,this.nodeMap[e].addEdge(a),this.edgeLabelMap[i]||(this.edgeLabelMap[i]=[]),this.edgeLabelMap[i].push(a),!this.directed){var o=new QR(t,n,e,i);this.nodeMap[n].addEdge(o),this.edgeLabelMap[i].push(o)}}},r}(),Bp=function(){function r(t,e,n,i,a){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||Ed,edgeLabel:i||qR,nodeLabel2:a||Ed}}return r.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},r.prototype.notEqualTo=function(t){return!this.equalTo(t)},r}(),eL=function(){function r(){this.rmpath=[],this.dfsEdgeList=[]}return r.prototype.equalTo=function(t){var e=this.dfsEdgeList.length;if(e!==t.length)return!1;for(var i=0;i<e;i++)if(this.dfsEdgeList[i]!==t[i])return!1;return!0},r.prototype.notEqualTo=function(t){return!this.equalTo(t)},r.prototype.pushBack=function(t,e,n,i,a){return this.dfsEdgeList.push(new Bp(t,e,n,i,a)),this.dfsEdgeList},r.prototype.toGraph=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=!1);var n=new JR(t,!0,e);return this.dfsEdgeList.forEach(function(i){var a=i.fromNode,o=i.toNode,s=i.nodeEdgeNodeLabel,l=s.nodeLabel1,c=s.edgeLabel,u=s.nodeLabel2;l!==Ed&&n.addNode(a,l),u!==Ed&&n.addNode(o,u),l!==Ed&&u!==l&&n.addEdge(void 0,a,o,c)}),n},r.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,n=this.dfsEdgeList.length-1;n>=0;n--){var i=this.dfsEdgeList[n],a=i.fromNode,o=i.toNode;a<o&&(void 0===t||o===t)&&(this.rmpath.push(n),t=a)}return this.rmpath},r.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach(function(e){t[e.fromNode]||(t[e.fromNode]=!0),t[e.toNode]||(t[e.toNode]=!0)}),Object.keys(t).length},r}(),gb=function(){function r(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){for(;t;){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return r.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},r.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},r}(),Hee=function(){function r(t){var n=t.minSupport,i=void 0===n?2:n,a=t.minNodeNum,o=void 0===a?1:a,s=t.maxNodeNum,l=void 0===s?4:s,c=t.top,u=void 0===c?10:c,d=t.directed,h=void 0!==d&&d,v=t.verbose,y=void 0!==v&&v;this.graphs=t.graphs,this.dfsCode=new eL,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=i,this.top=u,this.directed=h,this.counter=0,this.maxNodeNum=l,this.minNodeNum=o,this.verbose=y,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return r.prototype.findForwardRootEdges=function(t,e){var n=this,i=[],a=t.nodeMap;return e.edges.forEach(function(o){(n.directed||e.label<=a[o.to].label)&&i.push(o)}),i},r.prototype.findBackwardEdge=function(t,e,n,i){if(!this.directed&&e===n)return null;for(var a=t.nodeMap,s=a[n.to].edges,l=s.length,c=0;c<l;c++){var u=s[c];if(!i.hasEdge(u)&&u.to===e.from)if(this.directed){if(a[e.from].label<a[n.to].label||a[e.from].label===a[n.to].label&&e.label<=u.label)return u}else if(e.label<u.label||e.label===u.label&&a[e.to].label<=a[n.to].label)return u}return null},r.prototype.findForwardPureEdges=function(t,e,n,i){for(var a=[],s=t.nodeMap[e.to].edges,l=s.length,c=0;c<l;c++){var u=s[c],d=t.nodeMap[u.to];n<=d.label&&!i.hasNode(d)&&a.push(u)}return a},r.prototype.findForwardRmpathEdges=function(t,e,n,i){for(var a=[],o=t.nodeMap,s=o[e.to].label,c=o[e.from].edges,u=c.length,d=0;d<u;d++){var h=c[d],v=o[h.to].label;e.to===h.to||n>v||i.hasNode(o[h.to])||(e.label<h.label||e.label===h.label&&s<=v)&&a.push(h)}return a},r.prototype.getSupport=function(t){var e={};return t.forEach(function(n){e[n.graphId]||(e[n.graphId]=!0)}),Object.keys(e).length},r.prototype.findMinLabel=function(t){var e=void 0;return Object.keys(t).forEach(function(n){var i=t[n],a=i.nodeLabel1,o=i.edgeLabel,s=i.nodeLabel2;e?(a<e.nodeLabel1||a===e.nodeLabel1&&o<e.edgeLabel||a===e.nodeLabel1&&o===e.edgeLabel&&s<e.nodeLabel2)&&(e={nodeLabel1:a,edgeLabel:o,nodeLabel2:s}):e={nodeLabel1:a,edgeLabel:o,nodeLabel2:s}}),e},r.prototype.isMin=function(){var t=this,e=this.dfsCode;if(this.verbose&&console.log("isMin checking",e),1===e.dfsEdgeList.length)return!0;var n=this.directed,i=e.toGraph(-1,n),a=i.nodeMap,o=new eL,s={};i.nodes.forEach(function(d){t.findForwardRootEdges(i,d).forEach(function(v){var y=a[v.to],D="".concat(d.label,"-").concat(v.label,"-").concat(y.label);s[D]||(s[D]={projected:[],nodeLabel1:d.label,edgeLabel:v.label,nodeLabel2:y.label}),s[D].projected.push({graphId:i.id,edge:v,preNode:null})})});var l=this.findMinLabel(s);if(l){o.dfsEdgeList.push(new Bp(0,1,l.nodeLabel1,l.edgeLabel,l.nodeLabel2));var u="".concat(l.nodeLabel1,"-").concat(l.edgeLabel,"-").concat(l.nodeLabel2);return function d(h){for(var v=o.buildRmpath(),y=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,D=o.dfsEdgeList[v[0]].toNode,F={},K=!1,Q=0,J=n?-1:0,de=function(Tn){if(K)return"break";h.forEach(function(In){var an=new gb(In),On=t.findBackwardEdge(i,an.edges[v[Tn]],an.edges[v[0]],an);On&&(F[On.label]||(F[On.label]={projected:[],edgeLabel:On.label}),F[On.label].projected.push({graphId:i.id,edge:F,preNode:In}),Q=o.dfsEdgeList[v[Tn]].fromNode,K=!0)})},Ee=v.length-1;Ee>J&&"break"!==de(Ee);Ee--);if(K){var Re=t.findMinLabel(F);o.dfsEdgeList.push(new Bp(D,Q,Ed,Re.edgeLabel,Ed));var tt=o.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[tt]===o.dfsEdgeList[tt]&&d(F[Re.edgeLabel].projected)}var xt={};K=!1;var ct=0;h.forEach(function($t){var Tn=new gb($t),In=t.findForwardPureEdges(i,Tn.edges[v[0]],y,Tn);In.length>0&&(K=!0,ct=D,In.forEach(function(an){var On="".concat(an.label,"-").concat(a[an.to].label);xt[On]||(xt[On]={projected:[],edgeLabel:an.label,nodeLabel2:a[an.to].label}),xt[On].projected.push({graphId:i.id,edge:an,preNode:$t})}))});var Nt=v.length,Ut=function(Tn){if(K)return"break";var In=v[Tn];h.forEach(function(an){var On=new gb(an),Kn=t.findForwardRmpathEdges(i,On.edges[In],y,On);Kn.length>0&&(K=!0,ct=o.dfsEdgeList[In].fromNode,Kn.forEach(function(Gn){var dr="".concat(Gn.label,"-").concat(a[Gn.to].label);xt[dr]||(xt[dr]={projected:[],edgeLabel:Gn.label,nodeLabel2:a[Gn.to].label}),xt[dr].projected.push({graphId:i.id,edge:Gn,preNode:an})}))})};for(Ee=0;Ee<Nt&&"break"!==Ut(Ee);Ee++);if(!K)return!0;var Jn=t.findMinLabel(xt);o.dfsEdgeList.push(new Bp(ct,D+1,Ed,Jn.edgeLabel,Jn.nodeLabel2));var zn=o.dfsEdgeList.length-1;return e.dfsEdgeList[zn]===o.dfsEdgeList[zn]&&d(xt["".concat(Jn.edgeLabel,"-").concat(Jn.nodeLabel2)].projected)}(s[u].projected)}},r.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,ue.clone)(t))}},r.prototype.subGraphMining=function(t){var e=this;if(!(this.getSupport(t)<this.minSupport)&&this.isMin()){this.report();var i=this.dfsCode.getNodeNum(),a=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[a[0]].toNode,s=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l={},c={};t.forEach(function(u){for(var d=e.graphs[u.graphId],h=d.nodeMap,v=new gb(u),y=a.length-1;y>=0;y--){var D=e.findBackwardEdge(d,v.edges[a[y]],v.edges[a[0]],v);if(D){var F="".concat(e.dfsCode.dfsEdgeList[a[y]].fromNode,"-").concat(D.label);c[F]||(c[F]={projected:[],toNodeId:e.dfsCode.dfsEdgeList[a[y]].fromNode,edgeLabel:D.label}),c[F].projected.push({graphId:u.graphId,edge:D,preNode:u})}}if(!(i>=e.maxNodeNum)){e.findForwardPureEdges(d,v.edges[a[0]],s,v).forEach(function(J){var de="".concat(o,"-").concat(J.label,"-").concat(h[J.to].label);l[de]||(l[de]={projected:[],fromNodeId:o,edgeLabel:J.label,nodeLabel2:h[J.to].label}),l[de].projected.push({graphId:u.graphId,edge:J,preNode:u})});var Q=function(de){e.findForwardRmpathEdges(d,v.edges[a[de]],s,v).forEach(function(ke){var Re="".concat(e.dfsCode.dfsEdgeList[a[de]].fromNode,"-").concat(ke.label,"-").concat(h[ke.to].label);l[Re]||(l[Re]={projected:[],fromNodeId:e.dfsCode.dfsEdgeList[a[de]].fromNode,edgeLabel:ke.label,nodeLabel2:h[ke.to].label}),l[Re].projected.push({graphId:u.graphId,edge:ke,preNode:u})})};for(y=0;y<a.length;y++)Q(y)}}),Object.keys(c).forEach(function(u){var d=c[u];e.dfsCode.dfsEdgeList.push(new Bp(o,d.toNodeId,"-1",d.edgeLabel,"-1")),e.subGraphMining(c[u].projected),e.dfsCode.dfsEdgeList.pop()}),Object.keys(l).forEach(function(u){var d=l[u];e.dfsCode.dfsEdgeList.push(new Bp(d.fromNodeId,o+1,Ed,d.edgeLabel,d.nodeLabel2)),e.subGraphMining(l[u].projected),e.dfsCode.dfsEdgeList.pop()})}},r.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,e=this.directed,n=this.minSupport,i=this.frequentSize1Subgraphs,a={},o={},s={},l={};return Object.keys(t).forEach(function(c){var u=t[c],d=u.nodeMap;u.nodes.forEach(function(h,v){var y=h.label,D="".concat(c,"-").concat(y);if(!s[D]){var F=a[y]||0;F++,a[y]=F}s[D]={graphKey:c,label:y},h.edges.forEach(function(K){var Q=y,J=d[K.to].label;if(!e&&Q>J){var de=J;J=Q,Q=de}var Ee=K.label,ke="".concat(c,"-").concat(Q,"-").concat(Ee,"-").concat(J),Re="".concat(Q,"-").concat(Ee,"-").concat(J);if(!o[Re]){var tt=o[Re]||0;tt++,o[Re]=tt}l[ke]={graphId:c,nodeLabel1:Q,edgeLabel:Ee,nodeLabel2:J}})})}),Object.keys(a).forEach(function(c){if(!(a[c]<n)){var d={nodes:[],edges:[]};d.nodes.push({id:"0",label:c}),i.push(d)}}),i},r.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var e=this.graphs,i={};Object.keys(e).forEach(function(a){var o=e[a],s=o.nodeMap;o.nodes.forEach(function(l){t.findForwardRootEdges(o,l).forEach(function(u){var d=s[u.to],h="".concat(l.label,"-").concat(u.label,"-").concat(d.label);i[h]||(i[h]={projected:[],nodeLabel1:l.label,edgeLabel:u.label,nodeLabel2:d.label}),i[h].projected.push({graphId:a,edge:u,preNode:null})})})}),Object.keys(i).forEach(function(a){var o=i[a],s=o.projected;t.dfsCode.dfsEdgeList.push(new Bp(0,1,o.nodeLabel1,o.edgeLabel,o.nodeLabel2)),t.subGraphMining(s),t.dfsCode.dfsEdgeList.pop()})}},r}(),tL="cluster";var nL=function(t,e,n,i){void 0===n&&(n="cluster"),void 0===i&&(i=2);var a=[],o=t.nodes;return e.forEach(function(s,l){a.push(rL(o,s,l,n,i))}),a},rL=function(t,e,n,i,a){var o=[n],s=[],l={};return e.forEach(function(c,u){if(c<=a&&n!==u){o.push(u),s.push(t[u]);var d=t[u][i];l[d]?(l[d].count++,l[d].dists.push(c)):l[d]={count:1,dists:[c]}}}),Object.keys(l).forEach(function(c){l[c].dists=l[c].dists.sort(function(u,d){return u-d})}),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:s,neighborNum:o.length-1,nodeLabelCountMap:l}},mb=function(t,e,n,i){var a=n.nodes;return i||(i={}),Object.keys(t).forEach(function(o){var s,l;if(!i||!i[o]){i[o]={nodes:[],edges:[]};var c=t[o],u=null===(s=e[c.start])||void 0===s?void 0:s.nodeIdxs,d=null===(l=e[c.end])||void 0===l?void 0:l.nodeIdxs;if(u&&d){var h=new Set(d),v=u.filter(function(Q){return h.has(Q)});if(v&&v.length){for(var y={},D=v.length,F=0;F<D;F++){var K=a[v[F]];i[o].nodes.push(K),y[K.id]=!0}n.edges.forEach(function(Q){y[Q.source]&&y[Q.target]&&i[o].edges.push(Q)})}}}}),i},yb=function(t,e,n,i){var a,o,s={};t.nodes.forEach(function(c){s[c.id]=c});var l=0;return null===(a=e?.edges)||void 0===a||!a.length||(null===(o=e?.nodes)||void 0===o?void 0:o.length)<2?0:(t.edges.forEach(function(c){var u=s[c.source][n],d=s[c.target][n],h=e?.nodes[0][n],v=e?.nodes[1][n],y=e?.edges[0][i];c[i]===y&&(u===h&&d===v||u===v&&d===h)&&l++}),l)},iL=function(t,e){var n={},i={};return t.forEach(function(a,o){n[a.id]={idx:o,node:a,degree:0,inDegree:0,outDegree:0};var s=a[e];i[s]||(i[s]=[]),i[s].push(a)}),{nodeMap:n,nodeLabelMap:i}},aL=function(t,e,n){var i={},a={};return t.forEach(function(o,s){i["".concat(TR)]={idx:s,edge:o};var l=o[e];a[l]||(a[l]=[]),a[l].push(o);var c=n[o.source];c&&(c.degree++,c.outDegree++);var u=n[o.target];u&&(u.degree++,u.inDegree++)}),{edgeMap:i,edgeLabelMap:a}},oL=function(t,e,n){var i=e.length,a={};return e.forEach(function(o,s){for(var c=t[s].id,u=n?0:s+1;u<i;u++)if(s!==u){var d=t[u].id,h=o[u];a["".concat(c,"-").concat(d)]=h,n||(a["".concat(d,"-").concat(c)]=h)}}),a},Zee=function(t,e,n,i,a,o,s,l,c,u,d){var h,v="".concat(e.id,"-").concat(n.id);if(u&&u[v])return u[v];var y=d?d[v]:void 0;if(!y){var D=((h={})[v]={start:i[e.id].idx,end:i[n.id].idx,distance:a},h);y=(d=mb(D,o,t,d))[v]}return yb(y,s,l,c)},sL=function(t,e,n,i){var a,o,s,l=null===(a=t[e])||void 0===a?void 0:a.degree,c=null===(o=t[e])||void 0===o?void 0:o.inDegree,u=null===(s=t[e])||void 0===s?void 0:s.outDegree;return void 0===t[e]&&(l=1/0,c=1/0,u=1/0,i[e].forEach(function(d){var h=n[d.id].degree;l>h&&(l=h);var v=n[d.id].inDegree;c>v&&(c=v);var y=n[d.id].outDegree;u>y&&(u=y)}),t[e]={degree:l,inDegree:c,outDegree:u}),{minPatternNodeLabelDegree:l,minPatternNodeLabelInDegree:c,minPatternNodeLabelOutDegree:u}};const lL=function(t,e,n,i,a,o,s){var l;if(void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===s&&(s="cluster"),t&&t.nodes){var c=t.nodes.length;if(c){var u=y0(t,n),d=y0(e,n),h=oL(t.nodes,u,n),v=oL(e.nodes,d,n),y=iL(t.nodes,o),D=y.nodeMap,F=y.nodeLabelMap,K=iL(e.nodes,o),Q=K.nodeMap,J=K.nodeLabelMap;aL(t.edges,s,D);var de=aL(e.edges,s,Q).edgeLabelMap,Ee=[];d?.forEach(function($i){Ee=Ee.concat($i)}),a||(a=Math.max.apply(Math,(0,Me.__spreadArray)((0,Me.__spreadArray)([],Ee,!1),[2],!1))),i||(i=a);var ke=nL(t,u,o,i),Re=nL(e,d,o,i),xt=function(t,e,n,i,a){var o=Math.ceil(n/e),s={},l=0;return i.forEach(function(c,u){for(var d=0,h=0,v=c.nodeIdxs,y=c.neighborNum-1;d<o;){for(var D=v[1+Math.floor(Math.random()*y)],F=0;(s["".concat(u,"-").concat(D)]||s["".concat(D,"-").concat(u)])&&(D=Math.floor(Math.random()*e),!(++F>2*e)););if(F<2*e&&(s["".concat(u,"-").concat(D)]={start:u,end:D,distance:a[u][D]},d++,++l>=n))return s;if(++h>2*e)break}d<o&&(o=(o+(o-d))/(e-u-1))}),s}(0,c,Math.min(100,c*(c-1)/2),ke,u),ct=mb(xt,ke,t),$t=function(t){var n=t.directed,i=void 0!==n&&n,a=t.nodeLabelProp,o=void 0===a?tL:a,s=t.edgeLabelProp,l=void 0===s?tL:s,c=function(t,e,n,i){var a={};return Object.keys(t).forEach(function(o,s){var l=t[o],c=new JR(s,!0,e),u={};l.nodes.forEach(function(d,h){c.addNode(h,d[n]),u[d.id]=h}),l.edges.forEach(function(d,h){c.addEdge(-1,u[d.source],u[d.target],d[i])}),c&&c.getNodeNum()&&(a[c.id]=c)}),a}(t.graphs,i,o,l),F=new Hee({graphs:c,minSupport:t.minSupport,maxNodeNum:t.maxNodeNum,minNodeNum:t.minNodeNum,top:t.top,verbose:t.verbose,directed:i});F.run();var K=function(t,e,n){var i=[];return t.forEach(function(a){var o={nodes:[],edges:[]};a.nodes.forEach(function(s){var l;o.nodes.push(((l={id:"".concat(s.id)})[e]=s.label,l))}),a.edges.forEach(function(s){var l;o.edges.push(((l={source:"".concat(s.from),target:"".concat(s.to)})[n]=s.label,l))}),i.push(o)}),i}(F.frequentSubgraphs,o,l);return K}({graphs:ct,nodeLabelProp:o,edgeLabelProp:s,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n}).slice(0,10),Tn=$t.length,In=[];$t.forEach(function($i,Ma){In[Ma]={},Object.keys(ct).forEach(function(Gi){var Ha=yb(ct[Gi],$i,o,s);In[Ma][Gi]=Ha})});var an=function(t,e,n){for(var i=1/0,a=0,o=function(c){var u=t[c],d=Object.keys(u).sort(function(Q,J){return u[Q]-u[J]}),v=[];d.forEach(function(Q,J){v[J%10]||(v[J%10]={graphs:[],totalCount:0,aveCount:0}),v[J%10].graphs.push(Q),v[J%10].totalCount+=u[Q]});var y=0,D=[];v.forEach(function(Q){var J=Q.totalCount/Q.graphs.length;Q.aveCount=J,D.push(J);var de=0,Ee=Q.length;Q.graphs.forEach(function(ke,Re){var tt=u[ke];Q.graphs.forEach(function(xt,ct){Re!==ct&&(de+=Math.abs(tt-u[xt]))})}),y+=de/=Ee*(Ee-1)/2}),y/=v.length;var F=0;D.forEach(function(Q,J){D.forEach(function(de,Ee){J!==Ee&&(F+=Math.abs(Q-de))}),F/=D.length*(D.length-1)/2});var K=F-y;i<K&&(i=K,a=c)},s=0;s<e;s++)o(s);return{structure:n[a],structureCountMap:t[a]}}(In,Tn,$t),On=an.structure,Kn=an.structureCountMap,Gn=e.nodes[0],dr=[],ur=null===(l=e.nodes[0])||void 0===l?void 0:l[o],Zr=-1/0;e.nodes.forEach(function($i){var Ma=$i[o],Gi=F[Ma];Gi?.length>Zr&&(Zr=Gi.length,dr=Gi,ur=Ma,Gn=$i)});var yi={},_i={},Li={},Fi={},ya={},Va={};Object.keys(J).forEach(function($i,Ma){ya[$i]=[],n&&(Va[$i]=[]);var Gi=-1/0,Ha={};J[$i].forEach(function(la){var _a=v["".concat(Gn.id,"-").concat(la.id)];if(_a&&ya[$i].push(_a),Gi<_a&&(Gi=_a),Ha["".concat(Gn.id,"-").concat(la.id)]={start:0,end:Q[la.id].idx,distance:_a},n){var bo=v["".concat(la.id,"-").concat(Gn.id)];bo&&Va[$i].push(bo)}}),ya[$i]=ya[$i].sort(function(la,_a){return la-_a}),n&&(Va[$i]=Va[$i].sort(function(la,_a){return la-_a})),_i=mb(Ha,Re,e,_i);var Wr=[];if(Object.keys(Ha).forEach(function(la){Li[la]||(Li[la]=yb(_i[la],On,o,s)),Wr.push(Li[la])}),Wr=Wr.sort(function(la,_a){return _a-la}),Fi["".concat(Gn.id,"-").concat($i)]=Wr,$i!==ur)for(var aa=function(_a){var bo=dr[_a],Ec=ke[D[bo.id].idx],Wo=Ec.nodeLabelCountMap[$i],tv=J[$i].length;if(!Wo||Wo.count<tv)return dr.splice(_a,1),"continue";for(var Bg=!1,Ml=0;Ml<tv;Ml++)if(Wo.dists[Ml]>ya[$i][Ml]){Bg=!0;break}if(Bg)return dr.splice(_a,1),"continue";var ru={};Ec.neighbors.forEach(function(Cl){var Bu=h["".concat(bo.id,"-").concat(Cl.id)];ru["".concat(bo.id,"-").concat(Cl.id)]={start:D[bo.id].idx,end:D[Cl.id].idx,distance:Bu}}),ct=mb(ru,ke,t,ct);var Ld=[];Object.keys(ru).forEach(function(Cl){Kn[Cl]||(Kn[Cl]=yb(ct[Cl],On,o,s)),Ld.push(Kn[Cl])}),Ld=Ld.sort(function(Cl,Bu){return Bu-Cl});var Lh=!1;for(Ml=0;Ml<tv;Ml++)if(Ld[Ml]<Wr[Ml]){Lh=!0;break}return Lh?(dr.splice(_a,1),"continue"):void 0},Wa=(dr?.length||0)-1;Wa>=0;Wa--)aa(Wa)});var Qa=[];dr?.forEach(function($i){for(var Ma=D[$i.id].idx,Ca=rL(t.nodes,u[Ma],Ma,o,a).neighbors,Wr=!1,ta=Ca.length-1;ta>=0;ta--){if(Ca.length+1<e.nodes.length)return void(Wr=!0);var aa=Ca[ta],Wa=aa[o];if(J[Wa]&&J[Wa].length)if(ya[Wa]&&ya[Wa].length){var la="".concat($i.id,"-").concat(aa.id),_a=h[la],bo=ya[Wa].length-1;if(_a>ya[Wa][bo])Ca.splice(ta,1);else{if(n){var Wo="".concat(aa.id,"-").concat($i.id);if(h[Wo]>Va[Wa][bo=Va[Wa].length-1]){Ca.splice(ta,1);continue}}var Ml=Kn[la]?Kn[la]:Zee(t,$i,aa,D,_a,ke,On,o,s,Kn,ct),ru="".concat(Gn.id,"-").concat(Wa);if(Ml<Fi[ru][Fi[ru].length-1])Ca.splice(ta,1);else{var Lh=sL(yi,Wa,Q,J);D[aa.id].degree<Lh.minPatternNodeLabelDegree&&Ca.splice(ta,1)}}}else Ca.splice(ta,1);else Ca.splice(ta,1)}Wr||Qa.push({nodes:[$i].concat(Ca)})});var tu=m0(e,Gn.id,!1).length,ss={};n?(Object.keys(tu).forEach(function($i){var Ma=Q[$i].node[o];ss[Ma]?ss[Ma].push(tu[$i]):ss[Ma]=[tu[$i]]}),Object.keys(ss).forEach(function($i){ss[$i].sort(function(Ma,Gi){return Ma-Gi})})):ss=ya;for(var ls=function(Ma){var Gi=Qa[Ma],Ca=Gi.nodes[0],Ha={},Wr={};Gi.nodes.forEach(function(mo,Sc){Wr[mo.id]={idx:Sc,node:mo,degree:0,inDegree:0,outDegree:0};var bs=mo[o];Ha[bs]?Ha[bs]++:Ha[bs]=1});var ta=[],aa={};t.edges.forEach(function(mo){Wr[mo.source]&&Wr[mo.target]&&(ta.push(mo),aa[mo[s]]?aa[mo[s]]++:aa[mo[s]]=1,Wr[mo.source].degree++,Wr[mo.target].degree++,Wr[mo.source].outDegree++,Wr[mo.target].inDegree++)});for(var Wa=Object.keys(de).length,la=!1,_a=0;_a<Wa;_a++){var bo=Object.keys(de)[_a];if(!aa[bo]||aa[bo]<de[bo].length){la=!0;break}}if(la)return Qa.splice(Ma,1),"continue";var Ec=ta.length;if(Ec<e.edges.length)return Qa.splice(Ma,1),"break";var Wo=!1,tv=function(Sc){var bs=ta[Sc],Fd=bs[s],nv=de[Fd];if(!nv||!nv.length)return aa[Fd]--,nv&&aa[Fd]<nv.length?(Wo=!0,"break"):(ta.splice(Sc,1),Wr[bs.source].degree--,Wr[bs.target].degree--,Wr[bs.source].outDegree--,Wr[bs.target].inDegree--,"continue");var Sz=Wr[bs.source].node[o],Mz=Wr[bs.target].node[o],aD=!1;return nv.forEach(function(Cz){var Dz=Q[Cz.source].node,Tz=Q[Cz.target].node;Dz[o]===Sz&&Tz[o]===Mz&&(aD=!0),!n&&Dz[o]===Mz&&Tz[o]===Sz&&(aD=!0)}),aD?void 0:(aa[Fd]--,nv&&aa[Fd]<nv.length?(Wo=!0,"break"):(ta.splice(Sc,1),Wr[bs.source].degree--,Wr[bs.target].degree--,Wr[bs.source].outDegree--,Wr[bs.target].inDegree--,"continue"))};for(_a=Ec-1;_a>=0&&"break"!==tv(_a);_a--);if(Wo)return Qa.splice(Ma,1),"continue";Gi.edges=ta;var Ml=m0(Gi,Gi.nodes[0].id,!1).length;if(Object.keys(Ml).reverse().forEach(function(mo){if(mo!==Gi.nodes[0].id&&!Wo){if(Ml[mo]===1/0){if(Ha[Sc=Wr[mo].node[o]]--,Ha[Sc]<J[Sc].length)return void(Wo=!0);var bs=Gi.nodes.indexOf(Wr[mo].node);return Gi.nodes.splice(bs,1),void(Wr[mo]=void 0)}var Fd=D[mo].node[o];if(!ss[Fd]||!ss[Fd].length||Ml[mo]>ss[Fd][ss[Fd].length-1]){var Sc;if(Ha[Sc=Wr[mo].node[o]]--,Ha[Sc]<J[Sc].length)return void(Wo=!0);bs=Gi.nodes.indexOf(Wr[mo].node),Gi.nodes.splice(bs,1),Wr[mo]=void 0}}}),Wo)return Qa.splice(Ma,1),"continue";for(var ru=!0,Ld=0;ru&&!Wo;){if(ru=!1,n?Wr[Ca.id].degree<Q[Gn.id].degree||Wr[Ca.id].inDegree<Q[Gn.id].inDegree||Wr[Ca.id].outDegree<Q[Gn.id].outDegree:Wr[Ca.id].degree<Q[Gn.id].degree){Wo=!0;break}if(Ha[Ca[o]]<J[Ca[o]].length){Wo=!0;break}for(var Bu=Gi.nodes.length-1;Bu>=0;Bu--){var Nf=Gi.nodes[Bu],wz=Wr[Nf.id].degree,Spe=Wr[Nf.id].inDegree,Mpe=Wr[Nf.id].outDegree,iD=sL(yi,Nf[o],Q,J),Ez=iD.minPatternNodeLabelDegree;if(n?wz<Ez||Spe<iD.minPatternNodeLabelInDegree||Mpe<iD.minPatternNodeLabelOutDegree:wz<Ez){if(Ha[Nf[o]]--,Ha[Nf[o]]<J[Nf[o]].length){Wo=!0;break}Gi.nodes.splice(Bu,1),Wr[Nf.id]=void 0,ru=!0}}if(Wo||!ru&&0!==Ld)break;for(var zx=(Ec=ta.length)-1;zx>=0;zx--){var Pf=ta[zx];if(!Wr[Pf.source]||!Wr[Pf.target]){ta.splice(zx,1);var Vx=Pf[s];if(aa[Vx]--,Wr[Pf.source]&&(Wr[Pf.source].degree--,Wr[Pf.source].outDegree--),Wr[Pf.target]&&(Wr[Pf.target].degree--,Wr[Pf.target].inDegree--),de[Vx]&&aa[Vx]<de[Vx].length){Wo=!0;break}ru=!0}}Ld++}return Wo||Wo||Gi.nodes.length<e.nodes.length||ta.length<e.edges.length?(Qa.splice(Ma,1),"continue"):void 0},cs=Qa.length-1;cs>=0&&"break"!==ls(cs);cs--);var Xs=Qa.length,Sl=function(Ma){var Ca={};Qa[Ma].edges.forEach(function(ta){var aa="".concat(ta.source,"-").concat(ta.target,"-").concat(ta.label);Ca[aa]?Ca[aa]++:Ca[aa]=1});for(var Ha=function(aa){var la={};Qa[aa].edges.forEach(function(bo){var Ec="".concat(bo.source,"-").concat(bo.target,"-").concat(bo.label);la[Ec]?la[Ec]++:la[Ec]=1});var _a=!0;Object.keys(la).length!==Object.keys(Ca).length?_a=!1:Object.keys(Ca).forEach(function(bo){la[bo]!==Ca[bo]&&(_a=!1)}),_a&&Qa.splice(aa,1)},Wr=Xs-1;Wr>Ma;Wr--)Ha(Wr);Xs=Qa.length};for(cs=0;cs<=Xs-1;cs++)Sl(cs);return Qa}}};var Jee=function(){function r(t){void 0===t&&(t=10),this.linkedList=new DR,this.maxStep=t}return Object.defineProperty(r.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),r.prototype.isEmpty=function(){return!this.linkedList.head},r.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},r.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},r.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},r.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},r.prototype.toArray=function(){return this.linkedList.toArray().map(function(t){return t.value})},r.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},r}();const Cg=Jee;var cL=FS;const ete={getAdjMatrix:Fp,breadthFirstSearch:AR,connectedComponent:NS,getDegree:g0,getInDegree:OR,getOutDegree:kR,detectCycle:FS,detectDirectedCycle:cL,detectAllCycles:PR,detectAllDirectedCycle:LS,detectAllUndirectedCycle:RS,depthFirstSearch:PS,dijkstra:m0,findAllPath:FR,findShortestPath:LR,floydWarshall:y0,labelPropagation:BR,louvain:VS,iLouvain:UR,kCore:GR,kMeans:WR,cosineSimilarity:jS,nodesCosineSimilarity:YR,minimumSpanningTree:XR,pageRank:KR,getNeighbors:yc,Stack:Cg,GADDI:lL};var US=j(3454),$r=j(8235),_b=Yc,tte=function(t){return function(e,n){return e[t]-n[t]}},uL=function(t,e,n){return t>=e&&t<=n},bb=function(t,e,n,i){var o_x=n.x-t.x,o_y=n.y-t.y,s_x=e.x-t.x,s_y=e.y-t.y,l_x=i.x-n.x,l_y=i.y-n.y,c=s_x*l_y-s_y*l_x,d=1/c;if(c*c>1e-4*(s_x*s_x+s_y*s_y)*(l_x*l_x+l_y*l_y)){var y=(o_x*l_y-o_y*l_x)*d,D=(o_x*s_y-o_y*s_x)*d;return uL(y,0,1)&&uL(D,0,1)?{x:t.x+y*s_x,y:t.y+y*s_y}:null}return null},dL=function(t,e){var n=t.x,i=t.y,a=t.width,o=t.height,c=[],u={x:n+a/2,y:i+o/2};c.push({x:n,y:i}),c.push({x:n+a,y:i}),c.push({x:n+a,y:i+o}),c.push({x:n,y:i+o}),c.push({x:n,y:i});for(var d=null,h=1;h<c.length&&!(d=bb(c[h-1],c[h],u,e));h++);return d},fL=function(t,e){var n=t.x,i=t.y,a=t.r,l=e.x-n,c=e.y-i;if(l*l+c*c<a*a)return null;var u=Math.atan(c/l);return{x:n+Math.abs(a*Math.cos(u))*Math.sign(l),y:i+Math.abs(a*Math.sin(u))*Math.sign(c)}},hL=function(t,e){var n=t.rx,i=t.ry,a=t.x,o=t.y,c=Math.atan2((e.y-o)/i,(e.x-a)/n);return c<0&&(c+=2*Math.PI),{x:a+n*Math.cos(c),y:o+i*Math.sin(c)}},Dg=function(t,e,n){void 0===n&&(n=1);var i=[t.x,t.y,n];return(!e||isNaN(e[0]))&&(e=[1,0,0,0,1,0,0,0,1]),US.transformMat3(i,i,e),{x:i[0],y:i[1]}},pL=function(t,e,n){void 0===n&&(n=1),(!e||isNaN(e[0]))&&(e=[1,0,0,0,1,0,0,0,1]);var i=wd.invert([1,0,0,0,1,0,0,0,1],e);i||(i=[1,0,0,0,1,0,0,0,1]);var a=[t.x,t.y,n];return US.transformMat3(a,a,i),{x:a[0],y:a[1]}},GS=function(t,e,n){var i=t.x-e.x,a=t.y-e.y,o=t.x-n.x,s=t.y-n.y,l=(t.x*t.x-e.x*e.x-e.y*e.y+t.y*t.y)/2,c=(t.x*t.x-n.x*n.x-n.y*n.y+t.y*t.y)/2,u=a*o-i*s;return{x:-(s*l-a*c)/u,y:-(i*c-o*l)/u}},xb=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},nte=function(t,e){var n=[];return t.forEach(function(i){var a=[];i.forEach(function(o){a.push(o*e)}),n.push(a)}),n},rte=function(t){for(var e=[],n=t.length,i=0;i<n;i+=1){e[i]=[];for(var a=0;a<n;a+=1)e[i][a]=i===a?0:0!==t[i][a]&&t[i][a]?t[i][a]:1/0}for(var o=0;o<n;o+=1)for(i=0;i<n;i+=1)for(a=0;a<n;a+=1)e[i][a]>e[i][o]+e[o][a]&&(e[i][a]=e[i][o]+e[o][a]);return e},ite=function(t,e){var n=t.nodes,i=t.edges,a=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(s,l){o[s.id]=l,a.push([])}),i&&i.forEach(function(s){var u=o[s.source],d=o[s.target];a[u][d]=1,e||(a[d][u]=1)}),a},vL=function(t,e){t.translate(e.x,e.y)},HS=function(t,e,n,i){void 0===i&&(i={duration:500});var a=t.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]);var o=t.getCanvasBBox(),s=e.x-o.minX,l=e.y-o.minY;if(n){var c=s*a[0],u=l*a[4],d=0,h=0,v=0,y=0;t.animate(function(F){return a=_b(a,[["t",(v=c*F)-d,(y=u*F)-h]]),d=v,h=y,{matrix:a}},i)}else{var D=_b(a,[["t",s,l]]);t.setMatrix(D)}},ate=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var i=e;(0,ue.isArray)(e)||(i=[e,e]),(0,ue.isArray)(e)&&1===e.length&&(i=[e[0],e[0]]),n=_b(n,[["s",i[0],i[1]]]),t.setMatrix(n)},ote=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=_b(n,[["r",e]]),t.setMatrix(n)},ste=function(t,e,n){for(var i=[],a=0;a<t;a++)i[a]=0;return n.forEach(function(o){o.source&&(i[e[o.source]]+=1),o.target&&(i[e[o.target]]+=1)}),i};function lte(r,t,e){return(e[0]-r[0])*(t[1]-r[1])==(t[0]-r[0])*(e[1]-r[1])&&Math.min(r[0],t[0])<=e[0]&&e[0]<=Math.max(r[0],t[0])&&Math.min(r[1],t[1])<=e[1]&&e[1]<=Math.max(r[1],t[1])}var _0=function(t,e,n){var i=!1,a=t.length,o=1e-6;function s(d){return Math.abs(d)<o?0:d<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var c=t[l],u=t[(l+1)%a];if(lte(c,u,[e,n]))return!0;s(c[1]-n)>0!=s(u[1]-n)>0&&s(e-(n-c[1])*(c[0]-u[0])/(c[1]-u[1])-c[0])<0&&(i=!i)}return i},gL=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},mL=function(t,e){var n=function(h){var v=h.map(function(D){return D[0]}),y=h.map(function(D){return D[1]});return{minX:Math.min.apply(null,v),maxX:Math.max.apply(null,v),minY:Math.min.apply(null,y),maxY:Math.max.apply(null,y)}},i=function(h){for(var v=[],y=h.length,D=0;D<y-1;D++){var F=h[D],K=h[D+1];v.push({from:{x:F[0],y:F[1]},to:{x:K[0],y:K[1]}})}if(v.length>1){var Q=h[0],J=h[y-1];v.push({from:{x:J[0],y:J[1]},to:{x:Q[0],y:Q[1]}})}return v};if(t.length<2||e.length<2)return!1;var a=n(t),o=n(e);if(!gL(a,o))return!1;var s=!1;if((0,ue.each)(e,function(d){if(_0(t,d[0],d[1]))return s=!0,!1}),s||((0,ue.each)(t,function(d){if(_0(e,d[0],d[1]))return s=!0,!1}),s))return!0;var l=i(t),c=i(e),u=!1;return(0,ue.each)(c,function(d){if(function(t,e){var n=!1;return(0,ue.each)(t,function(i){if(bb(i.from,i.to,e.from,e.to))return n=!0,!1}),n}(l,d))return u=!0,!1}),u},zp=function(){function r(t,e,n,i){this.x1=t,this.y1=e,this.x2=n,this.y2=i}return r.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),i=Math.max(this.y1,this.y2);return{x:t,y:e,minX:t,minY:e,maxX:n,maxY:i,width:n-t,height:i-e}},r}(),WS=function(t,e){return{top:[t.minX,t.minY,t.maxX,t.minY],left:[t.minX,t.minY,t.minX,t.maxY],bottom:[t.minX,t.maxY,t.maxX,t.maxY],right:[t.maxX,t.minY,t.maxX,t.maxY]}[e]},ute=function(t,e){var a=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(a){var o=((e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1))/a,s=((t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1))/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},yL=function(t,e){for(var n=["top","left","bottom","right"],i=t.getBBox(),a=0,o=[],s=0;s<4;s++){var l=WS(i,n[s]);o[s]=bb({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:l[0],y:l[1]},{x:l[2],y:l[3]}),o[s]&&(a+=1)}return[o,a]},YS=function(t,e){for(var n=["top","left","bottom","right"],i=t.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=WS(i,n[s]),v=ute(e,new zp(l[0],l[1],l[2],l[3]));(v=Math.abs(v-.5))>=0&&v<=1&&(o+=1,a=v<a?v:a)}return 0===o?-1:a},_L=function(t){var e=0,n=0;if(t.length>0){for(var i=0,a=t;i<a.length;i++){var o=a[i];e+=o.x,n+=o.y}e/=t.length,n/=t.length}return{x:e,y:n}},wb=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},bL=function(t,e){var u,n=e.x1,i=e.y1,a=e.x2-n,o=e.y2-i,s=t.x-n,l=t.y-i,c=s*a+l*o;u=c<=0||(c=(s=a-s)*a+(l=o-l)*o)<=0?0:c*c/(a*a+o*o);var d=s*s+l*l-u;return d<0&&(d=0),d},$S=function(t,e,n){return void 0===n&&(n=.001),Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)},xL=function(t,e){var n=t.x<e.x,i=t.x>e.x+e.width,a=t.y>e.y+e.height,o=t.y<e.y;if(!(n||i||a||o))return 0;if(a&&!n&&!i)return Math.pow(e.y+e.height-t.y,2);if(o&&!n&&!i)return Math.pow(t.y-e.y,2);if(n&&!a&&!o)return Math.pow(e.x-t.x,2);if(i&&!a&&!o)return Math.pow(e.x+e.width-t.x,2);var l=Math.min(Math.abs(e.x-t.x),Math.abs(e.x+e.width-t.x)),c=Math.min(Math.abs(e.y-t.y),Math.abs(e.y+e.height-t.y));return l*l+c*c},dte=function(t,e){var n=t[0],i=t[1],s=e.x,l=e.y,c=[t[2]-n,t[3]-i];if($r.exactEquals(c,[0,0]))return NaN;var u=[-c[1],c[0]];return $r.normalize(u,u),Math.abs($r.dot([s-n,l-i],u))},XS=function(t,e,n){return t+(e-t)*n},KS=function(t,e,n){for(var i=Math.min(t.length,e.length),a=new Array(i),o=0;o<i;o++)a[o]=XS(t[o],e[o],n);return a},bh="rgb(95, 149, 255)",wL="rgb(0, 0, 0)",qS="rgb(247, 250, 255)",Eb="rgb(253, 253, 253)",SL="rgb(250, 250, 250)",Sb="rgb(224, 224, 224)",ML="rgb(234, 234, 234)",CL="#4572d9";const Rr={version:"0.8.9",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:bh,fill:"rgb(239, 244, 255)"},size:20,color:bh,linkPoints:{size:8,lineWidth:1,fill:qS,stroke:bh}},nodeStateStyles:{active:{fill:qS,stroke:bh,lineWidth:2,shadowColor:bh,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:bh,lineWidth:4,shadowColor:bh,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:CL,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:qS,stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:SL,stroke:Sb,lineWidth:1}},edgeLabel:{style:{fill:wL,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Sb,lineAppendWidth:2},color:Sb},edgeStateStyles:{active:{stroke:bh,lineWidth:1},selected:{stroke:bh,lineWidth:2,shadowColor:bh,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:bh,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:ML,lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:wL,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Eb,lineWidth:1,stroke:Sb,r:5,width:20,height:10},size:[20,5],color:Sb,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:bh,lineWidth:1,fill:qS},selected:{stroke:bh,lineWidth:2,fill:Eb,shadowColor:bh,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:CL,lineWidth:2,fill:Eb,"text-shape":{fontWeight:500}},inactive:{stroke:Sb,fill:Eb,lineWidth:1},disable:{stroke:ML,fill:SL,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:typeof window<"u"&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},gte={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875};var Sd=Math.PI,ZS=Math.sin,QS=Math.cos,ks=ZS(Sd/8),Ns=QS(Sd/8),Mb=function(t,e){var n=t.getBBox(),i={x:n.minX,y:n.minY},a={x:n.maxX,y:n.maxY};if(e){var o=e.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),i=Dg(i,o),a=Dg(a,o)}var s=i.x,l=i.y,c=a.x,u=a.y;return{x:s,y:l,minX:s,minY:l,maxX:c,maxY:u,width:c-s,height:u-l}},DL=function(t){var e=t.sourceNode||t.targetNode,i=e.get("group").getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var a=e.getKeyShape(),o=a.getBBox(),s=t.loopCfg||{},l=s.dist||2*Math.max(o.width,o.height),c=s.position||Rr.defaultLoopPosition,u=[(o.minX+o.maxX)/2+i[6],(o.minY+o.maxY)/2+i[7]],d=[t.startPoint.x,t.startPoint.y],h=[t.endPoint.x,t.endPoint.y],v=o.height/2,y=o.width/2,D=v,F=v,K=D*ks,Q=D*Ns,J=F*ks,de=F*Ns,Ee=a.get("type"),ke=Math.min(v/2,y/2),Re=Math.min(v,y),tt=s?.pointPadding?Math.min(Re,s?.pointPadding):ke;if(d[0]===h[0]&&d[1]===h[1]){switch(c){case"top":"circle"===Ee?(d=[u[0]-K,u[1]-Q],h=[u[0]+J,u[1]-de]):(d=[u[0]-tt,u[1]-v],h=[u[0]+tt,u[1]-v]);break;case"top-right":D=v,F=y,"circle"===Ee?(d=[u[0]+(K=D*ks),u[1]-(Q=D*Ns)],h=[u[0]+(de=F*Ns),u[1]-(J=F*ks)]):(d=[u[0]+y-tt,u[1]-v],h=[u[0]+y,u[1]-v+tt]);break;case"right":D=y,F=y,"circle"===Ee?(d=[u[0]+(Q=D*Ns),u[1]-(K=D*ks)],h=[u[0]+(de=F*Ns),u[1]+(J=F*ks)]):(d=[u[0]+y,u[1]-tt],h=[u[0]+y,u[1]+tt]);break;case"bottom-right":D=y,F=v,"circle"===Ee?(d=[u[0]+(Q=D*Ns),u[1]+(K=D*ks)],h=[u[0]+(J=F*ks),u[1]+(de=F*Ns)]):(d=[u[0]+y,u[1]+v-tt],h=[u[0]+y-tt,u[1]+v]);break;case"bottom":D=v,F=v,"circle"===Ee?(d=[u[0]+(K=D*ks),u[1]+(Q=D*Ns)],h=[u[0]-(J=F*ks),u[1]+(de=F*Ns)]):(d=[u[0]-tt,u[1]+v],h=[u[0]+tt,u[1]+v]);break;case"bottom-left":D=v,F=y,"circle"===Ee?(d=[u[0]-(K=D*ks),u[1]+(Q=D*Ns)],h=[u[0]-(de=F*Ns),u[1]+(J=F*ks)]):(d=[u[0]-y,u[1]+v-tt],h=[u[0]-y+tt,u[1]+v]);break;case"left":D=y,F=y,"circle"===Ee?(d=[u[0]-(Q=D*Ns),u[1]+(K=D*ks)],h=[u[0]-(de=F*Ns),u[1]-(J=F*ks)]):(d=[u[0]-y,u[1]-tt],h=[u[0]-y,u[1]+tt]);break;case"top-left":D=y,F=v,"circle"===Ee?(d=[u[0]-(Q=D*Ns),u[1]-(K=D*ks)],h=[u[0]-(J=F*ks),u[1]-(de=F*Ns)]):(d=[u[0]-y+tt,u[1]-v],h=[u[0]-y,u[1]-v+tt]);break;default:d=[u[0]-(K=(D=y)*ks),u[1]-(Q=D*Ns)],h=[u[0]+(J=(F=y)*ks),u[1]-(de=F*Ns)]}if(!1===s.clockwise){var xt=[d[0],d[1]];d=[h[0],h[1]],h=[xt[0],xt[1]]}}var Nt=(D+l)/D,Ut=(F+l)/F;!1===s.clockwise&&(Nt=(F+l)/F,Ut=(D+l)/D);var Mn=$r.scale([0,0],[d[0]-u[0],d[1]-u[1]],Nt),Jn=[u[0]+Mn[0],u[1]+Mn[1]],$t=$r.scale([0,0],[h[0]-u[0],h[1]-u[1]],Ut),Tn=[u[0]+$t[0],u[1]+$t[1]];return t.startPoint={x:d[0],y:d[1]},t.endPoint={x:h[0],y:h[1]},t.controlPoints=[{x:Jn[0],y:Jn[1]},{x:Tn[0],y:Tn[1]}],t},TL=function(t,e,n,i,a){var o=1e-4,s=[],l=t?.getPoint(e);if(!l)return{x:0,y:0,angle:0};if(e<o)s=t.getStartTangent().reverse();else if(e>1-o)s=t.getEndTangent();else{var c=t?.getPoint(e+o);s.push([l.x,l.y]),s.push([c.x,c.y])}var u=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(u<0&&(u+=2*Sd),n&&(l.x+=QS(u)*n,l.y+=ZS(u)*n),i){var d=u-Sd/2;u>.5*Sd&&u<1.5*Sd&&(d-=Sd),l.x+=QS(d)*i,l.y+=ZS(d)*i}var h={x:l.x,y:l.y,angle:u};return a?(u>.5*Sd&&u<1.5*Sd&&(u-=Sd),(0,Me.__assign)({rotate:u},h)):h},mte=function r(t,e,n,i){if(!1===i(t,e,n))return!1;if(t&&t.children)for(var a=t.children.length-1;a>=0;a--)if(!r(t.children[a],t,a,i))return!1;return!0},yte=function r(t,e,n,i){if(t&&t.children)for(var a=t.children.length-1;a>=0;a--)if(!r(t.children[a],t,a,i))return;return!1!==i(t,e,n)},sl=function(t,e){"function"==typeof e&&mte(t,null,-1,e)},Md=function(t,e){"function"==typeof e&&yte(t,null,-1,e)},AL=function(t,e){return e*(gte[t]||1)},IL=function(t,e){var n=0,i=new RegExp("[\u4e00-\u9fa5]+");return t.split("").forEach(function(a){i.test(a)?n+=e:n+=AL(a,e)}),[n,e]},OL=function(t,e){return"number"!=typeof e||e<=0||e>=t.length?t:t.substring(0,e)+"..."},JS=function(t,e){var n=[],i={},a={};t.forEach(function(l){a[l.id]=l}),t.forEach(function(l,c){var u=(0,ue.clone)(l);u.itemType="combo",u.children=void 0,u.parentId===u.id?(console.warn("The parentId for combo ".concat(u.id," can not be the same as the combo's id")),delete u.parentId):u.parentId&&!a[u.parentId]&&(console.warn("The parent combo for combo ".concat(u.id," does not exist!")),delete u.parentId);var d=i[u.id];if(d){if(u.children=d.children,i[u.id]=u,!(d=u).parentId)return void n.push(d);var h=i[d.parentId];h?h.children?h.children.push(u):h.children=[u]:(i[d.parentId]={id:d.parentId,children:[d]},i[u.id]=u)}else if((0,ue.isString)(l.parentId)){var y=i[l.parentId];if(y)y.children?y.children.push(u):y.children=[u],i[u.id]=u;else{var D={id:l.parentId,children:[u]};i[D.id]=D,i[u.id]=u}}else n.push(u),i[u.id]=u});var o={};(e||[]).forEach(function(l){o[l.id]=l;var c=i[l.comboId];if(c){var u={id:l.id,comboId:l.comboId};c.children?c.children.push(u):c.children=[u],u.itemType="node",i[l.id]=u}});var s=0;return n.forEach(function(l){l.depth=s+10,sl(l,function(c){var d=i[c.id].itemType;c.depth=("node"===d?i[c.comboId]:i[c.parentId])&&"node"===d?s+1:s+10,s<c.depth&&(s=c.depth);var h=o[c.id];return h&&(h.depth=c.depth),!0})}),n},eM=function(t,e,n){var i,o,a=t,s={root:{children:t}},l=!1,c="root";(t||[]).forEach(function(y){if(!l){if(y.id===e)return o=y,"combo"===y.itemType?o.parentId=n:o.comboId=n,void(l=!0);sl(y,function(D){var F;return s[D.id]={children:D?.children||[]},a=null===(F=s[D.parentId||D.comboId||"root"])||void 0===F?void 0:F.children,!D||!D.removed&&e!==D.id||!a||(c=D.parentId||D.comboId||"root",o=D,"combo"===D.itemType?o.parentId=n:o.comboId=n,l=!0,!1)})}});var u=(a=null===(i=s[c])||void 0===i?void 0:i.children)?a.indexOf(o):-1;if(u>-1&&a.splice(u,1),l||(o={id:e,itemType:"node",comboId:n},s[e]={children:void 0}),e){var d=!1;if(n){var h=0;(t||[]).forEach(function(y){d||sl(y,function(D){return n!==D.id||(d=!0,D.children?D.children.push(o):D.children=[o],h=D.depth,o.depth="node"===o.itemType?h+2:h+1,!1)})})}else(!n||!d)&&"node"!==o.itemType&&t.push(o);var v=o.depth;sl(o,function(y){return y.depth=v+="node"===y.itemType?2:1,!0})}return t},Cb=function(t,e,n){var i={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!t||0===t.length){var a=n?.getModel(),o=a||{},s=o.x,l=o.y,h=o.collapsed?o.fixCollapseSize:o.fixSize,v=(0,ue.isArray)(h)?h:[h,h],y=v[0],D=v[1],F=[y/2,D/2];return{minX:s-F[0],minY:l-F[1],maxX:s+F[0],maxY:l+F[1],x:s,y:l,width:y,height:D}}return t.forEach(function(K){var Q=e.findById(K.id);if(Q&&Q.isVisible()){Q.set("bboxCanvasCache",void 0);var J=Q.getCanvasBBox();J.x&&i.minX>J.minX&&(i.minX=J.minX),J.y&&i.minY>J.minY&&(i.minY=J.minY),J.x&&i.maxX<J.maxX&&(i.maxX=J.maxX),J.y&&i.maxY<J.maxY&&(i.maxY=J.maxY)}}),i.x=(i.minX+i.maxX)/2,i.y=(i.minY+i.maxY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.centerX=(i.minX+i.maxX)/2,i.centerY=(i.minY+i.maxY)/2,"circle"===n?.getKeyShape().get("type")&&(i.width=Math.hypot(i.height,i.width),i.height=i.width),Object.keys(i).forEach(function(K){(i[K]===1/0||i[K]===-1/0)&&(i[K]=void 0)}),i},_te=function(t){var e=(0,ue.isNumber)(t.x)||(0,ue.isNumber)(t.y)||t.type||t.anchorPoints||t.size;return t.style&&(e=e||(0,ue.isNumber)(t.style.r)||(0,ue.isNumber)(t.style.width)||(0,ue.isNumber)(t.style.height)||(0,ue.isNumber)(t.style.rx)||(0,ue.isNumber)(t.style.ry)),e},Db=function(t){var e={};return Object.keys(t).forEach(function(n){var i=t[n];if((0,ue.isObject)(i)&&!(0,ue.isArray)(i)){var a={};Object.keys(i).forEach(function(o){var s=i[o];"img"===o&&!(0,ue.isString)(s)||(a[o]=(0,ue.clone)(s))}),e[n]=a}else e[n]=(0,ue.clone)(i)}),e},b0=function(t){var i,e=t.animateCfg,n=t.callback;if(e)if(i=(0,ue.clone)(e),e.callback){var a=e.callback;i.callback=function(){n(),a()}}else i.callback=n;else i={duration:500,callback:n};return i},kL=function(t){if(!t)return console.error("G6 Error Tips: the data must be defined"),!1;var e=t.nodes,n=t.edges,i=t.combos,a=void 0===i?[]:i;if(!e&&!n){var o=!0;return sl(t,function(h){return!!(0,ue.isString)(h.id)||(o=!1,!1)}),o}var s=(e||[]).find(function(h){return!(0,ue.isString)(h.id)});if(s)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(s.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var l=(e||[]).map(function(h){return h.id}),c=a?.map(function(h){return h.id}),u=(0,Me.__spreadArray)((0,Me.__spreadArray)([],l,!0),c,!0),d=(n||[]).find(function(h){return!u.includes(h.source)||!u.includes(h.target)});return!d||(console.warn("G6 Warning Tips: The source %c".concat(d.source,"%c or the target %c").concat(d.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1)},xte=function(){function r(t){this.graph=t,this.destroyed=!1,this.modes=t.get("modes")||{default:[]},this.formatModes(),this.mode=t.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return r.prototype.formatModes=function(){(0,ue.each)(this.modes,function(e){(0,ue.each)(e,function(n,i){(0,ue.isString)(n)&&(e[i]={type:n})})})},r.prototype.setBehaviors=function(t){var a,e=this.graph,i=[];(0,ue.each)(this.modes[t]||[],function(o){var s=ER.getBehavior(o.type||o);s&&(a=new s(o))&&(a.bind(e),i.push(a))}),this.currentBehaves=i},r.mergeBehaviors=function(t,e){return(0,ue.each)(e,function(n){t.indexOf(n)<0&&((0,ue.isString)(n)&&(n={type:n}),t.push(n))}),t},r.filterBehaviors=function(t,e){var n=[];return t.forEach(function(i){var a;a=(0,ue.isString)(i)?i:i.type,e.indexOf(a)<0&&n.push(i)}),n},r.prototype.setMode=function(t){var i=this.graph,a=t;this.modes[a]&&(i.emit("beforemodechange",{mode:t}),(0,ue.each)(this.currentBehaves,function(s){s.delegate&&s.delegate.remove(),s.unbind(i)}),this.setBehaviors(a),i.emit("aftermodechange",{mode:t}),this.mode=t)},r.prototype.getMode=function(){return this.mode},r.prototype.manipulateBehaviors=function(t,e,n){var a,i=this;if(a=(0,ue.isArray)(t)?t:[t],(0,ue.isArray)(e))return(0,ue.each)(e,function(s){i.modes[s]?i.modes[s]=n?r.mergeBehaviors(i.modes[s]||[],a):r.filterBehaviors(i.modes[s]||[],a):n&&(i.modes[s]=a)}),this;var o=e;return e||(o=this.mode),this.modes[o]||n&&(this.modes[o]=a),this.modes[o]=n?r.mergeBehaviors(this.modes[o]||[],a):r.filterBehaviors(this.modes[o]||[],a),this.formatModes(),this.setMode(this.mode),this},r.prototype.updateBehavior=function(t,e,n){(0,ue.isString)(t)&&(t={type:t});var i=[];if(n&&n!==this.mode&&"default"!==n){if(!(i=this.modes[n])||!i.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var l=i.length;for(o=0;o<l;o++){if((s=i[o]).type===t.type||s===t.type)return s===t.type&&(s={type:s}),Object.assign(s,e),i[o]=s,this;o===l-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(i=this.currentBehaves)||!i.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var a=i.length,o=0;o<a;o++){var s;if((s=i[o]).type===t.type)return s.updateCfg(e),this;o===a-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},r.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},r}();const wte=xte;var x0="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",Ete=new RegExp("([a-z])["+x0+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+x0+"]*,?["+x0+"]*)+)","ig"),Ste=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+x0+"]*,?["+x0+"]*","ig"),Tg=function(r){if(!r)return null;if((0,ue.isArray)(r))return r;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},e=[];return String(r).replace(Ete,function(n,i,a){var o=[],s=i.toLowerCase();if(a.replace(Ste,function(l,c){c&&o.push(+c)}),"m"===s&&o.length>2&&(e.push([i].concat(o.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===o.length&&e.push([i,o[0]]),"r"===s)e.push([i].concat(o));else for(;o.length>=t[s]&&(e.push([i].concat(o.splice(0,t[s]))),t[s]););return r}),e},tM=function(r,t){for(var e=[],n=0,i=r.length;i-2*!t>n;n+=2){var a=[{x:+r[n-2],y:+r[n-1]},{x:+r[n],y:+r[n+1]},{x:+r[n+2],y:+r[n+3]},{x:+r[n+4],y:+r[n+5]}];t?n?i-4===n?a[3]={x:+r[0],y:+r[1]}:i-2===n&&(a[2]={x:+r[0],y:+r[1]},a[3]={x:+r[2],y:+r[3]}):a[0]={x:+r[i-2],y:+r[i-1]}:i-4===n?a[3]=a[2]:n||(a[0]={x:+r[n],y:+r[n+1]}),e.push(["C",(6*a[1].x-a[0].x+a[2].x)/6,(6*a[1].y-a[0].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return e},Tb=function(r,t,e,n,i){var a=[];if(null===i&&null===n&&(n=e),r=+r,t=+t,e=+e,n=+n,null!==i){var o=Math.PI/180,s=r+e*Math.cos(-n*o),l=r+e*Math.cos(-i*o);a=[["M",s,t+e*Math.sin(-n*o)],["A",e,e,0,+(i-n>180),0,l,t+e*Math.sin(-i*o)]]}else a=[["M",r,t],["m",0,-n],["a",e,n,0,1,1,0,2*n],["a",e,n,0,1,1,0,-2*n],["z"]];return a},nM=function(r){if(!(r=Tg(r))||!r.length)return[["M",0,0]];var s,l,t=[],e=0,n=0,i=0,a=0,o=0;"M"===r[0][0]&&(i=e=+r[0][1],a=n=+r[0][2],o++,t[0]=["M",e,n]);for(var c=3===r.length&&"M"===r[0][0]&&"R"===r[1][0].toUpperCase()&&"Z"===r[2][0].toUpperCase(),u=void 0,d=void 0,h=o,v=r.length;h<v;h++){if(t.push(u=[]),(s=(d=r[h])[0])!==s.toUpperCase())switch(u[0]=s.toUpperCase(),u[0]){case"A":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+d[6]+e,u[7]=+d[7]+n;break;case"V":u[1]=+d[1]+n;break;case"H":u[1]=+d[1]+e;break;case"R":for(var y=2,D=(l=[e,n].concat(d.slice(1))).length;y<D;y++)l[y]=+l[y]+e,l[++y]=+l[y]+n;t.pop(),t=t.concat(tM(l,c));break;case"O":t.pop(),(l=Tb(e,n,d[1],d[2])).push(l[0]),t=t.concat(l);break;case"U":t.pop(),t=t.concat(Tb(e,n,d[1],d[2],d[3])),u=["U"].concat(t[t.length-1].slice(-2));break;case"M":i=+d[1]+e,a=+d[2]+n;break;default:for(y=1,D=d.length;y<D;y++)u[y]=+d[y]+(y%2?e:n)}else if("R"===s)l=[e,n].concat(d.slice(1)),t.pop(),t=t.concat(tM(l,c)),u=["R"].concat(d.slice(-2));else if("O"===s)t.pop(),(l=Tb(e,n,d[1],d[2])).push(l[0]),t=t.concat(l);else if("U"===s)t.pop(),t=t.concat(Tb(e,n,d[1],d[2],d[3])),u=["U"].concat(t[t.length-1].slice(-2));else for(var F=0,K=d.length;F<K;F++)u[F]=d[F];if("O"!==(s=s.toUpperCase()))switch(u[0]){case"Z":e=+i,n=+a;break;case"H":e=u[1];break;case"V":n=u[1];break;case"M":i=u[u.length-2],a=u[u.length-1];break;default:e=u[u.length-2],n=u[u.length-1]}}return t},Ab=function(r,t,e,n){return[r,t,e,n,e,n]},NL=function(r,t,e,n,i,a){var o=.3333333333333333,s=2/3;return[o*r+s*e,o*t+s*n,o*i+s*e,o*a+s*n,i,a]},PL=function(r,t,e,n,i,a,o,s,l,c){e===n&&(e+=1);var v,y,D,F,K,u=120*Math.PI/180,d=Math.PI/180*(+i||0),h=[],Q=function(_i,Li,Fi){return{x:_i*Math.cos(Fi)-Li*Math.sin(Fi),y:_i*Math.sin(Fi)+Li*Math.cos(Fi)}};if(c)y=c[0],D=c[1],F=c[2],K=c[3];else{r=(v=Q(r,t,-d)).x,t=v.y,l=(v=Q(s,l,-d)).y,r===(s=v.x)&&t===l&&(s+=1,l+=1);var J=(r-s)/2,de=(t-l)/2,Ee=J*J/(e*e)+de*de/(n*n);Ee>1&&(e*=Ee=Math.sqrt(Ee),n*=Ee);var ke=e*e,Re=n*n,tt=(a===o?-1:1)*Math.sqrt(Math.abs((ke*Re-ke*de*de-Re*J*J)/(ke*de*de+Re*J*J)));F=tt*e*de/n+(r+s)/2,K=tt*-n*J/e+(t+l)/2,y=Math.asin(((t-K)/n).toFixed(9)),D=Math.asin(((l-K)/n).toFixed(9)),y=r<F?Math.PI-y:y,D=s<F?Math.PI-D:D,y<0&&(y=2*Math.PI+y),D<0&&(D=2*Math.PI+D),o&&y>D&&(y-=2*Math.PI),!o&&D>y&&(D-=2*Math.PI)}var xt=D-y;if(Math.abs(xt)>u){var ct=D,Nt=s,Ut=l;D=y+u*(o&&D>y?1:-1),s=F+e*Math.cos(D),l=K+n*Math.sin(D),h=PL(s,l,e,n,i,0,o,Nt,Ut,[D,ct,F,K])}xt=D-y;var Mn=Math.cos(y),Jn=Math.sin(y),zn=Math.cos(D),$t=Math.sin(D),Tn=Math.tan(xt/4),In=4/3*e*Tn,an=4/3*n*Tn,On=[r,t],Kn=[r+In*Jn,t-an*Mn],Gn=[s+In*$t,l-an*zn],dr=[s,l];if(Kn[0]=2*On[0]-Kn[0],Kn[1]=2*On[1]-Kn[1],c)return[Kn,Gn,dr].concat(h);for(var ur=[],Zr=0,yi=(h=[Kn,Gn,dr].concat(h).join().split(",")).length;Zr<yi;Zr++)ur[Zr]=Zr%2?Q(h[Zr-1],h[Zr],d).y:Q(h[Zr],h[Zr+1],d).x;return ur},rM=function(r,t){var u,e=nM(r),n=t&&nM(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],s=[],l="",c="",d=function(J,de,Ee){var ke,Re;if(!J)return["C",de.x,de.y,de.x,de.y,de.x,de.y];switch(!(J[0]in{T:1,Q:1})&&(de.qx=de.qy=null),J[0]){case"M":de.X=J[1],de.Y=J[2];break;case"A":J=["C"].concat(PL.apply(0,[de.x,de.y].concat(J.slice(1))));break;case"S":"C"===Ee||"S"===Ee?(ke=2*de.x-de.bx,Re=2*de.y-de.by):(ke=de.x,Re=de.y),J=["C",ke,Re].concat(J.slice(1));break;case"T":"Q"===Ee||"T"===Ee?(de.qx=2*de.x-de.qx,de.qy=2*de.y-de.qy):(de.qx=de.x,de.qy=de.y),J=["C"].concat(NL(de.x,de.y,de.qx,de.qy,J[1],J[2]));break;case"Q":de.qx=J[1],de.qy=J[2],J=["C"].concat(NL(de.x,de.y,J[1],J[2],J[3],J[4]));break;case"L":J=["C"].concat(Ab(de.x,de.y,J[1],J[2]));break;case"H":J=["C"].concat(Ab(de.x,de.y,J[1],de.y));break;case"V":J=["C"].concat(Ab(de.x,de.y,de.x,J[1]));break;case"Z":J=["C"].concat(Ab(de.x,de.y,de.X,de.Y))}return J},h=function(J,de){if(J[de].length>7){J[de].shift();for(var Ee=J[de];Ee.length;)o[de]="A",n&&(s[de]="A"),J.splice(de++,0,["C"].concat(Ee.splice(0,6)));J.splice(de,1),u=Math.max(e.length,n&&n.length||0)}},v=function(J,de,Ee,ke,Re){J&&de&&"M"===J[Re][0]&&"M"!==de[Re][0]&&(de.splice(Re,0,["M",ke.x,ke.y]),Ee.bx=0,Ee.by=0,Ee.x=J[Re][1],Ee.y=J[Re][2],u=Math.max(e.length,n&&n.length||0))};u=Math.max(e.length,n&&n.length||0);for(var y=0;y<u;y++){e[y]&&(l=e[y][0]),"C"!==l&&(o[y]=l,y&&(c=o[y-1])),e[y]=d(e[y],i,c),"A"!==o[y]&&"C"===l&&(o[y]="C"),h(e,y),n&&(n[y]&&(l=n[y][0]),"C"!==l&&(s[y]=l,y&&(c=s[y-1])),n[y]=d(n[y],a,c),"A"!==s[y]&&"C"===l&&(s[y]="C"),h(n,y)),v(e,n,i,a,y),v(n,e,a,i,y);var D=e[y],F=n&&n[y],K=D.length,Q=n&&F.length;i.x=D[K-2],i.y=D[K-1],i.bx=parseFloat(D[K-4])||i.x,i.by=parseFloat(D[K-3])||i.y,a.bx=n&&(parseFloat(F[Q-4])||a.x),a.by=n&&(parseFloat(F[Q-3])||a.y),a.x=n&&F[Q-2],a.y=n&&F[Q-1]}return n?[e,n]:e},Mte=/,?([a-z]),?/gi,RL=function(r){return r.join(",").replace(Mte,"$1")},LL=function(r,t,e,n,i){return r*(r*(-3*t+9*e-9*n+3*i)+6*t-12*e+6*n)-3*t+3*e},FL=function(r,t,e,n,i,a,o,s,l){null===l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],v=0,y=0;y<12;y++){var D=c*d[y]+c,F=LL(D,r,e,i,o),K=LL(D,t,n,a,s);v+=h[y]*Math.sqrt(F*F+K*K)}return c*v},Cte=function(r,t,e,n,i,a,o,s){for(var u,d,h,v,l=[],c=[[],[]],y=0;y<2;++y)if(0===y?(d=6*r-12*e+6*i,u=-3*r+9*e-9*i+3*o,h=3*e-3*r):(d=6*t-12*n+6*a,u=-3*t+9*n-9*a+3*s,h=3*n-3*t),Math.abs(u)<1e-12){if(Math.abs(d)<1e-12)continue;(v=-h/d)>0&&v<1&&l.push(v)}else{var D=d*d-4*h*u,F=Math.sqrt(D);if(!(D<0)){var K=(-d+F)/(2*u);K>0&&K<1&&l.push(K);var Q=(-d-F)/(2*u);Q>0&&Q<1&&l.push(Q)}}for(var Ee,J=l.length,de=J;J--;)c[0][J]=(Ee=1-(v=l[J]))*Ee*Ee*r+3*Ee*Ee*v*e+3*Ee*v*v*i+v*v*v*o,c[1][J]=Ee*Ee*Ee*t+3*Ee*Ee*v*n+3*Ee*v*v*a+v*v*v*s;return c[0][de]=r,c[1][de]=t,c[0][de+1]=o,c[1][de+1]=s,c[0].length=c[1].length=de+2,{min:{x:Math.min.apply(0,c[0]),y:Math.min.apply(0,c[1])},max:{x:Math.max.apply(0,c[0]),y:Math.max.apply(0,c[1])}}},Dte=function(r,t,e,n,i,a,o,s){if(!(Math.max(r,e)<Math.min(i,o)||Math.min(r,e)>Math.max(i,o)||Math.max(t,n)<Math.min(a,s)||Math.min(t,n)>Math.max(a,s))){var u=(r-e)*(a-s)-(t-n)*(i-o);if(u){var d=((r*n-t*e)*(i-o)-(r-e)*(i*s-a*o))/u,h=((r*n-t*e)*(a-s)-(t-n)*(i*s-a*o))/u,v=+d.toFixed(2),y=+h.toFixed(2);if(!(v<+Math.min(r,e).toFixed(2)||v>+Math.max(r,e).toFixed(2)||v<+Math.min(i,o).toFixed(2)||v>+Math.max(i,o).toFixed(2)||y<+Math.min(t,n).toFixed(2)||y>+Math.max(t,n).toFixed(2)||y<+Math.min(a,s).toFixed(2)||y>+Math.max(a,s).toFixed(2)))return{x:d,y:h}}}},xh=function(r,t,e){return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height},BL=function(r,t,e,n,i){if(i)return[["M",+r+ +i,t],["l",e-2*i,0],["a",i,i,0,0,1,i,i],["l",0,n-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-e,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-n],["a",i,i,0,0,1,i,-i],["z"]];var a=[["M",r,t],["l",e,0],["l",0,n],["l",-e,0],["z"]];return a.parsePathArray=RL,a},iM=function(r,t,e,n){return null===r&&(r=t=e=n=0),null===t&&(t=r.y,e=r.width,n=r.height,r=r.x),{x:r,y:t,width:e,w:e,height:n,h:n,x2:r+e,y2:t+n,cx:r+e/2,cy:t+n/2,r1:Math.min(e,n)/2,r2:Math.max(e,n)/2,r0:Math.sqrt(e*e+n*n)/2,path:BL(r,t,e,n),vb:[r,t,e,n].join(" ")}},zL=function(r,t,e,n,i,a,o,s){(0,ue.isArray)(r)||(r=[r,t,e,n,i,a,o,s]);var l=Cte.apply(null,r);return iM(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},VL=function(r,t,e,n,i,a,o,s,l){var c=1-l,u=Math.pow(c,3),d=Math.pow(c,2),h=l*l,v=h*l,F=r+2*l*(e-r)+h*(i-2*e+r),K=t+2*l*(n-t)+h*(a-2*n+t),Q=e+2*l*(i-e)+h*(o-2*i+e),J=n+2*l*(a-n)+h*(s-2*a+n);return{x:u*r+3*d*l*e+3*c*l*l*i+v*o,y:u*t+3*d*l*n+3*c*l*l*a+v*s,m:{x:F,y:K},n:{x:Q,y:J},start:{x:c*r+l*e,y:c*t+l*n},end:{x:c*i+l*o,y:c*a+l*s},alpha:90-180*Math.atan2(F-Q,K-J)/Math.PI}},Ate=function(r,t,e){if(!function(r,t){return r=iM(r),t=iM(t),xh(t,r.x,r.y)||xh(t,r.x2,r.y)||xh(t,r.x,r.y2)||xh(t,r.x2,r.y2)||xh(r,t.x,t.y)||xh(r,t.x2,t.y)||xh(r,t.x,t.y2)||xh(r,t.x2,t.y2)||(r.x<t.x2&&r.x>t.x||t.x<r.x2&&t.x>r.x)&&(r.y<t.y2&&r.y>t.y||t.y<r.y2&&t.y>r.y)}(zL(r),zL(t)))return e?0:[];for(var s=~~(FL.apply(0,r)/8),l=~~(FL.apply(0,t)/8),c=[],u=[],d={},h=e?0:[],v=0;v<s+1;v++){var y=VL.apply(0,r.concat(v/s));c.push({x:y.x,y:y.y,t:v/s})}for(v=0;v<l+1;v++)y=VL.apply(0,t.concat(v/l)),u.push({x:y.x,y:y.y,t:v/l});for(v=0;v<s;v++)for(var D=0;D<l;D++){var F=c[v],K=c[v+1],Q=u[D],J=u[D+1],de=Math.abs(K.x-F.x)<.001?"y":"x",Ee=Math.abs(J.x-Q.x)<.001?"y":"x",ke=Dte(F.x,F.y,K.x,K.y,Q.x,Q.y,J.x,J.y);if(ke){if(d[ke.x.toFixed(4)]===ke.y.toFixed(4))continue;d[ke.x.toFixed(4)]=ke.y.toFixed(4);var Re=F.t+Math.abs((ke[de]-F[de])/(K[de]-F[de]))*(K.t-F.t),tt=Q.t+Math.abs((ke[Ee]-Q[Ee])/(J[Ee]-Q[Ee]))*(J.t-Q.t);Re>=0&&Re<=1&&tt>=0&&tt<=1&&(e?h+=1:h.push({x:ke.x,y:ke.y,t1:Re,t2:tt}))}}return h},Ote=function(r,t){return function(r,t,e){r=rM(r),t=rM(t);for(var n,i,a,o,s,l,c,u,d,h,v=[],y=0,D=r.length;y<D;y++){var F=r[y];if("M"===F[0])n=s=F[1],i=l=F[2];else{"C"===F[0]?(d=[n,i].concat(F.slice(1)),n=d[6],i=d[7]):(d=[n,i,n,i,s,l,s,l],n=s,i=l);for(var K=0,Q=t.length;K<Q;K++){var J=t[K];if("M"===J[0])a=c=J[1],o=u=J[2];else{"C"===J[0]?(h=[a,o].concat(J.slice(1)),a=h[6],o=h[7]):(h=[a,o,a,o,c,u,c,u],a=c,o=u);for(var de=Ate(d,h,e),Ee=0,ke=de.length;Ee<ke;Ee++)de[Ee].segment1=y,de[Ee].segment2=K,de[Ee].bez1=d,de[Ee].bez2=h;v=v.concat(de)}}}}return v}(r,t)};function kte(r,t){var e=[],n=[];return r.length&&function i(a,o){if(1===a.length)e.push(a[0]),n.push(a[0]);else{for(var s=[],l=0;l<a.length-1;l++)0===l&&e.push(a[0]),l===a.length-2&&n.push(a[l+1]),s[l]=[(1-o)*a[l][0]+o*a[l+1][0],(1-o)*a[l][1]+o*a[l+1][1]];i(s,o)}}(r,t),{left:e,right:n.reverse()}}var Rte=function(r,t){if(1===r.length)return r;var e=r.length-1,n=t.length-1,i=e/n,a=[];if(1===r.length&&"M"===r[0][0]){for(var o=0;o<n-e;o++)r.push(r[0]);return r}for(o=0;o<n;o++){var s=Math.floor(i*o);a[s]=(a[s]||0)+1}var l=a.reduce(function(c,u,d){return c.concat(d===e?r[e]:function(r,t,e){if(1===e)return[[].concat(r)];var n=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])n=n.concat(function Nte(r,t,e){var n=[[r[1],r[2]]];e=e||2;var i=[];"A"===t[0]?(n.push(t[6]),n.push(t[7])):"C"===t[0]?(n.push([t[1],t[2]]),n.push([t[3],t[4]]),n.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(n.push([t[1],t[2]]),n.push([t[3],t[4]])):n.push([t[1],t[2]]);for(var a=n,o=1/e,s=0;s<e-1;s++){var c=kte(a,o/(1-o*s));i.push(c.left),a=c.right}return i.push(a),i.map(function(d){var h=[];return 4===d.length&&(h.push("C"),h=h.concat(d[2])),d.length>=3&&(3===d.length&&h.push("Q"),h=h.concat(d[1])),2===d.length&&h.push("L"),h.concat(d[d.length-1])})}(r,t,e));else{var i=[].concat(r);"M"===i[0]&&(i[0]="L");for(var a=0;a<=e-1;a++)n.push(i)}return n}(r[d],r[d+1],u))},[]);return l.unshift(r[0]),("Z"===t[n]||"z"===t[n])&&l.push("Z"),l},Lte=function(r,t){if(r.length!==t.length)return!1;var e=!0;return(0,ue.each)(r,function(n,i){if(n!==t[i])return e=!1,!1}),e};function Fte(r,t,e){var n=null,i=e;return t<i&&(i=t,n="add"),r<i&&(i=r,n="del"),{type:n,min:i}}var jL=function(r,t){var e=function(r,t){var i,e=r.length,n=t.length,o=0;if(0===e||0===n)return null;for(var s=[],l=0;l<=e;l++)s[l]=[],s[l][0]={min:l};for(var c=0;c<=n;c++)s[0][c]={min:c};for(l=1;l<=e;l++)for(i=r[l-1],c=1;c<=n;c++)o=Lte(i,t[c-1])?0:1,s[l][c]=Fte(s[l-1][c].min+1,s[l][c-1].min+1,s[l-1][c-1].min+o);return s}(r,t),n=r.length,i=t.length,a=[],o=1,s=1;if(e[n][i].min!==n){for(var l=1;l<=n;l++){var c=e[l][l].min;s=l;for(var u=o;u<=i;u++)e[l][u].min<c&&(c=e[l][u].min,s=u);e[l][o=s].type&&a.push({index:l-1,type:e[l][o].type})}for(l=a.length-1;l>=0;l--)o=a[l].index,"add"===a[l].type?r.splice(o,0,[].concat(r[o])):r.splice(o,1)}var d=i-(n=r.length);if(n<i)for(l=0;l<d;l++)"z"===r[n-1][0]||"Z"===r[n-1][0]?r.splice(n-2,0,r[n-2]):r.push(r[n-1]),n+=1;return r};function aM(r,t,e){for(var i,n=[].concat(r),a=1/(e+1),o=UL(t)[0],s=1;s<=e;s++)a*=s,0===(i=Math.floor(r.length*a))?n.unshift([o[0]*a+r[i][0]*(1-a),o[1]*a+r[i][1]*(1-a)]):n.splice(i,0,[o[0]*a+r[i][0]*(1-a),o[1]*a+r[i][1]*(1-a)]);return n}function UL(r){var t=[];switch(r[0]){case"M":case"L":case"T":t.push([r[1],r[2]]);break;case"A":t.push([r[6],r[7]]);break;case"Q":case"S":t.push([r[3],r[4]]),t.push([r[1],r[2]]);break;case"C":t.push([r[5],r[6]]),t.push([r[1],r[2]]),t.push([r[3],r[4]]);break;case"H":case"V":t.push([r[1],r[1]])}return t}var oM=function(r,t){if(r.length<=1)return r;for(var e,n=0;n<t.length;n++)if(r[n][0]!==t[n][0])switch(e=UL(r[n]),t[n][0]){case"M":r[n]=["M"].concat(e[0]);break;case"L":r[n]=["L"].concat(e[0]);break;case"A":r[n]=[].concat(t[n]),r[n][6]=e[0][0],r[n][7]=e[0][1];break;case"Q":if(e.length<2){if(!(n>0)){r[n]=t[n];break}e=aM(e,r[n-1],1)}r[n]=["Q"].concat(e.reduce(function(i,a){return i.concat(a)},[]));break;case"T":r[n]=["T"].concat(e[0]);break;case"C":if(e.length<3){if(!(n>0)){r[n]=t[n];break}e=aM(e,r[n-1],2)}r[n]=["C"].concat(e.reduce(function(i,a){return i.concat(a)},[]));break;case"S":if(e.length<2){if(!(n>0)){r[n]=t[n];break}e=aM(e,r[n-1],1)}r[n]=["S"].concat(e.reduce(function(i,a){return i.concat(a)},[]));break;default:r[n]=t[n]}return r},zte=function(){function r(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return r.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r.prototype.toString=function(){return"[Event (type="+this.type+")]"},r.prototype.save=function(){},r.prototype.restore=function(){},r}();const GL=zte;function HL(r,t){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}var WL=typeof window<"u"&&typeof window.document<"u";function YL(r,t){if(r.isCanvas())return!0;for(var e=t.getParent(),n=!1;e;){if(e===r){n=!0;break}e=e.getParent()}return n}function sM(r){return r.cfg.visible&&r.cfg.capture}var Vte=function(r){function t(e){var n=r.call(this)||this;n.destroyed=!1;var i=n.getDefaultCfg();return n.cfg=(0,ue.mix)(i,e),n}return(0,Me.__extends)(t,r),t.prototype.getDefaultCfg=function(){return{}},t.prototype.get=function(e){return this.cfg[e]},t.prototype.set=function(e,n){this.cfg[e]=n},t.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},t}(MR),$L=function(r,t,e){if(e||2===arguments.length)for(var a,n=0,i=t.length;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return r.concat(a||Array.prototype.slice.call(t))},Ute=function r(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},Gte=function r(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},Hte=function r(t,e,n,i){this.name=t,this.version=e,this.os=n,this.bot=i,this.type="bot-device"},Wte=function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Yte=function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Xte=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,XL=3,Kte=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],KL=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function qL(r){return r?QL(r):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new Yte:typeof navigator<"u"?QL(navigator.userAgent):function Zte(){return typeof process<"u"&&process.version?new Gte(process.version.slice(1)):null}()}function QL(r){var t=function ZL(r){return""!==r&&Kte.reduce(function(t,e){var n=e[0];if(t)return t;var a=e[1].exec(r);return!!a&&[n,a]},!1)}(r);if(!t)return null;var e=t[0],n=t[1];if("searchbot"===e)return new Wte;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<XL&&(i=$L($L([],i,!0),function Qte(r){for(var t=[],e=0;e<r;e++)t.push("0");return t}(XL-i.length),!0)):i=[];var a=i.join("."),o=function qte(r){for(var t=0,e=KL.length;t<e;t++){var n=KL[t],i=n[0];if(n[1].exec(r))return i}return null}(r),s=Xte.exec(r);return s&&s[1]?new Hte(e,a,o,s[1]):new Ute(e,a,o)}function JL(r,t){var e=[],n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],l=r[5],c=r[6],u=r[7],d=r[8],h=t[0],v=t[1],y=t[2],D=t[3],F=t[4],K=t[5],Q=t[6],J=t[7],de=t[8];return e[0]=h*n+v*o+y*c,e[1]=h*i+v*s+y*u,e[2]=h*a+v*l+y*d,e[3]=D*n+F*o+K*c,e[4]=D*i+F*s+K*u,e[5]=D*a+F*l+K*d,e[6]=Q*n+J*o+de*c,e[7]=Q*i+J*s+de*u,e[8]=Q*a+J*l+de*d,e}function Vp(r,t){var e=[],n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function eF(r){var t=[],e=r[0],n=r[1],i=r[2],a=r[3],o=r[4],s=r[5],l=r[6],c=r[7],u=r[8],d=u*o-s*c,h=-u*a+s*l,v=c*a-o*l,y=e*d+n*h+i*v;return y?(t[0]=d*(y=1/y),t[1]=(-u*n+i*c)*y,t[2]=(s*n-i*o)*y,t[3]=h*y,t[4]=(u*e-i*l)*y,t[5]=(-s*e+i*a)*y,t[6]=v*y,t[7]=(-c*e+n*l)*y,t[8]=(o*e-n*a)*y,t):null}var w0=Yc,lM="matrix",Jte=["zIndex","capture","visible","type"],ene=["repeat"];function ine(r,t){var e={},n=t.attrs;for(var i in r)e[i]=n[i];return e}var sne=function(r){function t(e){var n=r.call(this,e)||this;n.attrs={};var i=n.getDefaultAttrs();return(0,ue.mix)(i,e.attrs),n.attrs=i,n.initAttrs(i),n.initAnimate(),n}return(0,Me.__extends)(t,r),t.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},t.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},t.prototype.onCanvasChange=function(e){},t.prototype.initAttrs=function(e){},t.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},t.prototype.isGroup=function(){return!1},t.prototype.getParent=function(){return this.get("parent")},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.attr=function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n[0],o=n[1];if(!a)return this.attrs;if((0,ue.isObject)(a)){for(var s in a)this.setAttr(s,a[s]);return this.afterAttrsChange(a),this}return 2===n.length?(this.setAttr(a,o),this.afterAttrsChange(((e={})[a]=o,e)),this):this.attrs[a]},t.prototype.isClipped=function(e,n){var i=this.getClip();return i&&!i.isHit(e,n)},t.prototype.setAttr=function(e,n){var i=this.attrs[e];i!==n&&(this.attrs[e]=n,this.onAttrChange(e,n,i))},t.prototype.onAttrChange=function(e,n,i){"matrix"===e&&this.set("totalMatrix",null)},t.prototype.afterAttrsChange=function(e){if(this.cfg.isClipShape){var n=this.cfg.applyTo;n&&n.onCanvasChange("clip")}else this.onCanvasChange("attr")},t.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},t.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},t.prototype.setZIndex=function(e){this.set("zIndex",e);var n=this.getParent();return n&&n.sort(),this},t.prototype.toFront=function(){var e=this.getParent();if(e){var n=e.getChildren(),a=(this.get("el"),n.indexOf(this));n.splice(a,1),n.push(this),this.onCanvasChange("zIndex")}},t.prototype.toBack=function(){var e=this.getParent();if(e){var n=e.getChildren(),a=(this.get("el"),n.indexOf(this));n.splice(a,1),n.unshift(this),this.onCanvasChange("zIndex")}},t.prototype.remove=function(e){void 0===e&&(e=!0);var n=this.getParent();n?(HL(n.getChildren(),this),n.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),e&&this.destroy()},t.prototype.resetMatrix=function(){this.attr(lM,this.getDefaultMatrix()),this.onCanvasChange("matrix")},t.prototype.getMatrix=function(){return this.attr(lM)},t.prototype.setMatrix=function(e){this.attr(lM,e),this.onCanvasChange("matrix")},t.prototype.getTotalMatrix=function(){var e=this.cfg.totalMatrix;if(!e){var n=this.attr("matrix"),i=this.cfg.parentMatrix;e=i&&n?JL(i,n):n||i,this.set("totalMatrix",e)}return e},t.prototype.applyMatrix=function(e){var i,n=this.attr("matrix");i=e&&n?JL(e,n):n||e,this.set("totalMatrix",i),this.set("parentMatrix",e)},t.prototype.getDefaultMatrix=function(){return null},t.prototype.applyToMatrix=function(e){var n=this.attr("matrix");return n?Vp(n,e):e},t.prototype.invertFromMatrix=function(e){var n=this.attr("matrix");if(n){var i=eF(n);if(i)return Vp(i,e)}return e},t.prototype.setClip=function(e){var n=this.getCanvas(),i=null;if(e){var s=this.getShapeBase()[(0,ue.upperFirst)(e.type)];s&&(i=new s({type:e.type,isClipShape:!0,applyTo:this,attrs:e.attrs,canvas:n}))}return this.set("clipShape",i),this.onCanvasChange("clip"),i},t.prototype.getClip=function(){return this.cfg.clipShape||null},t.prototype.clone=function(){var e=this,n=this.attrs,i={};(0,ue.each)(n,function(s,l){i[l]=(0,ue.isArray)(n[l])?function rne(r){for(var t=[],e=0;e<r.length;e++)(0,ue.isArray)(r[e])?t.push([].concat(r[e])):t.push(r[e]);return t}(n[l]):n[l]});var o=new(0,this.constructor)({attrs:i});return(0,ue.each)(Jte,function(s){o.set(s,e.get(s))}),o},t.prototype.destroy=function(){this.destroyed||(this.attrs={},r.prototype.destroy.call(this))},t.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},t.prototype.animate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var i=this.get("timeline");i||(i=this.get("canvas").get("timeline"),this.set("timeline",i));var a=this.get("animations")||[];i.timer||i.initTimer();var y,D,F,K,Q,o=e[0],s=e[1],l=e[2],c=void 0===l?"easeLinear":l,u=e[3],d=void 0===u?ue.noop:u,h=e[4],v=void 0===h?0:h;(0,ue.isFunction)(o)?(y=o,o={}):(0,ue.isObject)(o)&&o.onFrame&&(y=o.onFrame,D=o.repeat),(0,ue.isObject)(s)?(s=(Q=s).duration,c=Q.easing||"easeLinear",v=Q.delay||0,D=Q.repeat||D||!1,d=Q.callback||ue.noop,F=Q.pauseCallback||ue.noop,K=Q.resumeCallback||ue.noop):((0,ue.isNumber)(d)&&(v=d,d=null),(0,ue.isFunction)(c)?(d=c,c="easeLinear"):c=c||"easeLinear");var J=function ane(r,t){var e={},n=t.attr();return(0,ue.each)(r,function(i,a){-1===ene.indexOf(a)&&!(0,ue.isEqual)(n[a],i)&&(e[a]=i)}),e}(o,this),de={fromAttrs:ine(J,this),toAttrs:J,duration:s,easing:c,repeat:D,callback:d,pauseCallback:F,resumeCallback:K,delay:v,startTime:i.getTime(),id:(0,ue.uniqueId)(),onFrame:y,pathFormatted:!1};a.length>0?a=function one(r,t){if(t.onFrame)return r;var e=t.startTime,n=t.delay,i=t.duration,a=Object.prototype.hasOwnProperty;return(0,ue.each)(r,function(o){e+n<o.startTime+o.delay+o.duration&&i>o.delay&&(0,ue.each)(t.toAttrs,function(s,l){a.call(o.toAttrs,l)&&(delete o.toAttrs[l],delete o.fromAttrs[l])})}),r}(a,de):i.addAnimator(this),a.push(de),this.set("animations",a),this.set("_pause",{isPaused:!1})}},t.prototype.stopAnimate=function(e){var n=this;void 0===e&&(e=!0);var i=this.get("animations");(0,ue.each)(i,function(a){e&&n.attr(a.onFrame?a.onFrame(1):a.toAttrs),a.callback&&a.callback()}),this.set("animating",!1),this.set("animations",[])},t.prototype.pauseAnimate=function(){var e=this.get("timeline"),n=this.get("animations"),i=e.getTime();return(0,ue.each)(n,function(a){a._paused=!0,a._pauseTime=i,a.pauseCallback&&a.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:i}),this},t.prototype.resumeAnimate=function(){var n=this.get("timeline").getTime(),i=this.get("animations"),a=this.get("_pause").pauseTime;return(0,ue.each)(i,function(o){o.startTime=o.startTime+(n-a),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",i),this},t.prototype.emitDelegation=function(e,n){var s,i=this,a=n.propagationPath;this.getEvents(),"mouseenter"===e?s=n.fromShape:"mouseleave"===e&&(s=n.toShape);for(var l=function(h){var v=a[h],y=v.get("name");if(y){if((v.isGroup()||v.isCanvas&&v.isCanvas())&&s&&YL(v,s))return"break";(0,ue.isArray)(y)?(0,ue.each)(y,function(D){i.emitDelegateEvent(v,D,n)}):c.emitDelegateEvent(v,y,n)}},c=this,u=0;u<a.length&&"break"!==l(u);u++);},t.prototype.emitDelegateEvent=function(e,n,i){var a=this.getEvents(),o=n+":"+i.type;(a[o]||a["*"])&&(i.name=o,i.currentTarget=e,i.delegateTarget=this,i.delegateObject=e.get("delegateObject"),this.emit(o,i))},t.prototype.translate=function(e,n){void 0===e&&(e=0),void 0===n&&(n=0);var i=this.getMatrix(),a=w0(i,[["t",e,n]]);return this.setMatrix(a),this},t.prototype.move=function(e,n){var i=this.attr("x")||0,a=this.attr("y")||0;return this.translate(e-i,n-a),this},t.prototype.moveTo=function(e,n){return this.move(e,n)},t.prototype.scale=function(e,n){var i=this.getMatrix(),a=w0(i,[["s",e,n||e]]);return this.setMatrix(a),this},t.prototype.rotate=function(e){var n=this.getMatrix(),i=w0(n,[["r",e]]);return this.setMatrix(i),this},t.prototype.rotateAtStart=function(e){var n=this.attr(),i=n.x,a=n.y,o=this.getMatrix(),s=w0(o,[["t",-i,-a],["r",e],["t",i,a]]);return this.setMatrix(s),this},t.prototype.rotateAtPoint=function(e,n,i){var a=this.getMatrix(),o=w0(a,[["t",-e,-n],["r",i],["t",e,n]]);return this.setMatrix(o),this},t}(Vte);const tF=sne;var nF={},cM="_INDEX";function rF(r,t){if(r.set("canvas",t),r.isGroup()){var e=r.get("children");e.length&&e.forEach(function(n){rF(n,t)})}}function iF(r,t){if(r.set("timeline",t),r.isGroup()){var e=r.get("children");e.length&&e.forEach(function(n){iF(n,t)})}}var une=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.isCanvas=function(){return!1},t.prototype.getBBox=function(){var e=1/0,n=-1/0,i=1/0,a=-1/0,o=this.getChildren().filter(function(l){return l.get("visible")&&(!l.isGroup()||l.isGroup()&&l.getChildren().length>0)});return o.length>0?(0,ue.each)(o,function(l){var c=l.getBBox(),u=c.minX,d=c.maxX,h=c.minY,v=c.maxY;u<e&&(e=u),d>n&&(n=d),h<i&&(i=h),v>a&&(a=v)}):(e=0,n=0,i=0,a=0),{x:e,y:i,minX:e,minY:i,maxX:n,maxY:a,width:n-e,height:a-i}},t.prototype.getCanvasBBox=function(){var e=1/0,n=-1/0,i=1/0,a=-1/0,o=this.getChildren().filter(function(l){return l.get("visible")&&(!l.isGroup()||l.isGroup()&&l.getChildren().length>0)});return o.length>0?(0,ue.each)(o,function(l){var c=l.getCanvasBBox(),u=c.minX,d=c.maxX,h=c.minY,v=c.maxY;u<e&&(e=u),d>n&&(n=d),h<i&&(i=h),v>a&&(a=v)}):(e=0,n=0,i=0,a=0),{x:e,y:i,minX:e,minY:i,maxX:n,maxY:a,width:n-e,height:a-i}},t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return e.children=[],e},t.prototype.onAttrChange=function(e,n,i){if(r.prototype.onAttrChange.call(this,e,n,i),"matrix"===e){var a=this.getTotalMatrix();this._applyChildrenMarix(a)}},t.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();r.prototype.applyMatrix.call(this,e);var i=this.getTotalMatrix();i!==n&&this._applyChildrenMarix(i)},t.prototype._applyChildrenMarix=function(e){var n=this.getChildren();(0,ue.each)(n,function(i){i.applyMatrix(e)})},t.prototype.addShape=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0],a=e[1];(0,ue.isObject)(i)?a=i:a.type=i;var o=nF[a.type];o||(o=(0,ue.upperFirst)(a.type),nF[a.type]=o);var l=new(this.getShapeBase()[o])(a);return this.add(l),l},t.prototype.addGroup=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o,i=e[0],a=e[1];if((0,ue.isFunction)(i))o=new i(a||{parent:this});else{var s=i||{};o=new(this.getGroupBase())(s)}return this.add(o),o},t.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},t.prototype.getShape=function(e,n,i){if(!sM(this))return null;var o,a=this.getChildren();if(this.isCanvas())o=this._findShape(a,e,n,i);else{var s=[e,n,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(a,s[0],s[1],i))}return o},t.prototype._findShape=function(e,n,i,a){for(var o=null,s=e.length-1;s>=0;s--){var l=e[s];if(sM(l)&&(l.isGroup()?o=l.getShape(n,i,a):l.isHit(n,i)&&(o=l)),o)break}return o},t.prototype.add=function(e){var n=this.getCanvas(),i=this.getChildren(),a=this.get("timeline"),o=e.getParent();o&&function lne(r,t,e){void 0===e&&(e=!0),e?t.destroy():(t.set("parent",null),t.set("canvas",null)),HL(r.getChildren(),t)}(o,e,!1),e.set("parent",this),n&&rF(e,n),a&&iF(e,a),i.push(e),e.onCanvasChange("add"),this._applyElementMatrix(e)},t.prototype._applyElementMatrix=function(e){var n=this.getTotalMatrix();n&&e.applyMatrix(n)},t.prototype.getChildren=function(){return this.get("children")},t.prototype.sort=function(){var e=this.getChildren();(0,ue.each)(e,function(n,i){return n[cM]=i,n}),e.sort(function cne(r){return function(t,e){var n=r(t,e);return 0===n?t[cM]-e[cM]:n}}(function(n,i){return n.get("zIndex")-i.get("zIndex")})),this.onCanvasChange("sort")},t.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var e=this.getChildren(),n=e.length-1;n>=0;n--)e[n].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},t.prototype.destroy=function(){this.get("destroyed")||(this.clear(),r.prototype.destroy.call(this))},t.prototype.getFirst=function(){return this.getChildByIndex(0)},t.prototype.getLast=function(){var e=this.getChildren();return this.getChildByIndex(e.length-1)},t.prototype.getChildByIndex=function(e){return this.getChildren()[e]},t.prototype.getCount=function(){return this.getChildren().length},t.prototype.contain=function(e){return this.getChildren().indexOf(e)>-1},t.prototype.removeChild=function(e,n){void 0===n&&(n=!0),this.contain(e)&&e.remove(n)},t.prototype.findAll=function(e){var n=[],i=this.getChildren();return(0,ue.each)(i,function(a){e(a)&&n.push(a),a.isGroup()&&(n=n.concat(a.findAll(e)))}),n},t.prototype.find=function(e){var n=null,i=this.getChildren();return(0,ue.each)(i,function(a){if(e(a)?n=a:a.isGroup()&&(n=a.find(e)),n)return!1}),n},t.prototype.findById=function(e){return this.find(function(n){return n.get("id")===e})},t.prototype.findByClassName=function(e){return this.find(function(n){return n.get("className")===e})},t.prototype.findAllByName=function(e){return this.findAll(function(n){return n.get("name")===e})},t}(tF);const aF=une;var dne=j(9194);function uM(r,t,e){r.prototype=t.prototype=e,e.constructor=r}function oF(r,t){var e=Object.create(r.prototype);for(var n in t)e[n]=t[n];return e}function E0(){}var Ib=1/.7,Ag="\\s*([+-]?\\d+)\\s*",M0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fne=/^#([0-9a-f]{3,8})$/,hne=new RegExp(`^rgb\\(${Ag},${Ag},${Ag}\\)$`),pne=new RegExp(`^rgb\\(${Cd},${Cd},${Cd}\\)$`),vne=new RegExp(`^rgba\\(${Ag},${Ag},${Ag},${M0}\\)$`),gne=new RegExp(`^rgba\\(${Cd},${Cd},${Cd},${M0}\\)$`),mne=new RegExp(`^hsl\\(${M0},${Cd},${Cd}\\)$`),yne=new RegExp(`^hsla\\(${M0},${Cd},${Cd},${M0}\\)$`),sF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function lF(){return this.rgb().formatHex()}function cF(){return this.rgb().formatRgb()}function C0(r){var t,e;return r=(r+"").trim().toLowerCase(),(t=fne.exec(r))?(e=t[1].length,t=parseInt(t[1],16),6===e?uF(t):3===e?new Rl(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?Ob(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?Ob(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=hne.exec(r))?new Rl(t[1],t[2],t[3],1):(t=pne.exec(r))?new Rl(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=vne.exec(r))?Ob(t[1],t[2],t[3],t[4]):(t=gne.exec(r))?Ob(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=mne.exec(r))?hF(t[1],t[2]/100,t[3]/100,1):(t=yne.exec(r))?hF(t[1],t[2]/100,t[3]/100,t[4]):sF.hasOwnProperty(r)?uF(sF[r]):"transparent"===r?new Rl(NaN,NaN,NaN,0):null}function uF(r){return new Rl(r>>16&255,r>>8&255,255&r,1)}function Ob(r,t,e,n){return n<=0&&(r=t=e=NaN),new Rl(r,t,e,n)}function kb(r,t,e,n){return 1===arguments.length?function xne(r){return r instanceof E0||(r=C0(r)),r?new Rl((r=r.rgb()).r,r.g,r.b,r.opacity):new Rl}(r):new Rl(r,t,e,n??1)}function Rl(r,t,e,n){this.r=+r,this.g=+t,this.b=+e,this.opacity=+n}function dF(){return`#${Up(this.r)}${Up(this.g)}${Up(this.b)}`}function fF(){const r=Nb(this.opacity);return`${1===r?"rgb(":"rgba("}${jp(this.r)}, ${jp(this.g)}, ${jp(this.b)}${1===r?")":`, ${r})`}`}function Nb(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function jp(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Up(r){return((r=jp(r))<16?"0":"")+r.toString(16)}function hF(r,t,e,n){return n<=0?r=t=e=NaN:e<=0||e>=1?r=t=NaN:t<=0&&(r=NaN),new Nu(r,t,e,n)}function pF(r){if(r instanceof Nu)return new Nu(r.h,r.s,r.l,r.opacity);if(r instanceof E0||(r=C0(r)),!r)return new Nu;if(r instanceof Nu)return r;var t=(r=r.rgb()).r/255,e=r.g/255,n=r.b/255,i=Math.min(t,e,n),a=Math.max(t,e,n),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(e-n)/s+6*(e<n):e===a?(n-t)/s+2:(t-e)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Nu(o,s,l,r.opacity)}function Nu(r,t,e,n){this.h=+r,this.s=+t,this.l=+e,this.opacity=+n}function vF(r){return(r=(r||0)%360)<0?r+360:r}function Pb(r){return Math.max(0,Math.min(1,r||0))}function dM(r,t,e){return 255*(r<60?t+(e-t)*r/60:r<180?e:r<240?t+(e-t)*(240-r)/60:t)}function gF(r,t,e,n,i){var a=r*r,o=a*r;return((1-3*r+3*a-o)*t+(4-6*a+3*o)*e+(1+3*r+3*a-3*o)*n+o*i)/6}uM(E0,C0,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:lF,formatHex:lF,formatHex8:function _ne(){return this.rgb().formatHex8()},formatHsl:function bne(){return pF(this).formatHsl()},formatRgb:cF,toString:cF}),uM(Rl,kb,oF(E0,{brighter(r){return r=null==r?Ib:Math.pow(Ib,r),new Rl(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=null==r?.7:Math.pow(.7,r),new Rl(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Rl(jp(this.r),jp(this.g),jp(this.b),Nb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dF,formatHex:dF,formatHex8:function wne(){return`#${Up(this.r)}${Up(this.g)}${Up(this.b)}${Up(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:fF,toString:fF})),uM(Nu,function Ene(r,t,e,n){return 1===arguments.length?pF(r):new Nu(r,t,e,n??1)},oF(E0,{brighter(r){return r=null==r?Ib:Math.pow(Ib,r),new Nu(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=null==r?.7:Math.pow(.7,r),new Nu(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+360*(this.h<0),t=isNaN(r)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*t,i=2*e-n;return new Rl(dM(r>=240?r-240:r+120,i,n),dM(r,i,n),dM(r<120?r+240:r-120,i,n),this.opacity)},clamp(){return new Nu(vF(this.h),Pb(this.s),Pb(this.l),Nb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Nb(this.opacity);return`${1===r?"hsl(":"hsla("}${vF(this.h)}, ${100*Pb(this.s)}%, ${100*Pb(this.l)}%${1===r?")":`, ${r})`}`}}));const fM=r=>()=>r;function yF(r,t){var e=t-r;return e?function mF(r,t){return function(e){return r+e*t}}(r,e):fM(isNaN(r)?t:r)}const _F=function r(t){var e=function Dne(r){return 1==(r=+r)?yF:function(t,e){return e-t?function Cne(r,t,e){return r=Math.pow(r,e),t=Math.pow(t,e)-r,e=1/e,function(n){return Math.pow(r+n*t,e)}}(t,e,r):fM(isNaN(t)?e:t)}}(t);function n(i,a){var o=e((i=kb(i)).r,(a=kb(a)).r),s=e(i.g,a.g),l=e(i.b,a.b),c=yF(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=r,n}(1);function bF(r){return function(t){var o,s,e=t.length,n=new Array(e),i=new Array(e),a=new Array(e);for(o=0;o<e;++o)s=kb(t[o]),n[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return n=r(n),i=r(i),a=r(a),s.opacity=1,function(l){return s.r=n(l),s.g=i(l),s.b=a(l),s+""}}}function xF(r,t){t||(t=[]);var i,e=r?Math.min(t.length,r.length):0,n=t.slice();return function(a){for(i=0;i<e;++i)n[i]=r[i]*(1-a)+t[i]*a;return n}}function wF(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function Tne(r,t){return(wF(t)?xF:EF)(r,t)}function EF(r,t){var o,e=t?t.length:0,n=r?Math.min(e,r.length):0,i=new Array(n),a=new Array(e);for(o=0;o<n;++o)i[o]=Rb(r[o],t[o]);for(;o<e;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Ane(r,t){var e=new Date;return r=+r,t=+t,function(n){return e.setTime(r*(1-n)+t*n),e}}function hM(r,t){return r=+r,t=+t,function(e){return r*(1-e)+t*e}}function Ine(r,t){var i,e={},n={};for(i in(null===r||"object"!=typeof r)&&(r={}),(null===t||"object"!=typeof t)&&(t={}),t)i in r?e[i]=Rb(r[i],t[i]):n[i]=t[i];return function(a){for(i in e)n[i]=e[i](a);return n}}bF(function Sne(r){var t=r.length-1;return function(e){var n=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),i=r[n],a=r[n+1];return gF((e-n/t)*t,n>0?r[n-1]:2*i-a,i,a,n<t-1?r[n+2]:2*a-i)}}),bF(function Mne(r){var t=r.length;return function(e){var n=Math.floor(((e%=1)<0?++e:e)*t);return gF((e-n/t)*t,r[(n+t-1)%t],r[n%t],r[(n+1)%t],r[(n+2)%t])}});var pM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vM=new RegExp(pM.source,"g");function Nne(r,t){var n,i,a,e=pM.lastIndex=vM.lastIndex=0,o=-1,s=[],l=[];for(r+="",t+="";(n=pM.exec(r))&&(i=vM.exec(t));)(a=i.index)>e&&(a=t.slice(e,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:hM(n,i)})),e=vM.lastIndex;return e<t.length&&(a=t.slice(e),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function kne(r){return function(t){return r(t)+""}}(l[0].x):function One(r){return function(){return r}}(t):(t=l.length,function(c){for(var d,u=0;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function Rb(r,t){var n,e=typeof t;return null==t||"boolean"===e?fM(t):("number"===e?hM:"string"===e?(n=C0(t))?(t=n,_F):Nne:t instanceof C0?_F:t instanceof Date?Ane:wF(t)?xF:Array.isArray(t)?EF:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Ine:hM)(r,t)}function Pne(r){return+r}function Rne(r){return r*r}function Lne(r){return r*(2-r)}function SF(r){return((r*=2)<=1?r*r:--r*(2-r)+1)/2}function Fne(r){return r*r*r}function Bne(r){return--r*r*r+1}function MF(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var zne=function r(t){function e(n){return Math.pow(n,t)}return t=+t,e.exponent=r,e}(3),Vne=function r(t){function e(n){return 1-Math.pow(1-n,t)}return t=+t,e.exponent=r,e}(3),CF=function r(t){function e(n){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}return t=+t,e.exponent=r,e}(3),DF=Math.PI,TF=DF/2;function jne(r){return 1==+r?1:1-Math.cos(r*TF)}function Une(r){return Math.sin(r*TF)}function AF(r){return(1-Math.cos(DF*r))/2}function wh(r){return 1.0009775171065494*(Math.pow(2,-10*r)-.0009765625)}function Gne(r){return wh(1-+r)}function Hne(r){return 1-wh(r)}function IF(r){return((r*=2)<=1?wh(1-r):2-wh(r-1))/2}function Wne(r){return 1-Math.sqrt(1-r*r)}function Yne(r){return Math.sqrt(1- --r*r)}function OF(r){return((r*=2)<=1?1-Math.sqrt(1-r*r):Math.sqrt(1-(r-=2)*r)+1)/2}var mM=4/11,$ne=6/11,Xne=8/11,Kne=3/4,qne=9/11,Zne=10/11,Qne=15/16,Jne=21/22,ere=63/64,Lb=1/mM/mM;function tre(r){return 1-D0(1-r)}function D0(r){return(r=+r)<mM?Lb*r*r:r<Xne?Lb*(r-=$ne)*r+Kne:r<Zne?Lb*(r-=qne)*r+Qne:Lb*(r-=Jne)*r+ere}function nre(r){return((r*=2)<=1?1-D0(1-r):D0(r-1)+1)/2}var yM=1.70158,rre=function r(t){function e(n){return(n=+n)*n*(t*(n-1)+n)}return t=+t,e.overshoot=r,e}(yM),ire=function r(t){function e(n){return--n*n*((n+1)*t+n)+1}return t=+t,e.overshoot=r,e}(yM),kF=function r(t){function e(n){return((n*=2)<1?n*n*((t+1)*n-t):(n-=2)*n*((t+1)*n+t)+2)/2}return t=+t,e.overshoot=r,e}(yM),Ig=2*Math.PI,are=function r(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=Ig);function i(a){return t*wh(- --a)*Math.sin((n-a)/e)}return i.amplitude=function(a){return r(a,e*Ig)},i.period=function(a){return r(t,a)},i}(1,.3),NF=function r(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=Ig);function i(a){return 1-t*wh(a=+a)*Math.sin((a+n)/e)}return i.amplitude=function(a){return r(a,e*Ig)},i.period=function(a){return r(t,a)},i}(1,.3),ore=function r(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=Ig);function i(a){return((a=2*a-1)<0?t*wh(-a)*Math.sin((n-a)/e):2-t*wh(a)*Math.sin((n+a)/e))/2}return i.amplitude=function(a){return r(a,e*Ig)},i.period=function(a){return r(t,a)},i}(1,.3),PF={},lre=function(r){return["fill","stroke","fillStyle","strokeStyle"].includes(r)},cre=function(r){return/^[r,R,L,l]{1}[\s]*\(/.test(r)},RF=[1,0,0,0,1,0,0,0,1];function dre(r,t,e){var n=t.startTime;if(e<n+t.delay||t._paused)return!1;var a,o=t.duration,l=function sre(r){return PF[r.toLowerCase()]||P[r]}(t.easing);if(e=e-n-t.delay,t.repeat)a=l(a=e%o/o);else{if(!((a=e/o)<1))return r.attr(t.onFrame?t.onFrame(1):t.toAttrs),!0;a=l(a)}if(t.onFrame){var c=t.onFrame(a);r.attr(c)}else!function ure(r,t,e){var n={},i=t.fromAttrs,a=t.toAttrs;if(!r.destroyed){var o;for(var s in a)if(!(0,ue.isEqual)(i[s],a[s]))if("path"===s){var l=a[s],c=i[s];l.length>c.length?(l=Tg(a[s]),c=Tg(i[s]),c=jL(c,l),c=oM(c,l),t.fromAttrs.path=c,t.toAttrs.path=l):t.pathFormatted||(l=Tg(a[s]),c=Tg(i[s]),c=oM(c,l),t.fromAttrs.path=c,t.toAttrs.path=l,t.pathFormatted=!0),n[s]=[];for(var u=0;u<l.length;u++){for(var d=l[u],h=c[u],v=[],y=0;y<d.length;y++)(0,ue.isNumber)(d[y])&&h&&(0,ue.isNumber)(h[y])?(o=Rb(h[y],d[y]),v.push(o(e))):v.push(d[y]);n[s].push(v)}}else if("matrix"===s){var F=Tne(i[s]||RF,a[s]||RF)(e);n[s]=F}else lre(s)&&cre(a[s])?n[s]=a[s]:(0,ue.isFunction)(a[s])||(o=Rb(i[s],a[s]),n[s]=o(e));r.attr(n)}}(r,t,a);return!1}var fre=function(){function r(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return r.prototype.initTimer=function(){var n,i,a,t=this;this.timer=dne.HT(function(o){if(t.current=o,t.animators.length>0){for(var s=t.animators.length-1;s>=0;s--)if((n=t.animators[s]).destroyed)t.removeAnimator(s);else{if(!n.isAnimatePaused())for(var l=(i=n.get("animations")).length-1;l>=0;l--)dre(n,a=i[l],o)&&(i.splice(l,1),a.callback&&a.callback());0===i.length&&t.removeAnimator(s)}t.canvas.get("autoDraw")||t.canvas.draw()}})},r.prototype.addAnimator=function(t){this.animators.push(t)},r.prototype.removeAnimator=function(t){this.animators.splice(t,1)},r.prototype.isAnimating=function(){return!!this.animators.length},r.prototype.stop=function(){this.timer&&this.timer.stop()},r.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach(function(e){e.stopAnimate(t)}),this.animators=[],this.canvas.draw()},r.prototype.getTime=function(){return this.current},r}();const hre=fre;var FF=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function BF(r,t,e){e.name=t,e.target=r,e.currentTarget=r,e.delegateTarget=r,r.emit(t,e)}function gre(r,t,e){if(e.bubbles){var n=void 0,i=!1;if("mouseenter"===t?(n=e.fromShape,i=!0):"mouseleave"===t&&(i=!0,n=e.toShape),r.isCanvas()&&i)return;if(n&&YL(r,n))return void(e.bubbles=!1);e.name=t,e.currentTarget=r,e.delegateTarget=r,r.emit(t,e)}}var mre=function(){function r(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(n){e._triggerEvent(n.type,n)},this._onDocumentMove=function(n){if(e.canvas.get("el")!==n.target&&(e.dragging||e.currentShape)){var o=e._getPointInfo(n);e.dragging&&e._emitEvent("drag",n,o,e.draggingShape)}},this._onDocumentMouseUp=function(n){if(e.canvas.get("el")!==n.target&&e.dragging){var o=e._getPointInfo(n);e.draggingShape&&e._emitEvent("drop",n,o,null),e._emitEvent("dragend",n,o,e.draggingShape),e._afterDrag(e.draggingShape,o,n)}},this.canvas=t.canvas}return r.prototype.init=function(){this._bindEvents()},r.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");(0,ue.each)(FF,function(n){e.addEventListener(n,t._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},r.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");(0,ue.each)(FF,function(n){e.removeEventListener(n,t._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},r.prototype._getEventObj=function(t,e,n,i,a,o){var s=new GL(t,e);return s.fromShape=a,s.toShape=o,s.x=n.x,s.y=n.y,s.clientX=n.clientX,s.clientY=n.clientY,s.propagationPath.push(i),s},r.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},r.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),i=e.getPointByEvent(t);return{x:i.x,y:i.y,clientX:n.x,clientY:n.y}},r.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),i=this._getShape(n,e),a=this["_on"+t],o=!1;if(a)a.call(this,n,i,e);else{var s=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,i),i&&this._emitEvent(t,e,n,i,null,i),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,s&&this._emitEvent(t,e,n,s,s,null),this._emitEvent(t,e,n,null,s,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,i,null,null)}if(o||(this.currentShape=i),i&&!i.get("destroyed")){var l=this.canvas;l.get("el").style.cursor=i.attr("cursor")||l.get("cursor")}},r.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},r.prototype._emitMouseoverEvents=function(t,e,n,i){var a=this.canvas.get("el");n!==i&&(n&&(this._emitEvent("mouseout",t,e,n,n,i),this._emitEvent("mouseleave",t,e,n,n,i),(!i||i.get("destroyed"))&&(a.style.cursor=this.canvas.get("cursor"))),i&&(this._emitEvent("mouseover",t,e,i,n,i),this._emitEvent("mouseenter",t,e,i,n,i)))},r.prototype._emitDragoverEvents=function(t,e,n,i,a){i?(i!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,i),this._emitEvent("dragenter",t,e,i,n,i)),a||this._emitEvent("dragover",t,e,i)):n&&this._emitEvent("dragleave",t,e,n,n,i),a&&this._emitEvent("dragover",t,e,i)},r.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var i=this._getShape(e,n);i!==t&&this._emitMouseoverEvents(n,e,t,i),this.currentShape=i},r.prototype._onmouseup=function(t,e,n){if(0===n.button){var i=this.draggingShape;this.dragging?(i&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,i),this._afterDrag(i,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},r.prototype._ondragover=function(t,e,n){n.preventDefault(),this._emitDragoverEvents(n,t,this.currentShape,e,!0)},r.prototype._onmousemove=function(t,e,n){var i=this.canvas,a=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,a,e,!1),this._emitEvent("drag",n,t,o);else{var s=this.mousedownPoint;if(s){var l=this.mousedownShape,d=s.clientX-t.clientX,h=s.clientY-t.clientY;n.timeStamp-this.mousedownTimeStamp>120||d*d+h*h>40?l&&l.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!l&&i.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,a,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,a,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,a,e),this._emitEvent("mousemove",n,t,e)}},r.prototype._emitEvent=function(t,e,n,i,a,o){var s=this._getEventObj(t,e,n,i,a,o);if(i){s.shape=i,BF(i,t,s);for(var l=i.getParent();l;)l.emitDelegation(t,s),s.propagationStopped||gre(l,t,s),s.propagationPath.push(l),l=l.getParent()}else BF(this.canvas,t,s)},r.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},r}();const yre=mre;var VF=qL(),_re=VF&&"firefox"===VF.name,bre=function(r){function t(e){var n=r.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return(0,Me.__extends)(t,r),t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},t.prototype.initContainer=function(){var e=this.get("container");(0,ue.isString)(e)&&(e=document.getElementById(e),this.set("container",e))},t.prototype.initDom=function(){var e=this.createDom();this.set("el",e),this.get("container").appendChild(e),this.setDOMSize(this.get("width"),this.get("height"))},t.prototype.initEvents=function(){var e=new yre({canvas:this});e.init(),this.set("eventController",e)},t.prototype.initTimeline=function(){var e=new hre(this);this.set("timeline",e)},t.prototype.setDOMSize=function(e,n){var i=this.get("el");WL&&(i.style.width=e+"px",i.style.height=n+"px")},t.prototype.changeSize=function(e,n){this.setDOMSize(e,n),this.set("width",e),this.set("height",n),this.onCanvasChange("changeSize")},t.prototype.getRenderer=function(){return this.get("renderer")},t.prototype.getCursor=function(){return this.get("cursor")},t.prototype.setCursor=function(e){this.set("cursor",e);var n=this.get("el");WL&&n&&(n.style.cursor=e)},t.prototype.getPointByEvent=function(e){if(this.get("supportCSSTransform")){if(_re&&!(0,ue.isNil)(e.layerX)&&e.layerX!==e.offsetX)return{x:e.layerX,y:e.layerY};if(!(0,ue.isNil)(e.offsetX))return{x:e.offsetX,y:e.offsetY}}var i=this.getClientByEvent(e);return this.getPointByClient(i.x,i.y)},t.prototype.getClientByEvent=function(e){var n=e;return e.touches&&(n="touchend"===e.type?e.changedTouches[0]:e.touches[0]),{x:n.clientX,y:n.clientY}},t.prototype.getPointByClient=function(e,n){var a=this.get("el").getBoundingClientRect();return{x:e-a.left,y:n-a.top}},t.prototype.getClientByPoint=function(e,n){var a=this.get("el").getBoundingClientRect();return{x:e+a.left,y:n+a.top}},t.prototype.draw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.parentNode.removeChild(e)},t.prototype.clearEvents=function(){this.get("eventController").destroy()},t.prototype.isCanvas=function(){return!0},t.prototype.getParent=function(){return null},t.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),r.prototype.destroy.call(this))},t}(aF);const jF=bre;var xre=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.isGroup=function(){return!0},t.prototype.isEntityGroup=function(){return!1},t.prototype.clone=function(){for(var e=r.prototype.clone.call(this),n=this.getChildren(),i=0;i<n.length;i++)e.add(n[i].clone());return e},t}(aF);const UF=xre;var wre=function(r){function t(e){return r.call(this,e)||this}return(0,Me.__extends)(t,r),t.prototype._isInBBox=function(e,n){var i=this.getBBox();return i.minX<=e&&i.maxX>=e&&i.minY<=n&&i.maxY>=n},t.prototype.afterAttrsChange=function(e){r.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},t.prototype.getBBox=function(){var e=this.cfg.bbox;return e||(e=this.calculateBBox(),this.set("bbox",e)),e},t.prototype.getCanvasBBox=function(){var e=this.cfg.canvasBBox;return e||(e=this.calculateCanvasBBox(),this.set("canvasBBox",e)),e},t.prototype.applyMatrix=function(e){r.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},t.prototype.calculateCanvasBBox=function(){var e=this.getBBox(),n=this.getTotalMatrix(),i=e.minX,a=e.minY,o=e.maxX,s=e.maxY;if(n){var l=Vp(n,[e.minX,e.minY]),c=Vp(n,[e.maxX,e.minY]),u=Vp(n,[e.minX,e.maxY]),d=Vp(n,[e.maxX,e.maxY]);i=Math.min(l[0],c[0],u[0],d[0]),o=Math.max(l[0],c[0],u[0],d[0]),a=Math.min(l[1],c[1],u[1],d[1]),s=Math.max(l[1],c[1],u[1],d[1])}var h=this.attrs;if(h.shadowColor){var v=h.shadowBlur,y=void 0===v?0:v,D=h.shadowOffsetX,F=void 0===D?0:D,K=h.shadowOffsetY,Q=void 0===K?0:K,de=o+y+F,Ee=a-y+Q,ke=s+y+Q;i=Math.min(i,i-y+F),o=Math.max(o,de),a=Math.min(a,Ee),s=Math.max(s,ke)}return{x:i,y:a,minX:i,minY:a,maxX:o,maxY:s,width:o-i,height:s-a}},t.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},t.prototype.isClipShape=function(){return this.get("isClipShape")},t.prototype.isInShape=function(e,n){return!1},t.prototype.isOnlyHitBox=function(){return!1},t.prototype.isHit=function(e,n){var i=this.get("startArrowShape"),a=this.get("endArrowShape"),o=[e,n,1],s=(o=this.invertFromMatrix(o))[0],l=o[1],c=this._isInBBox(s,l);return this.isOnlyHitBox()?c:!(!c||this.isClipped(s,l)||!(this.isInShape(s,l)||i&&i.isHit(s,l)||a&&a.isHit(s,l)))},t}(tF);const GF=wre;var HF=new Map;function Dd(r,t){HF.set(r,t)}function WF(r){return HF.get(r)}function YF(r){var t=r.attr();return{x:t.x,y:t.y,width:t.width,height:t.height}}function $F(r){var t=r.attr(),i=t.r;return{x:t.x-i,y:t.y-i,width:2*i,height:2*i}}function ll(r,t,e,n){var i=r-e,a=t-n;return Math.sqrt(i*i+a*a)}function Fb(r,t){return Math.abs(r-t)<.001}function Og(r,t){var e=(0,ue.min)(r),n=(0,ue.min)(t);return{x:e,y:n,width:(0,ue.max)(r)-e,height:(0,ue.max)(t)-n}}function Bb(r){return(r+2*Math.PI)%(2*Math.PI)}const Ps={box:function(r,t,e,n){return Og([r,e],[t,n])},length:function(r,t,e,n){return ll(r,t,e,n)},pointAt:function(r,t,e,n,i){return{x:(1-i)*r+i*e,y:(1-i)*t+i*n}},pointDistance:function(r,t,e,n,i,a){var o=(e-r)*(i-r)+(n-t)*(a-t);return o<0?ll(r,t,i,a):o>(e-r)*(e-r)+(n-t)*(n-t)?ll(e,n,i,a):this.pointToLine(r,t,e,n,i,a)},pointToLine:function(r,t,e,n,i,a){var o=[e-r,n-t];if($r.exactEquals(o,[0,0]))return Math.sqrt((i-r)*(i-r)+(a-t)*(a-t));var s=[-o[1],o[0]];return $r.normalize(s,s),Math.abs($r.dot([i-r,a-t],s))},tangentAngle:function(r,t,e,n){return Math.atan2(n-t,e-r)}};var Ere=1e-4;function XF(r,t,e,n,i,a){var o,s=1/0,l=[e,n],c=20;a&&a>200&&(c=a/10);for(var u=1/c,d=u/10,h=0;h<=c;h++){var v=h*u,y=[i.apply(null,r.concat([v])),i.apply(null,t.concat([v]))];(D=ll(l[0],l[1],y[0],y[1]))<s&&(o=v,s=D)}if(0===o)return{x:r[0],y:t[0]};if(1===o){var F=r.length;return{x:r[F-1],y:t[F-1]}}for(s=1/0,h=0;h<32&&!(d<Ere);h++){var K=o-d,Q=o+d,D=(y=[i.apply(null,r.concat([K])),i.apply(null,t.concat([K]))],ll(l[0],l[1],y[0],y[1]));if(K>=0&&D<s)o=K,s=D;else{var J=[i.apply(null,r.concat([Q])),i.apply(null,t.concat([Q]))],de=ll(l[0],l[1],J[0],J[1]);Q<=1&&de<s?(o=Q,s=de):d*=.5}}return{x:i.apply(null,r.concat([o])),y:i.apply(null,t.concat([o]))}}function Eh(r,t,e,n){var i=1-n;return i*i*r+2*n*i*t+n*n*e}function KF(r,t,e){var n=r+e-2*t;if(Fb(n,0))return[.5];var i=(r-t)/n;return i<=1&&i>=0?[i]:[]}function qF(r,t,e,n){return 2*(1-n)*(t-r)+2*n*(e-t)}function ZF(r,t,e,n,i,a,o){var s=Eh(r,e,i,o),l=Eh(t,n,a,o),c=Ps.pointAt(r,t,e,n,o),u=Ps.pointAt(e,n,i,a,o);return[[r,t,c.x,c.y,s,l],[s,l,u.x,u.y,i,a]]}function xM(r,t,e,n,i,a,o){if(0===o)return(ll(r,t,e,n)+ll(e,n,i,a)+ll(r,t,i,a))/2;var s=ZF(r,t,e,n,i,a,.5),l=s[0],c=s[1];return l.push(o-1),c.push(o-1),xM.apply(null,l)+xM.apply(null,c)}const QF={box:function(r,t,e,n,i,a){var o=KF(r,e,i)[0],s=KF(t,n,a)[0],l=[r,i],c=[t,a];return void 0!==o&&l.push(Eh(r,e,i,o)),void 0!==s&&c.push(Eh(t,n,a,s)),Og(l,c)},length:function(r,t,e,n,i,a){return xM(r,t,e,n,i,a,3)},nearestPoint:function(r,t,e,n,i,a,o,s){return XF([r,e,i],[t,n,a],o,s,Eh)},pointDistance:function(r,t,e,n,i,a,o,s){var l=this.nearestPoint(r,t,e,n,i,a,o,s);return ll(l.x,l.y,o,s)},interpolationAt:Eh,pointAt:function(r,t,e,n,i,a,o){return{x:Eh(r,e,i,o),y:Eh(t,n,a,o)}},divide:function(r,t,e,n,i,a,o){return ZF(r,t,e,n,i,a,o)},tangentAngle:function(r,t,e,n,i,a,o){var s=qF(r,e,i,o),l=qF(t,n,a,o);return Bb(Math.atan2(l,s))}};function Sh(r,t,e,n,i){var a=1-i;return a*a*a*r+3*t*i*a*a+3*e*i*i*a+n*i*i*i}function JF(r,t,e,n,i){var a=1-i;return 3*(a*a*(t-r)+2*a*i*(e-t)+i*i*(n-e))}function wM(r,t,e,n){var l,c,u,i=-3*r+9*t-9*e+3*n,a=6*r-12*t+6*e,o=3*t-3*r,s=[];if(Fb(i,0))Fb(a,0)||(l=-o/a)>=0&&l<=1&&s.push(l);else{var d=a*a-4*i*o;Fb(d,0)?s.push(-a/(2*i)):d>0&&(c=(-a-(u=Math.sqrt(d)))/(2*i),(l=(-a+u)/(2*i))>=0&&l<=1&&s.push(l),c>=0&&c<=1&&s.push(c))}return s}function eB(r,t,e,n,i,a,o,s,l){var c=Sh(r,e,i,o,l),u=Sh(t,n,a,s,l),d=Ps.pointAt(r,t,e,n,l),h=Ps.pointAt(e,n,i,a,l),v=Ps.pointAt(i,a,o,s,l),y=Ps.pointAt(d.x,d.y,h.x,h.y,l),D=Ps.pointAt(h.x,h.y,v.x,v.y,l);return[[r,t,d.x,d.y,y.x,y.y,c,u],[c,u,D.x,D.y,v.x,v.y,o,s]]}function EM(r,t,e,n,i,a,o,s,l){if(0===l)return function Sre(r,t){for(var e=0,n=r.length,i=0;i<n;i++)e+=ll(r[i],t[i],r[(i+1)%n],t[(i+1)%n]);return e/2}([r,e,i,o],[t,n,a,s]);var c=eB(r,t,e,n,i,a,o,s,.5),u=c[0],d=c[1];return u.push(l-1),d.push(l-1),EM.apply(null,u)+EM.apply(null,d)}const T0={extrema:wM,box:function(r,t,e,n,i,a,o,s){for(var l=[r,o],c=[t,s],u=wM(r,e,i,o),d=wM(t,n,a,s),h=0;h<u.length;h++)l.push(Sh(r,e,i,o,u[h]));for(h=0;h<d.length;h++)c.push(Sh(t,n,a,s,d[h]));return Og(l,c)},length:function(r,t,e,n,i,a,o,s){return EM(r,t,e,n,i,a,o,s,3)},nearestPoint:function(r,t,e,n,i,a,o,s,l,c,u){return XF([r,e,i,o],[t,n,a,s],l,c,Sh,u)},pointDistance:function(r,t,e,n,i,a,o,s,l,c,u){var d=this.nearestPoint(r,t,e,n,i,a,o,s,l,c,u);return ll(d.x,d.y,l,c)},interpolationAt:Sh,pointAt:function(r,t,e,n,i,a,o,s,l){return{x:Sh(r,e,i,o,l),y:Sh(t,n,a,s,l)}},divide:function(r,t,e,n,i,a,o,s,l){return eB(r,t,e,n,i,a,o,s,l)},tangentAngle:function(r,t,e,n,i,a,o,s,l){var c=JF(r,e,i,o,l),u=JF(t,n,a,s,l);return Bb(Math.atan2(u,c))}};function nB(r,t,e,n,i,a){return e*Math.cos(i)*Math.cos(a)-n*Math.sin(i)*Math.sin(a)+r}function rB(r,t,e,n,i,a){return e*Math.sin(i)*Math.cos(a)+n*Math.cos(i)*Math.sin(a)+t}const Ore_box=function(r,t,e,n,i,a,o){for(var s=function Tre(r,t,e){return Math.atan(-t/r*Math.tan(e))}(e,n,i),l=1/0,c=-1/0,u=[a,o],d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var h=s+d;a<o?a<h&&h<o&&u.push(h):o<h&&h<a&&u.push(h)}for(d=0;d<u.length;d++){var v=nB(r,0,e,n,i,u[d]);v<l&&(l=v),v>c&&(c=v)}var y=function Are(r,t,e){return Math.atan(t/(r*Math.tan(e)))}(e,n,i),D=1/0,F=-1/0,K=[a,o];for(d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var Q=y+d;a<o?a<Q&&Q<o&&K.push(Q):o<Q&&Q<a&&K.push(Q)}for(d=0;d<K.length;d++){var J=rB(0,t,e,n,i,K[d]);J<D&&(D=J),J>F&&(F=J)}return{x:l,y:D,width:c-l,height:F-D}};const SM_length=function(r){return function sB(r){if(r.length<2)return 0;for(var t=0,e=0;e<r.length-1;e++){var n=r[e],i=r[e+1];t+=ll(n[0],n[1],i[0],i[1])}return t}(r)};function dB(r,t){return r&&t?{minX:Math.min(r.minX,t.minX),minY:Math.min(r.minY,t.minY),maxX:Math.max(r.maxX,t.maxX),maxY:Math.max(r.maxY,t.maxY)}:r||t}function MM(r,t){var e=r.get("startArrowShape"),n=r.get("endArrowShape");return e&&(t=dB(t,e.getCanvasBBox())),n&&(t=dB(t,n.getCanvasBBox())),t}var CM=null;function fB(){if(!CM){var r=document.createElement("canvas");r.width=1,r.height=1,CM=r.getContext("2d")}return CM}function hB(r,t,e){var n=1;if((0,ue.isString)(r)&&(n=r.split("\n").length),n>1){var i=function Pre(r,t){return t?t-r:.14*r}(t,e);return t*n+i*(n-1)}return t}function pB(r){return[r.fontStyle,r.fontVariant,r.fontWeight,r.fontSize+"px",r.fontFamily].join(" ").trim()}var Fre=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Bre=/[^\s\,]+/gi;const Vre=function zre(r){var t=r||[];return(0,ue.isArray)(t)?t:(0,ue.isString)(t)?(t=t.match(Fre),(0,ue.each)(t,function(e,n){if((e=e.match(Bre))[0].length>1){var i=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=i}(0,ue.each)(e,function(a,o){isNaN(a)||(e[o]=+a)}),t[n]=e}),t):void 0},vB=function Ure(r,t,e){void 0===t&&(t=!1),void 0===e&&(e=[[0,0],[1,1]]);for(var n=!!t,i=[],a=0,o=r.length;a<o;a+=2)i.push([r[a],r[a+1]]);var u,d,h,s=function jre(r,t,e,n){var o,s,l,c,u,d,h,i=[],a=!!n;if(a){l=n[0],c=n[1];for(var v=0,y=r.length;v<y;v+=1)l=$r.min([0,0],l,D=r[v]),c=$r.max([0,0],c,D)}v=0;for(var F=r.length;v<F;v+=1){var D=r[v];if(0!==v||e)if(v!==F-1||e){var Q=[0,0];Q=$r.sub(Q,s=r[e?(v+1)%F:v+1],o=r[[v?v-1:F-1,v-1][e?0:1]]),Q=$r.scale(Q,Q,t);var J=$r.distance(D,o),de=$r.distance(D,s),Ee=J+de;0!==Ee&&(J/=Ee,de/=Ee);var ke=$r.scale([0,0],Q,-J),Re=$r.scale([0,0],Q,de);d=$r.add([0,0],D,ke),u=$r.add([0,0],D,Re),u=$r.min([0,0],u,$r.max([0,0],s,D)),u=$r.max([0,0],u,$r.min([0,0],s,D)),ke=$r.sub([0,0],u,D),ke=$r.scale([0,0],ke,-J/de),d=$r.add([0,0],D,ke),d=$r.min([0,0],d,$r.max([0,0],o,D)),d=$r.max([0,0],d,$r.min([0,0],o,D)),Re=$r.sub([0,0],D,d),Re=$r.scale([0,0],Re,de/J),u=$r.add([0,0],D,Re),a&&(d=$r.max([0,0],d,l),d=$r.min([0,0],d,c),u=$r.max([0,0],u,l),u=$r.min([0,0],u,c)),i.push(h),i.push(d),h=u}else d=D,i.push(h),i.push(d);else h=D}return e&&i.push(i.shift()),i}(i,.4,n,e),l=i.length,c=[];for(a=0;a<l-1;a+=1)c.push(["C",(u=s[2*a])[0],u[1],(d=s[2*a+1])[0],d[1],(h=i[a+1])[0],h[1]]);return n&&c.push(["C",(u=s[l])[0],u[1],(d=s[l+1])[0],d[1],(h=i[0])[0],h[1]]),c};var A0="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",Wre=new RegExp("([a-z])["+A0+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+A0+"]*,?["+A0+"]*)+)","ig"),Yre=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+A0+"]*,?["+A0+"]*","ig");function DM(r){if(!r)return null;if((0,ue.isArray)(r))return r;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},e=[];return String(r).replace(Wre,function(n,i,a){var o=[],s=i.toLowerCase();if(a.replace(Yre,function(l,c){c&&o.push(+c)}),"m"===s&&o.length>2&&(e.push([i].concat(o.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===o.length&&e.push([i,o[0]]),"r"===s)e.push([i].concat(o));else for(;o.length>=t[s]&&(e.push([i].concat(o.splice(0,t[s]))),t[s]););return""}),e}var $re=/[a-z]/;function gB(r,t){return[t[0]+(t[0]-r[0]),t[1]+(t[1]-r[1])]}function mB(r){var t=DM(r);if(!t||!t.length)return[["M",0,0]];for(var e=!1,n=0;n<t.length;n++)if($re.test(i=t[n][0])||["V","H","T","S"].indexOf(i)>=0){e=!0;break}if(!e)return t;var a=[],o=0,s=0,l=0,c=0,u=0,v=t[0];("M"===v[0]||"m"===v[0])&&(l=o=+v[1],c=s=+v[2],u++,a[0]=["M",o,s]),n=u;for(var y=t.length;n<y;n++){var i,D=t[n],F=a[n-1],K=[],Q=(i=D[0]).toUpperCase();if(i!==Q)switch(K[0]=Q,Q){case"A":K[1]=D[1],K[2]=D[2],K[3]=D[3],K[4]=D[4],K[5]=D[5],K[6]=+D[6]+o,K[7]=+D[7]+s;break;case"V":K[1]=+D[1]+s;break;case"H":K[1]=+D[1]+o;break;case"M":c=+D[2]+s,K[1]=l=+D[1]+o,K[2]=c;break;default:for(var J=1,de=D.length;J<de;J++)K[J]=+D[J]+(J%2?o:s)}else K=t[n];switch(Q){case"Z":o=+l,s=+c;break;case"H":K=["L",o=K[1],s];break;case"V":K=["L",o,s=K[1]];break;case"T":o=K[1],s=K[2];var Ee=gB([F[1],F[2]],[F[3],F[4]]);K=["Q",Ee[0],Ee[1],o,s];break;case"S":o=K[K.length-2],s=K[K.length-1];var ke=F.length,Re=gB([F[ke-4],F[ke-3]],[F[ke-2],F[ke-1]]);K=["C",Re[0],Re[1],K[1],K[2],o,s];break;case"M":l=K[K.length-2],c=K[K.length-1];break;default:o=K[K.length-2],s=K[K.length-1]}a.push(K)}return a}function Vb(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function IM(r,t){return Vb(r)*Vb(t)?(r[0]*t[0]+r[1]*t[1])/(Vb(r)*Vb(t)):1}function EB(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(IM(r,t))}function OM(r,t){return r[0]===t[0]&&r[1]===t[1]}function rie(r,t){var e=t[1],n=t[2],i=(0,ue.mod)((0,ue.toRadian)(t[3]),2*Math.PI),a=t[4],o=t[5],s=r[0],l=r[1],c=t[6],u=t[7],d=Math.cos(i)*(s-c)/2+Math.sin(i)*(l-u)/2,h=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(l-u)/2,v=d*d/(e*e)+h*h/(n*n);v>1&&(e*=Math.sqrt(v),n*=Math.sqrt(v));var y=e*e*(h*h)+n*n*(d*d),D=y?Math.sqrt((e*e*(n*n)-y)/y):1;a===o&&(D*=-1),isNaN(D)&&(D=0);var F=n?D*e*h/n:0,K=e?D*-n*d/e:0,Q=(s+c)/2+Math.cos(i)*F-Math.sin(i)*K,J=(l+u)/2+Math.sin(i)*F+Math.cos(i)*K,de=[(d-F)/e,(h-K)/n],Ee=[(-1*d-F)/e,(-1*h-K)/n],ke=EB([1,0],de),Re=EB(de,Ee);return IM(de,Ee)<=-1&&(Re=Math.PI),IM(de,Ee)>=1&&(Re=0),0===o&&Re>0&&(Re-=2*Math.PI),1===o&&Re<0&&(Re+=2*Math.PI),{cx:Q,cy:J,rx:OM(r,[c,u])?0:e,ry:OM(r,[c,u])?0:n,startAngle:ke,endAngle:ke+Re,xRotation:i,arcFlag:a,sweepFlag:o}}function SB(r,t){return[t[0]+(t[0]-r[0]),t[1]+(t[1]-r[1])]}function MB(r){for(var t=[],e=null,n=null,i=null,a=0,o=(r=Vre(r)).length,s=0;s<o;s++){var l=r[s];n=r[s+1];var c=l[0],u={command:c,prePoint:e,params:l,startTangent:null,endTangent:null};switch(c){case"M":i=[l[1],l[2]],a=s;break;case"A":var d=rie(e,l);u.arcParams=d}if("Z"===c)e=i,n=r[a+1];else{var h=l.length;e=[l[h-2],l[h-1]]}n&&"Z"===n[0]&&(n=r[a],t[a]&&(t[a].prePoint=e)),u.currentPoint=e,t[a]&&OM(e,t[a].currentPoint)&&(t[a].prePoint=u.prePoint),u.nextPoint=n?[n[n.length-2],n[n.length-1]]:null;var y=u.prePoint;if(["L","H","V"].includes(c))u.startTangent=[y[0]-e[0],y[1]-e[1]],u.endTangent=[e[0]-y[0],e[1]-y[1]];else if("Q"===c)u.startTangent=[y[0]-(D=[l[1],l[2]])[0],y[1]-D[1]],u.endTangent=[e[0]-D[0],e[1]-D[1]];else if("T"===c){var D=SB((F=t[s-1]).currentPoint,y);"Q"===F.command?(u.command="Q",u.startTangent=[y[0]-D[0],y[1]-D[1]],u.endTangent=[e[0]-D[0],e[1]-D[1]]):(u.command="TL",u.startTangent=[y[0]-e[0],y[1]-e[1]],u.endTangent=[e[0]-y[0],e[1]-y[1]])}else if("C"===c){var Q=[l[3],l[4]];u.startTangent=[y[0]-(K=[l[1],l[2]])[0],y[1]-K[1]],u.endTangent=[e[0]-Q[0],e[1]-Q[1]],0===u.startTangent[0]&&0===u.startTangent[1]&&(u.startTangent=[K[0]-Q[0],K[1]-Q[1]]),0===u.endTangent[0]&&0===u.endTangent[1]&&(u.endTangent=[Q[0]-K[0],Q[1]-K[1]])}else if("S"===c){var F,K=SB((F=t[s-1]).currentPoint,y);Q=[l[1],l[2]],"C"===F.command?(u.command="C",u.startTangent=[y[0]-K[0],y[1]-K[1]],u.endTangent=[e[0]-Q[0],e[1]-Q[1]]):(u.command="SQ",u.startTangent=[y[0]-Q[0],y[1]-Q[1]],u.endTangent=[e[0]-Q[0],e[1]-Q[1]])}else if("A"===c){var J=.001,de=u.arcParams||{},Ee=de.cx,ke=void 0===Ee?0:Ee,Re=de.cy,tt=void 0===Re?0:Re,xt=de.rx,ct=void 0===xt?0:xt,Nt=de.ry,Ut=void 0===Nt?0:Nt,Mn=de.sweepFlag,zn=de.startAngle,$t=void 0===zn?0:zn,Tn=de.endAngle,In=void 0===Tn?0:Tn;0===(void 0===Mn?0:Mn)&&(J*=-1);var an=ct*Math.cos($t-J)+ke,On=Ut*Math.sin($t-J)+tt;u.startTangent=[an-i[0],On-i[1]];var Kn=ct*Math.cos($t+In+J)+ke,Gn=Ut*Math.sin($t+In-J)+tt;u.endTangent=[y[0]-Kn,y[1]-Gn]}t.push(u)}return t}function jb(r,t){var e=r.prePoint,n=r.currentPoint,i=r.nextPoint,a=Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2),o=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),s=Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||0===Math.sin(l)||(0,ue.isNumberEqual)(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-n[1],i[0]-n[0])),u=Math.abs(Math.atan2(i[0]-n[0],i[1]-n[1]));return c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u,{xExtra:Math.cos(l/2-c)*(t/2*(1/Math.sin(l/2)))-t/2||0,yExtra:Math.cos(u-l/2)*(t/2*(1/Math.sin(l/2)))-t/2||0}}Math,Dd("rect",YF),Dd("image",YF),Dd("circle",$F),Dd("marker",$F),Dd("polyline",function kre(r){for(var e=r.attr().points,n=[],i=[],a=0;a<e.length;a++){var o=e[a];n.push(o[0]),i.push(o[1])}var s=Og(n,i),l=s.x,c=s.y,h={minX:l,minY:c,maxX:l+s.width,maxY:c+s.height};return{x:(h=MM(r,h)).minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}),Dd("polygon",function Nre(r){for(var e=r.attr().points,n=[],i=[],a=0;a<e.length;a++){var o=e[a];n.push(o[0]),i.push(o[1])}return Og(n,i)}),Dd("text",function Lre(r){var t=r.attr(),e=t.x,n=t.y,i=t.text,a=t.fontSize,o=t.lineHeight,s=t.font;s||(s=pB(t));var c,l=function Rre(r,t){var e=fB(),n=0;if((0,ue.isNil)(r)||""===r)return n;if(e.save(),e.font=t,(0,ue.isString)(r)&&r.includes("\n")){var i=r.split("\n");(0,ue.each)(i,function(a){var o=e.measureText(a).width;n<o&&(n=o)})}else n=e.measureText(r).width;return e.restore(),n}(i,s);if(l){var u=t.textAlign,d=t.textBaseline,h=hB(i,a,o),v={x:e,y:n-h};u&&("end"===u||"right"===u?v.x-=l:"center"===u&&(v.x-=l/2)),d&&("top"===d?v.y+=h:"middle"===d&&(v.y+=h/2)),c={x:v.x,y:v.y,width:l,height:h}}else c={x:e,y:n,width:0,height:0};return c}),Dd("path",function sie(r){var t=r.attr(),e=t.path,i=t.stroke?t.lineWidth:0,o=function oie(r,t){for(var e=[],n=[],i=[],a=0;a<r.length;a++){var s=(o=r[a]).currentPoint,l=o.params,c=o.prePoint,u=void 0;switch(o.command){case"Q":u=QF.box(c[0],c[1],l[1],l[2],l[3],l[4]);break;case"C":u=T0.box(c[0],c[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var d=o.arcParams;u=Ore_box(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:e.push(s[0]),n.push(s[1])}u&&(o.box=u,e.push(u.x,u.x+u.width),n.push(u.y,u.y+u.height)),t&&("L"===o.command||"M"===o.command)&&o.prePoint&&o.nextPoint&&i.push(o)}e=e.filter(function(K){return!Number.isNaN(K)&&K!==1/0&&K!==-1/0}),n=n.filter(function(K){return!Number.isNaN(K)&&K!==1/0&&K!==-1/0});var h=(0,ue.min)(e),v=(0,ue.min)(n),y=(0,ue.max)(e),D=(0,ue.max)(n);if(0===i.length)return{x:h,y:v,width:y-h,height:D-v};for(a=0;a<i.length;a++){var o;(s=(o=i[a]).currentPoint)[0]===h?h-=jb(o,t).xExtra:s[0]===y&&(y+=jb(o,t).xExtra),s[1]===v?v-=jb(o,t).yExtra:s[1]===D&&(D+=jb(o,t).yExtra)}return{x:h,y:v,width:y-h,height:D-v}}(r.get("segments")||MB(e),i),s=o.x,l=o.y,d={minX:s,minY:l,maxX:s+o.width,maxY:l+o.height};return{x:(d=MM(r,d)).minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}}),Dd("line",function lie(r){var t=r.attr(),e=t.x1,n=t.y1,i=t.x2,a=t.y2,u={minX:Math.min(e,i),maxX:Math.max(e,i),minY:Math.min(n,a),maxY:Math.max(n,a)};return{x:(u=MM(r,u)).minX,y:u.minY,width:u.maxX-u.minX,height:u.maxY-u.minY}}),Dd("ellipse",function cie(r){var t=r.attr(),i=t.rx,a=t.ry;return{x:t.x-i,y:t.y-a,width:2*i,height:2*a}});var uie=function(r){function t(e,n){var i=r.call(this,e,n)||this;return i.item=n.item,i.canvasX=n.canvasX,i.canvasY=n.canvasY,i.wheelDelta=n.wheelDelta,i.detail=n.detail,i}return(0,Me.__extends)(t,r),t}(GL),kM=function(t){return"".concat(t,"-").concat(Math.random()).concat(Date.now())},NM=function(t){if((0,ue.isArray)(t))switch(t.length){case 4:return t;case 3:return t.push(t[1]),t;case 2:return t.concat(t);case 1:return[t[0],t[0],t[0],t[0]];default:return[0,0,0,0]}if((0,ue.isNumber)(t))return[t,t,t,t];if((0,ue.isString)(t)){var e=parseInt(t,10);return[e,e,e,e]}return[0,0,0,0]},die=function(t){var e=new uie(t.type,t);return e.clientX=t.clientX,e.clientY=t.clientY,e.x=t.x,e.y=t.y,e.target=t.target,e.currentTarget=t.currentTarget,e.bubbles=!0,e.item=t.item,e},fie=function(t){if(!t)return!1;for(var n=[1,0,0,0,1,0,0,0,1],i=0;i<9;i++)if(t[i]!==n[i])return!0;return!1},Td=function(t){return Number.isNaN(Number(t))},TB=function(t){for(var e=1/0,n=-1/0,i=1/0,a=-1/0,o=0;o<t.length;o++){var l=t[o].getBBox(),c=l.minX,u=l.minY,d=l.maxX,h=l.maxY;c<e&&(e=c),u<i&&(i=u),d>n&&(n=d),h>a&&(a=h)}return{x:Math.floor(e),y:Math.floor(i),width:Math.ceil(n)-Math.floor(e),height:Math.ceil(a)-Math.floor(i),minX:e,minY:i,maxX:n,maxY:a}},hie=function(t,e,n,i,a){void 0===e&&(e=15),void 0===n&&(n="quadratic"),void 0===i&&(i=void 0),void 0===a&&(a=void 0);for(var o=t.length,s=2*e,l=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],c={},u=[],d={},h=0;h<o;h++){var v=t[h],y=v.source,D=v.target,F="".concat(y,"-").concat(D);if(!u[h]){c[F]||(c[F]=[]),u[h]=!0,c[F].push(v);for(var K=0;K<o;K++)if(h!==K){var Q=t[K],J=Q.source,de=Q.target;u[K]||(y===de&&D===J?(c[F].push(Q),u[K]=!0,d["".concat(J,"|").concat(de,"|").concat(c[F].length-1)]=!0):y===J&&D===de&&(c[F].push(Q),u[K]=!0))}}}for(var Ee in c)for(var ke=c[Ee],Re=ke.length,tt=0;tt<Re;tt++){var xt=ke[tt];if(xt.source!==xt.target)if(1===Re&&i&&xt.source!==xt.target)xt.type=i;else{xt.type=n;var ct=(tt%2==0?1:-1)*(d["".concat(xt.source,"|").concat(xt.target,"|").concat(tt)]?-1:1);xt.curveOffset=Re%2==1?ct*Math.ceil(tt/2)*s:ct*(Math.floor(tt/2)*s+e)}else a&&(xt.type=a),xt.loopCfg={position:l[tt%8],dist:20*Math.floor(tt/8)+50}}return t},AB=j(8276),pie=function(){function r(t){this.destroyed=!1,this.graph=t,this.destroyed=!1}return r.prototype.getViewCenter=function(){var t=this.getFormatPadding(),e=this.graph,n=this.graph.get("width"),i=e.get("height");return{x:(n-t[1]-t[3])/2+t[3],y:(i-t[0]-t[2])/2+t[0]}},r.prototype.fitCenter=function(t,e){var a,n=this.graph,i=n.get("group"),o=n.getNodes();if(o.length>n.get("optimizeThreshold")){var s=1/0,l=1/0,c=-1/0,u=-1/0;o.forEach(function(de){var Ee=de.getModel(),ke=Ee.x,Re=Ee.y;s>ke&&(s=ke),l>Re&&(l=Re),c<ke&&(c=ke),u<Re&&(u=Re)});var d=i.getMatrix()||[1,0,0,0,1,0,0,0,1],h=Dg({x:s,y:l},d),v=h.x,y=h.y,D=Dg({x:c,y:u},d),F=D.x,K=D.y;a={minX:v,maxX:F,minY:y,maxY:K,width:F-v,height:K-y,x:v,y}}else a=i.getCanvasBBox();if(0!==a.width&&0!==a.height){var Q=this.getViewCenter(),J={x:a.x+a.width/2,y:a.y+a.height/2};n.translate(Q.x-J.x,Q.y-J.y,t,e)}},r.prototype.animatedFitView=function(t,e,n,i,a,o,s,l){var c=this.graph;n=n||{duration:500,easing:"easeCubic"};var d=i.x+a.x-o.x-i.minX,h=i.y+a.y-o.y-i.minY;if(!Td(d)&&!Td(h)){var v=(0,AB.vs)([1,0,0,0,1,0,0,0,1],[["t",d,h]]);if(!l){var y=b0({animateCfg:n,callback:function(){c.emit("viewportchange",{action:"translate",matrix:v})}});return void t.animate(function(de){return{matrix:KS(e,v,de)}},y)}var D=c.get("minZoom"),F=c.get("maxZoom"),K=s;D&&s<D?(K=D,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph minzoom has been used instead")):F&&s>F&&(K=F,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph maxzoom has been used instead"));var Q=(0,AB.vs)(v,[["t",-a.x,-a.y],["s",K,K],["t",a.x,a.y]]),J=b0({animateCfg:n,callback:function(){t.setMatrix(Q),c.emit("viewportchange",{action:"translate",matrix:v}),c.emit("viewportchange",{action:"zoom",matrix:Q})}});t.stopAnimate(),t.setMatrix(e),t.animate(function(de){return{matrix:KS(e,Q,de)}},J)}},r.prototype.fitView=function(t,e){var n=this.graph,i=this.getFormatPadding(),a=n.get("width"),o=n.get("height"),s=n.get("group"),l=s.getMatrix()||[1,0,0,0,1,0,0,0,1];s.resetMatrix();var c,u=n.getNodes();if(u.length>n.get("optimizeThreshold")){var d=1/0,h=1/0,v=-1/0,y=-1/0;u.forEach(function(ke){var Re=ke.getModel(),tt=Re.x,xt=Re.y;d>tt&&(d=tt),h>xt&&(h=xt),v<tt&&(v=tt),y<xt&&(y=xt)}),c={minX:d,maxX:v,minY:h,maxY:y,width:v-d,height:y-h,x:d,y:h}}else c=s.getCanvasBBox();if(0!==c.width&&0!==c.height){var D=this.getViewCenter(),F={x:c.x+c.width/2,y:c.y+c.height/2},K=(a-i[1]-i[3])/c.width,Q=(o-i[0]-i[2])/c.height,J=K;if(K>Q&&(J=Q),t)this.animatedFitView(s,l,e,c,D,F,J,!0);else{var de=D.x-F.x,Ee=D.y-F.y;if(Td(de)||Td(Ee))return;n.translate(de,Ee),n.zoom(J,D)||console.warn("zoom failed, ratio out of range, ratio: %f",J)}}},r.prototype.fitViewByRules=function(t,e,n){var i=t.onlyOutOfViewPort,a=void 0!==i&&i,o=t.direction,s=void 0===o?"both":o,l=t.ratioRule,c=void 0===l?"min":l,u=this.graph,d=this.getFormatPadding(),h=u.get("width"),v=u.get("height"),y=u.get("group"),D=y.getMatrix()||[1,0,0,0,1,0,0,0,1];y.resetMatrix();var F,K=u.getNodes();if(K.length>u.get("optimizeThreshold")){var Q=1/0,J=1/0,de=-1/0,Ee=-1/0;K.forEach(function(Jn){var zn=Jn.getModel(),$t=zn.x,Tn=zn.y;Q>$t&&(Q=$t),J>Tn&&(J=Tn),de<$t&&(de=$t),Ee<Tn&&(Ee=Tn)}),F={minX:Q,maxX:de,minY:J,maxY:Ee,width:de-Q,height:Ee-J,x:Q,y:J}}else F=y.getCanvasBBox();if(0!==F.width&&0!==F.height){var ct,ke=this.getViewCenter(),Re={x:F.x+F.width/2,y:F.y+F.height/2},tt=(h-d[1]-d[3])/F.width,xt=(v-d[0]-d[2])/F.height;if(ct="x"===s?tt:"y"===s?xt:"max"===c?Math.max(tt,xt):Math.min(tt,xt),a&&(ct=ct<1?ct:1),e)this.animatedFitView(y,D,n,F,ke,Re,ct,!0);else{var Ut=u.getZoom()*ct,Mn=u.get("minZoom");Ut<Mn&&(Ut=Mn,console.warn("fitview failed, ratio out of range, ratio: %f",ct,"graph minzoom has been used instead")),u.translate(ke.x-Re.x,ke.y-Re.y),u.zoomTo(Ut,ke)}}},r.prototype.getFormatPadding=function(){var t=this.graph.get("fitViewPadding");return NM(t)},r.prototype.focusPoint=function(t,e,n){var i=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),e){var l=(o.x-t.x)*s[0],c=(o.y-t.y)*s[4],u=0,d=0,h=0,v=0;this.graph.get("canvas").animate(function(y){i.graph.translate((h=l*y)-u,(v=c*y)-d),u=h,d=v},(0,Me.__assign)({},n))}else this.graph.translate((o.x-t.x)*s[0],(o.y-t.y)*s[4])},r.prototype.getPointByCanvas=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),pL({x:t,y:e},n)},r.prototype.getPointByClient=function(t,e){var i=this.graph.get("canvas").getPointByClient(t,e);return this.getPointByCanvas(i.x,i.y)},r.prototype.getClientByPoint=function(t,e){var n=this.graph.get("canvas"),i=this.getCanvasByPoint(t,e),a=n.getClientByPoint(i.x,i.y);return{x:a.x,y:a.y}},r.prototype.getCanvasByPoint=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),Dg({x:t,y:e},n)},r.prototype.focus=function(t,e,n){if((0,ue.isString)(t)&&(t=this.graph.findById(t)),t){var i=0,a=0;if(t.getType&&"edge"===t.getType()){var o=t.getSource().get("group").getMatrix(),s=t.getTarget().get("group").getMatrix();o&&s?(i=(o[6]+s[6])/2,a=(o[7]+s[7])/2):(o||s)&&(i=o?o[6]:s[6],a=o?o[7]:s[7])}else{var c=t.get("group").getMatrix();c||(c=[1,0,0,0,1,0,0,0,1]),i=c[6],a=c[7]}this.focusPoint({x:i,y:a},e,n)}},r.prototype.focusItems=function(t,e,n,i){if(t.length){var a=this.graph,o=this.getFormatPadding(),s=a.get("width"),l=a.get("height"),c=a.get("group"),u=c.getMatrix()||[1,0,0,0,1,0,0,0,1];c.resetMatrix();for(var d={x:0,y:0,minX:Number.MAX_SAFE_INTEGER,minY:Number.MAX_SAFE_INTEGER,maxX:Number.MIN_SAFE_INTEGER,maxY:Number.MIN_SAFE_INTEGER,width:0,height:0},h=0,v=t;h<v.length;h++){var D=v[h].getBBox();D.minX<d.minX&&(d.minX=D.minX),D.minY<d.minY&&(d.minY=D.minY),D.maxX>d.maxX&&(d.maxX=D.maxX),D.maxY>d.maxY&&(d.maxY=D.maxY)}if(d.x=d.minX,d.y=d.minY,d.width=d.maxX-d.minX,d.height=d.maxY-d.minY,0!==d.width&&0!==d.height){var F=this.getViewCenter(),K={x:d.x+d.width/2,y:d.y+d.height/2},Q=(s-o[1]-o[3])/d.width,J=(l-o[0]-o[2])/d.height,de=Q;Q>J&&(de=J),n?this.animatedFitView(c,u,i,d,F,K,de,e):(a.translate(F.x-K.x,F.y-K.y),e&&!a.zoom(de,F)&&console.warn("zoom failed, ratio out of range, ratio: %f",de))}}},r.prototype.changeSize=function(t,e){var n=this.graph;if(!(0,ue.isNumber)(t)||!(0,ue.isNumber)(e))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:t,height:e}),n.get("canvas").changeSize(t,e),n.get("plugins").forEach(function(o){o.get("gridContainer")&&o.positionInit()})},r.prototype.destroy=function(){this.graph=null,this.destroyed=!1},r}();const vie=pie;function PM(r){return(PM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}function IB(r){if("string"!=typeof r)return r;var t=function(Re){if("string"!=typeof Re)return Re;try{return JSON.parse(Re.trim())}catch{return Re.trim()}},e=t(r);if("string"!=typeof e)return e;for(var n=function(Re){return Re[Re.length-1]},i=r.trim(),a=[],o=[],s=function(){for(var Re=[],tt=0;tt<arguments.length;tt++)Re[tt]=arguments[tt];return Re.some(function(xt){return n(o)===xt})},c=null,u=0,d="";u<i.length;){var h=i[u],v=s('"',"'");if(v||h.trim()){var y="\\"===i[u-1],D=s("}"),F=s("]"),K=s(","),Q=n(a);if(v)if(n(o)!==h||y)d+=h;else{o.pop();var J=t(d);Q.push(J),c=J,d=""}else if(F&&","===h)d&&(Q.push(t(d)),d="");else if(D&&":"===h)o.push(","),d&&(Q.push(d),d="");else if(K&&","===h)d&&(Q.push(t(d)),d=""),o.pop();else if("}"===h&&(D||K)){d&&(Q.push(t(d)),d=""),K&&o.pop();for(var de={},Ee=1;Ee<Q.length;Ee+=2)de[Q[Ee-1]]=Q[Ee];a.pop(),a.length&&n(a).push(de),o.pop(),c=de}else"]"===h&&F?(d&&(Q.push(t(d)),d=""),a.pop(),a.length&&n(a).push(Q),o.pop(),c=Q):"{"===h?(a.push([]),o.push("}")):"["===h?(a.push([]),o.push("]")):'"'===h?o.push('"'):"'"===h?o.push("'"):d+=h;u+=1}else u+=1}return c||d}var gie=function(t){return t.split("-").reduce(function(e,n){return e+n.charAt(0).toUpperCase()+n.slice(1)})},mie=function(t){return function(e){for(var n=t.length,i=[],a=0,o="";a<n;)if("{"===t[a]&&"{"===t[a+1])i.push(o),o="",a+=2;else if("}"===t[a]&&"}"===t[a+1]){if(i.length){var s=i.pop();o=(0,ue.get)(e,o,s.endsWith("=")?'"{'.concat(o,'}"'):o),i.push(s+o)}a+=2,o=""}else o+=t[a],a+=1;return i.push(o),i.map(function(l,c){return i[c-1]&&i[c-1].endsWith("=")?'"{'.concat(l,'}"'):l}).join("")}};function OB(r,t){var e={},n=r.getAttributeNames&&r.getAttributeNames()||[],i=r.children&&Array.from(r.children).map(function(s){return OB(s,t)}),a={},o=r.tagName?r.tagName.toLowerCase():"group";return"text"===o&&(e.text=r.innerText),a.type=o,"img"===o&&(a.type="image"),Array.from(n).forEach(function(s){var l=gie(s),c=r.getAttribute(s);try{if("style"===l||"attrs"===l){var u=IB(c);e=(0,Me.__assign)((0,Me.__assign)({},e),u)}else a[l]=IB(c)}catch(d){if("style"===l)throw d;a[l]=c}}),a.attrs=e,t&&t.style&&a.name&&"object"===PM(t.style[a.name])&&(a.attrs=(0,Me.__assign)((0,Me.__assign)({},a.attrs),t.style[a.name])),t&&t.style&&a.keyshape&&(a.attrs=(0,Me.__assign)((0,Me.__assign)({},a.attrs),t.style)),i.length&&(a.children=i),a}function kB(r,t){var e;void 0===t&&(t={x:0,y:0});var n=(0,Me.__assign)({x:0,y:0,width:0,height:0},t);if(null!==(e=r.children)&&void 0!==e&&e.length){var i=r.attrs,a=void 0===i?{}:i,o=a.marginTop,s=(0,Me.__assign)({},t);o&&(s.y+=o);for(var l=0;l<r.children.length;l++){r.children[l].attrs.key="".concat(a.key||"root"," -").concat(l," ");var c=kB(r.children[l],s);if(c.bbox){var u=c.bbox;"inline"===c.attrs.next?s.x+=c.bbox.width:s.y+=c.bbox.height,u.width+u.x>n.width&&(n.width=u.width+u.x),u.height+u.y>n.height&&(n.height=u.height+u.y)}}}return r.bbox=function yie(r,t,e){var o,s,n=r.attrs,i=void 0===n?{}:n,a={x:t.x||0,y:t.y||0,width:e.width||0,height:e.height||0};switch(r.type){case"maker":case"circle":i.r&&(s=2*i.r,o=2*i.r);break;case"text":i.text&&(s=IL(i.text,i.fontSize||12)[0],a.y+=o=16,a.height=o,a.width=s,r.attrs=(0,Me.__assign)({fontSize:12,fill:"#000"},i));break;default:i.width&&(s=i.width),i.height&&(o=i.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),i.marginTop&&(a.y+=i.marginTop),i.marginLeft&&(a.x+=i.marginLeft),a}(r,t,n),r.attrs=(0,Me.__assign)((0,Me.__assign)({},r.attrs),r.bbox),r}function NB(r,t){var e,n,i,a,o=(r||{}).type,s=(t?.attrs||{}).key;if(s&&r&&(r.attrs.key=s),!r&&t)return{action:"delete",val:t,type:o,key:s};if(r&&!t)return{action:"add",val:r,type:o};if(!r&&!t)return{action:"same",type:o};var l=[];if((null===(e=r.children)||void 0===e?void 0:e.length)>0||(null===(n=t.children)||void 0===n?void 0:n.length)>0)for(var c=Math.max(null===(i=r.children)||void 0===i?void 0:i.length,null===(a=t.children)||void 0===a?void 0:a.length),u=t.children||[],d=r.children||[],h=0;h<c;h+=1)l.push(NB(d[h],u[h]));var v=Object.keys(t.attrs),y=Object.keys(r.attrs);return t.type!==r.type?{action:"restructure",nowTarget:r,formerTarget:t,key:s,children:l}:v.filter(function(D){return"children"!==D}).some(function(D){return r.attrs[D]!==t.attrs[D]||!y.includes(D)})?{action:"change",val:r,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function PB(r){var t={},e=function(i){var a="function"==typeof r?r(i):r,o=mie(a)(i),s=document.createElement("div");s.innerHTML=o;var c=kB(OB(s.children[0],i));return s.remove(),c};return{draw:function(i,a){var o=e(i),s=a;return function c(u){var d=u.attrs,h=void 0===d?{}:d,v=u.bbox,y=u.type,D=u.children,F=(0,Me.__rest)(u,["attrs","bbox","type","children"]);if("group"!==u.type){var K=a.addShape(u.type,(0,Me.__assign)({attrs:h,origin:{bbox:v,type:y,children:D}},F));u.keyshape&&(s=K)}u.children&&u.children.forEach(function(Q){return c(Q)})}(o),t[i.id]=[o],s},update:function(i,a){t[i.id]||(t[i.id]=[]);var o=a.getContainer(),s=o.get("children"),l=e(i),u=NB(l,t[i.id].pop()),d=function y(D){var F;"group"!==D.type&&o.addShape(D.type,{attrs:D.attrs}),null!==(F=D.children)&&void 0!==F&&F.length&&D.children.map(function(K){return y(K)})},h=function y(D){var F,K=s.find(function(Q){return Q.attrs.key===D.attrs.key});K&&o.removeChild(K),null!==(F=D.children)&&void 0!==F&&F.length&&D.children.map(function(Q){return y(Q)})};(function y(D){var F=D.key;if("group"!==D.type){var K=s.find(function(J){return J.attrs.key===F});switch(D.action){case"change":if(K){var Q=D.val.keyshape?a.getOriginStyle():{};K.attr((0,Me.__assign)((0,Me.__assign)({},Q),D.val.attrs))}break;case"add":d(D.val);break;case"delete":h(D.val);break;case"restructure":h(D.formerTarget),d(D.nowTarget)}}D.children&&D.children.forEach(function(J){return y(J)})})(u),t[i.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var RM={};function RB(r){return RM[r]||(RM[r]=(0,ue.upperFirst)(r)),RM[r]}var _ie={defaultShapeType:"defaultType",className:null,getShape:function(t){var e=this;return e[t]||e[e.defaultShapeType]||e["simple-circle"]},draw:function(t,e,n){var i=this.getShape(t);n.shapeMap={};var a=i.draw(e,n);return i.afterDraw&&i.afterDraw(e,n,a),a},baseUpdate:function(t,e,n,i){var a,o,s=this.getShape(t);s.update&&(s.mergeStyle=null===(a=s.getOptions)||void 0===a?void 0:a.call(s,e,i),null===(o=s.update)||void 0===o||o.call(s,e,n,i)),s.afterUpdate&&s.afterUpdate(e,n)},setState:function(t,e,n,i){this.getShape(t).setState(e,n,i)},shouldUpdate:function(t){return!!this.getShape(t).update},getControlPoints:function(t,e){return this.getShape(t).getControlPoints(e)},getAnchorPoints:function(t,e){return this.getShape(t).getAnchorPoints(e)}},LM={options:{},draw:function(t,e){return this.drawShape(t,e)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){return t.anchorPoints||this.options.anchorPoints}},Ub=function(){function r(){}return r.registerFactory=function(t,e){var n=RB(t),a=(0,Me.__assign)((0,Me.__assign)({},_ie),e);return r[n]=a,a.className=n,a},r.getFactory=function(t){return r[RB(t)]},r.registerNode=function(t,e,n){var a,i=r.Node;if("string"==typeof e||"function"==typeof e){var o=PB(e);a=(0,Me.__assign)((0,Me.__assign)({},i.getShape("single-node")),o)}else if(e.jsx)o=PB(e.jsx),a=(0,Me.__assign)((0,Me.__assign)((0,Me.__assign)({},i.getShape("single-node")),o),e);else{i.getShape(n);var l=n?i.getShape(n):LM;a=(0,Me.__assign)((0,Me.__assign)({},l),e)}return a.type=t,a.itemType="node",i[t]=a,a},r.registerEdge=function(t,e,n){var i=r.Edge,a=n?i.getShape(n):LM,o=(0,Me.__assign)((0,Me.__assign)({},a),e);return o.type=t,o.itemType="edge",i[t]=o,o},r.registerCombo=function(t,e,n){var i=r.Combo,a=n?i.getShape(n):LM,o=(0,Me.__assign)((0,Me.__assign)({},a),e);return o.type=t,o.itemType="combo",i[t]=o,o},r}();const Rs=Ub;Ub.registerFactory("node",{defaultShapeType:"circle"}),Ub.registerFactory("edge",{defaultShapeType:"line"}),Ub.registerFactory("combo",{defaultShapeType:"circle"});var FM="bboxCache",BM="bboxCanvasCache",bie=function(){function r(t){this._cfg={},this.destroyed=!1,this.optimize=!1,this._cfg=Object.assign({id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]},this.getDefaultCfg(),t);var n=this.get("model"),i=n.id,a=this.get("type");typeof i>"u"?i=kM(a):"string"!=typeof i&&(i=String(i)),this.get("model").id=i,this.set("id",i);var o=t.group;o&&(o.set("item",this),o.set("id",i)),this.init(),this.draw();var s=n.shape||n.type||("edge"===a?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var c=l[s].options;if(c&&c.stateStyles){var u=this.get("styles")||n.stateStyles;u=(0,ue.deepMix)({},c.stateStyles,u),this.set("styles",u)}}}return r.prototype.calculateBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=Mb(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},r.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=Mb(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},r.prototype.drawInner=function(){var t=this,e=t.get("shapeFactory"),n=t.get("group"),i=t.get("model");n.clear();var a=i.visible;if(void 0!==a&&!a&&t.changeVisibility(a),e){t.updatePosition(i);var o=t.getShapeCfg(i),s=o.type,l=e.draw(s,o,n);l&&(t.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(e,s)}},r.prototype.setOriginStyle=function(){var t=this.get("group"),e=t.get("children"),n=this.getKeyShape(),i=this,a=n.get("name");if(this.get("originStyle")){var v=this.get("originStyle");a&&!v[a]&&(v[a]={});for(var y=this.getCurrentStatesStyle(),D=function(K){var Q=e[K],J=Q.get("name"),de=Q.attr();if(J&&J!==a){var Ee=y[J];v[J]||(v[J]={}),Ee?Object.keys(de).forEach(function(tt){var xt=de[tt];xt!==Ee[tt]&&(v[J][tt]=xt)}):v[J]="image"!==Q.get("type")?(0,ue.clone)(de):i.getShapeStyleByName(J)}else{var ke=Q.attr(),Re={};Object.keys(y).forEach(function(tt){var xt=y[tt];(tt===a||!(0,ue.isPlainObject)(xt))&&(Re[tt]=xt)}),Object.keys(ke).forEach(function(tt){var xt=ke[tt];Re[tt]!==xt&&(a?v[a][tt]=xt:v[tt]=xt)})}},s=0;s<e.length;s++)D(s);delete v.path,delete v.matrix,delete v.x,delete v.y,v[a]&&(delete v[a].x,delete v[a].y,delete v[a].matrix,delete v[a].path),i.set("originStyle",v)}else{var o={};for(s=0;s<e.length;s++){var l=e[s],c=l.get("type"),u=l.get("name");if(u&&u!==a)o[u]="image"!==c?(0,ue.clone)(l.attr()):i.getShapeStyleByName(u),"text"===c&&o[u]&&(delete o[u].x,delete o[u].y,delete o[u].matrix);else{var d=i.getShapeStyleByName();if(delete d.path,delete d.matrix,a)if(u)o[a]=d;else{var h=kM("shape");l.set("name",h),t.shapeMap[h]=l,o[h]="image"!==c?(0,ue.clone)(l.attr()):i.getShapeStyleByName(u)}else Object.assign(o,d)}}i.set("originStyle",o)}},r.prototype.restoreStates=function(t,e){var n=this,i=n.get("states");(0,ue.each)(i,function(a){t.setState(e,a,!0,n)})},r.prototype.init=function(){var t=Rs.getFactory(this.get("type"));this.set("shapeFactory",t)},r.prototype.get=function(t){return this._cfg[t]},r.prototype.set=function(t,e){(0,ue.isPlainObject)(t)?this._cfg=(0,Me.__assign)((0,Me.__assign)({},this._cfg),t):this._cfg[t]=e},r.prototype.getDefaultCfg=function(){return{}},r.prototype.clearCache=function(){this.set(FM,null),this.set(BM,null)},r.prototype.beforeDraw=function(){},r.prototype.afterDraw=function(){},r.prototype.afterUpdate=function(){},r.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},r.prototype.getShapeStyleByName=function(t){var n,e=this.get("group");if(n=t?e.shapeMap[t]:this.getKeyShape()){var i={};return(0,ue.each)(n.attr(),function(a,o){("img"!==o||(0,ue.isString)(a))&&(i[o]=a)}),i}return{}},r.prototype.getShapeCfg=function(t,e){var n=this.get("styles");if(n){var i=t;return i.style=(0,Me.__assign)((0,Me.__assign)({},n),t.style),i}return t},r.prototype.getStateStyle=function(t){var e=this.get("styles");return e&&e[t]},r.prototype.getOriginStyle=function(){return this.get("originStyle")},r.prototype.getCurrentStatesStyle=function(){var t=this,e={},n=t.getStates();return n&&n.length?((0,ue.each)(t.getStates(),function(i){e=Object.assign(e,t.getStateStyle(i))}),e):this.get("originStyle")},r.prototype.setState=function(t,e){var n=this.get("states"),i=this.get("shapeFactory"),a=t,o=t;(0,ue.isString)(e)&&(a="".concat(t,":").concat(e),o="".concat(t,":"));var s=n;if((0,ue.isBoolean)(e)){var l=n.indexOf(o);if(e){if(l>-1)return;n.push(a)}else l>-1&&n.splice(l,1)}else if((0,ue.isString)(e)){var c=n.filter(function(h){return h.includes(o)});c.length>0&&this.clearStates(c),(s=s.filter(function(h){return!h.includes(o)})).push(a),this.set("states",s)}if(i){var u=this.get("model");i.setState(u.type,t,e,this)}},r.prototype.clearStates=function(t){var e=this,n=e.getStates(),i=e.get("shapeFactory"),o=e.get("model").type;t||(t=n),(0,ue.isString)(t)&&(t=[t]);var s=n.filter(function(l){return-1===t.indexOf(l)});e.set("states",s),t.forEach(function(l){i.setState(o,l,!1,e)})},r.prototype.setOptimize=function(t){this.optimize=t},r.prototype.getContainer=function(){return this.get("group")},r.prototype.getKeyShape=function(){return this.get("keyShape")},r.prototype.getModel=function(){return this.get("model")},r.prototype.getType=function(){return this.get("type")},r.prototype.getID=function(){return this.get("id")},r.prototype.isItem=function(){return!0},r.prototype.getStates=function(){return this.get("states")},r.prototype.hasState=function(t){return this.getStates().indexOf(t)>=0},r.prototype.refresh=function(t){var e=this.get("model");this.updatePosition(e),this.updateShape(t),this.afterUpdate(),this.clearCache()},r.prototype.getUpdateType=function(t){},r.prototype.update=function(t,e){void 0===e&&(e=void 0);var n=this.get("model");if("move"===e)this.updatePosition(t);else{var a=t.visible;n.visible!==a&&void 0!==a&&this.changeVisibility(a);var o={x:n.x,y:n.y};t.x=isNaN(+t.x)?n.x:+t.x,t.y=isNaN(+t.y)?n.y:+t.y;var s=this.get("styles");t.stateStyles&&((0,ue.mix)(s,t.stateStyles),delete t.stateStyles),Object.assign(n,t),(o.x!==t.x||o.y!==t.y)&&this.updatePosition(t),this.updateShape(e)}this.afterUpdate(),this.clearCache()},r.prototype.updateShape=function(t){var e=this.get("shapeFactory"),n=this.get("model"),i=n.type;if(e.shouldUpdate(i)&&i===this.get("currentShape")){var a=this.getShapeCfg(n,t);e.baseUpdate(i,a,this,t),"move"!==t&&this.setOriginStyle()}else this.draw();this.restoreStates(e,i)},r.prototype.updatePosition=function(t){var e=this.get("model"),n=isNaN(+t.x)?+e.x:+t.x,i=isNaN(+t.y)?+e.y:+t.y,a=this.get("group");if(isNaN(n)||isNaN(i))return!1;e.x=n,e.y=i;var o=a.getMatrix();return!(o&&o[6]===n&&o[7]===i||(a.resetMatrix(),vL(a,{x:n,y:i}),this.clearCache(),0))},r.prototype.getBBox=function(){var t=this.get(FM);return t||(t=this.calculateBBox(),this.set(FM,t)),t},r.prototype.getCanvasBBox=function(){var t=this.get(BM);return t||(t=this.calculateCanvasBBox(),this.set(BM,t)),t},r.prototype.toFront=function(){this.get("group").toFront()},r.prototype.toBack=function(){this.get("group").toBack()},r.prototype.show=function(){this.changeVisibility(!0)},r.prototype.hide=function(){this.changeVisibility(!1)},r.prototype.changeVisibility=function(t){var e=this.get("group");t?e.show():e.hide(),this.set("visible",t)},r.prototype.isVisible=function(){return this.get("visible")},r.prototype.enableCapture=function(t){var e=this.get("group");e&&e.set("capture",t)},r.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),e.shapeMap={},this.clearCache(),e.remove(),this._cfg=null,this.destroyed=!0}},r}();const LB=bie;var Gb={source:"start",target:"end"},Ad="Node",kg="Point",wie=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},t.prototype.setEnd=function(e,n){var i=Gb[e]+kg,a=e+Ad,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,ue.isPlainObject)(n)?(this.set(i,n),this.set(a,null)):n&&(n.addEdge(this),this.set(a,n),this.set(i,null))},t.prototype.getLinkPoint=function(e,n,i){var o=e+Ad,s=this.get(Gb[e]+kg);if(!s){var l=this.get(o),c=e+"Anchor",u=this.getPrePoint(e,i),d=n[c];(0,ue.isNil)(d)||(s=l.getLinkPointByAnchor(d)),s=s||l.getLinkPoint(u),(0,ue.isNil)(s.index)||this.set("".concat(e,"AnchorIndex"),s.index)}return s},t.prototype.getPrePoint=function(e,n){return n&&n.length?n["source"===e?0:n.length-1]:this.getEndPoint("source"===e?"target":"source")},t.prototype.getEndPoint=function(e){var i=Gb[e]+kg,a=this.get(e+Ad);return a&&!a.destroyed?a.get("model"):this.get(i)},t.prototype.getControlPointsByCenter=function(e){var n=this.getEndPoint("source"),i=this.getEndPoint("target");return this.get("shapeFactory").getControlPoints(e.type,{startPoint:n,endPoint:i})},t.prototype.getEndCenter=function(e){var i=Gb[e]+kg,a=this.get(e+Ad);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(i)},t.prototype.init=function(){r.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},t.prototype.getShapeCfg=function(e,n){var i=this,a=i.get("linkCenter"),o=n?.includes("move")?e:r.prototype.getShapeCfg.call(this,e);if(a)o.startPoint=i.getEndCenter("source"),o.endPoint=i.getEndCenter("target");else{var s=o.controlPoints||i.getControlPointsByCenter(o);o.startPoint=i.getLinkPoint("source",e,s),o.endPoint=i.getLinkPoint("target",e,s)}return o.sourceNode=i.get("sourceNode"),o.targetNode=i.get("targetNode"),o},t.prototype.getModel=function(){var e=this.get("model"),n=this.get("source".concat(Ad)),i=this.get("target".concat(Ad));return n?delete e["source".concat(Ad)]:e.source=this.get("start".concat(kg)),i?delete e["target".concat(Ad)]:e.target=this.get("end".concat(kg)),!(0,ue.isString)(e.source)&&!(0,ue.isPlainObject)(e.source)&&(e.source=e.source.getID()),!(0,ue.isString)(e.target)&&!(0,ue.isPlainObject)(e.target)&&(e.target=e.target.getID()),e},t.prototype.setSource=function(e){this.setEnd("source",e),this.set("source",e)},t.prototype.setTarget=function(e){this.setEnd("target",e),this.set("target",e)},t.prototype.getSource=function(){return this.get("source")},t.prototype.getTarget=function(){return this.get("target")},t.prototype.updatePosition=function(){return!1},t.prototype.update=function(e,n){void 0===n&&(n=void 0);var i=this.get("model"),o=e.visible;i.visible!==o&&void 0!==o&&this.changeVisibility(o);var s=this.get("source"),l=this.get("target");if(s&&!s.destroyed&&l&&!l.destroyed){var c=this.get("styles");e.stateStyles&&((0,ue.mix)(c,e.stateStyles),delete e.stateStyles),Object.assign(i,e),this.updateShape(n),this.afterUpdate(),this.clearCache()}},t.prototype.destroy=function(){var e=this.get("source".concat(Ad)),n=this.get("target".concat(Ad));e&&!e.destroyed&&e.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),r.prototype.destroy.call(this)},t}(LB);const FB=wie;var zM="anchorPointsCache",Sie=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.getNearestPoint=function(e,n){for(var i=0,a=e[0],o=xb(e[0],n),s=0;s<e.length;s++){var l=e[s],c=xb(l,n);c<o&&(a=l,o=c,i=s)}return a.anchorIndex=i,a},t.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getInEdges=function(){var e=this;return this.get("edges").filter(function(n){return n.get("target")===e})},t.prototype.getOutEdges=function(){var e=this;return this.get("edges").filter(function(n){return n.get("source")===e})},t.prototype.getNeighbors=function(e){var n=this,i=this.get("edges");return"target"===e?i.filter(function(c){return c.getSource()===n}).map(function(l){return l.getTarget()}):"source"===e?i.filter(function(c){return c.getTarget()===n}).map(function(l){return l.getSource()}):i.map(function(c){return c.getSource()===n?c.getTarget():c.getSource()})},t.prototype.getLinkPointByAnchor=function(e){return this.getAnchorPoints()[e]},t.prototype.getLinkPoint=function(e){var o,s,i=this.get("keyShape").get("type"),a=this.get("type"),l=this.getBBox();"combo"===a?(o=l.centerX||(l.maxX+l.minX)/2,s=l.centerY||(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var u,c=this.getAnchorPoints();switch(i){case"circle":u=fL({x:o,y:s,r:l.width/2},e);break;case"ellipse":u=hL({x:o,y:s,rx:l.width/2,ry:l.height/2},e);break;default:u=dL(l,e)}var d=u;return c.length&&(d||(d=e),d=this.getNearestPoint(c,d)),d||(d={x:o,y:s}),d},t.prototype.getAnchorPoints=function(){var e=this.get(zM);if(!e){e=[];var n=this.get("shapeFactory"),i=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),l=n.getAnchorPoints(a.type,o)||[];(0,ue.each)(l,function(c,u){e.push({x:i.minX+c[0]*i.width,y:i.minY+c[1]*i.height,anchorIndex:u})}),this.set(zM,e)}return e},t.prototype.addEdge=function(e){this.get("edges").push(e)},t.prototype.lock=function(){this.set("locked",!0)},t.prototype.unlock=function(){this.set("locked",!1)},t.prototype.hasLocked=function(){return this.get("locked")},t.prototype.removeEdge=function(e){var n=this.getEdges(),i=n.indexOf(e);i>-1&&n.splice(i,1)},t.prototype.clearCache=function(){this.set("bboxCache",null),this.set(zM,null)},t.prototype.getUpdateType=function(e){var n,i,a,o,s;if(e){var l=!(0,ue.isNil)(e.x),c=!(0,ue.isNil)(e.y),u=Object.keys(e);return 1===u.length&&(l||c)||2===u.length&&l&&c?"move":(0,ue.isNumber)(e.x)||(0,ue.isNumber)(e.y)||e.type||e.anchorPoints||e.size||e?.style&&(null!==(n=e?.style)&&void 0!==n&&n.r||null!==(i=e?.style)&&void 0!==i&&i.width||null!==(a=e?.style)&&void 0!==a&&a.height||null!==(o=e?.style)&&void 0!==o&&o.rx||null!==(s=e?.style)&&void 0!==s&&s.ry)?"bbox|label":u.includes("label")||u.includes("labelCfg")?"style|label":"style"}},t.prototype.setState=function(e,n){var i=this;this.optimize?r.prototype.setState.call(this,e,n):this.runWithBBoxAffected(function(){return r.prototype.setState.call(i,e,n)})},t.prototype.clearStates=function(e){var n=this;this.optimize?r.prototype.clearStates.call(this,e):this.runWithBBoxAffected(function(){return r.prototype.clearStates.call(n,e)})},t.prototype.runWithBBoxAffected=function(e){var n=["r","width","height","rx","ry","lineWidth"],i=this.getKeyShape().attr(),a={};Object.keys(this.getKeyShape().attr()).forEach(function(c){n.includes(c)&&(a[c]=i[c])}),e();for(var o=this.getKeyShape().attr(),s=0;s<n.length;s++){var l=n[s];if(o[l]!==a[l]){this.clearCache(),this.getEdges().forEach(function(c){return c.refresh()});break}}},t}(LB);const VM=Sie;var BB="bboxCache",zB="bboxCanvasCache",VB="sizeCache",jB="anchorPointsCache",Mie=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},t.prototype.getShapeCfg=function(e){var n=this.get("styles"),i=this.get("bbox");if(n&&i){var a=e,o=(0,ue.isNumber)(e.size)?[e.size,e.size]:e.size,s=(0,ue.isNumber)(e.fixSize)?[e.fixSize,e.fixSize]:e.fixSize,l=o||s||Rr.defaultCombo.size,c={r:(Math.max(i.width,i.height)||Math.max(l[0],l[1]))/2,width:i.width||l[0],height:i.height||l[1]};a.style=(0,Me.__assign)((0,Me.__assign)((0,Me.__assign)({},n),e.style),c);var u=e.padding||Rr.defaultCombo.padding;return(0,ue.isNumber)(u)?(c.r+=u,c.width+=2*u,c.height+=2*u):(c.r=c.r+Math.max.apply(Math,u),c.width+=u[1]+u[3]||2*u[1],c.height+=u[0]+u[2]||2*u[0]),this.set(VB,c),a}return e},t.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var e=this.get("keyShape"),n=this.get("group"),i=Mb(e,n);i.centerX=(i.minX+i.maxX)/2,i.centerY=(i.minY+i.maxY)/2;var a=this.get(BB)||{},o=a.x,s=a.x;return i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.centerX=(i.minX+i.maxX)/2,i.centerY=(i.minY+i.maxY)/2,i.x=i.minX,i.y=i.minY,(i.x!==o||i.y!==s)&&this.set(jB,null),i}},t.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.addChild=function(e){switch(e.getType()){case"node":this.addNode(e);break;case"combo":this.addCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.addCombo=function(e){return this.get("combos").push(e),!0},t.prototype.addNode=function(e){return this.get("nodes").push(e),!0},t.prototype.removeChild=function(e){switch(e.getType()){case"node":this.removeNode(e);break;case"combo":this.removeCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.removeCombo=function(e){if(e){var n=this.getCombos(),i=n.indexOf(e);return i>-1&&(n.splice(i,1),!0)}},t.prototype.removeNode=function(e){if(e){var n=this.getNodes(),i=n.indexOf(e);return i>-1&&(n.splice(i,1),!0)}},t.prototype.getUpdateType=function(e){},t.prototype.getBBox=function(){return this.set(zB,null),this.calculateCanvasBBox()},t.prototype.clearCache=function(){this.set(BB,null),this.set(zB,null),this.set(jB,null)},t.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),n=this.get("group");e&&n.stopAnimate(),n.shapeMap={},this.clearCache(),this.set(VB,null),this.set("bbox",null),n.remove(),this._cfg=null,this.destroyed=!0}},t}(VM);const UB=Mie;var Hb="node",Wb="edge",O0="combo",Sf="stateStyles",Die=function(){function r(t){var e=this;this.edgeToBeUpdateMap={},this.throttleRefresh=(0,ue.throttle)(function(n){var i=e.graph;if(i&&!i.get("destroyed")){var a=e.edgeToBeUpdateMap;if(a){var o=Object.values(a);o.length&&(o.forEach(function(s){var l=s.edge;if(l&&!l.destroyed){var c=l.getSource(),u=l.getTarget();!c||c.destroyed||!u||u.destroyed||l.refresh(s.updateType)}}),e.edgeToBeUpdateMap={})}}},16,{trailing:!0,leading:!0}),this.graph=t,this.destroyed=!1}return r.prototype.addItem=function(t,e){var n=this.graph,i="vedge"===t?Wb:t,a=n.get("".concat(i,"Group"))||n.get("group"),o=(0,ue.upperFirst)(i),s=null,l=n.get(i+(0,ue.upperFirst)(Sf))||{},c=n.get("default"+o);e[Sf]&&(l=e[Sf]),c&&(0,ue.each)(c,function(ke,Re){e[Re]=(0,ue.isObject)(ke)&&!(0,ue.isArray)(ke)?(0,ue.deepMix)({},ke,e[Re]):(0,ue.isArray)(ke)?e[Re]||(0,ue.clone)(c[Re]):e[Re]||c[Re]});var u=n.get(i+"Mapper");if(u){var d=u(e);d[Sf]&&(l=d[Sf],delete d[Sf]),(0,ue.each)(d,function(ke,Re){e[Re]=(0,ue.isObject)(ke)&&!(0,ue.isArray)(ke)?(0,ue.deepMix)({},e[Re],ke):d[Re]||e[Re]})}if(n.emit("beforeadditem",{type:t,model:e}),t===Wb||"vedge"===t){var h=void 0,v=void 0;if(v=e.target,(h=e.source)&&(0,ue.isString)(h)&&(h=n.findById(h)),v&&(0,ue.isString)(v)&&(v=n.findById(v)),!h||!v)return void console.warn("The source or target node of edge ".concat(e.id," does not exist!"));h.getType&&"combo"===h.getType()&&(e.isComboEdge=!0),v.getType&&"combo"===v.getType()&&(e.isComboEdge=!0),s=new FB({model:e,source:h,target:v,styles:l,linkCenter:n.get("linkCenter"),group:a.addGroup()})}else if(t===Hb)s=new VM({model:e,styles:l,group:a.addGroup()});else if(t===O0){var y=e.children,D=Cb(y,n),F=void 0,K=void 0;isNaN(D.x)?isNaN(e.x)&&(F=100*Math.random()):F=D.x,isNaN(D.y)?isNaN(e.y)&&(K=100*Math.random()):K=D.y,isNaN(e.x)||isNaN(e.y)?(e.x=F,e.y=K):this.updateComboSucceeds(e.id,e.x-F,e.y-K,y);var de=a.addGroup();de.setZIndex(e.depth),s=new UB({model:e,styles:l,animate:n.get("animate"),bbox:e.collapsed?Cb([],n):D,group:de}),!e.collapsed&&"circle"===s.getKeyShape().get("type")&&(D.width=Math.hypot(D.height,D.width),D.height=D.width,s.set("bbox",D),s.refresh());var Ee=s.getModel();(y||[]).forEach(function(ke){var Re=n.findById(ke.id);s.addChild(Re),ke.depth=Ee.depth+2})}if(s)return s.setOptimize(n.getNodes().length>n.get("optimizeThreshold")),n.get("".concat(t,"s")).push(s),n.get("itemMap")[s.get("id")]=s,n.emit("afteradditem",{item:s,model:e}),s},r.prototype.updateItem=function(t,e){var i,a,n=this,o=this.graph;if((0,ue.isString)(t)&&(t=o.findById(t)),t&&!t.destroyed){var s="";t.getType&&(s=t.getType());var l=o.get(s+"Mapper"),c=t.getModel(),u=c.x,d=c.y,h=t.getUpdateType(e);if(l){var y=l((0,ue.deepMix)({},c,e)),D=(0,ue.deepMix)({},c,y,e);y[Sf]&&(t.set("styles",D[Sf]),delete D[Sf]),(0,ue.each)(D,function(ct,Nt){e[Nt]=ct})}else(0,ue.each)(e,function(ct,Nt){c[Nt]&&(0,ue.isObject)(ct)&&!(0,ue.isArray)(ct)&&(e[Nt]=(0,Me.__assign)((0,Me.__assign)({},c[Nt]),e[Nt]))});if(o.emit("beforeupdateitem",{item:t,cfg:e}),s===Wb){if(e.source){var F=e.source;(0,ue.isString)(F)&&(F=o.findById(F)),t.setSource(F)}if(e.target){var K=e.target;(0,ue.isString)(K)&&(K=o.findById(K)),t.setTarget(K)}t.update(e)}else if(s===Hb){t.update(e,h);var Q=t.getEdges();"move"===h?(0,ue.each)(Q,function(ct){n.edgeToBeUpdateMap[ct.getID()]={edge:ct,updateType:h},n.throttleRefresh()}):h?.includes("bbox")&&(0,ue.each)(Q,function(ct){ct.refresh(h)})}else if(s===O0){t.update(e,h),isNaN(e.x)&&isNaN(e.y)||this.updateComboSucceeds(c.id,e.x-u||0,e.y-d||0);var Ee=t.getEdges();if((h?.includes("bbox")||"move"===h)&&s===O0){var Re=t.get("shapeFactory");(void 0===c.animate||void 0===e.animate?null===(a=null===(i=Re[c.type||"circle"])||void 0===i?void 0:i.options)||void 0===a?void 0:a.animate:c.animate||e.animate)?setTimeout(function(){if(t&&!t.destroyed){var ct=t.getKeyShape();!ct||ct.destroyed||(0,ue.each)(Ee,function(Nt){Nt&&!Nt.destroyed&&Nt.refresh()})}},201):(0,ue.each)(Ee,function(ct){ct.refresh()})}}t.setOptimize(o.getNodes().length>o.get("optimizeThreshold")),o.emit("afterupdateitem",{item:t,cfg:e})}},r.prototype.updateCombo=function(t,e,n){var a,o,i=this,s=this.graph;if((0,ue.isString)(t)&&(t=s.findById(t)),t&&!t.destroyed){var l=t.getModel(),c=Cb(e,s,t),u=c.x,d=c.y;t.set("bbox",c);var h=u,v=d;n?(h=isNaN(l.x)?u:l.x,v=isNaN(l.y)?d:l.y):(h=isNaN(u)?l.x:u,v=isNaN(d)?l.y:d),t.update({x:h,y:v});var y=t.get("shapeFactory");(void 0===l.animate?null===(o=null===(a=y[l.type||"circle"])||void 0===a?void 0:a.options)||void 0===o?void 0:o.animate:l.animate)?setTimeout(function(){if(t&&!t.destroyed){var K=t.getKeyShape();!K||K.destroyed||(t.getShapeCfg(l),i.updateComboEdges(t))}},201):this.updateComboEdges(t)}},r.prototype.updateComboEdges=function(t){for(var e,n,i=t.getEdges()||[],a=0;a<i.length;a++){var o=i[a];!o?.destroyed&&(null===(e=o?.getSource())||void 0===e||!e.destroyed)&&(null===(n=o?.getTarget())||void 0===n||!n.destroyed)&&o.refresh()}},r.prototype.collapseCombo=function(t,e){void 0===e&&(e=!0);var n=this.graph;(0,ue.isString)(t)&&(t=n.findById(t));var i=t.getChildren();i.nodes.forEach(function(a){n.hideItem(a,e)}),i.combos.forEach(function(a){n.hideItem(a,e)})},r.prototype.updateComboSucceeds=function(t,e,n,i){var a=this;void 0===i&&(i=[]);var o=this.graph;if(e||n){var s=i;s?.length||o.get("comboTrees")?.forEach(function(c){sl(c,function(u){return u.id!==t||(s=u.children,!1)})}),s?.forEach(function(c){var u=o.findById(c.id);if(u){var d=u.getModel();a.updateItem(c.id,{x:(d.x||0)+e,y:(d.y||0)+n})}})}},r.prototype.expandCombo=function(t,e){void 0===e&&(e=!0);var n=this.graph;(0,ue.isString)(t)&&(t=n.findById(t));var i=t.getChildren(),a=new Set;i.nodes.forEach(function(o){n.showItem(o,e),o.getEdges().forEach(function(s){return a.add(s)})}),i.combos.forEach(function(o){o.getModel().collapsed?o.show():n.showItem(o,e),o.getEdges().forEach(function(s){return a.add(s)})}),a.forEach(function(o){return o.refresh()})},r.prototype.removeItem=function(t){var e=this,n=this.graph;if((0,ue.isString)(t)&&(t=n.findById(t)),t&&!t.destroyed){var i=(0,ue.clone)(t.getModel()),a="";t.getType&&(a=t.getType()),n.emit("beforeremoveitem",{item:i,type:a});var o=n.get("".concat(a,"s")),s=o.indexOf(t);if(s>-1&&o.splice(s,1),a===Wb){var l=n.get("v".concat(a,"s")),c=l.indexOf(t);c>-1&&l.splice(c,1)}var u=t.get("id");delete n.get("itemMap")[u];var h=n.get("comboTrees"),v=t.get("id");if(a===Hb){var y=t.getModel().comboId;if(h&&y){var D=h,F=!1;h.forEach(function(ke){F||sl(ke,function(Re){if(Re.id===v&&D){var tt=D.indexOf(Re);return D.splice(tt,1),F=!0,!1}return D=Re.children,!0})})}for(var Q=(K=t.getEdges()).length-1;Q>=0;Q--)n.removeItem(K[Q],!1);y&&n.updateCombo(y)}else if(a===O0){var de,K,J=t.getModel().parentId,Ee=!1;for((h||[]).forEach(function(Re){Ee||sl(Re,function(tt){return tt.id!==v||(de=tt,Ee=!0,!1)})}),de.removed=!0,de&&de.children&&de.children.forEach(function(Re){e.removeItem(Re.id)}),Q=(K=t.getEdges()).length;Q>=0;Q--)n.removeItem(K[Q],!1);J&&n.updateCombo(J)}t.destroy(),n.emit("afterremoveitem",{item:i,type:a})}},r.prototype.setItemState=function(t,e,n){var i=this.graph,a=e;(0,ue.isString)(n)&&(a="".concat(e,":").concat(n)),!(t.hasState(a)===n&&n||(0,ue.isString)(n)&&t.hasState(a))&&(i.emit("beforeitemstatechange",{item:t,state:a,enabled:n}),t.setState(e,n),i.autoPaint(),i.emit("afteritemstatechange",{item:t,state:a,enabled:n}))},r.prototype.priorityState=function(t,e){var n=this.graph,i=t;(0,ue.isString)(t)&&(i=n.findById(t)),this.setItemState(i,e,!1),this.setItemState(i,e,!0)},r.prototype.clearItemStates=function(t,e){var n=this.graph;(0,ue.isString)(t)&&(t=n.findById(t)),n.emit("beforeitemstatesclear",{item:t,states:e}),t.clearStates(e),n.emit("afteritemstatesclear",{item:t,states:e})},r.prototype.refreshItem=function(t){var e=this.graph;(0,ue.isString)(t)&&(t=e.findById(t)),e.emit("beforeitemrefresh",{item:t}),t.refresh(),e.emit("afteritemrefresh",{item:t})},r.prototype.addCombos=function(t,e){var n=this,i=this.graph;(t||[]).forEach(function(o){Md(o,function(s){var l;return e.forEach(function(c){c.id===s.id&&(c.children=s.children,c.depth=s.depth,l=c)}),l&&n.addItem("combo",l),!0})});var a=i.get("comboGroup");a&&a.sort()},r.prototype.changeItemVisibility=function(t,e){var n=this,i=this.graph;if((0,ue.isString)(t)&&(t=i.findById(t)),t){if(i.emit("beforeitemvisibilitychange",{item:t,visible:e}),t.changeVisibility(e),t.getType&&t.getType()===Hb){var a=t.getEdges();(0,ue.each)(a,function(u){e&&(!u.get("source").isVisible()||!u.get("target").isVisible())||n.changeItemVisibility(u,e)})}else if(t.getType&&t.getType()===O0){var o=i.get("comboTrees"),s=t.get("id"),l=[],c=!1;(o||[]).forEach(function(d){c||!d.children||0===d.children.length||sl(d,function(h){return h.id!==s||(l=h.children,c=!0,!1)})}),l&&(!e||e&&!t.getModel().collapsed)&&l.forEach(function(d){var h=i.findById(d.id);n.changeItemVisibility(h,e)}),a=t.getEdges(),(0,ue.each)(a,function(d){e&&(!d.get("source").isVisible()||!d.get("target").isVisible())||n.changeItemVisibility(d,e)})}return i.emit("afteritemvisibilitychange",{item:t,visible:e}),t}console.warn("The item to be shown or hidden does not exist!")},r.prototype.destroy=function(){this.graph=null,this.destroyed=!0},r}();const Tie=Die;var Aie=function(){function r(t){this.graph=t,this.destroyed=!1}return r.prototype.updateState=function(t,e,n){var i=this.graph.get("states"),a=e;(0,ue.isString)(n)&&(a="".concat(e,":").concat(n)),i[a]||(i[a]=[]),n?i[a].push(t):i[a]=i[a].filter(function(o){return o!==t}),this.graph.set("states",i),this.graph.emit("graphstatechange",{states:i})},r.prototype.updateStates=function(t,e,n){var i=this.graph.get("states");((0,ue.isString)(e)?[e]:e).forEach(function(o){var s=o;i[s]||(i[s]=[]),(0,ue.isString)(n)&&(s="".concat(o,":").concat(n)),n?i[s].push(t):i[s]=i[s].filter(function(l){return l!==t})}),this.graph.set("states",i),this.graph.emit("graphstatechange",{states:e})},r.prototype.destroy=function(){this.graph=null,this.destroyed=!0},r}();const Iie=Aie;var Oie=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(n,i){if("\\"===n.charAt(0))return n.slice(1);var a=e[i];return 0===a&&(a="0"),a||""}):t},WB=function(t){var e=[];if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));for(var n=0,i=t;n<i.length;n++){var a=i[n],s=a.y;e.push(a.x),e.push(s)}var l=vB(e);return l.unshift(["M",t[0].x,t[0].y]),l},Yb=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var a={x:(1-n)*t.x+n*e.x,y:(1-n)*t.y+n*e.y},o=[0,0];$r.normalize(o,[e.x-t.x,e.y-t.y]),(!o||!o[0]&&!o[1])&&(o=[0,0]);var s=[-o[1]*i,o[0]*i];return a.x+=s[0],a.y+=s[1],a},kie=function(t,e){var n=t.length;if(!n)return"";for(var i="",o=0;o<n;o++)i+=Oie(0===o?"M{x} {y}":"L{x} {y}",t[o]);return e&&(i+="Z"),i},jM=function(t){var e=[];return t.forEach(function(n){if("A"!==n[0])for(var a=1;a<n.length;a+=2)e.push([n[a],n[a+1]]);else{var o=n.length;e.push([n[o-2],n[o-1]])}}),e},UM=function(t){if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));var e=t[0],n=t[1],i=t[t.length-1],a=t[t.length-2];t.unshift(i),t.unshift(a),t.push(e),t.push(n);for(var o=[],s=1;s<t.length-2;s+=1){var u=t[s].x,d=t[s].y,h=t[s+1].x,v=t[s+1].y;o.push(["C",u+(h-t[s-1].x)/6,d+(v-t[s-1].y)/6,h-((s!==t.length-2?t[s+2].x:h)-u)/6,v-((s!==t.length-2?t[s+2].y:v)-d)/6,h,v])}return o.unshift(["M",i.x,i.y]),o},YB=function(t,e){return $r.scale([0,0],$r.normalize([0,0],t),e)},$B=function(t,e){var n=[t[1]-e[1],e[0]-t[0]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===i)throw new Error("p0 should not be equal to p1");return[n[0]/i,n[1]/i]},XB=function(t,e){return[e[0]-t[0],e[1]-t[1]]};function GM(r,t){var d,h,v;if(!r||r.length<1)return"";if(1===r.length)return v=[(d=r)[0][0],d[0][1]+t],"M ".concat(h=[d[0][0],d[0][1]-t]," A ").concat(t,",").concat(t,",0,0,0,").concat(v," A ").concat(t,",").concat(t,",0,0,0,").concat(h);if(2===r.length)return function(d){var h=$r.scale([0,0],$B(d[0],d[1]),t),v=$r.scale([0,0],h,-1),y=$r.add([0,0],d[0],h),D=$r.add([0,0],d[1],h),F=$r.add([0,0],d[1],v),K=$r.add([0,0],d[0],v);return"M ".concat(y," L ").concat(D," A ").concat([t,t,"0,0,0",F].join(",")," L ").concat(K," A ").concat([t,t,"0,0,0",y].join(","))}(r);for(var i=new Array(r.length),a=0;a<i.length;++a){var o=0===a?r[r.length-1]:r[a-1],s=r[a],l=$r.scale([0,0],$B(o,s),t);i[a]=[$r.add([0,0],o,l),$r.add([0,0],s,l)]}var c="A ".concat([t,t,"0,0,0,"].join(","));return i=i.map(function(u,d){var h="";return 0===d&&(h="M ".concat(i[i.length-1][1]," ")),h+"".concat(c+u[0]," L ").concat(u[1])}),i.join(" ")}function KB(r,t){var u,d,h,e=r.length;if(!r||e<1)return"";if(1===e)return h=[(u=r)[0][0],u[0][1]+t],"M ".concat(d=[u[0][0],u[0][1]-t]," A ").concat([t,t,"0,0,0",h].join(",")," A ").concat([t,t,"0,0,0",d].join(","));if(2===e)return function(u){var d=XB(u[0],u[1]),h=YB(d,t),v=$r.add([0,0],u[0],$r.scale([0,0],h,-1)),y=$r.add([0,0],u[1],h),D=1.2*t,F=YB($r.normalize([0,0],d),D),K=$r.scale([0,0],F,-1),Q=$r.add([0,0],v,K),J=$r.add([0,0],y,K),de=$r.add([0,0],v,F);return"M ".concat(v," C ").concat([Q,J,y].join(",")," S ").concat([de,v].join(",")," Z")}(r);for(var a=r.map(function(c,u){return{p:c,v:$r.normalize([0,0],XB(c,r[(u+1)%e]))}}),o=0;o<a.length;++o){var l=$r.normalize([0,0],$r.add([0,0],a[o>0?o-1:e-1].v,$r.scale([0,0],a[o].v,-1)));a[o].p=$r.add([0,0],a[o].p,$r.scale([0,0],l,t))}return a.map(function(c){var u=c.p;return{x:u[0],y:u[1]}})}var Nie=function(t,e){for(var n=[],i=0;i<5;i++){var a=Math.cos((18+72*i)/180*Math.PI)*t,o=Math.sin((18+72*i)/180*Math.PI)*t,s=Math.cos((54+72*i)/180*Math.PI)*e,l=Math.sin((54+72*i)/180*Math.PI)*e;n.push(0===i?["M",a,-o]:["L",a,-o]),n.push(["L",s,-l])}return n.push(["Z"]),n},qB=function(t,e,n){return(t.y-n.y)*(e.x-n.x)-(t.x-n.x)*(e.y-n.y)},ZB=function(t){var e=t.map(function(d){return{x:d.getModel().x,y:d.getModel().y}});e.sort(function(d,h){return d.x===h.x?d.y-h.y:d.x-h.x});for(var n={},i=e.length-1;i>=0;i--){var a=e[i],o=a.x,s=a.y;n["".concat(o,"-").concat(s)]&&e.splice(i,1),n["".concat(o,"-").concat(s)]=!0}if(1===e.length)return e;var l=[];for(i=0;i<e.length;i++){for(;l.length>=2&&qB(l[l.length-2],l[l.length-1],e[i])<=0;)l.pop();l.push(e[i])}var c=[];for(i=e.length-1;i>=0;i--){for(;c.length>=2&&qB(c[c.length-2],c[c.length-1],e[i])<=0;)c.pop();c.push(e[i])}return c.pop(),l.pop(),l.concat(c)},Pie={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Rie(r,t,e){var n=!1,i=function(l,c){return t.cells[l+c*t.width]},a=function(l,c){var u=0;return i(l-1,c-1)>=e&&(u+=1),i(l,c-1)>e&&(u+=2),i(l-1,c)>e&&(u+=4),i(l,c)>e&&(u+=8),u},o=function(l,c){for(var h,v,u=l,d=c,y=0;y<t.width*t.height;y++){if(h=u,v=d,r.findIndex(function(F){return F.x===u&&F.y===d})>-1){if(r[0].x===u&&r[0].y===d)return!0}else r.push({x:u,y:d});var D=a(u,d);switch(D){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:u++;break;case 12:case 14:case 4:u--;break;case 6:0===h&&(-1===v?u-=1:u+=1);break;case 1:case 13:case 5:d--;break;case 9:1===h&&(0===v?d-=1:d+=1);break;case 10:case 8:case 11:d++;break;default:return console.warn("Marching squares invalid state: ".concat(D)),!0}}};this.march=function(){for(var s=0;s<t.width&&!n;s+=1)for(var l=0;l<t.height&&!n;l+=1)i(s,l)>e&&15!==a(s,l)&&(n=o(s,l));return n}}var QB=function(t,e){var n=Number.POSITIVE_INFINITY,i=null;return t.forEach(function(a){var o=YS(a,e);o>=0&&o<n&&(i=a,n=o)}),i},Vie=function(t,e,n){var i=Object.assign(Pie,n),a=_L(t.map(function(Q){return{x:Q.getModel().x,y:Q.getModel().y}}));t=t.sort(function(Q,J){return wb({x:Q.getModel().x,y:Q.getModel().y},a)-wb({x:J.getModel().x,y:J.getModel().y},a)});var o=[],s=[];t.forEach(function(Q){var J=function zie(r,t,e,n,i){var a=function(t,e,n){var i=null,a=Number.POSITIVE_INFINITY;return e.forEach(function(o){var s={x:t.getModel().x,y:t.getModel().y},l={x:o.getModel().x,y:o.getModel().y},c=wb(s,l),u=new zp(s.x,s.y,l.x,l.y),d=n.reduce(function(h,v){return YS(v,u)>0?h+1:h},0);c*Math.pow(d+1,2)<a&&(i=o,a=c*Math.pow(d+1,2))}),i}(r,e,t);return null===a?[]:function(d){for(var h=[];d.length>0;){var v=d.pop();if(0===d.length){h.push(v);break}var y=d.pop(),D=new zp(v.x1,v.y1,y.x2,y.y2);QB(t,D)?(h.push(v),d.push(y)):d.push(D)}return h}(function(t,e,n,i){var a=[],o=[];o.push(t);for(var s=!0,l=0,c=function(v,y){var D=!1;return y.forEach(function(F){D||($S(v,{x:F.x1,y:F.y1})||$S(v,{x:F.x2,y:F.y2}))&&(D=!0)}),D},u=function(v,y){for(var D=0,F=y;D<F.length;D++){var Q=F[D].getBBox();if(_0([[Q.x,Q.y],[Q.x+Q.width,Q.y],[Q.x,Q.y+Q.height],[Q.x+Q.width,Q.y+Q.height]],v.x,v.y))return!0}return!1};s&&l<n;){s=!1;for(var d=function(){var v=o.pop(),y=QB(e,v);if(y){var D=yL(y,v),F=D[0];if(2===D[1]){var Q=function(de){for(var Ee=i,ke=JB(y,Ee,F,de),Re=c(ke,o)||c(ke,a),tt=u(ke,e);!Re&&tt&&Ee>=1;)ke=JB(y,Ee/=1.5,F,de),Re=c(ke,o)||c(ke,a),tt=u(ke,e);ke&&!Re&&(!de||!tt)&&(o.push(new zp(v.x1,v.y1,ke.x,ke.y)),o.push(new zp(ke.x,ke.y,v.x2,v.y2)),s=!0)};Q(!0),s||Q(!1)}}s||a.push(v),l+=1};!s&&o.length;)d()}for(;o.length;)a.push(o.pop());return a}(new zp(r.getModel().x,r.getModel().y,a.getModel().x,a.getModel().y),t,n,i))}(Q,e,o,i.maxRoutingIterations,i.morphBuffer);J.forEach(function(de){s.push(de)}),o.push(Q)});for(var l=function jie(r,t,e){var n={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];r.forEach(function(l){i.push(l.getBBox())}),t.forEach(function(l){i.push(l.getBBox())});for(var a=0,o=i;a<o.length;a++){var s=o[a];n.minX=(s.minX<n.minX?s.minX:n.minX)-e,n.minY=(s.minY<n.minY?s.minY:n.minY)-e,n.maxX=(s.maxX>n.maxX?s.maxX:n.maxX)+e,n.maxY=(s.maxY>n.maxY?s.maxY:n.maxY)+e}return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.x=n.minX,n.y=n.minY,n}(t,s,i.nodeR0),c=function(t,e,n){var i=Math.ceil(t/n),a=Math.ceil(e/n);return{cells:new Float32Array(Math.max(0,i*a)).fill(0),width:i,height:a}}(l.width,l.height,i.pixelGroupSize),u=[],d=[],h=0;h<i.maxMarchingIterations;h++)if(Uie(t,e,s,l,c,i),d=[],new Rie(u=[],c,i.threshold).march()){var v=u.map(function(Q){return{x:Math.round(Q.x*i.pixelGroupSize+l.minX),y:Math.round(Q.y*i.pixelGroupSize+l.minY)}});if(v){var y=v.length;if(i.skip>1)for(y=Math.floor(v.length/i.skip);y<3&&i.skip>1;)i.skip-=1,y=Math.floor(v.length/i.skip);for(var D=0,F=0;F<y;F+=1,D+=i.skip)d.push({x:v[D].x,y:v[D].y})}if(d&&function(){for(var J=0,de=t;J<de.length;J++){var Ee=de[J],ke=d.map(function(Re){return[Re.x,Re.y]});if(!_0(ke,Ee.getBBox().centerX,Ee.getBBox().centerY))return!1}return!0}())return d;if(i.threshold*=.9,h<=.5*i.maxMarchingIterations)i.memberInfluenceFactor*=1.2,i.edgeInfluenceFactor*=1.2;else{if(!(0!==i.nonMemberInfluenceFactor&&e.length>0))break;i.nonMemberInfluenceFactor*=.8}}return d};function Uie(r,t,e,n,i,a){function o(v,y){var D=Math.floor((v-y)/a.pixelGroupSize);return D<0?0:D}function s(v,y){return v*a.pixelGroupSize+y}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),c=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),u=function(y,D){return[Math.min(o(y.minX,D+n.minX),i.width),Math.min(o(y.minY,D+n.minY),i.height),Math.min(o(y.maxX,-D+n.minX),i.width),Math.min(o(y.maxY,-D+n.minY),i.height)]},d=function(y,D){for(var F=y.getBBox(),K=u(F,a.nodeR1),Q=K[0],de=K[2],Ee=K[3],ke=K[1];ke<Ee;ke+=1)for(var Re=Q;Re<de;Re+=1)if(!(D<0&&i[Re+ke*i.width]<=0)){var tt=s(Re,n.minX),xt=s(ke,n.minY),ct=xL({x:tt,y:xt},{x:F.minX,y:F.minY,width:F.width,height:F.height});if(ct<Math.pow(a.nodeR1,2)){var Nt=Math.sqrt(ct)-a.nodeR1;i.cells[Re+ke*i.width]+=D*Nt*Nt}}};a.nodeInfluenceFactor&&r.forEach(function(v){d(v,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&e.forEach(function(v){!function(y,D){for(var F=y.getBBox(),K=u(F,a.edgeR1),Q=K[0],de=K[2],Ee=K[3],ke=K[1];ke<Ee;ke+=1)for(var Re=Q;Re<de;Re+=1)if(!(D<0&&i.cells[Re+ke*i.width]<=0)){var tt=s(Re,n.minX),xt=s(ke,n.minY),ct=bL({x:tt,y:xt},y);if(ct<Math.pow(a.edgeR1,2)){var Nt=Math.sqrt(ct)-a.edgeR1;i.cells[Re+ke*i.width]+=D*Nt*Nt}}}(v,a.edgeInfluenceFactor/c)}),a.negativeNodeInfluenceFactor&&t.forEach(function(v){d(v,a.negativeNodeInfluenceFactor/l)})}function JB(r,t,e,n){var i=r.getBBox(),a=e[0],o=e[1],s=e[2],l=e[3],c={topLeft:{x:i.minX-t,y:i.minY-t},topRight:{x:i.maxX+t,y:i.minY-t},bottomLeft:{x:i.minX-t,y:i.maxY+t},bottomRight:{x:i.maxX+t,y:i.maxY+t}},u=i.height*i.width;function d(y,D){return i.width*(.5*(y.y-i.minY+(D.y-i.minY)))}if(o)return a?n?c.topLeft:c.bottomRight:s?n?c.bottomLeft:c.topRight:d(o,l)<.5*u?o.y>l.y?n?c.topLeft:c.bottomRight:n?c.topRight:c.bottomLeft:o.y<l.y?n?c.bottomLeft:c.topRight:n?c.bottomRight:c.topLeft;if(l){if(a)return n?c.topRight:c.bottomLeft;if(s)return n?c.bottomRight:c.topLeft}return d(a,s)<.5*u?a.x>s.x?n?c.topLeft:c.bottomRight:n?c.bottomLeft:c.topRight:a.x<s.x?n?c.topRight:c.bottomLeft:n?c.bottomRight:c.topLeft}var Gie=function(){function r(t,e){this.cfg=(0,ue.deepMix)(this.getDefaultCfg(),e),this.graph=t,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(n){return(0,ue.isString)(n)?t.findById(n):n}),this.nonMembers=this.cfg.nonMembers.map(function(n){return(0,ue.isString)(n)?t.findById(n):n}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return r.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},r.prototype.setPadding=function(){var t=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+t:10+t,this.cfg.bubbleCfg={nodeR0:this.padding-t,nodeR1:this.padding-t,morphBuffer:this.padding-t}},r.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},r.prototype.calcPath=function(t,e){var n,i,a;switch(this.type){case"round-convex":i=DM(a=GM((n=ZB(t)).map(function(o){return[o.x,o.y]}),this.padding));break;case"smooth-convex":2===(n=ZB(t)).length?i=DM(a=GM(n.map(function(o){return[o.x,o.y]}),this.padding)):n.length>2&&(a=KB(n.map(function(o){return[o.x,o.y]}),this.padding),i=UM(a));break;case"bubble":i=(n=Vie(t,e,this.cfg.bubbleCfg)).length>=2&&UM(n)}return i},r.prototype.render=function(){this.group.addShape("path",{attrs:(0,Me.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},r.prototype.addMember=function(t){if(t){(0,ue.isString)(t)&&(t=this.graph.findById(t)),this.members.push(t);var e=this.nonMembers.indexOf(t);return e>-1&&this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},r.prototype.addNonMember=function(t){if(t){(0,ue.isString)(t)&&(t=this.graph.findById(t)),this.nonMembers.push(t);var e=this.members.indexOf(t);return e>-1&&this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},r.prototype.removeMember=function(t){if(t){(0,ue.isString)(t)&&(t=this.graph.findById(t));var e=this.members.indexOf(t);return e>-1&&(this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},r.prototype.removeNonMember=function(t){if(t){(0,ue.isString)(t)&&(t=this.graph.findById(t));var e=this.nonMembers.indexOf(t);return e>-1&&(this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},r.prototype.updateData=function(t,e){var n=this;this.group.findById(this.id).remove(),t&&(this.members=t.map(function(i){return(0,ue.isString)(i)?n.graph.findById(i):i})),e&&(this.nonMembers=e.map(function(i){return(0,ue.isString)(i)?n.graph.findById(i):i})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},r.prototype.updateStyle=function(t){this.group.findById(this.id).attr((0,Me.__assign)({},t))},r.prototype.updateCfg=function(t){var e=this;this.cfg=(0,ue.deepMix)(this.cfg,t),this.id=this.cfg.id,this.group=this.cfg.group,t.members&&(this.members=this.cfg.members.map(function(n){return(0,ue.isString)(n)?e.graph.findById(n):n})),t.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(n){return(0,ue.isString)(n)?e.graph.findById(n):n})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},r.prototype.contain=function(t){var n,i,e=this,a=(n=(0,ue.isString)(t)?this.graph.findById(t):t).getKeyShape();if("path"===n.get("type"))i=jM(a.attr("path"));else{var o=a.getCanvasBBox();i=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return i=i.map(function(s){var l=e.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),mL(i,jM(this.path))},r.prototype.destroy=function(){this.group.remove(),this.cfg=null},r}();const e3=Gie;var k0=Yc,Wie=function(r){function t(e){var n=r.call(this)||this;return n.sortCombos=(0,ue.debounce)(function(){var i=n.get("comboSorted");if(n&&!n.destroyed&&!i){n.set("comboSorted",!0);var a=[],o={};(n.get("comboTrees")||[]).forEach(function(c){sl(c,function(u){return a[u.depth]?a[u.depth].push(u.id):a[u.depth]=[u.id],o[u.id]=u.depth,!0})}),(n.getEdges().concat(n.get("vedges"))||[]).forEach(function(c){var u=c.getModel(),v=Math.max(o[u.source]||0,o[u.target]||0);a[v]?a[v].push(u.id):a[v]=[u.id]}),a.forEach(function(c){if(c&&c.length)for(var u=c.length-1;u>=0;u--){var d=n.findById(c[u]);d&&d.toFront()}})}},500,!1),n.cfg=(0,ue.deepMix)(n.getDefaultCfg(),e),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new Cg(n.cfg.maxStep),n.redoStack=new Cg(n.cfg.maxStep)),n}return(0,Me.__extends)(t,r),t.prototype.init=function(){this.initCanvas();var e=new vie(this),n=new wte(this),i=new Tie(this),a=new Iie(this);this.set({viewController:e,modeController:n,itemController:i,stateController:a}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},t.prototype.initGroups=function(){var e=this.get("canvas");if(e){var i=(e.get("el")||{}).id,a=void 0===i?"g6":i,o=e.addGroup({id:"".concat(a,"-root"),className:Rr.rootContainerClassName});if(this.get("groupByTypes")){var s=o.addGroup({id:"".concat(a,"-edge"),className:Rr.edgeContainerClassName}),l=o.addGroup({id:"".concat(a,"-node"),className:Rr.nodeContainerClassName}),c=o.addGroup({id:"".concat(a,"-combo"),className:Rr.comboContainerClassName});c.toBack(),this.set({nodeGroup:l,edgeGroup:s,comboGroup:c})}var u=o.addGroup({id:"".concat(a,"-delegate"),className:Rr.delegateContainerClassName});this.set({delegateGroup:u}),this.set("group",o)}},t.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.02,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[],optimizeThreshold:1e3}},t.prototype.set=function(e,n){return(0,ue.isPlainObject)(e)?this.cfg=(0,Me.__assign)((0,Me.__assign)({},this.cfg),e):this.cfg[e]=n,"enabledStack"===e&&n&&!this.undoStack&&!this.redoStack&&(this.undoStack=new Cg(this.cfg.maxStep),this.redoStack=new Cg(this.cfg.maxStep)),this},t.prototype.get=function(e){var n;return null===(n=this.cfg)||void 0===n?void 0:n[e]},t.prototype.getGroup=function(){return this.get("group")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.getMinZoom=function(){return this.get("minZoom")},t.prototype.setMinZoom=function(e){return this.set("minZoom",e)},t.prototype.getMaxZoom=function(){return this.get("maxZoom")},t.prototype.setMaxZoom=function(e){return this.set("maxZoom",e)},t.prototype.getWidth=function(){return this.get("width")},t.prototype.getHeight=function(){return this.get("height")},t.prototype.clearItemStates=function(e,n){(0,ue.isString)(e)&&(e=this.findById(e));var i=this.get("itemController");n||(n=e.get("states")),i.clearItemStates(e,n),this.get("stateController").updateStates(e,n,!1)},t.prototype.node=function(e){"function"==typeof e&&this.set("nodeMapper",e)},t.prototype.edge=function(e){"function"==typeof e&&this.set("edgeMapper",e)},t.prototype.combo=function(e){"function"==typeof e&&this.set("comboMapper",e)},t.prototype.findById=function(e){return this.get("itemMap")[e]},t.prototype.find=function(e,n){var i,a=this.get("".concat(e,"s"));return(0,ue.each)(a,function(o,s){if(n(o,s))return i=o}),i},t.prototype.findAll=function(e,n){var i=[];return(0,ue.each)(this.get("".concat(e,"s")),function(a,o){n(a,o)&&i.push(a)}),i},t.prototype.findAllByState=function(e,n,i){return this.findAll(e,i?function(a){return a.hasState(n)&&i(a)}:function(a){return a.hasState(n)})},t.prototype.translate=function(e,n,i,a){var o=this,s=this.get("group"),l=(0,ue.clone)(s.getMatrix());if(l||(l=[1,0,0,0,1,0,0,0,1]),i){var c=b0({animateCfg:a,callback:function(){return o.emit("viewportchange",{action:"translate",matrix:s.getMatrix()})}});HS(s,{x:s.getCanvasBBox().x+e,y:s.getCanvasBBox().y+n},i,c||{duration:500,easing:"easeCubic"})}else l=k0(l,[["t",e,n]]),s.setMatrix(l),this.emit("viewportchange",{action:"translate",matrix:l}),this.autoPaint()},t.prototype.moveTo=function(e,n,i,a){var o=this.get("group");HS(o,{x:e,y:n},i,a||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:o.getMatrix()})},t.prototype.fitView=function(e,n,i,a){e&&this.set("fitViewPadding",e);var o=this.get("viewController");n?o.fitViewByRules(n,i,a):o.fitView(i,a),this.autoPaint()},t.prototype.fitCenter=function(e,n){this.get("viewController").fitCenter(e,n),this.autoPaint()},t.prototype.addBehaviors=function(e,n){return this.get("modeController").manipulateBehaviors(e,n,!0),this},t.prototype.removeBehaviors=function(e,n){return this.get("modeController").manipulateBehaviors(e,n,!1),this},t.prototype.updateBehavior=function(e,n,i){return this.get("modeController").updateBehavior(e,n,i),this},t.prototype.zoom=function(e,n,i,a){var o=this,s=this.get("group"),l=(0,ue.clone)(s.getMatrix())||[1,0,0,0,1,0,0,0,1],c=this.get("minZoom"),u=this.get("maxZoom"),d=this.getZoom()||1,h=d*e,v=e,y=!1;if(c&&h<c?(v=c/d,y=!0):u&&h>u&&(v=u/d,y=!0),l=k0(l,n?[["t",-n.x,-n.y],["s",v,v],["t",n.x,n.y]]:[["s",v,v]]),i){var D=(0,ue.clone)(s.getMatrix());D||(D=[1,0,0,0,1,0,0,0,1]);var F=D[0],K=F*v,Q=b0({animateCfg:a,callback:function(){return o.emit("viewportchange",{action:"zoom",matrix:s.getMatrix()})}});s.animate(function(J){if(1===J)D=l;else{var de=XS(F,K,J)/D[0];D=k0(D,n?[["t",-n.x,-n.y],["s",de,de],["t",n.x,n.y]]:[["s",de,de]])}return{matrix:D}},Q)}else s.setMatrix(l),this.emit("viewportchange",{action:"zoom",matrix:l}),this.autoPaint();return!y},t.prototype.zoomTo=function(e,n,i,a){var o=e/this.getZoom();return this.zoom(o,n,i,a)},t.prototype.focusItem=function(e,n,i){var a=this.get("viewController"),o=!1;n?o=!0:void 0===n&&(o=this.get("animate"));var s={};i?s=i:void 0===i&&(s=this.get("animateCfg")),a.focus(e,o,s),this.autoPaint()},t.prototype.focusItems=function(e,n,i,a){this.get("viewController").focusItems(e,n,i,a)},t.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},t.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},t.prototype.getPointByClient=function(e,n){return this.get("viewController").getPointByClient(e,n)},t.prototype.getClientByPoint=function(e,n){return this.get("viewController").getClientByPoint(e,n)},t.prototype.getPointByCanvas=function(e,n){return this.get("viewController").getPointByCanvas(e,n)},t.prototype.getCanvasByPoint=function(e,n){return this.get("viewController").getCanvasByPoint(e,n)},t.prototype.getGraphCenterPoint=function(){var e=this.get("group").getCanvasBBox();return{x:(e.minX+e.maxX)/2,y:(e.minY+e.maxY)/2}},t.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},t.prototype.showItem=function(e,n){void 0===n&&(n=!0);var a=this.get("itemController").changeItemVisibility(e,!0);if(n&&this.get("enabledStack")){var o=a.getID(),l={},c={};switch(a.getType()){case"node":l.nodes=[{id:o,visible:!1}],c.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],c.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],c.combos=[{id:o,visible:!0}]}this.pushStack("visible",{before:l,after:c})}},t.prototype.hideItem=function(e,n){void 0===n&&(n=!0);var a=this.get("itemController").changeItemVisibility(e,!1);if(n&&this.get("enabledStack")){var o=a.getID(),l={},c={};switch(a.getType()){case"node":l.nodes=[{id:o,visible:!0}],c.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],c.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],c.combos=[{id:o,visible:!1}]}this.pushStack("visible",{before:l,after:c})}},t.prototype.refreshItem=function(e){this.get("itemController").refreshItem(e)},t.prototype.setAutoPaint=function(e){this.set("autoPaint",e),this.get("canvas").set("autoDraw",e)},t.prototype.remove=function(e,n){void 0===n&&(n=!0),this.removeItem(e,n)},t.prototype.removeItem=function(e,n){void 0===n&&(n=!0);var i=e;if((0,ue.isString)(e)&&(i=this.findById(e)),!i&&(0,ue.isString)(e))console.warn("The item ".concat(e," to be removed does not exist!"));else if(i){var a="";if(i.getType&&(a=i.getType()),n&&this.get("enabledStack")){var o=(0,Me.__assign)((0,Me.__assign)({},i.getModel()),{itemType:a}),s={};switch(a){case"node":s.nodes=[o],s.edges=[];for(var l=i.getEdges(),c=l.length-1;c>=0;c--)s.edges.push((0,Me.__assign)((0,Me.__assign)({},l[c].getModel()),{itemType:"edge"}));break;case"edge":s.edges=[o];break;case"combo":s.combos=[o]}this.pushStack("delete",{before:s,after:{}})}if("node"===a&&i.getModel().comboId&&this.updateComboTree(i,void 0,!1),this.get("itemController").removeItem(i),"combo"===a){var h=eM(this.get("comboTrees"));this.set("comboTrees",h)}}},t.prototype.innerAddItem=function(e,n,i){if(!function(t,e){if("node"===t||"combo"===t){if(e.id&&!(0,ue.isString)(e.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(e.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if(!("edge"!==t||e.source&&e.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0}(e,n))return!1;if(!n.id||!this.findById(n.id)){var a,o=this.get("comboTrees")||[];if("combo"===e){var s=this.get("itemMap"),l=!1;if(o.forEach(function(y){l||Md(y,function(D){if(n.parentId===D.id){l=!0;var F=(0,Me.__assign)({id:n.id,depth:D.depth+2},n);D.children?D.children.push(F):D.children=[F],n.depth=F.depth,a=i.addItem(e,n)}var K=s[D.id];return l&&K&&K.getType&&"combo"===K.getType()&&i.updateCombo(K,D.children),!0})}),!l){var c=(0,Me.__assign)({id:n.id,depth:0},n);n.depth=c.depth,o.push(c),a=i.addItem(e,n)}this.set("comboTrees",o),n.collapsed&&(this.collapseCombo(a,!1),this.updateCombo(a))}else if("node"===e&&(0,ue.isString)(n.comboId)&&o){var u;(u=this.findById(n.comboId))&&u.getType&&"combo"!==u.getType()&&console.warn("'".concat(n.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),a=i.addItem(e,n);var d=this.get("itemMap"),h=!1,v=!1;o.forEach(function(y){v||h||Md(y,function(D){if(D.id===n.id)return v=!0,!1;if(n.comboId===D.id&&!v){h=!0;var F=(0,ue.clone)(n);F.itemType="node",D.children?D.children.push(F):D.children=[F],F.depth=D.depth+1}return h&&d[D.id].getType&&"combo"===d[D.id].getType()&&i.updateCombo(d[D.id],D.children),!0})})}else a=i.addItem(e,n);return("node"===e&&n.comboId||"combo"===e&&n.parentId)&&(u=this.findById(n.comboId||n.parentId))&&u.getType&&"combo"===u.getType()&&u.addChild(a),a}console.warn("This item exists already. Be sure the id %c".concat(n.id,"%c is unique."),"font-size: 20px; color: red;","")},t.prototype.addItem=function(e,n,i,a){void 0===i&&(i=!0),void 0===a&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController"),l=this.innerAddItem(e,n,s);if(!1===l||!0===l)return l;var c=this.get("combos");if(c&&c.length>0&&this.sortCombos(),this.autoPaint(),i&&this.get("enabledStack")){var u=(0,Me.__assign)((0,Me.__assign)({},l.getModel()),{itemType:e}),d={};switch(e){case"node":d.nodes=[u];break;case"edge":d.edges=[u];break;case"combo":d.combos=[u]}this.pushStack("add",{before:{},after:d})}return l},t.prototype.addItems=function(e,n,i){void 0===e&&(e=[]),void 0===n&&(n=!0),void 0===i&&(i=!0);var a=this.get("comboSorted");this.set("comboSorted",a&&!i);for(var o=this.get("itemController"),s=[],l=0;l<e.length;l++)s.push("edge"!==(c=e[l]).type&&"vedge"!==c.type?this.innerAddItem(c.type,c.model,o):void 0);for(l=0;l<e.length;l++){var c;("edge"===(c=e[l]).type||"vedge"===c.type)&&(s[l]=this.innerAddItem(c.type,c.model,o))}if(i){var u=this.get("combos");u&&u.length>0&&this.sortCombos()}if(this.autoPaint(),n&&this.get("enabledStack")){var d={nodes:[],edges:[],combos:[]};for(l=0;l<e.length;l++){var h=e[l].type,v=s[l];if(v&&!0!==v){var y=(0,Me.__assign)((0,Me.__assign)({},v.getModel()),{itemType:h});switch(h){case"node":d.nodes.push(y);break;case"edge":d.edges.push(y);break;case"combo":d.combos.push(y)}}}this.pushStack("addItems",{before:{},after:d})}return s},t.prototype.add=function(e,n,i,a){return void 0===i&&(i=!0),void 0===a&&(a=!0),this.addItem(e,n,i,a)},t.prototype.updateItem=function(e,n,i){var a=this;void 0===i&&(i=!0);var s,o=this.get("itemController");s=(0,ue.isString)(e)?this.findById(e):e;var c,l=i&&this.get("enabledStack");l&&(c=(0,ue.clone)(s.getModel()));var u="";s.getType&&(u=s.getType());var d=(0,Me.__spreadArray)([],s.getStates(),!0);if("combo"===u&&(0,ue.each)(d,function(D){return a.setItemState(s,D,!1)}),o.updateItem(s,n),"combo"===u&&(0,ue.each)(d,function(D){return a.setItemState(s,D,!0)}),l){var h={nodes:[],edges:[],combos:[]},v={nodes:[],edges:[],combos:[]},y=(0,Me.__assign)({id:c.id},n);switch(u){case"node":h.nodes.push(c),v.nodes.push(y);break;case"edge":h.edges.push(c),v.edges.push(y);break;case"combo":h.combos.push(c),v.combos.push(y)}this.pushStack("update",{before:h,after:v})}},t.prototype.update=function(e,n,i){void 0===i&&(i=!0),this.updateItem(e,n,i)},t.prototype.setItemState=function(e,n,i){(0,ue.isString)(e)&&(e=this.findById(e)),this.get("itemController").setItemState(e,n,i),this.get("stateController").updateState(e,n,i)},t.prototype.priorityState=function(e,n){this.get("itemController").priorityState(e,n)},t.prototype.data=function(e){kL(e),this.set("data",e)},t.prototype.render=function(){var e=this;this.set("comboSorted",!1);var n=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!n)throw new Error("data must be defined first");var i=n.nodes,a=void 0===i?[]:i,o=n.edges,s=void 0===o?[]:o,l=n.combos,c=void 0===l?[]:l;if(this.clear(!0),this.emit("beforerender"),e.addItems(a.map(function(F){return{type:"node",model:F}}),!1,!1),0!==c?.length){var u=JS(c,a);this.set("comboTrees",u),e.addCombos(c)}e.addItems(s.map(function(F){return{type:"edge",model:F}}),!1,!1);var d=e.get("animate");(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",!1);var h=e.get("layoutController");if(h){if(h.layout(v),this.destroyed)return}else v();function v(){(e.get("comboTrees")||[]).forEach(function(F){Md(F,function(K){var Q=e.findById(K.id);return"combo"===Q.getType()&&K.collapsed&&(e.collapseCombo(K.id,!1),e.updateCombo(Q)),!0})}),e.get("fitView")?e.fitView():e.get("fitCenter")&&e.fitCenter(),e.autoPaint(),e.emit("afterrender"),(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",d),setTimeout(function(){var F;null===(F=e.getCombos())||void 0===F||F.forEach(function(K){K.set("animate",!0)})},0)}this.get("groupByTypes")||(c&&0!==c.length?this.sortCombos():n.nodes&&n.edges&&n.nodes.length<n.edges.length?this.getNodes().forEach(function(F){F.toFront()}):this.getEdges().forEach(function(F){F.toBack()}))},t.prototype.read=function(e){this.data(e),this.render()},t.prototype.diffItems=function(e,n,i){var o,a=this,s=this.get("itemMap");(0,ue.each)(i,function(l){if(o=s[l.id]){if(a.get("animate")&&"node"===e){var c=o.getContainer().getMatrix();c||(c=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:c[6],y:c[7]})}a.updateItem(o,l,!1)}else o=a.addItem(e,l,!1);o&&n["".concat(e,"s")].push(o)})},t.prototype.changeData=function(e,n){var a,i=this;void 0===n&&(n=!0);var o=this,s=e||o.get("data");if(!kL(s))return this;this.emit("beforechangedata"),n&&this.get("enabledStack")&&this.pushStack("changedata",{before:o.save(),after:s}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(Q){return o.clearItemStates(Q)}),this.getEdges().map(function(Q){return o.clearItemStates(Q)});var l=this.get("canvas"),c=l.get("localRefresh");l.set("localRefresh",!1),o.get("data")||(o.data(s),o.render());var u=this.get("itemMap"),d={nodes:[],edges:[]},h=s.combos;if(h){var v=JS(h,s.nodes);this.set("comboTrees",v)}else this.set("comboTrees",[]);this.diffItems("node",d,s.nodes),(0,ue.each)(u,function(Q,J){u[J].getModel().depth=0,(!Q.getType||"edge"!==Q.getType())&&(Q.getType&&"combo"===Q.getType()?(delete u[J],Q.destroy()):d.nodes.indexOf(Q)<0&&(delete u[J],o.remove(Q,!1)))});for(var y=this.getCombos(),F=y.length-1;F>=0;F--)y[F].destroyed&&y.splice(F,1);h&&(o.addCombos(h),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",d,s.edges),(0,ue.each)(u,function(Q,J){Q.getType&&("node"===Q.getType()||"combo"===Q.getType())||d.edges.indexOf(Q)<0&&(delete u[J],o.remove(Q,!1))}),(this.get("comboTrees")||[]).forEach(function(Q){Md(Q,function(J){return"combo"===i.findById(J.id).getType()&&J.collapsed&&i.collapseCombo(J.id,!1),!0})}),this.set({nodes:d.nodes,edges:d.edges});var K=this.get("layoutController");return K&&(K.changeData(function(){setTimeout(function(){var Q;null===(Q=o.getCombos())||void 0===Q||Q.forEach(function(J){J.set("animate",!0)})},0)}),o.get("animate")&&!K.getLayoutType()?(o.positionsAnimate(),null===(a=o.getCombos())||void 0===a||a.forEach(function(Q){return Q.set("animate",!0)})):o.autoPaint()),setTimeout(function(){l.set("localRefresh",c)},16),this.set("data",s),this.emit("afterchangedata"),this},t.prototype.addCombos=function(e){var i=this.get("comboTrees");this.get("itemController").addCombos(i,e)},t.prototype.createCombo=function(e,n,i){var a=this;void 0===i&&(i=!0);var o=this.get("itemController");this.set("comboSorted",!1);var l,s="";if(e){if((0,ue.isString)(e))s=e,l={id:e};else{if(!(s=e.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");l=e}var c=i&&this.get("enabledStack"),u={nodes:[],combos:[]};c&&n.forEach(function(K){var Q=a.findById(K),J=Q.getType();if("node"===J||"combo"===J){var de=Q.getModel();u["".concat(J,"s")].push({id:K,parentId:"node"===J?de.comboId:de.parentId})}});var d=this.get("comboTrees"),h=new Set(n),v=new Map;d&&(d.forEach(function(K){Md(K,function(Q,J,de){if(h.has(Q.id)){if(J){var Ee=a.findById(J.id),ke=a.findById(Q.id);J.children.splice(de,1),Ee.removeChild(ke),o.updateCombo(Ee,J.children)}"combo"===Q.itemType&&v.set(Q.id,Q)}return!0})}),d=d.filter(function(K){return!h.has(K.id)}),this.set("comboTrees",d));var y={nodes:[],combos:[]},D=n.map(function(K){var Q=a.findById(K),J=Q.getModel(),de="";Q.getType&&(de=Q.getType());var Ee=v.get(K)||{id:Q.getID(),itemType:de};return"combo"===de?(Ee.parentId=s,J.parentId=s):"node"===de&&(Ee.comboId=s,J.comboId=s),c&&y["".concat(de,"s")].push({id:J.id,parentId:s}),Ee});l.children=D,this.addItem("combo",l,!1),this.set("comboSorted",!1),d&&(d.forEach(function(K){sl(K,function(Q){return Q.id!==s||(Q.itemType="combo",Q.children=D,!1)})}),this.sortCombos()),c&&(y.combos.push(l),this.pushStack("createCombo",{before:u,after:y}));var F=this.findById(s);!F.getModel().parentId&&F.getChildren().combos.length&&this.updateComboTree(F,void 0,!1)}},t.prototype.uncombo=function(e,n){var a,o,i=this;void 0===n&&(n=!0);var l=e;if((0,ue.isString)(e)&&(l=this.findById(e)),!l||l.getType&&"combo"!==l.getType())console.warn("The item is not a combo!");else{var c=l.getModel(),u=l.getModel().parentId,d=this.get("comboTrees");d||(d=[]);var y,h=this.get("itemMap"),v=l.get("id"),D=[],F=this.get("combos"),K=this.findById(u),Q=n&&this.get("enabledStack"),J={};if(Q&&((J=(0,ue.clone)(c)).children=[]),d.forEach(function(Re){y||Md(Re,function(tt){var xt;if(tt.id===v){y=tt,l.getEdges().map(function(Mn){return Mn.getID()}).forEach(function(Mn){i.removeItem(Mn,!1)});var Nt=F.indexOf(l);F.splice(Nt,1),delete h[v];var Ut=(0,ue.clone)(l.getModel());l.destroy(),i.emit("afterremoveitem",{item:Ut,type:"combo"})}return!u||!y||tt.id!==u||(K.removeCombo(l),-1!==(Nt=(D=tt.children).indexOf(y))&&D.splice(Nt,1),null===(xt=y.children)||void 0===xt||xt.forEach(function(Jn){var zn=i.findById(Jn.id),$t=zn.getModel();zn.getType&&"combo"===zn.getType()?(Jn.parentId=u,delete Jn.comboId,$t.parentId=u,delete $t.comboId):zn.getType&&"node"===zn.getType()&&(Jn.comboId=u,$t.comboId=u),K.addChild(zn),D.push(Jn)}),i.updateCombo(K),!1)})}),!u&&y){var de=d.indexOf(y);d.splice(de,1),null===(a=y.children)||void 0===a||a.forEach(function(Re){Re.parentId=void 0;var tt=i.findById(Re.id).getModel();delete tt.parentId,delete tt.comboId,"node"!==Re.itemType&&d.push(Re)})}if(Q){var Ee={nodes:[],combos:[]},ke={nodes:[],combos:[]};null===(o=y.children)||void 0===o||o.forEach(function(Re){var xt=i.findById(Re.id).getType();"node"!==xt&&"combo"!==xt||(Ee["".concat(xt,"s")].push({id:Re.id,parentId:v}),ke["".concat(xt,"s")].push({id:Re.id,parentId:u}))}),Ee.combos.push(J),this.pushStack("uncombo",{before:Ee,after:ke})}}},t.prototype.updateCombos=function(e){var n=this;void 0===e&&(e=!1);var i=this,a=this.get("comboTrees"),o=i.get("itemController"),s=i.get("itemMap");(a||[]).forEach(function(l){Md(l,function(c){var u;if(!c)return!0;var d=s[c.id];if("combo"===(null===(u=d?.getType)||void 0===u?void 0:u.call(d))){var h=(0,Me.__spreadArray)([],d.getStates(),!0);(0,ue.each)(h,function(v){return n.setItemState(d,v,!1)}),o.updateCombo(d,c.children,e),(0,ue.each)(h,function(v){return n.setItemState(d,v,!0)})}return!0})}),i.sortCombos()},t.prototype.updateCombo=function(e){var o,n=this,a=e;if((0,ue.isString)(e)&&(a=this.findById(e)),!a||a.getType&&"combo"!==a.getType())console.warn("The item to be updated is not a combo!");else{o=a.get("id");var s=this.get("comboTrees"),l=this.get("itemController"),c=this.get("itemMap");(s||[]).forEach(function(u){Md(u,function(d){if(!d)return!0;var h=c[d.id];if(o===d.id&&h&&h.getType&&"combo"===h.getType()){var v=(0,Me.__spreadArray)([],h.getStates(),!0);(0,ue.each)(v,function(y){h.getStateStyle(y)&&n.setItemState(h,y,!1)}),l.updateCombo(h,d.children),(0,ue.each)(v,function(y){h.getStateStyle(y)&&n.setItemState(h,y,!0)}),o&&(o=d.parentId)}return!0})})}},t.prototype.updateComboTree=function(e,n,i){var o;void 0===i&&(i=!0),this.set("comboSorted",!1);var F,s=(o=(0,ue.isString)(e)?this.findById(e):e).getModel(),l=s.comboId||s.parentId,c="";if(o.getType&&(c=o.getType()),n&&"combo"===c){var h,u=this.get("comboTrees"),d=!0;if((u||[]).forEach(function(Q){h||sl(Q,function(J){if(!h)return J.id===o.getID()&&(h=J),!0})}),sl(h,function(Q){return Q.id!==n||(d=!1,!1)}),!d)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(i&&this.get("enabledStack")){var v={},y={};"combo"===c?(v.combos=[{id:s.id,parentId:s.parentId}],y.combos=[{id:s.id,parentId:n}]):"node"===c&&(v.nodes=[{id:s.id,parentId:s.comboId}],y.nodes=[{id:s.id,parentId:n}]),this.pushStack("updateComboTree",{before:v,after:y})}if(s.parentId||s.comboId){var D=this.findById(s.parentId||s.comboId);D&&D.removeChild(o)}"combo"===c?s.parentId=n:"node"===c&&(s.comboId=n),n&&(F=this.findById(n))&&F.addChild(o),l&&(F=this.findById(l))&&F.removeChild(o);var K=eM(this.get("comboTrees"),s.id,n);this.set("comboTrees",K),this.updateCombos()},t.prototype.save=function(){var e=[],n=[],i=[];return(0,ue.each)(this.get("nodes"),function(a){e.push(a.getModel())}),(0,ue.each)(this.get("edges"),function(a){n.push(a.getModel())}),(0,ue.each)(this.get("combos"),function(a){i.push(a.getModel())}),{nodes:e,edges:n,combos:i}},t.prototype.changeSize=function(e,n){return this.get("viewController").changeSize(e,n),this},t.prototype.refresh=function(){var e=this;if(e.emit("beforegraphrefresh"),e.get("animate"))e.positionsAnimate();else{var n=e.get("nodes"),i=e.get("edges"),a=e.get("edges");(0,ue.each)(n,function(o){o.refresh()}),(0,ue.each)(i,function(o){o.refresh()}),(0,ue.each)(a,function(o){o.refresh()})}e.emit("aftergraphrefresh"),e.autoPaint()},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.getComboChildren=function(e){if((0,ue.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType()))return e.getChildren();console.warn("The combo does not exist!")},t.prototype.positionsAnimate=function(e){var n=this;n.emit("beforeanimate");var i=n.get("animateCfg"),a=i.onFrame,o=e?n.getNodes().concat(n.getCombos()):n.getNodes(),s=o.map(function(c){var u=c.getModel();return{id:u.id,x:u.x,y:u.y}});n.stopAnimate();var l=n.get("canvas");n.animating=!0,l.animate(function(c){(0,ue.each)(s,function(u){var d=n.findById(u.id);if(d&&!d.destroyed){var h=d.get("originAttrs"),v=d.get("model"),y=d.getContainer().getMatrix();if(null==h&&(y&&(h={x:y[6],y:y[7]}),d.set("originAttrs",h||0)),a){var D=a(d,c,u,h||{x:0,y:0});d.set("model",Object.assign(v,D))}else h?(v.x=h.x+(u.x-h.x)*c,v.y=h.y+(u.y-h.y)*c):(v.x=u.x,v.y=u.y)}}),n.refreshPositions(e)},{duration:i.duration,easing:i.easing,callback:function(){(0,ue.each)(o,function(u){u.set("originAttrs",null)}),i.callback&&i.callback(),n.emit("afteranimate"),n.animating=!1}})},t.prototype.refreshPositions=function(e){var n=this;n.emit("beforegraphrefreshposition");var l,i=n.get("nodes"),a=n.get("edges"),o=n.get("vedges"),s=n.get("combos"),c={},u=function(h){(0,ue.each)(h,function(v){l=v.getModel();var y=v.get("originAttrs");if(!y||l.x!==y.x||l.y!==y.y){var D=v.updatePosition({x:l.x,y:l.y});c[l.id]=D,l.comboId&&(c[l.comboId]=c[l.comboId]||D),l.parentId&&(c[l.parentId]=c[l.parentId]||D)}})};u(s),u(i),s&&0!==s.length&&(e&&u(s),n.updateCombos()),(0,ue.each)(a,function(d){var h=d.getSource().getModel(),v=d.getTarget();if(!(0,ue.isPlainObject)(v)){var y=v.getModel();(c[h.id]||c[y.id]||d.getModel().isComboEdge)&&d.refresh()}}),(0,ue.each)(o,function(d){d.refresh()}),n.emit("aftergraphrefreshposition"),n.autoPaint()},t.prototype.stopAnimate=function(){this.isAnimating()&&this.get("canvas").stopAnimate()},t.prototype.isAnimating=function(){return this.animating},t.prototype.getZoom=function(){var e=this.get("group").getMatrix();return e?e[0]:1},t.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},t.prototype.setMode=function(e){return this.get("modeController").setMode(e),this},t.prototype.clear=function(e){var n;return void 0===e&&(e=!1),null===(n=this.get("canvas"))||void 0===n||n.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],vedges:[],groups:[],combos:[],comboTrees:[]}),e||this.emit("afterrender"),this},t.prototype.updateLayout=function(e,n,i,a){var o=this;void 0===e&&(e={}),void 0===a&&(a=!0);var s=this.get("layoutController");if((0,ue.isString)(e)&&(e={type:e}),n){var l=i;l||(l="begin"===n?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),l=this.getPointByCanvas(l.x,l.y);var c=["force","gForce","fruchterman","force2"];c.includes(e.type)||!e.type&&c.includes(s?.layoutType)?e.center=[l.x,l.y]:this.once("afterlayout",function(h){var v=o.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];l.x=l.x*v[0]+v[6],l.y=l.y*v[0]+v[7];var y=o.getGroup().getCanvasBBox(),D=y.minX,K=y.minY,J={x:(D+y.maxX)/2,y:(K+y.maxY)/2};"begin"===n&&(J.x=D,J.y=K),o.translate(l.x-J.x,l.y-J.y)})}var u=(0,Me.__assign)({},this.get("layout")),d={};Object.assign(d,u,e),e.pipes&&!e.type?delete d.type:!e.pipes&&d.type&&delete d.pipes,this.set("layout",d),s&&(s.isLayoutTypeSame(d)&&d.gpuEnabled===u.gpuEnabled?s.updateLayoutCfg(d):s.changeLayout(d),a&&this.get("enabledStack")&&this.pushStack("layout",{before:u,after:d}))},t.prototype.destroyLayout=function(){this.get("layoutController")?.destroyLayout()},t.prototype.layout=function(){var e,n=this.get("layoutController"),i=this.get("layout");if(i&&n){if(i.workerEnabled)return void n.layout();null!==(e=n.layoutMethods)&&void 0!==e&&e.length?n.relayout(!0):n.layout()}},t.prototype.collapseCombo=function(e,n){var i=this;if(void 0===n&&(n=!0),!this.destroyed){if((0,ue.isString)(e)&&(e=this.findById(e)),!e)return void console.warn("The combo to be collapsed does not exist!");this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var a=e.getModel();this.get("itemController").collapseCombo(e,n),a.collapsed=!0;var s=this.getEdges().concat(this.get("vedges")),l=[],c=this.get("comboTrees"),u=!1;(c||[]).forEach(function(h){u||sl(h,function(v){if(u&&v.depth<=a.depth)return!1;if(a.id===v.id&&(u=!0),u){var y=i.findById(v.id);y&&y.getType&&"combo"===y.getType()&&(l=(l=l.concat(y.getNodes())).concat(y.getCombos()))}return!0})});var d={};s.forEach(function(h){var v=h.getModel(),y=v.isVEdge,D=v.size,F=void 0===D?1:D;if(!h.isVisible()||y){var de,K=h.getSource(),Q=h.getTarget(),J=null;if(K.getModel().id===a.id||l.includes(K)&&!l.includes(Q)?(J=Q,de=!1):(Q.getModel().id===a.id||!l.includes(K)&&l.includes(Q))&&(J=K,de=!0),J){if(y)return void i.removeItem(h,!1);for(var Ee=J.getModel();!J.isVisible();){var tt=Ee.parentId||Ee.comboId;if(!(J=i.findById(tt))||!tt)return;Ee=J.getModel()}var xt=Ee.id,ct=de?{source:xt,target:a.id,size:F,isVEdge:!0}:{source:a.id,target:xt,size:F,isVEdge:!0},Nt="".concat(ct.source,"-").concat(ct.target);if(d[Nt])return void(d[Nt].size+=F);d[Nt]=ct}}}),this.addItems(Object.values(d).map(function(h){return{type:"vedge",model:h}}),!1),this.emit("aftercollapseexpandcombo",{action:"collapse",item:e})}},t.prototype.expandCombo=function(e,n){var i=this;if(void 0===n&&(n=!0),(0,ue.isString)(e)&&(e=this.findById(e)),!e||e.getType&&"combo"!==e.getType())console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var a=e.getModel();this.get("itemController").expandCombo(e,n),a.collapsed=!1;var s=this.getEdges().concat(this.get("vedges")),l=[],c=this.get("comboTrees"),u=!1;(c||[]).forEach(function(h){u||sl(h,function(v){if(u&&v.depth<=a.depth)return!1;if(a.id===v.id&&(u=!0),u){var y=i.findById(v.id);y&&y.getType&&"combo"===y.getType()&&(l=(l=l.concat(y.getNodes())).concat(y.getCombos()))}return!0})});var d={};s.forEach(function(h){if(!h.isVisible()||h.getModel().isVEdge){var Q,v=h.getSource(),y=h.getTarget(),D=v.get("id"),F=y.get("id"),K=null;if(D===a.id||l.includes(v)&&!l.includes(y)?(K=y,Q=!1):F===a.id||!l.includes(v)&&l.includes(y)?(K=v,Q=!0):l.includes(v)&&l.includes(y)&&v.isVisible()&&y.isVisible()&&h.show(),K){var J=h.getModel(),Ee=J.size,ke=void 0===Ee?1:Ee;if(J.isVEdge)return void i.removeItem(h,!1);for(var Re=K.getModel();!K.isVisible();){var ct=Re.parentId||Re.comboId;if(!(K=i.findById(ct))||!ct)return;Re=K.getModel()}for(var Nt=Re.id,Ut=Q?y:v,Mn=Ut.getModel();!Ut.isVisible();){var $t=Mn.parentId||Mn.comboId;if(!(Ut=i.findById($t))||!$t)return;if(Mn.comboId===a.id||Mn.parentId===a.id)break;Mn=Ut.getModel()}var Tn=Mn.id;if(Nt){var In=Q?{source:Nt,target:Tn,isVEdge:!0,size:ke}:{source:Tn,target:Nt,isVEdge:!0,size:ke},an="".concat(In.source,"-").concat(In.target);if(d[an])return void(d[an].size+=ke);d[an]=In}}}}),this.addItems(Object.values(d).map(function(h){return{type:"vedge",model:h}}),!1),this.emit("aftercollapseexpandcombo",{action:"expand",item:e})}},t.prototype.collapseExpandCombo=function(e,n){if(void 0===n&&(n=!0),(0,ue.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType())){for(var i=e.getModel(),a=this.findById(i.parentId);a;){var o=a.getModel();if(o.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(a=void 0);a=this.findById(o.parentId)}i.collapsed?this.expandCombo(e,n):this.collapseCombo(e,n),this.updateCombo(e)}},t.prototype.getNeighbors=function(e,n){var i=e;return(0,ue.isString)(e)&&(i=this.findById(e)),i.getNeighbors(n)},t.prototype.getNodeDegree=function(e,n,i){void 0===n&&(n=void 0),void 0===i&&(i=!1);var a=e;(0,ue.isString)(e)&&(a=this.findById(e));var o=this.get("degrees");(!o||i)&&(o=g0(this.save()),this.set("degrees",o));var s=o[a.getID()],l=0;if(!s)return 0;switch(n){case"in":l=s.inDegree;break;case"out":l=s.outDegree;break;case"all":l=s;break;default:l=s.degree}return l},t.prototype.getUndoStack=function(){return this.undoStack},t.prototype.getRedoStack=function(){return this.redoStack},t.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},t.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear(),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack}))},t.prototype.pushStack=function(e,n,i){if(void 0===e&&(e="update"),void 0===i&&(i="undo"),this.get("enabledStack")){var a=n?(0,ue.clone)(n):{before:{},after:(0,ue.clone)(this.save())};"redo"===i?this.redoStack.push({action:e,data:a}):this.undoStack.push({action:e,data:a}),this.emit("stackchange",{action:e,stackType:i,undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("\u8bf7\u5148\u542f\u7528 undo & redo \u529f\u80fd\uff0c\u5728\u5b9e\u4f8b\u5316 Graph \u65f6\u5019\u914d\u7f6e enabledStack: true !")},t.prototype.getAdjMatrix=function(e,n){void 0===e&&(e=!0),void 0===n&&(n=this.get("directed"));var i=this.get("adjMatrix");return(!i||!e)&&(i=Fp(this.save(),n),this.set("adjMatrix",i)),i},t.prototype.getShortestPathMatrix=function(e,n){void 0===e&&(e=!0),void 0===n&&(n=this.get("directed"));var i=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!i||!e)&&(i=Fp(this.save(),n),this.set("adjMatrix",i)),(!a||!e)&&(a=y0(this.save(),n),this.set("shortestPathMatrix",a)),a},t.prototype.on=function(e,n,i){return r.prototype.on.call(this,e,n,i)},t.prototype.destroy=function(){var e,n,i,a,o;this.clear(),this.clearStack(),null===(e=this.get("itemController"))||void 0===e||e.destroy(),null===(n=this.get("modeController"))||void 0===n||n.destroy(),null===(i=this.get("viewController"))||void 0===i||i.destroy(),null===(a=this.get("stateController"))||void 0===a||a.destroy(),null===(o=this.get("canvas"))||void 0===o||o.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},t.prototype.createHull=function(e){if(e.members&&!(e.members.length<1)){var n=this.get("hullGroup"),i=this.get("hullMap");if(i||this.set("hullMap",i={}),(!n||n.get("destroyed"))&&((n=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",n)),i[e.id])return console.warn("Existed hull id."),i[e.id];var a=n.addGroup({id:"".concat(e.id,"-container")}),o=new e3(this,(0,Me.__assign)((0,Me.__assign)({},e),{group:a}));return i[o.id]=o,o}console.warn("Create hull failed! The members is empty.")},t.prototype.getHulls=function(){return this.get("hullMap")},t.prototype.getHullById=function(e){return this.get("hullMap")[e]},t.prototype.removeHull=function(e){var n,i;i=(0,ue.isString)(e)?this.getHullById(e):e,null===(n=this.get("hullMap"))||void 0===n||delete n[i.id],i.destroy()},t.prototype.removeHulls=function(){var e=this.getHulls();!e||!Object.keys(e).length||(Object.keys(e).forEach(function(n){e[n].destroy()}),this.set("hullMap",{}))},t}(MR);const t3=Wie;function HM(r){return(HM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}var Ng=Yc,WM="-label",$b=["startArrow","endArrow"],r3={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Xb={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:r3,combo:r3},YM="-label-bg",$M={options:{labelCfg:{style:{fontFamily:Rr.windowFontFamily}},descriptionCfg:{style:{fontFamily:Rr.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(t){return{}},getOptions:function(t,e){return"move"===e||e?.includes("bbox")?t:(0,ue.deepMix)({},this.options,this.getCustomConfig(t)||{},t)},draw:function(t,e){e.shapeMap={},this.mergeStyle=this.getOptions(t);var n=this.drawShape(t,e);if(n.set("className",this.itemType+"-shape"),e.shapeMap[this.itemType+"-shape"]=n,t.label){var i=this.drawLabel(t,e);i.set("className",this.itemType+WM),e.shapeMap[this.itemType+WM]=i}return n},afterDraw:function(t,e,n){},drawShape:function(t,e){return null},drawLabel:function(t,e){var n=(this.mergeStyle||this.getOptions(t)||{}).labelCfg,a=this.getLabelStyle(t,n||{},e),o=a.rotate;delete a.rotate;var s=e.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(e.shapeMap["text-shape"]=s,!isNaN(o)&&""!==o){var l=s.getBBox(),c=[1,0,0,0,1,0,0,0,1];if(a.rotateCenter)switch(a.rotateCenter){case"center":default:c=Ng(c,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":c=Ng(c,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":c=Ng(c,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]])}else c=Ng(c,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(c)}if(a.background){var u=this.drawLabelBg(t,e,s),d=this.itemType+YM;u.set("classname",d),e.shapeMap[d]=u,s.toFront()}return s},drawLabelBg:function(t,e,n){var a=(0,ue.mix)({},this.options.labelCfg,t.labelCfg),o=this.getLabelBgStyleByPosition(n,a),s=e.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return e.shapeMap["text-bg-shape"]=s,s},getLabelStyleByPosition:function(t,e,n){return{text:t.label}},getLabelBgStyleByPosition:function(t,e){return{}},getLabelStyle:function(t,e,n){var i=this.getLabelStyleByPosition(t,e,n),a="".concat(this.itemType,"Label");return(0,Me.__assign)((0,Me.__assign)((0,Me.__assign)({},Rr[a]?Rr[a].style:null),i),e.style)},getShapeStyle:function(t){return t.style},update:function(t,e,n){this.updateShapeStyle(t,e,n),this.updateLabel(t,e,n)},updateShapeStyle:function(t,e,n){var i,a=e.getContainer(),o=e.getKeyShape(),s=(0,ue.mix)({},o.attr(),t.style),l=function(d){var h,v=s[d];(0,ue.isPlainObject)(v)?((null===(i=a.shapeMap)||void 0===i?void 0:i[d])||a.find(function(D){return D.get("name")===d}))?.attr(v):o.attr(((h={})[d]=v,h))};for(var c in s)l(c)},updateLabel:function(t,e,n){var i,a;if(t.label||""===t.label){var o=e.getContainer(),s=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,l=void 0===s?{}:s,c=this.itemType+WM,u=o.shapeMap[c]||o.find(function(de){return de.get("className")===c}),d=this.itemType+YM,h=o.shapeMap[d]||o.find(function(de){return de.get("className")===d});if(u){(!n||"bbox|label"===n||"edge"===this.itemType&&"style"!==n)&&(l=(0,ue.deepMix)(l,t.labelCfg));var y=this.getLabelStyleByPosition(t,l,o),D=null===(i=t.labelCfg)||void 0===i?void 0:i.style,F=(0,Me.__assign)((0,Me.__assign)({},y),D),K=F.rotate;if(delete F.rotate,isNaN(K)||""===K)1!==(null===(a=u.getMatrix())||void 0===a?void 0:a[4])&&u.resetMatrix(),u.attr(F);else{var Q=[1,0,0,0,1,0,0,0,1];Q=Ng(Q,[["t",-F.x,-F.y],["r",K],["t",F.x,F.y]]),F.matrix=Q,u.attr(F)}if(h)if(F.background){var J=this.getLabelBgStyleByPosition(u,l);h.attr(J)}else o.removeChild(h);else F.background&&((h=this.drawLabelBg(t,o,u)).set("classname",d),o.shapeMap[d]=h,u.toFront())}else{var v=this.drawLabel(t,o);v.set("className",c),o.shapeMap[c]=v}}},afterUpdate:function(t,e){},setState:function(t,e,n){var i,a,o,s=n.get("keyShape");if(s&&!s.destroyed){var l=n.getType(),c=(0,ue.isBoolean)(e)?t:"".concat(t,":").concat(e),u=this.getStateStyle(c,n),d=n.getStateStyle(c);if(d||u){var h=(0,ue.mix)({},d||u),v=n.getContainer(),y={x:1,y:1,cx:1,cy:1,matrix:1};if("combo"===l&&(y.r=1,y.width=1,y.height=1),e){var D=function($t){var Tn,In=h[$t];(0,ue.isPlainObject)(In)&&!$b.includes($t)?((null===(o=v.shapeMap)||void 0===o?void 0:o[$t])||v.find(function(On){return On.get("name")===$t}))?.attr(In):s.attr(((Tn={})[$t]=In,Tn))};for(var F in h)D(F)}else{var K=Db(n.getCurrentStatesStyle()),Q=n.getModel(),J=(0,ue.mix)({},Q.style,Db(n.getOriginStyle())),de=s.get("name"),Ee=s.attr(),ke={};Object.keys(Ee).forEach(function(zn){if("img"!==zn){var $t=Ee[zn];ke[zn]=$t&&"object"===HM($t)?(0,ue.clone)($t):$t}});var Re={},tt=function($t){var Tn=h[$t];if((0,ue.isPlainObject)(Tn)&&!$b.includes($t)){var In=v.shapeMap[$t]||v.find(function(Kn){return Kn.get("name")===$t});if(In){var an=Db(In.attr());(0,ue.each)(Tn,function(Kn,Gn){$t===de&&ke[Gn]&&!y[Gn]?(delete ke[Gn],s.attr(Gn,J[$t][Gn]||Xb[l][Gn])):(an[Gn]||0===an[Gn])&&(delete an[Gn],In.attr(Gn,J[$t][Gn]||Xb[l][Gn]))}),Re[$t]=an}}else ke[$t]&&!y[$t]&&(delete ke[$t],s.attr($t,J[$t]||(J[de]?J[de][$t]:void 0)||Xb[l][$t]))};for(var xt in h)tt(xt);for(var F in de?Re[de]=ke:(0,ue.mix)(Re,ke),K)if(!y[F]){var ct=K[F];(!(0,ue.isPlainObject)(ct)||$b.includes(F))&&(de?((0,ue.mix)(J[de],((a={})[F]=ct,a)),delete J[F]):(0,ue.mix)(J,((i={})[F]=ct,i)),delete K[F])}var Nt={};(0,ue.deepMix)(Nt,J,Re,K);var Ut=!1,Mn=function($t){var Tn,In,an=Nt[$t];if((0,ue.isPlainObject)(an)&&!$b.includes($t)){var On=v.shapeMap[$t]||v.find(function(Gn){return Gn.get("name")===$t});On&&(("text"===On.get("type")||On.get("labelRelated"))&&(delete an.x,delete an.y,delete an.matrix),$t===de&&("combo"===l&&(delete an.r,delete an.width,delete an.height),Ut=!0),On.attr(an))}else if(!Ut){var Kn=an||Xb[l][$t];"combo"===l?de||s.attr(((Tn={})[$t]=Kn,Tn)):s.attr(((In={})[$t]=Kn,In))}};for(var Jn in Nt)Mn(Jn)}}}},getStateStyle:function(t,e){var n=e.getModel(),i=e.getType(),a=this.getOptions(n),o=a.stateStyles,s=a.style,l=void 0===s?{}:s,c=n.stateStyles?n.stateStyles[t]:o&&o[t];return"combo"===i?(0,ue.clone)(c):(0,ue.mix)({},l,c)},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e,n;return t?.anchorPoints||(null===(e=this.getCustomConfig(t))||void 0===e?void 0:e.anchorPoints)||(null===(n=this.options)||void 0===n?void 0:n.anchorPoints)}},$ie={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Rr.nodeLabel.offset,getSize:function(t){var e,n=(null===(e=this.mergeStyle)||void 0===e?void 0:e.size)||t.size||this.getOptions({}).size||Rr.defaultNode.size;return(0,ue.isArray)(n)&&1===n.length&&(n=[n[0],n[0]]),(0,ue.isArray)(n)||(n=[n,n]),n},getLabelStyleByPosition:function(t,e){var n=e.maxLength,i=t.label;n&&(i=OL(i,n));var a=e.position||this.labelPosition;if("center"===a)return{x:0,y:0,text:i,textBaseline:"middle",textAlign:"center"};var o=e.offset;(0,ue.isNil)(o)&&(o=this.offset);var l,s=this.getSize(t);switch(a){case"top":l={x:0,y:-s[1]/2-o,textBaseline:"bottom",textAlign:"center"};break;case"bottom":l={x:0,y:s[1]/2+o,textBaseline:"top",textAlign:"center"};break;case"left":l={x:-s[0]/2-o,y:0,textBaseline:"middle",textAlign:"right"};break;default:l={x:s[0]/2+o,y:0,textBaseline:"middle",textAlign:"left"}}return l.text=i,l},getLabelBgStyleByPosition:function(t,e){var n;if(!t)return{};var i=null===(n=e.style)||void 0===n?void 0:n.background;if(!i)return{};var a=t.getBBox(),o=NM(i.padding),s=a.width+o[1]+o[3],l=a.height+o[0]+o[2];return(0,Me.__assign)((0,Me.__assign)({x:a.minX-o[3],y:a.minY-o[0]},i),{width:s,height:l})},drawShape:function(t,e){var n=this.shapeType,i=this.getShapeStyle(t),a=e.addShape(n,{attrs:i,draggable:!0,name:"node-shape"});return e.shapeMap["node-shape"]=a,a},updateLinkPoints:function(t,e){var l,n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=e.shapeMap["link-point-left"]||e.find(function(Nt){return"link-point-left"===Nt.get("className")}),a=e.shapeMap["link-point-right"]||e.find(function(Nt){return"link-point-right"===Nt.get("className")}),o=e.shapeMap["link-point-top"]||e.find(function(Nt){return"link-point-top"===Nt.get("className")}),s=e.shapeMap["link-point-bottom"]||e.find(function(Nt){return"link-point-bottom"===Nt.get("className")});i&&(l=i.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=n);var c=(0,ue.mix)({},l,t.linkPoints),u=c.fill,d=c.stroke,h=c.lineWidth,v=c.size/2;v||(v=c.r);var y=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},D=y.left,F=y.right,K=y.top,Q=y.bottom,J=this.getSize(t),de=J[0],Ee=J[1],ke={r:v,fill:u,stroke:d,lineWidth:h};if(i)D||void 0===D?i.attr((0,Me.__assign)((0,Me.__assign)({},ke),{x:-de/2,y:0})):(i.remove(),delete e.shapeMap["link-point-left"]);else if(D){var Re="link-point-left";e.shapeMap[Re]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},ke),{x:-de/2,y:0}),className:Re,name:Re,isAnchorPoint:!0})}if(a)!F&&void 0!==F&&(a.remove(),delete e.shapeMap["link-point-right"]),a.attr((0,Me.__assign)((0,Me.__assign)({},ke),{x:de/2,y:0}));else if(F){var tt="link-point-right";e.shapeMap[tt]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},ke),{x:de/2,y:0}),className:tt,name:tt,isAnchorPoint:!0})}if(o)!K&&void 0!==K&&(o.remove(),delete e.shapeMap["link-point-top"]),o.attr((0,Me.__assign)((0,Me.__assign)({},ke),{x:0,y:-Ee/2}));else if(K){var xt="link-point-top";e.shapeMap[xt]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},ke),{x:0,y:-Ee/2}),className:xt,name:xt,isAnchorPoint:!0})}if(s)Q||void 0===Q?s.attr((0,Me.__assign)((0,Me.__assign)({},ke),{x:0,y:Ee/2})):(s.remove(),delete e.shapeMap["link-point-bottom"]);else if(Q){var ct="link-point-bottom";e.shapeMap[ct]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},ke),{x:0,y:Ee/2}),className:ct,name:ct,isAnchorPoint:!0})}},updateShape:function(t,e,n,i,a){e.get("keyShape").attr((0,Me.__assign)({},n)),this.updateLabel(t,e,a),i&&this.updateIcon(t,e)},updateIcon:function(t,e){var n=this,i=e.getContainer(),a=(this.mergeStyle||this.getOptions(t)).icon,o=t.icon?t.icon:{show:void 0,text:void 0},s=o.show,l=o.text,c=i.shapeMap["".concat(this.type,"-icon")]||i.find(function(K){return K.get("name")==="".concat(n.type,"-icon")});if(c)if(s||void 0===s){var u=(0,ue.mix)({},c.attr(),a),d=u.width,h=void 0===d?20:d,v=u.height,y=void 0===v?20:v;("iconfont"===u.fontFamily||u.hasOwnProperty("text"))&&(h=0,y=0),c.attr((0,Me.__assign)((0,Me.__assign)({},u),{x:-h/2,y:-y/2}))}else c.remove(),delete i.shapeMap["".concat(this.type,"-icon")];else if(s){var D="".concat(this.type,"-icon");l?i.shapeMap[D]=i.addShape("text",{attrs:(0,Me.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:D,name:D}):(h=a.width,y=a.height,i.shapeMap[D]=i.addShape("image",{attrs:(0,Me.__assign)((0,Me.__assign)({},a),{x:-h/2,y:-y/2}),className:D,name:D}));var F=i.shapeMap["node-label"]||i.find(function(K){return"node-label"===K.get("name")});F&&F.toFront()}}},Xie=(0,Me.__assign)((0,Me.__assign)({},$M),$ie);Rs.registerNode("single-node",Xie);var Kb="edge-shape",qie={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Rr.defaultEdge.size,style:{x:0,y:0,stroke:Rr.defaultEdge.style.stroke,lineAppendWidth:Rr.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Rr.edgeLabel.style.fill,fontSize:Rr.edgeLabel.style.fontSize,fontFamily:Rr.windowFontFamily}},stateStyles:(0,Me.__assign)({},Rr.edgeStateStyles)},getPath:function(t){var e=[];return(0,ue.each)(t,function(n,i){e.push(0===i?["M",n.x,n.y]:["L",n.x,n.y])}),e},getShapeStyle:function(t){var i=(0,ue.mix)({},this.options.style,{stroke:t.color},t.style),a=t.size||Rr.defaultEdge.size,o=(t=this.getPathPoints(t)).startPoint,s=t.endPoint,l=this.getControlPoints(t),c=[o];l&&(c=c.concat(l)),c.push(s);var u=this.getPath(c);return(0,ue.mix)({},Rr.defaultEdge.style,{stroke:Rr.defaultEdge.color,lineWidth:a,path:u},i)},updateShapeStyle:function(t,e,n){var i,a=e.getContainer(),o=(null===(i=e.getKeyShape)||void 0===i?void 0:i.call(e))||a.shapeMap["edge-shape"],s=t.size,l=(t=this.getPathPoints(t)).startPoint,c=t.endPoint,u=this.getControlPoints(t),d=[l];u&&(d=d.concat(u)),d.push(c);var h=o.attr(),v=t.style||{};void 0===v.stroke&&(v.stroke=t.color);var F={radius:v.radius};u||(F={source:t.sourceNode,target:t.targetNode,offset:v.offset,radius:v.radius});var K=this.getPath(d,F),Q={};"move"===n?Q={path:K}:(h.endArrow&&!1===v.endArrow&&(t.style.endArrow={path:""}),h.startArrow&&!1===v.startArrow&&(t.style.startArrow={path:""}),void 0===(Q=(0,Me.__assign)({},t.style)).lineWidth&&(Q.lineWdith=((0,ue.isNumber)(s)?s:s?.[0])||h.lineWidth),void 0===Q.path&&(Q.path=K),void 0===Q.stroke&&(Q.stroke=h.stroke||t.color)),o&&o.attr(Q)},getLabelStyleByPosition:function(t,e,n){var s,i=e.position||this.labelPosition,a={},o=n?.shapeMap[Kb];s="start"===i?0:"end"===i?1:.5;var u,l=e.refX||this.refX,c=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return a.x=t.startPoint.x+l,a.y=t.startPoint.y+c,a.text=t.label,a;u=(0,ue.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate;var d=TL(o,s,l,c,u);return a.x=d.x,a.y=d.y,a.rotate=d.rotate,a.textAlign=this._getTextAlign(i,d.angle),a.text=t.label,a},getLabelBgStyleByPosition:function(t,e){if(!t)return{};var n=t.getBBox(),i=e.style&&e.style.background;if(!i)return{};var a=i.padding,o=n.width+a[1]+a[3],s=n.height+a[0]+a[2],l=(0,Me.__assign)((0,Me.__assign)({},i),{width:o,height:s,x:n.minX-a[3],y:n.minY-a[0],matrix:[1,0,0,0,1,0,0,0,1]});return((0,ue.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate)&&(l.matrix=t.attr("matrix")||[1,0,0,0,1,0,0,0,1]),l},_getTextAlign:function(t,e){var n="center";return e?(e%=2*Math.PI,"center"!==t&&(n=e>=0&&e<=Math.PI/2||e>=1.5*Math.PI&&e<2*Math.PI?t:function Kie(r){var t=r;return"start"===r?t="end":"end"===r&&(t="start"),t}(t)),n):t},getControlPoints:function(t){return t.controlPoints},getPathPoints:function(t){return t},drawShape:function(t,e){var n=this.getShapeStyle(t),i=e.addShape("path",{className:Kb,name:Kb,attrs:n});return e.shapeMap[Kb]=i,i},drawLabel:function(t,e){var i=(0,ue.deepMix)({},this.options.labelCfg,t.labelCfg),a=this.getLabelStyle(t,i,e),o=a.rotate;delete a.rotate;var s=e.addShape("text",{attrs:a,name:"text-shape",labelRelated:!0});if(e.shapeMap["text-shape"]=s,!isNaN(o)&&""!==o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(t,e,s,a,o),c=this.itemType+YM;l.set("classname",c),e.shapeMap[c]=l,s.toFront()}return s},drawLabelBg:function(t,e,n,i,a){var s=(0,ue.deepMix)({},this.options.labelCfg,t.labelCfg),l=this.getLabelBgStyleByPosition(n,s),c=e.addShape("rect",{name:"text-bg-shape",attrs:l,labelRelated:!0});return e.shapeMap["text-bg-shape"]=c,c}},Zie=(0,Me.__assign)((0,Me.__assign)({},$M),qie);Rs.registerEdge("single-edge",Zie),Rs.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Rs.registerEdge("spline",{getPath:function(t){return WB(t)}},"single-edge"),Rs.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(t){var a,o,e=t.startPoint,n=t.endPoint,i_x=(e.x+n.x)/2,i_y=(e.y+n.y)/2;if(void 0!==t.controlPoints){if(a=GS(e,o=t.controlPoints[0],n),this.clockwise=e.x<=n.x&&e.y>n.y?a.x>o.x?0:1:e.x<=n.x&&e.y<n.y?a.x>o.x?1:0:e.x>n.x&&e.y<=n.y?a.y<o.y?0:1:a.y<o.y?1:0,(o.x-e.x)/(o.y-e.y)==(n.x-e.x)/(n.y-e.y))return[]}else{void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),(0,ue.isArray)(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),this.clockwise=t.curveOffset<0?0:1;var s={x:n.x-e.x,y:n.y-e.y},l=Math.atan2(s.y,s.x);o={x:t.curveOffset*Math.cos(-Math.PI/2+l)+i_x,y:t.curveOffset*Math.sin(-Math.PI/2+l)+i_y},a=GS(e,o,n)}var c=xb(e,a);return[{x:c,y:c}]},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(2===t.length?["L",t[1].x,t[1].y]:["A",t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),e}},"single-edge"),Rs.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(t){var e=t.controlPoints;if(!e||!e.length){var n=t.startPoint,i=t.endPoint;void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),(0,ue.isArray)(this.curveOffset)&&(t.curveOffset=t.curveOffset[0]),(0,ue.isArray)(this.curvePosition)&&(t.curvePosition=t.curveOffset[0]),e=[Yb(n,i,t.curvePosition,t.curveOffset)]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["Q",t[1].x,t[1].y,t[2].x,t[2].y]),e}},"single-edge"),Rs.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(t){var e=t.controlPoints;if(void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),(0,ue.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),(0,ue.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),!e||!e.length||e.length<2){var n=t.startPoint,i=t.endPoint;e=[Yb(n,i,t.curvePosition[0],t.curveOffset[0]),Yb(n,i,t.curvePosition[1],t.curveOffset[1])]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},"single-edge"),Rs.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),(0,ue.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),(0,ue.isNumber)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),(0,ue.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var i=n.y-e.y,a=[0,0];return t.curveOffset?a=t.curveOffset:Math.abs(i)<Math.abs(t.minCurveOffset[0])&&(a=t.minCurveOffset),[{x:e.x,y:e.y+i*this.curvePosition[0]+a[0]},{x:n.x,y:n.y-i*this.curvePosition[1]+a[1]}]}},"cubic"),Rs.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),(0,ue.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),(0,ue.isNumber)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),(0,ue.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var i=n.x-e.x,a=[0,0];return t.curveOffset?a=t.curveOffset:Math.abs(i)<Math.abs(t.minCurveOffset[0])&&(a=t.minCurveOffset),[{x:e.x+i*this.curvePosition[0]+a[0],y:e.y},{x:n.x-i*this.curvePosition[1]+a[1],y:n.y}]}},"cubic"),Rs.registerEdge("loop",{getPathPoints:function(t){return DL(t)},getControlPoints:function(t){return t.controlPoints},afterDraw:function(t){t.controlPoints=void 0},afterUpdate:function(t){t.controlPoints=void 0}},"cubic");var Qie={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Rr.comboLabel.refX,refY:Rr.comboLabel.refY,options:{style:{stroke:Rr.defaultCombo.style.stroke,fill:Rr.defaultCombo.style.fill,lineWidth:Rr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Rr.comboLabel.style.fill,fontSize:Rr.comboLabel.style.fontSize,fontFamily:Rr.windowFontFamily}},stateStyles:(0,Me.__assign)({},Rr.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},getSize:function(t){var e=(0,ue.clone)(t.size||this.options.size||Rr.defaultCombo.size);return(0,ue.isArray)(e)&&1===e.length&&(e=[e[0],e[0]]),(0,ue.isArray)(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,i=t.style,a=t.padding||this.options.padding;(0,ue.isArray)(a)&&(a=Math.max.apply(Math,a));var o=e.refX,s=e.refY;(0,ue.isNil)(o)&&(o=this.refX),(0,ue.isNil)(s)&&(s=this.refY);var d,l=this.getSize(t),u=(Math.max(i.r,l[0]/2)||l[0]/2)+a;switch(n){case"top":d={x:0,y:-u-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":d={x:0,y:u+s,textBaseline:"bottom",textAlign:"center"};break;case"left":d={x:-u+o,y:0,textAlign:"left"};break;case"center":d={x:0,y:0,text:t.label,textAlign:"center"};break;default:d={x:u+o,y:0,textAlign:"right"}}return d.text=t.label,d},drawShape:function(t,e){var n=this.shapeType,i=this.getShapeStyle(t);return e.addShape(n,{attrs:i,draggable:!0,name:"combo-shape"})},updateCollapsedIcon:function(t,e,n){var i=t.collapsed,a=t.collapsedSubstituteIcon,s=Object.assign({},this.options.collapsedSubstituteIcon,void 0===a?{}:a),l=s.show,c=s.img,u=s.width,d=s.height,h=e.getContainer(),v=h.find(function(K){return"combo-collapsed-substitute-icon"===K.get("name")}),y=v&&!v.destroyed,D=e.get("keyShape");if(i&&l){if(y)v.show();else{var F={width:u||2*n.r||n.width,height:d||2*n.r||n.height};v=h.addShape("image",{attrs:(0,Me.__assign)({img:c,x:-F.width/2,y:-F.height/2},F),name:"combo-collapsed-substitute-icon",draggable:!0})}D.hide()}else y&&(v.hide(),D.show())},updateShape:function(t,e,n){var i=this,a=e.get("keyShape");e.get("animate")&&(void 0===t.animate?this.options.animate:t.animate)&&a.animate?(t.collapsed||this.updateCollapsedIcon(t,e,n),a.animate(n,{duration:200,easing:"easeLinear",callback:function(){t.collapsed&&i.updateCollapsedIcon(t,e,n)}})):(a.attr((0,Me.__assign)({},n)),this.updateCollapsedIcon(t,e,n)),this.updateLabel(t,e)}},Jie=(0,Me.__assign)((0,Me.__assign)({},$M),Qie);Rs.registerCombo("single-combo",Jie),Rs.registerCombo("circle",{options:{size:[Rr.defaultCombo.size[0],Rr.defaultCombo.size[0]],padding:Math.max.apply(Math,Rr.defaultCombo.padding),animate:!0,style:{stroke:Rr.defaultCombo.style.stroke,fill:Rr.defaultCombo.style.fill,lineWidth:Rr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Rr.comboLabel.style.fill,fontSize:Rr.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,Me.__assign)({},Rr.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"circle",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);return delete n.height,delete n.width,e.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;(0,ue.isArray)(n)&&(n=Math.max.apply(Math,n));var s,a=(0,ue.mix)({},e,{stroke:t.color},t.style),o=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;if(o)s=(0,ue.isNumber)(o)?o/2:o[0]/2;else{var l=this.getSize(t);s=!(0,ue.isNumber)(a.r)||isNaN(a.r)?l[0]/2||Rr.defaultCombo.style.r:Math.max(a.r,l[0]/2)||l[0]/2}a.r=s+n;var c=(0,Me.__assign)({x:0,y:0},a);return t.style?t.style.r=s:t.style={r:s},c},update:function(t,e){var n=this.getSize(t),i=t.padding||this.options.padding;(0,ue.isArray)(i)&&(i=Math.max.apply(Math,i));var s,a=(0,ue.clone)(t.style),o=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;s=o?(0,ue.isNumber)(o)?o/2:o[0]/2:Math.max(a.r,n[0]/2)||n[0]/2,a.r=s+i;var l=e.get("sizeCache");l&&(l.r=a.r);var c={stroke:t.color},u=e.get("keyShape"),d=(0,ue.mix)({},u.attr(),c,a);t.style?t.style.r=s:t.style={r:s},this.updateShape(t,e,d,!0)}},"single-combo"),Rs.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Rr.defaultCombo.style.stroke,fill:Rr.defaultCombo.style.fill,lineWidth:Rr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Rr.comboLabel.style.fill,fontSize:Rr.comboLabel.style.fontSize,fontFamily:Rr.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Me.__assign)({},Rr.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"rect",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,i=t.style,a=t.padding||this.options.padding;(0,ue.isNumber)(a)&&(a=[a,a,a,a]);var o=e.refX,s=e.refY;(0,ue.isNil)(o)&&(o=this.refX),(0,ue.isNil)(s)&&(s=this.refY);var h,l=-i.width/2-a[3],c=i.width/2+a[1],u=-i.height/2-a[0],d=i.height/2+a[2];switch(n){case"top":h={x:l+o,y:u+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:d+s,textBaseline:"top",textAlign:"center"};break;case"left":h={x:l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:t.label,textAlign:"center"};break;case"top-center":h={x:0,y:u+s,textBaseline:"top",textAlign:"center"};break;default:h={x:c+o,y:0,textAlign:"right"}}return h.text=t.label,h},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;(0,ue.isNumber)(n)&&(n=[n,n,n,n]);var s,l,a=(0,ue.mix)({},e,{stroke:t.color},t.style),o=this.getSize(t),c=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;c?(0,ue.isNumber)(c)?(s=c,l=c):(s=c[0],l=c[1]):(s=!(0,ue.isNumber)(a.width)||isNaN(a.width)?o[0]||Rr.defaultCombo.style.width:Math.max(a.width,o[0])||o[0],l=!(0,ue.isNumber)(a.height)||isNaN(a.height)?o[1]||Rr.defaultCombo.style.height:Math.max(a.height,o[1])||o[1]);var u=-s/2-n[3],d=-l/2-n[0];a.width=s+n[1]+n[3],a.height=l+n[0]+n[2];var h=(0,Me.__assign)({x:u,y:d},a);return t.style?(t.style.width=s,t.style.height=l):t.style={width:s,height:l},h},update:function(t,e){var n=this.getSize(t),i=t.padding||this.options.padding;(0,ue.isNumber)(i)&&(i=[i,i,i,i]);var o,s,a=(0,ue.clone)(t.style),l=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;l?(0,ue.isNumber)(l)?(o=l,s=l):(o=l[0],s=l[1]):(o=Math.max(a.width,n[0])||n[0],s=Math.max(a.height,n[1])||n[1]),a.width=o+i[1]+i[3],a.height=s+i[0]+i[2];var c=e.get("sizeCache");c&&(c.width=a.width,c.height=a.height),a.x=-o/2-i[3],a.y=-s/2-i[0];var u={stroke:t.color},d=e.get("keyShape"),h=(0,ue.mix)({},d.attr(),u,a);t.style?(t.style.width=o,t.style.height=s):t.style={width:o,height:s},this.updateShape(t,e,h,!1)}},"single-combo"),Rs.registerNode("simple-circle",{options:{size:Rr.defaultNode.size,style:{x:0,y:0,stroke:Rr.defaultNode.style.stroke,fill:Rr.defaultNode.style.fill,lineWidth:Rr.defaultNode.style.lineWidth},labelCfg:{style:{fill:Rr.nodeLabel.style.fill,fontSize:Rr.nodeLabel.style.fontSize,fontFamily:Rr.windowFontFamily}},stateStyles:(0,Me.__assign)({},Rr.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(t,e){var n=this.getShapeStyle(t),i="".concat(this.type,"-keyShape"),a=e.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:i,draggable:!0});return e.shapeMap[i]=a,a},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,i=(0,ue.deepMix)({},e,{stroke:t.color}),a=this.getSize(t);return(0,Me.__assign)({x:0,y:0,r:a[0]/2},i)},update:function(t,e,n){var i=this.getSize(t),a={stroke:t.color,r:i[0]/2},o=e.get("keyShape"),s=(0,ue.deepMix)({},o.attr(),a,t.style);this.updateShape(t,e,s,!0,n)}},"single-node"),Rs.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:Rr.defaultNode.style.stroke,fill:Rr.defaultNode.style.fill,lineWidth:Rr.defaultNode.style.lineWidth},labelCfg:{style:{fill:Rr.nodeLabel.style.fill,fontSize:Rr.nodeLabel.style.fontSize,fontFamily:Rr.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Me.__assign)({},Rr.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0})},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,i=(0,ue.mix)({},e,{stroke:t.color}),a=this.getSize(t),o=i.width||a[0],s=i.height||a[1];return(0,Me.__assign)({x:-o/2,y:-s/2,width:o,height:s},i)},update:function(t,e,n){e.getContainer();var a=(this.mergeStyle||this.getOptions(t)).style,o=this.getSize(t),s=e.get("keyShape");t.size||(o[0]=s.attr("width")||a.width,o[1]=s.attr("height")||a.height);var l={stroke:t.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},c=(0,ue.mix)({},a,s.attr(),l);c=(0,ue.mix)(c,t.style),this.updateShape(t,e,c,!1,n)}},"single-node"),Rs.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:Rr.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(t,e){var n=this.shapeType,i=this.getShapeStyle(t);delete i.fill;var a=e.addShape(n,{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(t,a),a},drawClip:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).clipCfg;if(n.show){var i=n.type,a=n.x,o=n.y,s=n.style;if("circle"===i)e.setClip({type:"circle",attrs:(0,Me.__assign)({r:n.r,x:a,y:o},s)});else if("rect"===i){var c=n.width,u=n.height;e.setClip({type:"rect",attrs:(0,Me.__assign)({x:a-c/2,y:o-u/2,width:c,height:u},s)})}else"ellipse"===i?e.setClip({type:"ellipse",attrs:(0,Me.__assign)({x:a,y:o,rx:n.rx,ry:n.ry},s)}):"polygon"===i?e.setClip({type:"polygon",attrs:(0,Me.__assign)({points:n.points},s)}):"path"===i&&e.setClip({type:"path",attrs:(0,Me.__assign)({path:n.path},s)})}},getShapeStyle:function(t){var e=this.mergeStyle||this.getOptions(t),n=e.style,i=e.img,a=this.getSize(t),o=a[0],s=a[1];return n&&(o=n.width||a[0],s=n.height||a[1]),(0,Me.__assign)({x:-o/2,y:-s/2,width:o,height:s,img:i},n)},updateShapeStyle:function(t,e){var n=e.getContainer(),i="".concat(this.itemType,"-shape"),a=n.shapeMap[i]||n.find(function(s){return s.get("className")===i})||e.getKeyShape(),o=this.getShapeStyle(t);a&&!a.destroyed&&a.attr(o)}},"single-node");const o3={collapse:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t+n-4,e]]},expand:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t-n+2*n-4,e],["M",t-n+n,e-n+4],["L",t,e+n-4]]},upTriangle:function(t,e,n){var i=n*Math.cos(Math.PI/6),a=n*Math.sin(Math.PI/6);return[["M",t-i,e+a],["L",t+i,e+a],["L",t,e-n],["Z"]]},downTriangle:function(t,e,n){var i=n*Math.cos(Math.PI/6),a=n*Math.sin(Math.PI/6);return[["M",t-i,e-a],["L",t+i,e-a],["L",t,e+n],["Z"]]}},Ch=Rs;var eae=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],s3=function(t){return"force"===t||"g6force"===t||"gForce"===t||"force2"===t},tae=Yc;const cl=(0,Me.__assign)((0,Me.__assign)((0,Me.__assign)((0,Me.__assign)((0,Me.__assign)((0,Me.__assign)((0,Me.__assign)({},T),B),b),q),x),m),{transform:tae,mat3:wd});var rae=function(){function r(t){this.graph=t,this.layoutCfg=t.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return r.prototype.initLayout=function(){},r.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},r.prototype.getLayoutCfgType=function(t){var e=t.type;if(e)return e;var n=t.pipes;return Array.isArray(n)?n.map(function(i){return i?.type||""}):null},r.prototype.isLayoutTypeSame=function(t){var e=this.getLayoutCfgType(t),n=Array.isArray(this.layoutType),i=Array.isArray(e);return n&&i?this.layoutType.every(function(a,o){return a===e[o]}):!Array.isArray(e)&&!Array.isArray(this.layoutType)&&t?.type===this.layoutType},r.prototype.refreshLayout=function(){var t=this,e=t.graph,n=t.layoutType,i=t.layoutCfg;if(e){var o=(void 0===i?{}:i).animate,s=void 0===o&&("force"===n||"force2"===n),l=s3(n)&&(o||s);e.get("animate")&&!l?e.positionsAnimate("comboCombined"===n):e.refreshPositions("comboCombined"===n)}},r.prototype.changeLayout=function(t){var e=t.disableTriggerLayout,n=(0,Me.__rest)(t,["disableTriggerLayout"]);this.layoutCfg=n,this.layoutType=n.type||this.layoutType,!e&&this.layout()},r.prototype.changeData=function(t){this.layout(t)},r.prototype.destoryLayoutMethods=function(){var e=[];return this.layoutMethods?.forEach(function(n){var i,a=null===(i=n.getType)||void 0===i?void 0:i.call(n);a&&e.push(a),n.destroy()}),this.layoutMethods=[],e},r.prototype.destroyLayout=function(){this.destoryLayoutMethods();var t=this.graph;t&&!t.get("destroyed")&&t.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},r.prototype.setDataFromGraph=function(){for(var t,e=[],n=[],i=[],a=[],o=[],s=[],l=[],c=this.graph.getNodes(),u=this.graph.getEdges(),d=this.graph.getCombos(),h=c.length,v=0;v<h;v++){var y=c[v];if(y&&!y.destroyed){var D=y.getModel();if(!y.isVisible()){n.push(D);continue}e.push(D)}}var F=u.length;for(v=0;v<F;v++){var K=u[v];if(K&&!K.destroyed){if(D=K.getModel(),!K.isVisible()){a.push(D);continue}D.isComboEdge?o.push(D):i.push(D)}}var Q=d.length;for(v=0;v<Q;v++){var J=d[v];if(!J.destroyed){if(D=J.getModel(),!J.isVisible()){l.push(D);continue}s.push(D)}}return{nodes:e,hiddenNodes:n,edges:i,hiddenEdges:a,combos:s,hiddenCombos:l,comboEdges:o,vedges:null===(t=this.graph.get("vedges"))||void 0===t?void 0:t.map(function(de){return de.getModel()})}},r.prototype.relayout=function(t){var e=this,n=this,i=n.graph,a=n.layoutMethods,o=n.layoutCfg;if(i&&!i.get("destroyed")){var s=Promise.resolve();if(t){this.data=this.setDataFromGraph();var l=this.data.nodes;if(!l)return!1;s=this.initPositions(o.center,l)}i.emit("beforelayout"),a?.forEach(function(c,u){var d=o[u]||o;s=s.then(function(){var h,v=e.execLayoutMethod(d,u);return u===a.length-1&&(null===(h=o.onAllLayoutEnd)||void 0===h||h.call(o)),v})})}},r.prototype.filterLayoutData=function(t,e){var o,s,n=t.nodes,i=t.edges,a=(0,Me.__rest)(t,["nodes","edges"]);if(!n)return t;o=(0,ue.isFunction)(e?.nodesFilter)?e.nodesFilter:function(){return!0};var l=n.filter(o);if((0,ue.isFunction)(e?.edgesFilter))s=e.edgesFilter;else{var c=l.reduce(function(u,d){return u[d.id]=!0,u},{});s=function(d){return c[d.source]&&c[d.target]}}return(0,Me.__assign)({nodes:l,edges:i.filter(s)},a)},r.prototype.getLayoutBBox=function(t){var n=(0,ue.groupBy)(this.graph.getNodes(),function(o){return o.getModel().layoutOrder}),i=Object.values(n).map(function(o){var s=TB(o);return s.size=[s.width,s.height],s});return{groupNodes:Object.values((0,ue.groupBy)(t,"layoutOrder")),layoutNodes:i}},r.prototype.layoutAnimate=function(){},r.prototype.moveToZero=function(){var n=this.graph.get("data").nodes;if(null!=n[0].x&&!Td(n[0].x)){for(var i=[0,0],a=n.length,o=0;o<a;o++)i[0]+=(s=n[o]).x,i[1]+=s.y;for(i[0]/=n.length,i[1]/=n.length,o=0;o<a;o++){var s;(s=n[o]).x-=i[0],s.y-=i[1]}}},r.prototype.initPositions=function(t,e){var n;return(0,Me.__awaiter)(this,void 0,void 0,function(){var i,a,o;return(0,Me.__generator)(this,function(s){return i=this.graph,e?.length?(a=e.filter(function(l){return Td(l.x)||Td(l.y)}),(o=a?a.length:0)?[2,null===(n=this.initWithPreset)||void 0===n?void 0:n.call(this,function(){},function(){var l=.85*i.get("width"),c=.85*i.get("height"),u=Math.ceil(Math.sqrt(o)*(l/c)),h=l/(u-1),v=c/(Math.ceil(o/u)-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(v)||!h)&&(v=0);for(var y=t[0]-l/2,D=t[1]-c/2,K=0;K<o;K++){var Q=a[K];Td(+Q.x)&&(Q.x=K%u*h+y),Td(+Q.y)&&(Q.y=Math.floor(K/u)*v+D)}})]:[2]):[2,Promise.resolve()]})})},r.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},r}();const l3=rae;var Mf=Ch.registerNode,u3=Ch.registerEdge,aae=Ch.registerCombo,d3=SR.registerBehavior,hr=Rr,oae=j(4610);function f3(r,t,e,n){var i=r-e,a=t-n;return Math.sqrt(i*i+a*a)}function Gp(r,t,e,n,i,a){return i>=r&&i<=r+e&&a>=t&&a<=t+n}function N0(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)}function h3(r,t){return r[0]===t[0]&&r[1]===t[1]}var cae=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,uae=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,dae=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,p3=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function v3(r,t){var e=r.match(p3);(0,ue.each)(e,function(n){var i=n.split(":");t.addColorStop(i[0],i[1])})}function vae(r,t,e){var n=t.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return e;if((0,ue.isString)(e)){if("("===e[1]||"("===e[2]){if("l"===e[0])return function fae(r,t,e){var s,l,n=cae.exec(e),i=parseFloat(n[1])%360*(Math.PI/180),a=n[2],o=t.getBBox();i>=0&&i<.5*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):.5*Math.PI<=i&&i<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=i&&i<1.5*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var c=Math.tan(i),u=c*c,v=r.createLinearGradient(s.x,s.y,(l.x-s.x+c*(l.y-s.y))/(u+1)+s.x,c*(l.x-s.x+c*(l.y-s.y))/(u+1)+s.y);return v3(a,v),v}(r,t,e);if("r"===e[0])return function hae(r,t,e){var n=uae.exec(e),i=parseFloat(n[1]),a=parseFloat(n[2]),o=parseFloat(n[3]),s=n[4];if(0===o){var l=s.match(p3);return l[l.length-1].split(":")[1]}var c=t.getBBox(),u=c.maxX-c.minX,d=c.maxY-c.minY,h=Math.sqrt(u*u+d*d)/2,v=r.createRadialGradient(c.minX+u*i,c.minY+d*a,0,c.minX+u/2,c.minY+d/2,o*h);return v3(s,v),v}(r,t,e);if("p"===e[0])return function pae(r,t,e){if(t.get("patternSource")&&t.get("patternSource")===e)return t.get("pattern");var n,i,a=dae.exec(e),o=a[1],s=a[2];function l(){n=r.createPattern(i,o),t.set("pattern",n),t.set("patternSource",e)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;default:o="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?l():(i.onload=l,i.src=i.src),n}(r,t,e)}return e}return e instanceof CanvasPattern?e:void 0}function qb(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function XM(r,t){return qb(r)*qb(t)?(r[0]*t[0]+r[1]*t[1])/(qb(r)*qb(t)):1}function g3(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(XM(r,t))}function m3(r,t){var e=t[1],n=t[2],i=(0,ue.mod)((0,ue.toRadian)(t[3]),2*Math.PI),a=t[4],o=t[5],s=r[0],l=r[1],c=t[6],u=t[7],d=Math.cos(i)*(s-c)/2+Math.sin(i)*(l-u)/2,h=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(l-u)/2,v=d*d/(e*e)+h*h/(n*n);v>1&&(e*=Math.sqrt(v),n*=Math.sqrt(v));var y=e*e*(h*h)+n*n*(d*d),D=y?Math.sqrt((e*e*(n*n)-y)/y):1;a===o&&(D*=-1),isNaN(D)&&(D=0);var F=n?D*e*h/n:0,K=e?D*-n*d/e:0,Q=(s+c)/2+Math.cos(i)*F-Math.sin(i)*K,J=(l+u)/2+Math.sin(i)*F+Math.cos(i)*K,de=[(d-F)/e,(h-K)/n],Ee=[(-1*d-F)/e,(-1*h-K)/n],ke=g3([1,0],de),Re=g3(de,Ee);return XM(de,Ee)<=-1&&(Re=Math.PI),XM(de,Ee)>=1&&(Re=0),0===o&&Re>0&&(Re-=2*Math.PI),1===o&&Re<0&&(Re+=2*Math.PI),{cx:Q,cy:J,rx:h3(r,[c,u])?0:e,ry:h3(r,[c,u])?0:n,startAngle:ke,endAngle:ke+Re,xRotation:i,arcFlag:a,sweepFlag:o}}var Zb=Math.sin,Qb=Math.cos,KM=Math.atan2,Jb=Math.PI;function y3(r,t,e,n,i,a,o){var s=t.stroke,l=t.lineWidth,d=KM(n-a,e-i),h=new nC({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Qb(Jb/6)+","+10*Zb(Jb/6)+" L0,0 L"+10*Qb(Jb/6)+",-"+10*Zb(Jb/6),stroke:s,lineWidth:l}});h.translate(i,a),h.rotateAtPoint(i,a,d),r.set(o?"startArrowShape":"endArrowShape",h)}function _3(r,t,e,n,i,a,o){var c=t.stroke,u=t.lineWidth,d=o?t.startArrow:t.endArrow,h=d.d,v=d.fill,y=d.stroke,D=d.lineWidth,F=(0,Me.__rest)(d,["d","fill","stroke","lineWidth"]),J=KM(n-a,e-i);h&&(i-=Qb(J)*h,a-=Zb(J)*h);var de=new nC({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:(0,Me.__assign)((0,Me.__assign)({},F),{stroke:y||c,lineWidth:D||u,fill:v})});de.translate(i,a),de.rotateAtPoint(i,a,J),r.set(o?"startArrowShape":"endArrowShape",de)}function Hp(r,t,e,n,i){var a=KM(n-t,e-r);return{dx:Qb(a)*i,dy:Zb(a)*i}}function qM(r,t,e,n,i,a){"object"==typeof t.startArrow?_3(r,t,e,n,i,a,!0):t.startArrow?y3(r,t,e,n,i,a,!0):r.set("startArrowShape",null)}function ZM(r,t,e,n,i,a){"object"==typeof t.endArrow?_3(r,t,e,n,i,a,!1):t.endArrow?y3(r,t,e,n,i,a,!1):r.set("startArrowShape",null)}var b3={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Pg(r,t){var e=t.attr();for(var n in e){var i=e[n],a=b3[n]?b3[n]:n;"matrix"===a&&i?r.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===a&&r.setLineDash?(0,ue.isArray)(i)&&r.setLineDash(i):("strokeStyle"===a||"fillStyle"===a?i=vae(r,t,i):"globalAlpha"===a&&(i*=r.globalAlpha),r[a]=i)}}function QM(r,t,e){for(var n=0;n<t.length;n++){var i=t[n];i.cfg.visible?i.draw(r,e):i.skipDraw()}}function mae(r,t,e){var n=r.get("refreshElements");(0,ue.each)(n,function(i){if(i!==r)for(var a=i.cfg.parent;a&&a!==r&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),n[0]===r?eC(t,e):JM(t,e)}function JM(r,t){for(var e=0;e<r.length;e++){var n=r[e];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&eC(n.cfg.children,t);else if(n.cfg.refresh)n.isGroup()&&JM(n.cfg.children,t);else{var i=yae(n,t);n.cfg.refresh=i,i&&n.isGroup()&&JM(n.cfg.children,t)}}}function x3(r){for(var t=0;t<r.length;t++){var e=r[t];e.cfg.hasChanged=!1,e.isGroup()&&!e.destroyed&&x3(e.cfg.children)}}function eC(r,t){for(var e=0;e<r.length;e++){var n=r[e];n.cfg.visible&&(n.cfg.refresh=!0,n.isGroup()&&eC(n.get("children"),t))}}function yae(r,t){var e=r.cfg.cacheCanvasBBox;return r.cfg.isInView&&e&&N0(e,t)}function w3(r,t,e,n){var i=e.path,a=e.startArrow,o=e.endArrow;if(i){var s=[0,0],l=[0,0],c={dx:0,dy:0};t.beginPath();for(var u=0;u<i.length;u++){var d=i[u],h=d[0];if(0===u&&a&&a.d)c=Hp((v=r.getStartTangent())[0][0],v[0][1],v[1][0],v[1][1],a.d);else if(u===i.length-2&&"Z"===i[u+1][0]&&o&&o.d)"Z"===i[u+1][0]&&(c=Hp((v=r.getEndTangent())[0][0],v[0][1],v[1][0],v[1][1],o.d));else if(u===i.length-1&&o&&o.d&&"Z"!==i[0]){var v;c=Hp((v=r.getEndTangent())[0][0],v[0][1],v[1][0],v[1][1],o.d)}var D=c.dx,F=c.dy;switch(h){case"M":t.moveTo(d[1]-D,d[2]-F),l=[d[1],d[2]];break;case"L":t.lineTo(d[1]-D,d[2]-F);break;case"Q":t.quadraticCurveTo(d[1],d[2],d[3]-D,d[4]-F);break;case"C":t.bezierCurveTo(d[1],d[2],d[3],d[4],d[5]-D,d[6]-F);break;case"A":var K=void 0;n?(K=n[u])||(K=m3(s,d),n[u]=K):K=m3(s,d);var Q=K.cx,J=K.cy,de=K.rx,Ee=K.ry,ke=K.startAngle,Re=K.endAngle,tt=K.xRotation,xt=K.sweepFlag;if(t.ellipse)t.ellipse(Q,J,de,Ee,tt,ke,Re,1-xt);else{var ct=de>Ee?de:Ee,Nt=de>Ee?1:de/Ee,Ut=de>Ee?Ee/de:1;t.translate(Q,J),t.rotate(tt),t.scale(Nt,Ut),t.arc(0,0,ct,ke,Re,1-xt),t.scale(1/Nt,1/Ut),t.rotate(-tt),t.translate(-Q,-J)}break;case"Z":t.closePath()}if("Z"===h)s=l;else{var Mn=d.length;s=[d[Mn-2],d[Mn-1]]}}}}function E3(r,t){var e=r.get("canvas");e&&("remove"===t&&(r._cacheCanvasBBox=r.get("cacheCanvasBBox")),r.get("hasChanged")||(r.set("hasChanged",!0),r.cfg.parent&&r.cfg.parent.get("hasChanged")||(e.refreshElement(r,t,e),e.get("autoDraw")&&e.draw())))}var wae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.onCanvasChange=function(e){E3(this,e)},t.prototype.getShapeBase=function(){return _},t.prototype.getGroupBase=function(){return t},t.prototype._applyClip=function(e,n){n&&(e.save(),Pg(e,n),n.createPath(e),e.restore(),e.clip(),n._afterDraw())},t.prototype.cacheCanvasBBox=function(){var n=[],i=[];(0,ue.each)(this.cfg.children,function(h){var v=h.cfg.cacheCanvasBBox;v&&h.cfg.isInView&&(n.push(v.minX,v.maxX),i.push(v.minY,v.maxY))});var a=null;if(n.length){var o=(0,ue.min)(n),s=(0,ue.max)(n),l=(0,ue.min)(i),c=(0,ue.max)(i);a={minX:o,minY:l,x:o,y:l,maxX:s,maxY:c,width:s-o,height:c-l};var u=this.cfg.canvas;if(u){var d=u.getViewRange();this.set("isInView",N0(a,d))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",a)},t.prototype.draw=function(e,n){var i=this.cfg.children;i.length&&(!n||this.cfg.refresh)&&(e.save(),Pg(e,this),this._applyClip(e,this.getClip()),QM(e,i,n),e.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},t}(UF);const S3=wae;var Eae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.getShapeBase=function(){return _},t.prototype.getGroupBase=function(){return S3},t.prototype.onCanvasChange=function(e){E3(this,e)},t.prototype.calculateBBox=function(){var e=this.get("type"),n=this.getHitLineWidth(),a=WF(e)(this),o=n/2,s=a.x-o,l=a.y-o;return{x:s,minX:s,y:l,minY:l,width:a.width+n,height:a.height+n,maxX:a.x+a.width+o,maxY:a.y+a.height+o}},t.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},t.prototype.isStroke=function(){return!!this.attrs.stroke},t.prototype._applyClip=function(e,n){n&&(e.save(),Pg(e,n),n.createPath(e),e.restore(),e.clip(),n._afterDraw())},t.prototype.draw=function(e,n){var i=this.cfg.clipShape;if(n){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!N0(n,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}e.save(),Pg(e,this),this._applyClip(e,i),this.drawPath(e),e.restore(),this._afterDraw()},t.prototype.getCanvasViewBox=function(){var e=this.cfg.canvas;return e?e.getViewRange():null},t.prototype.cacheCanvasBBox=function(){var e=this.getCanvasViewBox();if(e){var n=this.getCanvasBBox(),i=N0(n,e);this.set("isInView",i),this.set("cacheCanvasBBox",i?n:null)}},t.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},t.prototype.drawPath=function(e){this.createPath(e),this.strokeAndFill(e),this.afterDrawPath(e)},t.prototype.fill=function(e){e.fill()},t.prototype.stroke=function(e){e.stroke()},t.prototype.strokeAndFill=function(e){var n=this.attrs,i=n.lineWidth,a=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isFill()&&((0,ue.isNil)(s)||1===s?this.fill(e):(e.globalAlpha=s,this.fill(e),e.globalAlpha=a)),this.isStroke()&&i>0&&(!(0,ue.isNil)(o)&&1!==o&&(e.globalAlpha=o),this.stroke(e)),this.afterDrawPath(e)},t.prototype.createPath=function(e){},t.prototype.afterDrawPath=function(e){},t.prototype.isInShape=function(e,n){var i=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(e,n,i,a,o)},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){return!1},t.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var e=this.attrs;return e.lineWidth+e.lineAppendWidth},t}(GF);const Pu=Eae;var Sae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{x:0,y:0,r:0})},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){var s=this.attr(),u=s.r,d=o/2,h=f3(s.x,s.y,e,n);return a&&i?h<=u+d:a?h<=u:!!i&&h>=u-d&&h<=u+d},t.prototype.createPath=function(e){var n=this.attr(),i=n.x,a=n.y,o=n.r;e.beginPath(),e.arc(i,a,o,0,2*Math.PI,!1),e.closePath()},t}(Pu);const Mae=Sae;function ex(r,t,e,n){return r/(e*e)+t/(n*n)}var Cae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{x:0,y:0,rx:0,ry:0})},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){var s=this.attr(),l=o/2,c=s.x,u=s.y,d=s.rx,h=s.ry,v=(e-c)*(e-c),y=(n-u)*(n-u);return a&&i?ex(v,y,d+l,h+l)<=1:a?ex(v,y,d,h)<=1:!!i&&ex(v,y,d-l,h-l)>=1&&ex(v,y,d+l,h+l)<=1},t.prototype.createPath=function(e){var n=this.attr(),i=n.x,a=n.y,o=n.rx,s=n.ry;if(e.beginPath(),e.ellipse)e.ellipse(i,a,o,s,0,0,2*Math.PI,!1);else{var l=o>s?o:s,c=o>s?1:o/s,u=o>s?s/o:1;e.save(),e.translate(i,a),e.scale(c,u),e.arc(0,0,l,0,2*Math.PI),e.restore(),e.closePath()}},t}(Pu);const Dae=Cae;function M3(r){return r instanceof HTMLElement&&(0,ue.isString)(r.nodeName)&&"CANVAS"===r.nodeName.toUpperCase()}var Tae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{x:0,y:0,width:0,height:0})},t.prototype.initAttrs=function(e){this._setImage(e.img)},t.prototype.isStroke=function(){return!1},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var e=this.get("canvas");e?e.draw():this.createPath(this.get("context"))}},t.prototype._setImage=function(e){var n=this,i=this.attrs;if((0,ue.isString)(e)){var a=new Image;a.onload=function(){if(n.destroyed)return!1;n.attr("img",a),n.set("loading",!1),n._afterLoading();var o=n.get("callback");o&&o.call(n)},a.crossOrigin="Anonymous",a.src=e,this.set("loading",!0)}else e instanceof Image?(i.width||(i.width=e.width),i.height||(i.height=e.height)):M3(e)&&(i.width||(i.width=Number(e.getAttribute("width"))),i.height||Number(e.getAttribute("height")))},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),"img"===e&&this._setImage(n)},t.prototype.createPath=function(e){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",e);var n=this.attr(),i=n.x,a=n.y,o=n.width,s=n.height,l=n.sx,c=n.sy,u=n.swidth,d=n.sheight,h=n.img;(h instanceof Image||M3(h))&&((0,ue.isNil)(l)||(0,ue.isNil)(c)||(0,ue.isNil)(u)||(0,ue.isNil)(d)?e.drawImage(h,i,a,o,s):e.drawImage(h,l,c,u,d,i,a,o,s))},t}(Pu);const Aae=Tae;function Dh(r,t,e,n,i,a,o){var s=Math.min(r,e),l=Math.max(r,e),c=Math.min(t,n),u=Math.max(t,n),d=i/2;return a>=s-d&&a<=l+d&&o>=c-d&&o<=u+d&&Ps.pointToLine(r,t,e,n,a,o)<=i/2}var Iae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),this.setArrow()},t.prototype.setArrow=function(){var e=this.attr(),n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.endArrow;e.startArrow&&qM(this,e,a,o,n,i),l&&ZM(this,e,n,i,a,o)},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){if(!i||!o)return!1;var s=this.attr();return Dh(s.x1,s.y1,s.x2,s.y2,o,e,n)},t.prototype.createPath=function(e){var n=this.attr(),i=n.x1,a=n.y1,o=n.x2,s=n.y2,l=n.startArrow,c=n.endArrow,u={dx:0,dy:0},d={dx:0,dy:0};l&&l.d&&(u=Hp(i,a,o,s,n.startArrow.d)),c&&c.d&&(d=Hp(i,a,o,s,n.endArrow.d)),e.beginPath(),e.moveTo(i+u.dx,a+u.dy),e.lineTo(o-d.dx,s-d.dy)},t.prototype.afterDrawPath=function(e){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(e),i&&i.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr();return Ps.length(e.x1,e.y1,e.x2,e.y2)},t.prototype.getPoint=function(e){var n=this.attr();return Ps.pointAt(n.x1,n.y1,n.x2,n.y2,e)},t}(Pu);const Oae=Iae;var kae={circle:function(r,t,e){return[["M",r-e,t],["A",e,e,0,1,0,r+e,t],["A",e,e,0,1,0,r-e,t]]},square:function(r,t,e){return[["M",r-e,t-e],["L",r+e,t-e],["L",r+e,t+e],["L",r-e,t+e],["Z"]]},diamond:function(r,t,e){return[["M",r-e,t],["L",r,t-e],["L",r+e,t],["L",r,t+e],["Z"]]},triangle:function(r,t,e){var n=e*Math.sin(.3333333333333333*Math.PI);return[["M",r-e,t+n],["L",r,t-n],["L",r+e,t+n],["Z"]]},"triangle-down":function(r,t,e){var n=e*Math.sin(.3333333333333333*Math.PI);return[["M",r-e,t-n],["L",r+e,t-n],["L",r,t+n],["Z"]]}},Nae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.initAttrs=function(e){this._resetParamsCache()},t.prototype._resetParamsCache=function(){this.set("paramsCache",{})},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._getR=function(e){return(0,ue.isNil)(e.r)?e.radius:e.r},t.prototype._getPath=function(){var s,l,e=this.attr(),n=e.x,i=e.y,a=e.symbol||"circle",o=this._getR(e);if((0,ue.isFunction)(a))l=mB(l=(s=a)(n,i,o));else{if(!(s=t.Symbols[a]))return console.warn(a+" marker is not supported."),null;l=s(n,i,o)}return l},t.prototype.createPath=function(e){w3(this,e,{path:this._getPath()},this.get("paramsCache"))},t.Symbols=kae,t}(Pu);const Pae=Nae;function C3(r,t,e){var n=fB();return r.createPath(n),n.isPointInPath(t,e)}var Rae=1e-6;function tC(r){return Math.abs(r)<Rae?0:r<0?-1:1}function Lae(r,t,e){return(e[0]-r[0])*(t[1]-r[1])==(t[0]-r[0])*(e[1]-r[1])&&Math.min(r[0],t[0])<=e[0]&&e[0]<=Math.max(r[0],t[0])&&Math.min(r[1],t[1])<=e[1]&&e[1]<=Math.max(r[1],t[1])}function D3(r,t,e){var n=!1,i=r.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=r[a],s=r[(a+1)%i];if(Lae(o,s,[t,e]))return!0;tC(o[1]-e)>0!=tC(s[1]-e)>0&&tC(t-(e-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function P0(r,t,e,n,i,a,o,s){var l=(Math.atan2(s-t,o-r)+2*Math.PI)%(2*Math.PI);if(l<n||l>i)return!1;var c={x:r+e*Math.cos(l),y:t+e*Math.sin(l)};return f3(c.x,c.y,o,s)<=a/2}var Fae=Yc;const tx=(0,Me.__assign)({hasArc:function Bae(r){for(var t=!1,e=r.length,n=0;n<e;n++){var a=r[n][0];if("C"===a||"A"===a||"Q"===a){t=!0;break}}return t},extractPolygons:function Vae(r){for(var t=r.length,e=[],n=[],i=[],a=0;a<t;a++){var o=r[a],s=o[0];"M"===s?(i.length&&(n.push(i),i=[]),i.push([o[1],o[2]])):"Z"===s?i.length&&(e.push(i),i=[]):i.push([o[1],o[2]])}return i.length>0&&n.push(i),{polygons:e,polylines:n}},isPointInStroke:function zae(r,t,e,n,i){for(var a=!1,o=t/2,s=0;s<r.length;s++){var l=r[s],c=l.currentPoint,u=l.params,d=l.prePoint,h=l.box;if(!h||Gp(h.x-o,h.y-o,h.width+t,h.height+t,e,n)){switch(l.command){case"L":case"Z":a=Dh(d[0],d[1],c[0],c[1],t,e,n);break;case"Q":a=QF.pointDistance(d[0],d[1],u[1],u[2],u[3],u[4],e,n)<=t/2;break;case"C":a=T0.pointDistance(d[0],d[1],u[1],u[2],u[3],u[4],u[5],u[6],e,n,i)<=t/2;break;case"A":var D=l.arcParams,Q=D.rx,J=D.ry,de=D.startAngle,Ee=D.endAngle,Re=[e,n,1],tt=Q>J?Q:J,Nt=Fae(null,[["t",-D.cx,-D.cy],["r",-D.xRotation],["s",1/(Q>J?1:Q/J),1/(Q>J?J/Q:1)]]);US.transformMat3(Re,Re,Nt),a=P0(0,0,tt,de,Ee,t,Re[0],Re[1])}if(a)break}}return a}},O);function T3(r,t,e){for(var n=!1,i=0;i<r.length&&!(n=D3(r[i],t,e));i++);return n}var jae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this._setPathArr(e.path),this.setArrow()},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),"path"===e&&this._setPathArr(n),this.setArrow()},t.prototype._setPathArr=function(e){this.attrs.path=mB(e);var n=tx.hasArc(e);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},t.prototype.getSegments=function(){var e=this.get("segements");return e||(e=MB(this.attr("path")),this.set("segments",e)),e},t.prototype.setArrow=function(){var a,e=this.attr(),i=e.endArrow;e.startArrow&&qM(this,e,(a=this.getStartTangent())[0][0],a[0][1],a[1][0],a[1][1]),i&&ZM(this,e,(a=this.getEndTangent())[0][0],a[0][1],a[1][0],a[1][1])},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){var s=this.getSegments(),l=this.get("hasArc"),c=!1;if(i){var u=this.getTotalLength();c=tx.isPointInStroke(s,o,e,n,u)}if(!c&&a)if(l)c=C3(this,e,n);else{var d=this.attr("path"),h=tx.extractPolygons(d);c=T3(h.polygons,e,n)||T3(h.polylines,e,n)}return c},t.prototype.createPath=function(e){w3(this,e,this.attr(),this.get("paramsCache"))},t.prototype.afterDrawPath=function(e){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(e),i&&i.draw(e)},t.prototype.getTotalLength=function(){var e=this.get("totalLength");return(0,ue.isNil)(e)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):e},t.prototype.getPoint=function(e){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var i,a,o=this.get("curve");if(!n||0===n.length)return o?{x:o[0][1],y:o[0][2]}:null;(0,ue.each)(n,function(u,d){e>=u[0]&&e<=u[1]&&(i=(e-u[0])/(u[1]-u[0]),a=d)});var s=o[a];if((0,ue.isNil)(s)||(0,ue.isNil)(a))return null;var l=s.length,c=o[a+1];return T0.pointAt(s[l-2],s[l-1],c[1],c[2],c[3],c[4],c[5],c[6],i)},t.prototype._calculateCurve=function(){var e=this.attr().path;this.set("curve",tx.pathToCurve(e))},t.prototype._setTcache=function(){var a,o,s,l,e=0,n=0,i=[],c=this.get("curve");if(c){if((0,ue.each)(c,function(u,d){l=u.length,(s=c[d+1])&&(e+=T0.length(u[l-2],u[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",e),0===e)return void this.set("tCache",[]);(0,ue.each)(c,function(u,d){l=u.length,(s=c[d+1])&&((a=[])[0]=n/e,o=T0.length(u[l-2],u[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),a[1]=(n+=o||0)/e,i.push(a))}),this.set("tCache",i)}},t.prototype.getStartTangent=function(){var n,e=this.getSegments();if(e.length>1){var i=e[0].currentPoint,a=e[1].currentPoint,o=e[1].startTangent;n=[],o?(n.push([i[0]-o[0],i[1]-o[1]]),n.push([i[0],i[1]])):(n.push([a[0],a[1]]),n.push([i[0],i[1]]))}return n},t.prototype.getEndTangent=function(){var i,e=this.getSegments(),n=e.length;if(n>1){var a=e[n-2].currentPoint,o=e[n-1].currentPoint,s=e[n-1].endTangent;i=[],s?(i.push([o[0]-s[0],o[1]-s[1]]),i.push([o[0],o[1]])):(i.push([a[0],a[1]]),i.push([o[0],o[1]]))}return i},t}(Pu);const nC=jae;function A3(r,t,e,n,i){var a=r.length;if(a<2)return!1;for(var o=0;o<a-1;o++)if(Dh(r[o][0],r[o][1],r[o+1][0],r[o+1][1],t,e,n))return!0;if(i){var d=r[0],h=r[a-1];if(Dh(d[0],d[1],h[0],h[1],t,e,n))return!0}return!1}var Uae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.isInStrokeOrPath=function(e,n,i,a,o){var s=this.attr().points,l=!1;return i&&(l=A3(s,o,e,n,!0)),!l&&a&&(l=D3(s,e,n)),l},t.prototype.createPath=function(e){var i=this.attr().points;if(!(i.length<2)){e.beginPath();for(var a=0;a<i.length;a++){var o=i[a];0===a?e.moveTo(o[0],o[1]):e.lineTo(o[0],o[1])}e.closePath()}},t}(Pu);const Gae=Uae;var Hae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.setArrow=function(){var e=this.attr(),n=this.attrs,i=n.points,o=n.endArrow,s=i.length,u=i[s-1][0],d=i[s-1][1];n.startArrow&&qM(this,e,i[1][0],i[1][1],i[0][0],i[0][1]),o&&ZM(this,e,i[s-2][0],i[s-2][1],u,d)},t.prototype.isFill=function(){return!1},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){return!(!i||!o)&&A3(this.attr().points,o,e,n,!1)},t.prototype.isStroke=function(){return!0},t.prototype.createPath=function(e){var n=this.attr(),i=n.points,a=n.startArrow,o=n.endArrow,s=i.length;if(!(i.length<2)){var h,l=i[0][0],c=i[0][1],u=i[s-1][0],d=i[s-1][1];a&&a.d&&(l+=(h=Hp(l,c,i[1][0],i[1][1],a.d)).dx,c+=h.dy),o&&o.d&&(u-=(h=Hp(i[s-2][0],i[s-2][1],u,d,o.d)).dx,d-=h.dy),e.beginPath(),e.moveTo(l,c);for(var v=0;v<s-1;v++){var y=i[v];e.lineTo(y[0],y[1])}e.lineTo(u,d)}},t.prototype.afterDrawPath=function(e){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(e),i&&i.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr().points,n=this.get("totalLength");return(0,ue.isNil)(n)?(this.set("totalLength",SM_length(e)),this.get("totalLength")):n},t.prototype.getPoint=function(e){var a,o,n=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,ue.each)(i,function(s,l){e>=s[0]&&e<=s[1]&&(a=(e-s[0])/(s[1]-s[0]),o=l)}),Ps.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],a)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var n=this.getTotalLength();if(!(n<=0)){var o,s,i=0,a=[];(0,ue.each)(e,function(l,c){e[c+1]&&((o=[])[0]=i/n,s=Ps.length(l[0],l[1],e[c+1][0],e[c+1][1]),o[1]=(i+=s)/n,a.push(o))}),this.set("tCache",a)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,n=[];return n.push([e[1][0],e[1][1]]),n.push([e[0][0],e[0][1]]),n},t.prototype.getEndTangent=function(){var e=this.attr().points,n=e.length-1,i=[];return i.push([e[n-1][0],e[n-1][1]]),i.push([e[n][0],e[n][1]]),i},t}(Pu);const Wae=Hae;var Xae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.isInStrokeOrPath=function(e,n,i,a,o){var s=this.attr(),l=s.x,c=s.y,u=s.width,d=s.height,h=s.radius;if(h){var y=!1;return i&&(y=function $ae(r,t,e,n,i,a,o,s){return Dh(r+i,t,r+e-i,t,a,o,s)||Dh(r+e,t+i,r+e,t+n-i,a,o,s)||Dh(r+e-i,t+n,r+i,t+n,a,o,s)||Dh(r,t+n-i,r,t+i,a,o,s)||P0(r+e-i,t+i,i,1.5*Math.PI,2*Math.PI,a,o,s)||P0(r+e-i,t+n-i,i,0,.5*Math.PI,a,o,s)||P0(r+i,t+n-i,i,.5*Math.PI,Math.PI,a,o,s)||P0(r+i,t+i,i,Math.PI,1.5*Math.PI,a,o,s)}(l,c,u,d,h,o,e,n)),!y&&a&&(y=C3(this,e,n)),y}var v=o/2;return a&&i?Gp(l-v,c-v,u+v,d+v,e,n):a?Gp(l,c,u,d,e,n):i?function Yae(r,t,e,n,i,a,o){var s=i/2;return Gp(r-s,t-s,e,i,a,o)||Gp(r+e-s,t-s,i,n,a,o)||Gp(r+s,t+n-s,e,i,a,o)||Gp(r-s,t+s,i,n,a,o)}(l,c,u,d,o,e,n):void 0},t.prototype.createPath=function(e){var n=this.attr(),i=n.x,a=n.y,o=n.width,s=n.height,l=n.radius;if(e.beginPath(),0===l)e.rect(i,a,o,s);else{var c=function gae(r){var t=0,e=0,n=0,i=0;return(0,ue.isArray)(r)?1===r.length?t=e=n=i=r[0]:2===r.length?(t=n=r[0],e=i=r[1]):3===r.length?(t=r[0],e=i=r[1],n=r[2]):(t=r[0],e=r[1],n=r[2],i=r[3]):t=e=n=i=r,[t,e,n,i]}(l),u=c[0],d=c[1],h=c[2],v=c[3];e.moveTo(i+u,a),e.lineTo(i+o-d,a),0!==d&&e.arc(i+o-d,a+d,d,-Math.PI/2,0),e.lineTo(i+o,a+s-h),0!==h&&e.arc(i+o-h,a+s-h,h,0,Math.PI/2),e.lineTo(i+v,a+s),0!==v&&e.arc(i+v,a+s-v,v,Math.PI/2,Math.PI),e.lineTo(i,a+u),0!==u&&e.arc(i+u,a+u,u,Math.PI,1.5*Math.PI),e.closePath()}},t}(Pu);const Kae=Xae;var qae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.isOnlyHitBox=function(){return!0},t.prototype.initAttrs=function(e){this._assembleFont(),e.text&&this._setText(e.text)},t.prototype._assembleFont=function(){var e=this.attrs;e.font=pB(e)},t.prototype._setText=function(e){var n=null;(0,ue.isString)(e)&&-1!==e.indexOf("\n")&&(n=e.split("\n")),this.set("textArr",n)},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},t.prototype._getSpaceingY=function(){var e=this.attrs,n=e.lineHeight,i=1*e.fontSize;return n?n-i:.14*i},t.prototype._drawTextArr=function(e,n,i){var h,a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,c=1*a.fontSize,u=this._getSpaceingY(),d=hB(a.text,a.fontSize,a.lineHeight);(0,ue.each)(n,function(v,y){h=l+y*(u+c)-d+c,"middle"===o&&(h+=d-c-(d-c)/2),"top"===o&&(h+=d-c),(0,ue.isNil)(v)||(i?e.fillText(v,s,h):e.strokeText(v,s,h))})},t.prototype._drawText=function(e,n){var i=this.attr(),a=i.x,o=i.y,s=this.get("textArr");if(s)this._drawTextArr(e,s,n);else{var l=i.text;(0,ue.isNil)(l)||(n?e.fillText(l,a,o):e.strokeText(l,a,o))}},t.prototype.strokeAndFill=function(e){var n=this.attrs,i=n.lineWidth,a=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isStroke()&&i>0&&(!(0,ue.isNil)(o)&&1!==o&&(e.globalAlpha=a),this.stroke(e)),this.isFill()&&((0,ue.isNil)(s)||1===s?this.fill(e):(e.globalAlpha=s,this.fill(e),e.globalAlpha=a)),this.afterDrawPath(e)},t.prototype.fill=function(e){this._drawText(e,!0)},t.prototype.stroke=function(e){this._drawText(e,!1)},t}(Pu);const Zae=qae;function I3(r,t,e){var n=r.getTotalMatrix();if(n){var i=function Qae(r,t){return t?Vp(eF(t),r):r}([t,e,1],n);return[i[0],i[1]]}return[t,e]}function O3(r,t,e){if(r.isCanvas&&r.isCanvas())return!0;if(!sM(r)||!1===r.cfg.isInView)return!1;if(r.cfg.clipShape){var n=I3(r,t,e);if(r.isClipped(n[0],n[1]))return!1}var o=r.cfg.cacheCanvasBBox||r.getCanvasBBox();return t>=o.minX&&t<=o.maxX&&e>=o.minY&&e<=o.maxY}function k3(r,t,e){if(!O3(r,t,e))return null;for(var n=null,i=r.getChildren(),o=i.length-1;o>=0;o--){var s=i[o];if(s.isGroup())n=k3(s,t,e);else if(O3(s,t,e)){var l=s,c=I3(s,t,e);l.isInShape(c[0],c[1])&&(n=s)}if(n)break}return n}var Jae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},t.prototype.onCanvasChange=function(e){("attr"===e||"sort"===e||"changeSize"===e)&&(this.set("refreshElements",[this]),this.draw())},t.prototype.getShapeBase=function(){return _},t.prototype.getGroupBase=function(){return S3},t.prototype.getPixelRatio=function(){var e=this.get("pixelRatio")||function sae(){return window?window.devicePixelRatio:1}();return e>=1?Math.ceil(e):1},t.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},t.prototype.createDom=function(){var e=document.createElement("canvas"),n=e.getContext("2d");return this.set("context",n),e},t.prototype.setDOMSize=function(e,n){r.prototype.setDOMSize.call(this,e,n);var i=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*e,a.height=o*n,o>1&&i.scale(o,o)},t.prototype.clear=function(){r.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},t.prototype.getShape=function(e,n){return this.get("quickHit")?k3(this,e,n):r.prototype.getShape.call(this,e,n,null)},t.prototype._getRefreshRegion=function(){var i,e=this.get("refreshElements"),n=this.getViewRange();return e.length&&e[0]===this?i=n:(i=function bae(r){if(!r.length)return null;var t=[],e=[],n=[],i=[];return(0,ue.each)(r,function(a){var o=function _ae(r){var t;if(r.destroyed)t=r._cacheCanvasBBox;else{var e=r.get("cacheCanvasBBox"),n=e&&!(!e.width||!e.height),i=r.getCanvasBBox(),a=i&&!(!i.width||!i.height);n&&a?t=function lae(r,t){return r&&t?{minX:Math.min(r.minX,t.minX),minY:Math.min(r.minY,t.minY),maxX:Math.max(r.maxX,t.maxX),maxY:Math.max(r.maxY,t.maxY)}:r||t}(e,i):n?t=e:a&&(t=i)}return t}(a);o&&(t.push(o.minX),e.push(o.minY),n.push(o.maxX),i.push(o.maxY))}),{minX:(0,ue.min)(t),minY:(0,ue.min)(e),maxX:(0,ue.max)(n),maxY:(0,ue.max)(i)}}(e),i&&(i.minX=Math.floor(i.minX),i.minY=Math.floor(i.minY),i.maxX=Math.ceil(i.maxX),i.maxY=Math.ceil(i.maxY),i.maxY+=1,this.get("clipView")&&(i=function xae(r,t){return r&&t&&N0(r,t)?{minX:Math.max(r.minX,t.minX),minY:Math.max(r.minY,t.minY),maxX:Math.min(r.maxX,t.maxX),maxY:Math.min(r.maxY,t.maxY)}:null}(i,n)))),i},t.prototype.refreshElement=function(e){this.get("refreshElements").push(e)},t.prototype._clearFrame=function(){var e=this.get("drawFrame");e&&((0,ue.clearAnimationFrame)(e),this.set("drawFrame",null),this.set("refreshElements",[]))},t.prototype.draw=function(){var e=this.get("drawFrame");this.get("autoDraw")&&e||this._startDraw()},t.prototype._drawAll=function(){var e=this.get("context"),n=this.get("el"),i=this.getChildren();e.clearRect(0,0,n.width,n.height),Pg(e,this),QM(e,i),this.set("refreshElements",[])},t.prototype._drawRegion=function(){var e=this.get("context"),n=this.get("refreshElements"),i=this.getChildren(),a=this._getRefreshRegion();a?(e.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),e.save(),e.beginPath(),e.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),e.clip(),Pg(e,this),mae(this,i,a),QM(e,i,a),e.restore()):n.length&&x3(n),(0,ue.each)(n,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},t.prototype._startDraw=function(){var e=this,n=this.get("drawFrame");n||(n=(0,ue.requestAnimationFrame)(function(){e.get("localRefresh")?e._drawRegion():e._drawAll(),e.set("drawFrame",null)}),this.set("drawFrame",n))},t.prototype.skipDraw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.width=0,e.height=0,e.parentNode.removeChild(e)},t}(jF);const Cf=Jae;var rC={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},ma={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function Kc(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function N3(r){var t=rC[r.type],e=r.getParent();if(!t)throw new Error("the type "+r.type+" is not supported by svg");var n=Kc(t);if(r.get("id")&&(n.id=r.get("id")),r.set("el",n),r.set("attrs",{}),e){var i=e.get("el");i||(i=e.createDom(),e.set("el",i)),i.appendChild(n)}return n}function P3(r,t){var e=r.get("el"),n=(0,ue.toArray)(e.children).sort(t),i=document.createDocumentFragment();n.forEach(function(a){i.appendChild(a)}),e.appendChild(i)}function R0(r){var t=r.attr().matrix;if(t){for(var e=r.cfg.el,n=[],i=0;i<9;i+=3)n.push(t[i]+","+t[i+1]);-1===(n=n.join(",")).indexOf("NaN")?e.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",t)}}function L0(r,t){var e=r.getClip(),n=r.get("el");if(e){if(e&&!n.hasAttribute("clip-path")){N3(e),e.createPath(t);var i=t.addClip(e);n.setAttribute("clip-path","url(#"+i+")")}}else n.removeAttribute("clip-path")}function R3(r,t){t.forEach(function(e){e.draw(r)})}function L3(r,t){var e=r.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context"),i=r.getParent(),a=i?i.getChildren():[e],o=r.get("el");if("remove"===t)if(r.get("isClipShape")){var l=o&&o.parentNode,c=l&&l.parentNode;l&&c&&c.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o);else if("show"===t)o.setAttribute("visibility","visible");else if("hide"===t)o.setAttribute("visibility","hidden");else if("zIndex"===t)!function eoe(r,t){var e=r.parentNode,n=Array.from(e.childNodes).filter(function(s){return 1===s.nodeType&&"defs"!==s.nodeName.toLowerCase()}),i=n[t],a=n.indexOf(r);if(i){if(a>t)e.insertBefore(r,i);else if(a<t){var o=n[t+1];o?e.insertBefore(r,o):e.appendChild(r)}}else e.appendChild(r)}(o,a.indexOf(r));else if("sort"===t){var u=r.get("children");u&&u.length&&P3(r,function(d,h){return u.indexOf(d)-u.indexOf(h)?1:0})}else"clear"===t?o&&(o.innerHTML=""):"matrix"===t?R0(r):"clip"===t?L0(r,n):"attr"===t||"add"===t&&r.draw(n)}}var noe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return(0,Me.__extends)(t,r),t.prototype.isEntityGroup=function(){return!0},t.prototype.createDom=function(){var e=Kc("g");this.set("el",e);var n=this.getParent();if(n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(e)}return e},t.prototype.afterAttrsChange=function(e){r.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.createPath(i,e)}},t.prototype.onCanvasChange=function(e){L3(this,e)},t.prototype.getShapeBase=function(){return g},t.prototype.getGroupBase=function(){return t},t.prototype.draw=function(e){var n=this.getChildren(),i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||this.createDom(),L0(this,e),this.createPath(e),n.length&&R3(e,n))},t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");(0,ue.each)(n||i,function(o,s){ma[s]&&a.setAttribute(ma[s],o)}),R0(this)},t}(UF);const F3=noe;var roe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.afterAttrsChange=function(e){r.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.draw(i,e)}},t.prototype.getShapeBase=function(){return g},t.prototype.getGroupBase=function(){return F3},t.prototype.onCanvasChange=function(e){L3(this,e)},t.prototype.calculateBBox=function(){var e=this.get("el"),n=null;if(e)n=e.getBBox();else{var i=WF(this.get("type"));i&&(n=i(this))}if(n){var a=n.x,o=n.y,s=n.width,l=n.height,c=this.getHitLineWidth(),u=c/2,d=a-u,h=o-u;return{x:d,y:h,minX:d,minY:h,maxX:a+s+u,maxY:o+l+u,width:s+c,height:l+c}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},t.prototype.isFill=function(){var e=this.attr();return(e.fill||e.fillStyle||this.isClipShape())&&this.canFill},t.prototype.isStroke=function(){var e=this.attr();return(e.stroke||e.strokeStyle)&&this.canStroke},t.prototype.draw=function(e,n){var i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||N3(this),L0(this,e),this.createPath(e,n),this.shadow(e,n),this.strokeAndFill(e,n),this.transform(n))},t.prototype.createPath=function(e,n){},t.prototype.strokeAndFill=function(e,n){var i=n||this.attr(),a=i.fill,o=i.fillStyle,s=i.stroke,l=i.strokeStyle,c=i.fillOpacity,u=i.strokeOpacity,d=i.lineWidth,h=this.get("el");this.canFill&&(n?"fill"in i?this._setColor(e,"fill",a):"fillStyle"in i&&this._setColor(e,"fill",o):this._setColor(e,"fill",a||o),c&&h.setAttribute(ma.fillOpacity,c)),this.canStroke&&d>0&&(n?"stroke"in i?this._setColor(e,"stroke",s):"strokeStyle"in i&&this._setColor(e,"stroke",l):this._setColor(e,"stroke",s||l),u&&h.setAttribute(ma.strokeOpacity,u),d&&h.setAttribute(ma.lineWidth,d))},t.prototype._setColor=function(e,n,i){var a=this.get("el");if(i)if(i=i.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(i))(o=e.find("gradient",i))||(o=e.addGradient(i)),a.setAttribute(ma[n],"url(#"+o+")");else if(/^[p,P]{1}[\s]*\(/.test(i)){var o;(o=e.find("pattern",i))||(o=e.addPattern(i)),a.setAttribute(ma[n],"url(#"+o+")")}else a.setAttribute(ma[n],i);else a.setAttribute(ma[n],"none")},t.prototype.shadow=function(e,n){var i=this.attr(),a=n||i;(a.shadowOffsetX||a.shadowOffsetY||a.shadowBlur||a.shadowColor)&&function toe(r,t){var e=r.cfg.el,n=r.attr(),i={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(i.dx||i.dy||i.blur||i.color){var a=t.find("filter",i);a||(a=t.addShadow(i)),e.setAttribute("filter","url(#"+a+")")}else e.removeAttribute("filter")}(this,e)},t.prototype.transform=function(e){var n=this.attr();(e||n).matrix&&R0(this)},t.prototype.isInShape=function(e,n){return this.isPointInPath(e,n)},t.prototype.isPointInPath=function(e,n){var i=this.get("el"),o=this.get("canvas").get("el").getBoundingClientRect(),c=document.elementFromPoint(e+o.left,n+o.top);return!(!c||!c.isEqualNode(i))},t.prototype.getHitLineWidth=function(){var e=this.attrs,n=e.lineWidth,i=e.lineAppendWidth;return this.isStroke()?n+i:0},t}(GF);const qc=roe;var ioe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{x:0,y:0,r:0})},t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");(0,ue.each)(n||i,function(o,s){"x"===s||"y"===s?a.setAttribute("c"+s,o):ma[s]&&a.setAttribute(ma[s],o)})},t}(qc);const aoe=ioe;var ooe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return(0,Me.__extends)(t,r),t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");if((0,ue.each)(n||i,function(c,u){ma[u]&&a.setAttribute(ma[u],c)}),"function"==typeof i.html){var o=i.html.call(this,i);if(o instanceof Element||o instanceof HTMLDocument){for(var s=a.childNodes,l=s.length-1;l>=0;l--)a.removeChild(s[l]);a.appendChild(o)}else a.innerHTML=o}else a.innerHTML=i.html},t}(qc);const soe=ooe;var loe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{x:0,y:0,rx:0,ry:0})},t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");(0,ue.each)(n||i,function(o,s){"x"===s||"y"===s?a.setAttribute("c"+s,o):ma[s]&&a.setAttribute(ma[s],o)})},t}(qc);const coe=loe;var uoe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{x:0,y:0,width:0,height:0})},t.prototype.createPath=function(e,n){var i=this,a=this.attr(),o=this.get("el");(0,ue.each)(n||a,function(s,l){"img"===l?i._setImage(a.img):ma[l]&&o.setAttribute(ma[l],s)})},t.prototype.setAttr=function(e,n){this.attrs[e]=n,"img"===e&&this._setImage(n)},t.prototype._setImage=function(e){var n=this.attr(),i=this.get("el");if((0,ue.isString)(e))i.setAttribute("href",e);else if(e instanceof window.Image)n.width||(i.setAttribute("width",e.width),this.attr("width",e.width)),n.height||(i.setAttribute("height",e.height),this.attr("height",e.height)),i.setAttribute("href",e.src);else if(e instanceof HTMLElement&&(0,ue.isString)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())i.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+e.width),a.setAttribute("height",""+e.height),a.getContext("2d").putImageData(e,0,0),n.width||(i.setAttribute("width",""+e.width),this.attr("width",e.width)),n.height||(i.setAttribute("height",""+e.height),this.attr("height",e.height)),i.setAttribute("href",a.toDataURL())}},t}(qc);const doe=uoe;var foe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");(0,ue.each)(n||i,function(o,s){if("startArrow"===s||"endArrow"===s)if(o){var l=(0,ue.isObject)(o)?e.addArrow(i,ma[s]):e.getDefaultArrow(i,ma[s]);a.setAttribute(ma[s],"url(#"+l+")")}else a.removeAttribute(ma[s]);else ma[s]&&a.setAttribute(ma[s],o)})},t.prototype.getTotalLength=function(){var e=this.attr();return Ps.length(e.x1,e.y1,e.x2,e.y2)},t.prototype.getPoint=function(e){var n=this.attr();return Ps.pointAt(n.x1,n.y1,n.x2,n.y2,e)},t}(qc);const hoe=foe;var nx={circle:function(r,t,e){return[["M",r,t],["m",-e,0],["a",e,e,0,1,0,2*e,0],["a",e,e,0,1,0,2*-e,0]]},square:function(r,t,e){return[["M",r-e,t-e],["L",r+e,t-e],["L",r+e,t+e],["L",r-e,t+e],["Z"]]},diamond:function(r,t,e){return[["M",r-e,t],["L",r,t-e],["L",r+e,t],["L",r,t+e],["Z"]]},triangle:function(r,t,e){var n=e*Math.sin(.3333333333333333*Math.PI);return[["M",r-e,t+n],["L",r,t-n],["L",r+e,t+n],["z"]]},triangleDown:function(r,t,e){var n=e*Math.sin(.3333333333333333*Math.PI);return[["M",r-e,t-n],["L",r+e,t-n],["L",r,t+n],["Z"]]}};const B3={get:function(r){return nx[r]},register:function(r,t){nx[r]=t},remove:function(r){delete nx[r]},getAll:function(){return nx}};var poe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return(0,Me.__extends)(t,r),t.prototype.createPath=function(e){this.get("el").setAttribute("d",this._assembleMarker())},t.prototype._assembleMarker=function(){var e=this._getPath();return(0,ue.isArray)(e)?e.map(function(n){return n.join(" ")}).join(""):e},t.prototype._getPath=function(){var s,e=this.attr(),n=e.x,i=e.y,a=e.r||e.radius,o=e.symbol||"circle";return(s=(0,ue.isFunction)(o)?o:B3.get(o))?s(n,i,a):(console.warn(s+" symbol is not exist."),null)},t.symbolsFactory=B3,t}(qc);const voe=poe;var goe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,n){var i=this,a=this.attr(),o=this.get("el");(0,ue.each)(n||a,function(s,l){if("path"===l&&(0,ue.isArray)(s))o.setAttribute("d",i._formatPath(s));else if("startArrow"===l||"endArrow"===l)if(s){var c=(0,ue.isObject)(s)?e.addArrow(a,ma[l]):e.getDefaultArrow(a,ma[l]);o.setAttribute(ma[l],"url(#"+c+")")}else o.removeAttribute(ma[l]);else ma[l]&&o.setAttribute(ma[l],s)})},t.prototype._formatPath=function(e){var n=e.map(function(i){return i.join(" ")}).join("");return~n.indexOf("NaN")?"":n},t.prototype.getTotalLength=function(){var e=this.get("el");return e?e.getTotalLength():null},t.prototype.getPoint=function(e){var n=this.get("el"),i=this.getTotalLength();if(0===i)return null;var a=n?n.getPointAtLength(e*i):null;return a?{x:a.x,y:a.y}:null},t}(qc);const moe=goe;var yoe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return(0,Me.__extends)(t,r),t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");(0,ue.each)(n||i,function(o,s){"points"===s&&(0,ue.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):ma[s]&&a.setAttribute(ma[s],o)})},t}(qc);const _oe=yoe;var boe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{startArrow:!1,endArrow:!1})},t.prototype.onAttrChange=function(e,n,i){r.prototype.onAttrChange.call(this,e,n,i),-1!==["points"].indexOf(e)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.createPath=function(e,n){var i=this.attr(),a=this.get("el");(0,ue.each)(n||i,function(o,s){"points"===s&&(0,ue.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):ma[s]&&a.setAttribute(ma[s],o)})},t.prototype.getTotalLength=function(){var e=this.attr().points,n=this.get("totalLength");return(0,ue.isNil)(n)?(this.set("totalLength",SM_length(e)),this.get("totalLength")):n},t.prototype.getPoint=function(e){var a,o,n=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,ue.each)(i,function(s,l){e>=s[0]&&e<=s[1]&&(a=(e-s[0])/(s[1]-s[0]),o=l)}),Ps.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],a)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var n=this.getTotalLength();if(!(n<=0)){var o,s,i=0,a=[];(0,ue.each)(e,function(l,c){e[c+1]&&((o=[])[0]=i/n,s=Ps.length(l[0],l[1],e[c+1][0],e[c+1][1]),o[1]=(i+=s)/n,a.push(o))}),this.set("tCache",a)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,n=[];return n.push([e[1][0],e[1][1]]),n.push([e[0][0],e[0][1]]),n},t.prototype.getEndTangent=function(){var e=this.attr().points,n=e.length-1,i=[];return i.push([e[n-1][0],e[n-1][1]]),i.push([e[n][0],e[n][1]]),i},t}(qc);const xoe=boe;var Moe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.createPath=function(e,n){var i=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,ue.each)(n||a,function(c,u){-1===l.indexOf(u)||s?-1===l.indexOf(u)&&ma[u]&&o.setAttribute(ma[u],c):(o.setAttribute("d",i._assembleRect(a)),s=!0)})},t.prototype._assembleRect=function(e){var n=e.x,i=e.y,a=e.width,o=e.height,s=e.radius;if(!s)return"M "+n+","+i+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=function Soe(r){var t=0,e=0,n=0,i=0;return(0,ue.isArray)(r)?1===r.length?t=e=n=i=r[0]:2===r.length?(t=n=r[0],e=i=r[1]):3===r.length?(t=r[0],e=i=r[1],n=r[2]):(t=r[0],e=r[1],n=r[2],i=r[3]):t=e=n=i=r,{r1:t,r2:e,r3:n,r4:i}}(s);return(0,ue.isArray)(s)?1===s.length?l.r1=l.r2=l.r3=l.r4=s[0]:2===s.length?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):3===s.length?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s,[["M "+(n+l.r1)+","+i],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]].join(" ")},t}(qc);const Coe=Moe;var Doe={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},Toe={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Aoe={left:"left",start:"left",center:"middle",right:"end",end:"end"},Ioe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return(0,Me.__extends)(t,r),t.prototype.getDefaultAttrs=function(){var e=r.prototype.getDefaultAttrs.call(this);return(0,Me.__assign)((0,Me.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.createPath=function(e,n){var i=this,a=this.attr(),o=this.get("el");this._setFont(),(0,ue.each)(n||a,function(s,l){"text"===l?i._setText(""+s):"matrix"===l&&s?R0(i):ma[l]&&o.setAttribute(ma[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},t.prototype._setFont=function(){var e=this.get("el"),n=this.attr(),i=n.textBaseline,a=n.textAlign,o=qL();o&&"firefox"===o.name?e.setAttribute("dominant-baseline",Toe[i]||"alphabetic"):e.setAttribute("alignment-baseline",Doe[i]||"baseline"),e.setAttribute("text-anchor",Aoe[a]||"left")},t.prototype._setText=function(e){var n=this.get("el"),i=this.attr(),a=i.x,o=i.textBaseline,s=void 0===o?"bottom":o;if(e)if(~e.indexOf("\n")){var l=e.split("\n"),c=l.length-1,u="";(0,ue.each)(l,function(d,h){0===h?"alphabetic"===s?u+='<tspan x="'+a+'" dy="'+-c+'em">'+d+"</tspan>":"top"===s?u+='<tspan x="'+a+'" dy="0.9em">'+d+"</tspan>":"middle"===s?u+='<tspan x="'+a+'" dy="'+-(c-1)/2+'em">'+d+"</tspan>":"bottom"===s?u+='<tspan x="'+a+'" dy="-'+(c+.3)+'em">'+d+"</tspan>":"hanging"===s&&(u+='<tspan x="'+a+'" dy="'+(-(c-1)-.3)+'em">'+d+"</tspan>"):u+='<tspan x="'+a+'" dy="1em">'+d+"</tspan>"}),n.innerHTML=u}else n.innerHTML=e;else n.innerHTML=""},t}(qc);const Ooe=Ioe;var koe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Noe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Poe=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function V3(r){var t=r.match(Poe);if(!t)return"";var e="";return t.sort(function(n,i){return n=n.split(":"),i=i.split(":"),Number(n[0])-Number(i[0])}),(0,ue.each)(t,function(n){n=n.split(":"),e+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),e}var Foe=function(){function r(t){this.cfg={};var e=null,n=(0,ue.uniqueId)("gradient_");return"l"===t.toLowerCase()[0]?function Roe(r,t){var a,o,e=koe.exec(r),n=(0,ue.mod)((0,ue.toRadian)(parseFloat(e[1])),2*Math.PI),i=e[2];n>=0&&n<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(n),l=s*s,c=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,u=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;t.setAttribute("x1",a.x),t.setAttribute("y1",a.y),t.setAttribute("x2",c),t.setAttribute("y2",u),t.innerHTML=V3(i)}(t,e=Kc("linearGradient")):function Loe(r,t){var e=Noe.exec(r),n=parseFloat(e[1]),i=parseFloat(e[2]),a=parseFloat(e[3]),o=e[4];t.setAttribute("cx",n),t.setAttribute("cy",i),t.setAttribute("r",a),t.innerHTML=V3(o)}(t,e=Kc("radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return r.prototype.match=function(t,e){return this.cfg===e},r}();const Boe=Foe;var zoe={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},Voe={x:"-40%",y:"-40%",width:"200%",height:"200%"},joe=function(){function r(t){this.type="filter",this.cfg={},this.type="filter";var e=Kc("filter");return(0,ue.each)(Voe,function(n,i){e.setAttribute(i,n)}),this.el=e,this.id=(0,ue.uniqueId)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return r.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,i=this.cfg;return(0,ue.each)(Object.keys(i),function(a){if(i[a]!==e[a])return n=!1,!1}),n},r.prototype.update=function(t,e){var n=this.cfg;return n[zoe[t]]=e,this._parseShadow(n,this.el),this},r.prototype._parseShadow=function(t,e){e.innerHTML='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />'},r}();const Uoe=joe;var Goe=function(){function r(t,e){this.cfg={};var n=Kc("marker"),i=(0,ue.uniqueId)("marker_");n.setAttribute("id",i);var a=Kc("path");a.setAttribute("stroke",t.stroke||"none"),a.setAttribute("fill",t.fill||"none"),n.appendChild(a),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=a,this.id=i;var o=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===o?this._setDefaultPath(e,a):(this.cfg=o,this._setMarker(t.lineWidth,a)),this}return r.prototype.match=function(){return!1},r.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},r.prototype._setMarker=function(t,e){var n=this.el,i=this.cfg.path,a=this.cfg.d;(0,ue.isArray)(i)&&(i=i.map(function(o){return o.join(" ")}).join("")),e.setAttribute("d",i),n.appendChild(e),a&&n.setAttribute("refX",""+a/t)},r.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},r}();const j3=Goe;var Hoe=function(){function r(t){this.type="clip",this.cfg={};var e=Kc("clipPath");return this.el=e,this.id=(0,ue.uniqueId)("clip_"),e.id=this.id,e.appendChild(t.cfg.el),this.cfg=t,this}return r.prototype.match=function(){return!1},r.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},r}();const Woe=Hoe;var Yoe=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,$oe=function(){function r(t){this.cfg={};var e=Kc("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=Kc("image");e.appendChild(n);var i=(0,ue.uniqueId)("pattern_");e.id=i,this.el=e,this.id=i,this.cfg=t;var o=Yoe.exec(t)[2];n.setAttribute("href",o);var s=new Image;function l(){e.setAttribute("width",""+s.width),e.setAttribute("height",""+s.height)}return o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o,s.complete?l():(s.onload=l,s.src=s.src),this}return r.prototype.match=function(t,e){return this.cfg===e},r}();const Xoe=$oe;var Koe=function(){function r(t){var e=Kc("defs"),n=(0,ue.uniqueId)("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return r.prototype.find=function(t,e){for(var n=this.children,i=null,a=0;a<n.length;a++)if(n[a].match(t,e)){i=n[a].id;break}return i},r.prototype.findById=function(t){for(var e=this.children,n=null,i=0;i<e.length;i++)if(e[i].id===t){n=e[i];break}return n},r.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},r.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var i=new j3(t,e);return this.defaultArrow[n]=i,this.el.appendChild(i.el),this.add(i),i.id},r.prototype.addGradient=function(t){var e=new Boe(t);return this.el.appendChild(e.el),this.add(e),e.id},r.prototype.addArrow=function(t,e){var n=new j3(t,e);return this.el.appendChild(n.el),this.add(n),n.id},r.prototype.addShadow=function(t){var e=new Uoe(t);return this.el.appendChild(e.el),this.add(e),e.id},r.prototype.addPattern=function(t){var e=new Xoe(t);return this.el.appendChild(e.el),this.add(e),e.id},r.prototype.addClip=function(t){var e=new Woe(t);return this.el.appendChild(e.el),this.add(e),e.id},r}();const qoe=Koe;var Zoe=function(r){function t(e){return r.call(this,(0,Me.__assign)((0,Me.__assign)({},e),{autoDraw:!0,renderer:"svg"}))||this}return(0,Me.__extends)(t,r),t.prototype.getShapeBase=function(){return g},t.prototype.getGroupBase=function(){return F3},t.prototype.getShape=function(e,n,i){var a=i.target||i.srcElement;if(!rC[a.tagName]){for(var o=a.parentNode;o&&!rC[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},t.prototype.createDom=function(){var e=Kc("svg"),n=new qoe(e);return e.setAttribute("width",""+this.get("width")),e.setAttribute("height",""+this.get("height")),this.set("context",n),e},t.prototype.onCanvasChange=function(e){var n=this.get("context"),i=this.get("el");if("sort"===e){var a=this.get("children");a&&a.length&&P3(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if("clear"===e){if(i){i.innerHTML="";var o=n.el;o.innerHTML="",i.appendChild(o)}}else"matrix"===e?R0(this):"clip"===e?L0(this,n):"changeSize"===e&&(i.setAttribute("width",""+this.get("width")),i.setAttribute("height",""+this.get("height")))},t.prototype.draw=function(){var e=this.get("context"),n=this.getChildren();L0(this,e),n.length&&R3(e,n)},t}(jF);const F0=Zoe;var Qoe=j(3608),B0=j.n(Qoe);function rx(r){return(rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}var Joe=/^\s+/,ese=/\s+$/;function qr(r,t){if(t=t||{},(r=r||"")instanceof qr)return r;if(!(this instanceof qr))return new qr(r,t);var e=function tse(r){var t={r:0,g:0,b:0},e=1,n=null,i=null,a=null,o=!1,s=!1;return"string"==typeof r&&(r=function xse(r){r=r.replace(Joe,"").replace(ese,"").toLowerCase();var e,t=!1;if(iC[r])r=iC[r],t=!0;else if("transparent"==r)return{r:0,g:0,b:0,a:0,format:"name"};return(e=Lu.rgb.exec(r))?{r:e[1],g:e[2],b:e[3]}:(e=Lu.rgba.exec(r))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=Lu.hsl.exec(r))?{h:e[1],s:e[2],l:e[3]}:(e=Lu.hsla.exec(r))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=Lu.hsv.exec(r))?{h:e[1],s:e[2],v:e[3]}:(e=Lu.hsva.exec(r))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=Lu.hex8.exec(r))?{r:_c(e[1]),g:_c(e[2]),b:_c(e[3]),a:K3(e[4]),format:t?"name":"hex8"}:(e=Lu.hex6.exec(r))?{r:_c(e[1]),g:_c(e[2]),b:_c(e[3]),format:t?"name":"hex"}:(e=Lu.hex4.exec(r))?{r:_c(e[1]+""+e[1]),g:_c(e[2]+""+e[2]),b:_c(e[3]+""+e[3]),a:K3(e[4]+""+e[4]),format:t?"name":"hex8"}:!!(e=Lu.hex3.exec(r))&&{r:_c(e[1]+""+e[1]),g:_c(e[2]+""+e[2]),b:_c(e[3]+""+e[3]),format:t?"name":"hex"}}(r)),"object"==rx(r)&&(Df(r.r)&&Df(r.g)&&Df(r.b)?(t=function nse(r,t,e){return{r:255*So(r,255),g:255*So(t,255),b:255*So(e,255)}}(r.r,r.g,r.b),o=!0,s="%"===String(r.r).substr(-1)?"prgb":"rgb"):Df(r.h)&&Df(r.s)&&Df(r.v)?(n=z0(r.s),i=z0(r.v),t=function ise(r,t,e){r=6*So(r,360),t=So(t,100),e=So(e,100);var n=Math.floor(r),i=r-n,a=e*(1-t),o=e*(1-i*t),s=e*(1-(1-i)*t),l=n%6;return{r:255*[e,o,a,a,s,e][l],g:255*[s,e,e,o,a,a][l],b:255*[a,a,s,e,e,o][l]}}(r.h,n,i),o=!0,s="hsv"):Df(r.h)&&Df(r.s)&&Df(r.l)&&(n=z0(r.s),a=z0(r.l),t=function rse(r,t,e){var n,i,a;function o(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+6*(u-c)*d:d<.5?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(r=So(r,360),t=So(t,100),e=So(e,100),0===t)n=i=a=e;else{var s=e<.5?e*(1+t):e+t-e*t,l=2*e-s;n=o(l,s,r+1/3),i=o(l,s,r),a=o(l,s,r-1/3)}return{r:255*n,g:255*i,b:255*a}}(r.h,n,a),o=!0,s="hsl"),r.hasOwnProperty("a")&&(e=r.a)),e=$3(e),{ok:o,format:r.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:e}}(r);this._originalInput=r,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||e.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=e.ok}function U3(r,t,e){r=So(r,255),t=So(t,255),e=So(e,255);var a,o,n=Math.max(r,t,e),i=Math.min(r,t,e),s=(n+i)/2;if(n==i)a=o=0;else{var l=n-i;switch(o=s>.5?l/(2-n-i):l/(n+i),n){case r:a=(t-e)/l+(t<e?6:0);break;case t:a=(e-r)/l+2;break;case e:a=(r-t)/l+4}a/=6}return{h:a,s:o,l:s}}function G3(r,t,e){r=So(r,255),t=So(t,255),e=So(e,255);var a,o,n=Math.max(r,t,e),i=Math.min(r,t,e),s=n,l=n-i;if(o=0===n?0:l/n,n==i)a=0;else{switch(n){case r:a=(t-e)/l+(t<e?6:0);break;case t:a=(e-r)/l+2;break;case e:a=(r-t)/l+4}a/=6}return{h:a,s:o,v:s}}function H3(r,t,e,n){var i=[Ru(Math.round(r).toString(16)),Ru(Math.round(t).toString(16)),Ru(Math.round(e).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function W3(r,t,e,n){return[Ru(X3(n)),Ru(Math.round(r).toString(16)),Ru(Math.round(t).toString(16)),Ru(Math.round(e).toString(16))].join("")}function ose(r,t){t=0===t?0:t||10;var e=qr(r).toHsl();return e.s-=t/100,e.s=ix(e.s),qr(e)}function sse(r,t){t=0===t?0:t||10;var e=qr(r).toHsl();return e.s+=t/100,e.s=ix(e.s),qr(e)}function lse(r){return qr(r).desaturate(100)}function cse(r,t){t=0===t?0:t||10;var e=qr(r).toHsl();return e.l+=t/100,e.l=ix(e.l),qr(e)}function use(r,t){t=0===t?0:t||10;var e=qr(r).toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(-t/100*255))),e.g=Math.max(0,Math.min(255,e.g-Math.round(-t/100*255))),e.b=Math.max(0,Math.min(255,e.b-Math.round(-t/100*255))),qr(e)}function dse(r,t){t=0===t?0:t||10;var e=qr(r).toHsl();return e.l-=t/100,e.l=ix(e.l),qr(e)}function fse(r,t){var e=qr(r).toHsl(),n=(e.h+t)%360;return e.h=n<0?360+n:n,qr(e)}function hse(r){var t=qr(r).toHsl();return t.h=(t.h+180)%360,qr(t)}function Y3(r,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var e=qr(r).toHsl(),n=[qr(r)],i=360/t,a=1;a<t;a++)n.push(qr({h:(e.h+a*i)%360,s:e.s,l:e.l}));return n}function pse(r){var t=qr(r).toHsl(),e=t.h;return[qr(r),qr({h:(e+72)%360,s:t.s,l:t.l}),qr({h:(e+216)%360,s:t.s,l:t.l})]}function vse(r,t,e){t=t||6,e=e||30;var n=qr(r).toHsl(),i=360/e,a=[qr(r)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(qr(n));return a}function gse(r,t){t=t||6;for(var e=qr(r).toHsv(),n=e.h,i=e.s,a=e.v,o=[],s=1/t;t--;)o.push(qr({h:n,s:i,v:a})),a=(a+s)%1;return o}qr.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,n,i,t=this.toRgb();return n=t.g/255,i=t.b/255,.2126*((e=t.r/255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},setAlpha:function(t){return this._a=$3(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=G3(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=G3(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=U3(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=U3(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return H3(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function ase(r,t,e,n,i){var a=[Ru(Math.round(r).toString(16)),Ru(Math.round(t).toString(16)),Ru(Math.round(e).toString(16)),Ru(X3(n))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*So(this._r,255))+"%",g:Math.round(100*So(this._g,255))+"%",b:Math.round(100*So(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*So(this._r,255))+"%, "+Math.round(100*So(this._g,255))+"%, "+Math.round(100*So(this._b,255))+"%)":"rgba("+Math.round(100*So(this._r,255))+"%, "+Math.round(100*So(this._g,255))+"%, "+Math.round(100*So(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(mse[H3(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+W3(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var a=qr(t);n="#"+W3(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1;return!e&&this._a<1&&this._a>=0&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t)?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return qr(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(cse,arguments)},brighten:function(){return this._applyModification(use,arguments)},darken:function(){return this._applyModification(dse,arguments)},desaturate:function(){return this._applyModification(ose,arguments)},saturate:function(){return this._applyModification(sse,arguments)},greyscale:function(){return this._applyModification(lse,arguments)},spin:function(){return this._applyModification(fse,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(vse,arguments)},complement:function(){return this._applyCombination(hse,arguments)},monochromatic:function(){return this._applyCombination(gse,arguments)},splitcomplement:function(){return this._applyCombination(pse,arguments)},triad:function(){return this._applyCombination(Y3,[3])},tetrad:function(){return this._applyCombination(Y3,[4])}},qr.fromRatio=function(r,t){if("object"==rx(r)){var e={};for(var n in r)r.hasOwnProperty(n)&&(e[n]="a"===n?r[n]:z0(r[n]));r=e}return qr(r,t)},qr.equals=function(r,t){return!(!r||!t)&&qr(r).toRgbString()==qr(t).toRgbString()},qr.random=function(){return qr.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},qr.mix=function(r,t,e){e=0===e?0:e||50;var n=qr(r).toRgb(),i=qr(t).toRgb(),a=e/100;return qr({r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a})},qr.readability=function(r,t){var e=qr(r),n=qr(t);return(Math.max(e.getLuminance(),n.getLuminance())+.05)/(Math.min(e.getLuminance(),n.getLuminance())+.05)},qr.isReadable=function(r,t,e){var i,a,n=qr.readability(r,t);switch(a=!1,i=function wse(r){var t,e;return"AA"!==(t=((r=r||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(e=(r.size||"small").toLowerCase())&&"large"!==e&&(e="small"),{level:t,size:e}}(e),i.level+i.size){case"AAsmall":case"AAAlarge":a=n>=4.5;break;case"AAlarge":a=n>=3;break;case"AAAsmall":a=n>=7}return a},qr.mostReadable=function(r,t,e){var a,o,s,l,n=null,i=0;o=(e=e||{}).includeFallbackColors,s=e.level,l=e.size;for(var c=0;c<t.length;c++)(a=qr.readability(r,t[c]))>i&&(i=a,n=qr(t[c]));return qr.isReadable(r,n,{level:s,size:l})||!o?n:(e.includeFallbackColors=!1,qr.mostReadable(r,["#fff","#000"],e))};var iC=qr.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},mse=qr.hexNames=function yse(r){var t={};for(var e in r)r.hasOwnProperty(e)&&(t[r[e]]=e);return t}(iC);function $3(r){return r=parseFloat(r),(isNaN(r)||r<0||r>1)&&(r=1),r}function So(r,t){(function _se(r){return"string"==typeof r&&-1!=r.indexOf(".")&&1===parseFloat(r)})(r)&&(r="100%");var e=function bse(r){return"string"==typeof r&&-1!=r.indexOf("%")}(r);return r=Math.min(t,Math.max(0,parseFloat(r))),e&&(r=parseInt(r*t,10)/100),Math.abs(r-t)<1e-6?1:r%t/parseFloat(t)}function ix(r){return Math.min(1,Math.max(0,r))}function _c(r){return parseInt(r,16)}function Ru(r){return 1==r.length?"0"+r:""+r}function z0(r){return r<=1&&(r=100*r+"%"),r}function X3(r){return Math.round(255*parseFloat(r)).toString(16)}function K3(r){return _c(r)/255}var e,n,i,Lu=(n="[\\s|\\(]+("+(e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",i="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Df(r){return!!Lu.CSS_UNIT.exec(r)}var ax=2,q3=.16,Ese=.05,Sse=.05,Mse=.15,Z3=5,Q3=4,Cse=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function J3(r,t,e){var n;return(n=Math.round(r.h)>=60&&Math.round(r.h)<=240?e?Math.round(r.h)-ax*t:Math.round(r.h)+ax*t:e?Math.round(r.h)+ax*t:Math.round(r.h)-ax*t)<0?n+=360:n>=360&&(n-=360),n}function e5(r,t,e){return 0===r.h&&0===r.s?r.s:((n=e?r.s-q3*t:t===Q3?r.s+q3:r.s+Ese*t)>1&&(n=1),e&&t===Z3&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)));var n}function t5(r,t,e){var n;return(n=e?r.v+Sse*t:r.v-Mse*t)>1&&(n=1),Number(n.toFixed(2))}function ox(r){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=[],n=qr(r),i=Z3;i>0;i-=1){var a=n.toHsv(),o=qr({h:J3(a,i,!0),s:e5(a,i,!0),v:t5(a,i,!0)}).toHexString();e.push(o)}e.push(n.toHexString());for(var s=1;s<=Q3;s+=1){var l=n.toHsv(),c=qr({h:J3(l,s),s:e5(l,s),v:t5(l,s)}).toHexString();e.push(c)}return"dark"===t.theme?Cse.map(function(u){return qr.mix(t.backgroundColor||"#141414",e[u.index],100*u.opacity).toHexString()}):e}var aC={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ul={},oC={};Object.keys(aC).forEach(function(r){ul[r]=ox(aC[r]),ul[r].primary=ul[r][5],oC[r]=ox(aC[r],{theme:"dark",backgroundColor:"#141414"}),oC[r].primary=oC[r][5]});var _s=function(t,e,n){var i=B0()(t),a=B0()(e);return B0()([(1-n)*i.red()+n*a.red(),(1-n)*i.green()+n*a.green(),(1-n)*i.blue()+n*a.blue()]).rgb()},sC=function(t,e,n,i){return void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===i&&(i="rgb(150, 150, 150)"),"default"===n?function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="rgb(150, 150, 150)");var i=_s(e,t,.05).rgb().toString(),a=_s(e,t,.1).rgb().toString(),o=_s(e,t,.2).rgb().toString(),s=_s(e,t,.4).rgb().toString(),l=_s(e,n,.02).rgb().toString(),c=_s(e,n,.05).rgb().toString(),u=_s(e,n,.1).rgb().toString(),d=_s(e,n,.2).rgb().toString(),h=_s(e,n,.3).rgb().toString(),v=ox(t,{theme:"default",backgroundColor:e}),y=B0()(t).hex().toLowerCase(),D=v.indexOf(y),F=t;return-1!==D&&(F=v[D+1]),{mainStroke:t,mainFill:a,activeStroke:t,activeFill:i,inactiveStroke:s,inactiveFill:i,selectedStroke:t,selectedFill:e,highlightStroke:F,highlightFill:o,disableStroke:h,disableFill:c,edgeMainStroke:h,edgeActiveStroke:t,edgeInactiveStroke:d,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:u,comboMainStroke:h,comboMainFill:l,comboActiveStroke:t,comboActiveFill:i,comboInactiveStroke:h,comboInactiveFill:l,comboSelectedStroke:t,comboSelectedFill:l,comboHighlightStroke:F,comboHighlightFill:l,comboDisableStroke:d,comboDisableFill:c}}(t,e,"rgb(150, 150, 150)"):function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="#777");var i=_s(e,t,.2).rgb().toString(),a=_s(e,t,.3).rgb().toString(),o=_s(e,t,.6).rgb().toString(),s=_s(e,t,.8).rgb().toString(),l=_s(e,n,.2).rgb().toString(),c=_s(e,n,.25).rgb().toString(),u=_s(e,n,.3).rgb().toString(),d=_s(e,n,.4).rgb().toString(),h=_s(e,n,.5).rgb().toString(),v=ox(t,{theme:"dark",backgroundColor:e}),y=B0()(t).hex().toLowerCase(),D=v.indexOf(y),F=t;return-1!==D&&(F=v[D+1]),{mainStroke:s,mainFill:i,activeStroke:t,activeFill:a,inactiveStroke:s,inactiveFill:i,selectedStroke:t,selectedFill:i,highlightStroke:t,highlightFill:o,disableStroke:h,disableFill:c,edgeMainStroke:n,edgeActiveStroke:t,edgeInactiveStroke:n,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:u,comboMainStroke:d,comboMainFill:c,comboActiveStroke:t,comboActiveFill:l,comboInactiveStroke:d,comboInactiveFill:c,comboSelectedStroke:t,comboSelectedFill:l,comboHighlightStroke:F,comboHighlightFill:c,comboDisableStroke:d,comboDisableFill:l}}(t,e,"#777")},Ase=function(t,e,n,i){void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===i&&(i="rgb(150, 150, 150)");var a=[];return t.forEach(function(o){a.push(sC(o,e,n,i))}),a},n5="rgb(0, 0, 0)",da=sC("rgb(95, 149, 255)","rgb(255, 255, 255)");const Wp={version:"0.8.9",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:da.mainStroke,fill:da.mainFill},size:20,color:da.mainStroke,linkPoints:{size:8,lineWidth:1,fill:da.activeFill,stroke:da.activeStroke}},nodeStateStyles:{active:{fill:da.activeFill,stroke:da.activeStroke,lineWidth:2,shadowColor:da.mainStroke,shadowBlur:10},selected:{fill:da.selectedFill,stroke:da.selectedStroke,lineWidth:4,shadowColor:da.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:da.highlightFill,stroke:da.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:da.inactiveFill,stroke:da.inactiveStroke,lineWidth:1},disable:{fill:da.disableFill,stroke:da.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:n5,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:da.edgeMainStroke,lineAppendWidth:2},color:da.edgeMainStroke},edgeStateStyles:{active:{stroke:da.edgeActiveStroke,lineWidth:1},selected:{stroke:da.edgeSelectedStroke,lineWidth:2,shadowColor:da.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:da.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:da.edgeInactiveStroke,lineWidth:1},disable:{stroke:da.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:n5,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:da.comboMainFill,lineWidth:1,stroke:da.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:da.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:da.comboActiveStroke,lineWidth:1,fill:da.comboActiveFill},selected:{stroke:da.comboSelectedStroke,lineWidth:2,fill:da.comboSelectedFill,shadowColor:da.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:da.comboHighlightStroke,lineWidth:2,fill:da.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:da.comboInactiveStroke,fill:da.comboInactiveFill,lineWidth:1},disable:{stroke:da.comboDisableStroke,fill:da.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function sx(r,t,e){if(r){if("function"==typeof r.addEventListener)return r.addEventListener(t,e,!1),{remove:function(){r.removeEventListener(t,e,!1)}};if("function"==typeof r.attachEvent)return r.attachEvent("on"+t,e),{remove:function(){r.detachEvent("on"+t,e)}}}}var kse=cl.cloneEvent,Nse=cl.isViewportChanged,Pse=function(r){function t(e){var n=r.call(this,e)||this;return n.extendEvents=[],n.dragging=!1,n.mousedown=!1,n.preItem=null,n.destroy(),n.graph=e,n.destroyed=!1,n.initEvents(),n}return(0,Me.__extends)(t,r),t.prototype.initEvents=function(){var n=this.graph,i=this.extendEvents,a=void 0===i?[]:i,o=n.get("canvas"),s=o.get("el"),l=(0,ue.wrapBehavior)(this,"onCanvasEvents"),c=(0,ue.wrapBehavior)(this,"onExtendEvents"),u=(0,ue.wrapBehavior)(this,"onWheelEvent");o.off("*").on("*",l),this.canvasHandler=l,a.push(sx(s,"wheel",u)),typeof window<"u"&&(a.push(sx(window,"keydown",c)),a.push(sx(window,"keyup",c)),a.push(sx(window,"focus",c))),this.resetHandler&&n.off("afterchangedata",this.resetHandler),this.resetHandler=(0,ue.wrapBehavior)(this,"resetStatus"),n.on("afterchangedata",this.resetHandler)},t.getItemRoot=function(e){for(;e&&!e.get("item");)e=e.get("parent");return e},t.prototype.onCanvasEvents=function(e){var n=this,i=this.graph,a=i.get("canvas"),o=e.target,s=e.type;switch(s){case"drag":this.onCanvasEvents(Object.assign({},e,{type:"mousemove"}));break;case"dragend":this.onCanvasEvents(Object.assign({},e,{type:"mouseup"}));break;case"mousedown":this.mousedown=!0;break;case"dragend":case"mouseup":setTimeout(function(){return n.mousedown=!1});break;case"click":if(!this.mousedown)return}e.canvasX=e.x,e.canvasY=e.y;var l={x:e.canvasX,y:e.canvasY},u=i.get("group").getMatrix();if(u||(u=[1,0,0,0,1,0,0,0,1]),Nse(u)&&(l=i.getPointByClient(e.clientX,e.clientY)),e.x=l.x,e.y=l.y,e.currentTarget=i,o===a)return("mousemove"===s||"mouseleave"===s)&&this.handleMouseMove(e,"canvas"),e.target=a,e.item=null,i.emit(s,e),void i.emit("canvas:".concat(s),e);var d=t.getItemRoot(o);if(d){var h=d.get("item");if(!h.destroyed){var v=h.getType();if(e.target=o,e.item=h,e.canvasX===e.x&&e.canvasY===e.y){var y=i.getCanvasByPoint(e.x,e.y);e.canvasX=y.x,e.canvasY=y.y}e.name&&!e.name.includes(":")?(i.emit("".concat(v,":").concat(s),e),i.emit(s,e)):e.name&&i.emit(e.name,e),"dragstart"===s&&(this.dragging=!0),"dragend"===s&&(this.dragging=!1),"mousemove"===s&&this.handleMouseMove(e,v)}}else i.emit(s,e)},t.prototype.onExtendEvents=function(e){this.graph.emit(e.type,e)},t.prototype.onWheelEvent=function(e){(0,ue.isNil)(e.wheelDelta)&&(e.wheelDelta=-e.detail),this.graph.emit("wheel",e)},t.prototype.handleMouseMove=function(e,n){var o=this.preItem,s=this.graph.get("canvas"),l=e.target===s?null:e.item;e=kse(e),o&&o!==l&&!o.destroyed&&(e.item=o,this.emitCustomEvent(o.getType(),"mouseleave",e),this.dragging&&this.emitCustomEvent(o.getType(),"dragleave",e)),l&&o!==l&&(e.item=l,this.emitCustomEvent(n,"mouseenter",e),this.dragging&&this.emitCustomEvent(n,"dragenter",e)),this.preItem=l},t.prototype.emitCustomEvent=function(e,n,i){i.type=n,this.graph.emit("".concat(e,":").concat(n),i)},t.prototype.resetStatus=function(){this.mousedown=!1,this.dragging=!1,this.preItem=null},t.prototype.destroy=function(){var e=this,i=e.canvasHandler,a=e.extendEvents;e.graph.get("canvas").off("*",i),(0,ue.each)(a,function(s){s.remove()}),this.resetStatus(),this.extendEvents.length=0,this.canvasHandler=null,this.resetHandler=null,this.destroyed=!0},t}(function r(t){this.graph=t,this.destroyed=!1,this.initEvents()});const Rse=Pse;var ia=j(66),Lse=j(1983),lx=j.n(Lse),r5=cl.traverseTree,Fse=function(t,e){return t?(0,ue.isNumber)(t)?function(a){return t}:t:function(a){return e||1}},Bse=function(t,e){var n=[],i=[],a={},o=0;for(o=0;o<t.length;o++){var s=t[o];a[s.id]=o,n.push(s.x),n.push(s.y),n.push(0),n.push(0),i.push([])}for(o=0;o<e.length;o++){var l=e[o];i[a[l.source]].push(a[l.target]),i[a[l.target]].push(a[l.source])}var c=0;for(o=0;o<t.length;o++){var d=i[o],h=d.length;n[4*o+2]=n.length,n[4*o+3]=d.length,c=Math.max(c,d.length);for(var v=0;v<h;++v)n.push(+d[v])}for(;n.length%4!=0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:c}},zse=function(t,e,n){var i=[],a=[],o={},s=0;for(s=0;s<t.length;s++){var l=t[s];o[l.id]=s,i.push(l.x),i.push(l.y),i.push(0),i.push(0),a.push([])}for(s=0;s<e.length;s++){var c=e[s];a[o[c.source]].push(o[c.target]),a[o[c.source]].push(n(c)),a[o[c.target]].push(o[c.source]),a[o[c.target]].push(n(c))}var u=0;for(s=0;s<t.length;s++){var h=a[s],v=h.length;i[4*s+2]=i.length,i[4*s+3]=v/2,u=Math.max(u,v/2);for(var y=0;y<v;++y)i.push(+h[y])}for(;i.length%4!=0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:u}},Vse=function(t,e,n,i){var a=[],o=[],s={},l=0;for(l=0;l<t.length;l++){var c=t[l];s[c.id]=l,a.push(c.x),a.push(c.y),a.push(0),a.push(0),o.push([])}for(l=0;l<e.length;l++){var u=e[l];o[s[u.source]].push(s[u.target]),o[s[u.source]].push(n(u)),o[s[u.source]].push(i(u)),o[s[u.source]].push(0),o[s[u.target]].push(s[u.source]),o[s[u.target]].push(n(u)),o[s[u.target]].push(i(u)),o[s[u.target]].push(0)}var d=0;for(l=0;l<t.length;l++){var v=o[l],y=v.length;a[4*l+2]=a.length+1048576*y/4,a[4*l+3]=0,d=Math.max(d,y/4);for(var D=0;D<y;++D)a.push(+v[D])}for(;a.length%4!=0;)a.push(0);return{array:new Float32Array(a),maxEdgePerVetex:d}},jse=function(t,e){var n=[],i=t.length,a={};return e.forEach(function(o){t.forEach(function(s,l){if(void 0===a[o[s]]&&(a[o[s]]=Object.keys(a).length),n.push(a[o[s]]),l===i-1)for(;n.length%4!=0;)n.push(0)})}),{array:new Float32Array(n),count:Object.keys(a).length}},Use=function(t){for(var e=[],n=t.length,i=t[0].length,a=function(l){t.forEach(function(c,u){if(e.push(c[l]),u===n-1)for(;e.length%4!=0;)e.push(0)})},o=0;o<i;o++)a(o);return new Float32Array(e)},Gse=function(t,e){var i={x:1/0,y:1/0},a={x:-1/0,y:-1/0},o="x",s="y";e&&["V","TB","BT"].indexOf(e)>=0&&(s="x",o="y");var l=0;r5(t,function(d){return l++,d.x>a.x&&(a.x=d.x),d.x<i.x&&(i.x=d.x),d.y>a.y&&(a.y=d.y),d.y<i.y&&(i.y=d.y),!0});var c=2*Math.PI/l,u=a[s]-i[s];return 0===u||r5(t,function(d){var h=(d[s]-i[s])/u*(2*Math.PI-c)+c,v=Math.abs("x"===o?d.x-t.x:d.y-t.y);return d.x=v*Math.cos(h),d.y=v*Math.sin(h),!0}),t},a5=function r(){return typeof window>"u"||typeof document>"u"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch{return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var n=void 0!==(e=e||{}).parent?e.parent:document.body,i=void 0!==e.id?e.id:"oldie",a=r().getWebGLErrorMessage();a.id=i,n.appendChild(a)}}};const Tf=(0,Me.__assign)((0,Me.__assign)((0,Me.__assign)((0,Me.__assign)({},cl),S),w),E);var Wse=Tf.radialLayout,Yse=function(){function r(t){this.type=t.type,this.radial=t.radial,this.config=t}return r.prototype.init=function(t){var e=this;this.data=t,this.layoutMethod=this.radial?function(n){var i=lx()[e.type](n,e.config);return Wse(i),i}:function(n){return lx()[e.type](n,e.config)}},r.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},r.prototype.layout=function(t){return this.init(t),this.execute()},r}();const $se=Yse;(0,ia.registerLayout)("grid",ia.GridLayout),(0,ia.registerLayout)("random",ia.RandomLayout),(0,ia.registerLayout)("force",ia.ForceLayout),(0,ia.registerLayout)("circular",ia.CircularLayout),(0,ia.registerLayout)("dagre",ia.DagreLayout),(0,ia.registerLayout)("dagreCompound",ia.DagreCompoundLayout),(0,ia.registerLayout)("radial",ia.RadialLayout),(0,ia.registerLayout)("concentric",ia.ConcentricLayout),(0,ia.registerLayout)("mds",ia.MDSLayout),(0,ia.registerLayout)("fruchterman",ia.FruchtermanLayout),(0,ia.registerLayout)("fruchterman-gpu",ia.FruchtermanGPULayout),(0,ia.registerLayout)("gForce",ia.GForceLayout),(0,ia.registerLayout)("force2",ia.Force2Layout),(0,ia.registerLayout)("gForce-gpu",ia.GForceGPULayout),(0,ia.registerLayout)("comboForce",ia.ComboForceLayout),(0,ia.registerLayout)("comboCombined",ia.ComboCombinedLayout),(0,ia.registerLayout)("forceAtlas2",ia.ForceAtlas2Layout);const qse=function r(t,e){var n=t.toString(),i=new Blob(["importScripts('".concat(e,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(i))};function lC(r){return(lC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}var o5=function(t){return setTimeout(t,16)},s5=function(t){return clearTimeout(t)},cx_requestAnimationFrame=function(t){return(typeof window<"u"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||o5)(t)},cx_cancelAnimationFrame=function(t){return(typeof window<"u"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||s5)(t)},Qse=["fruchterman","gForce"],Jse=["force","grid","circular"],ele=function(r){function t(e){var n=r.call(this,e)||this;return n.graph=e,n.layoutCfg=e.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return(0,Me.__extends)(t,r),t.prototype.initLayout=function(){},t.prototype.getWorker=function(){return this.worker||(typeof Worker>"u"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=function(t){return void 0===t&&(t="https://unpkg.com/@antv/layout@latest/dist/layout.min.js"),new qse(function e(){var i_RUN="LAYOUT_RUN",i_END="LAYOUT_END",i_ERROR="LAYOUT_ERROR",i_GPURUN="GPU_LAYOUT_RUN";layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("force2",layout.Force2Layout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout),onmessage=function(l){(function a(s){var l=s.data.type;return l===i_RUN||l===i_GPURUN})(l)&&function o(s){var l=this;switch(s.data.type){case i_RUN:var K,u=s.data,d=u.nodes,h=u.edges,v=u.layoutCfg,D=(y=void 0===v?{}:v).type;if(!(F=layout.getLayoutByName(D))){this.postMessage({type:i_ERROR,message:"layout ".concat(D," not found")});break}y.onLayoutEnd=function(){l.postMessage({type:i_END,nodes:d}),K?.destroy()},(K=new F(y)).init({nodes:d,edges:h}),K.execute();break;case i_GPURUN:var y,F,Q=s.data,J=Q.nodes,de=(h=Q.edges,Q.layoutCfg),Ee=Q.canvas;if(D=(y=void 0===de?{}:de).type,!(F=layout.getLayoutByName(D))){this.postMessage({type:i_ERROR,message:"layout ".concat(D," not found")});break}if("gpu"!==D.split("-")[1]){this.postMessage({type:i_ERROR,message:"layout ".concat(D," does not support GPU")});break}var ke=new F(y);ke.init({nodes:J,edges:h}),ke.executeWithWorker(Ee,this)}}(l)}},t)}(this.layoutCfg.workerScriptURL)),this.worker},t.prototype.stopWorker=function(){var e=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,e.requestId&&(cx_cancelAnimationFrame(e.requestId),e.requestId=null),e.requestId2&&(cx_cancelAnimationFrame(e.requestId2),e.requestId2=null))},t.prototype.execLayoutMethod=function(e,n){var i=this;return new Promise(function(a,o){return(0,Me.__awaiter)(i,void 0,void 0,function(){var s,l,c,u,d,v,y,F;return(0,Me.__generator)(this,function(K){switch(K.label){case 0:if(!(s=this.graph)||s.get("destroyed"))return[2];l=e.type,e.onLayoutEnd=function(){s.emit("aftersublayout",{type:l}),a()},l&&this.isGPU&&(l5(l)?l="".concat(l,"-gpu"):console.warn("The '".concat(l,"' layout does not support GPU calculation for now, it will run in CPU."))),cl.isForce(l)?(c=e.onTick,d=void 0===(u=e.animate)&&("force"===l||"force2"===l),e.tick=function(){c&&c(),(u||d)&&s.refreshPositions()}):("comboForce"===l||"comboCombined"===l)&&(e.comboTrees=s.get("comboTrees"));try{v=new ia.Layouts[l](e),this.layoutMethods[n]&&this.layoutMethods[n].destroy(),this.layoutMethods[n]=v}catch{console.warn("The layout method: '".concat(l,"' does not exist! Please specify it first.")),o()}return v.enableTick&&(y=e.onTick,v.tick=function(){y&&y(),s.refreshPositions()}),function ile(r,t){var e;null!==(e=r?.nodes)&&void 0!==e&&e.length&&r.nodes.forEach(function(i){i.layoutOrder=t})}(F=this.filterLayoutData(this.data,e),n),v.init(F),s.emit("beforesublayout",{type:l}),[4,v.execute()];case 1:return K.sent(),v.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd(),[2]}})})})},t.prototype.updateLayoutMethod=function(e,n){var i=this;return new Promise(function(a,o){return(0,Me.__awaiter)(i,void 0,void 0,function(){var s,l,c;return(0,Me.__generator)(this,function(u){switch(u.label){case 0:return s=this.graph,l=n?.type,n.onLayoutEnd=function(){s.emit("aftersublayout",{type:l}),a()},c=this.filterLayoutData(this.data,n),e.init(c),e.updateCfg(n),s.emit("beforesublayout",{type:l}),[4,e.execute()];case 1:return u.sent(),e.isCustomLayout&&n.onLayoutEnd&&n.onLayoutEnd(),[2]}})})})},t.prototype.layout=function(e){var i,n=this,a=this.graph;if(a&&!a.get("destroyed")){this.data=this.setDataFromGraph();var o=this.data,s=o.nodes,l=o.hiddenNodes;if(!s)return!1;var c=a.get("width"),u=a.get("height"),d={};Object.assign(d,{width:c,height:u,center:[c/2,u/2]},this.layoutCfg),this.layoutCfg=d;var h=d.type,v=!1;null===(i=this.layoutMethods)||void 0===i||i.forEach(function(Ee){var ke;return v=!(null===(ke=Ee.nodes)||void 0===ke||!ke.length)||v});var y=this.destoryLayoutMethods();a.emit("beforelayout");var D=Promise.resolve();v&&h&&1===y?.length&&y[0]===h?this.tweakInit():D=this.initPositions(d.center,s),this.initPositions(d.center,l).then(),this.isGPU=c5(d,h);var K=d.onLayoutEnd,J=d.adjust;if(d.layoutEndFormatted||(d.layoutEndFormatted=!0,d.onAllLayoutEnd=function(){return(0,Me.__awaiter)(n,void 0,void 0,function(){return(0,Me.__generator)(this,function(Ee){switch(Ee.label){case 0:return K&&K(s),this.refreshLayout(),J&&d.pipes?[4,this.adjustPipesBox(this.data,J)]:[3,2];case 1:Ee.sent(),this.refreshLayout(),Ee.label=2;case 2:return a.emit("afterlayout"),[2]}})})}),this.stopWorker(),d.workerEnabled&&this.layoutWithWorker(this.data,e))return!0;var de=!1;return d.type?(de=!0,D=D.then(function(){return(0,Me.__awaiter)(n,void 0,void 0,function(){return(0,Me.__generator)(this,function(Ee){switch(Ee.label){case 0:return[4,this.execLayoutMethod(d,0)];case 1:return[2,Ee.sent()]}})})})):d.pipes&&(de=!0,d.pipes.forEach(function(Ee,ke){D=D.then(function(){return(0,Me.__awaiter)(n,void 0,void 0,function(){return(0,Me.__generator)(this,function(Re){switch(Re.label){case 0:return[4,this.execLayoutMethod(Ee,ke)];case 1:return[2,Re.sent()]}})})})})),de?D.then(function(){d.onAllLayoutEnd&&d.onAllLayoutEnd(),e&&e()}).catch(function(Ee){console.warn("graph layout failed,",Ee)}):(a.refreshPositions(),e?.()),!1}},t.prototype.tweakInit=function(){var n=this.data,i=this.graph,a=n.nodes,o=n.edges;if(a?.length){var s={};a.forEach(function(u){var d=u.x,h=u.y;!isNaN(d)&&!isNaN(h)&&(s[u.id]={x:d,y:h},u.mass=u.mass||2)}),o.forEach(function(u){var d=u.source,h=u.target,v=s[d],y=s[h];!v&&y?s[d]={x:y.x+80*(Math.random()-.5),y:y.y+80*(Math.random()-.5)}:!y&&v&&(s[h]={x:v.x+80*(Math.random()-.5),y:v.y+80*(Math.random()-.5)})});var l=i.get("width"),c=i.get("height");a.forEach(function(u){var d=s[u.id]||{x:l/2+20*(Math.random()-.5),y:c/2+20*(Math.random()-.5)};u.x=d.x,u.y=d.y})}},t.prototype.initWithPreset=function(e,n){var i=this;return new Promise(function(a,o){return(0,Me.__awaiter)(i,void 0,void 0,function(){var s,l,c,u,d,h,v;return(0,Me.__generator)(this,function(y){switch(y.label){case 0:return c=(s=this).data,(u=(l=s.layoutCfg).preset)?.type&&ia.Layouts[u?.type]?(d=c5(u,u.type),h=d?"".concat(u.type,"-gpu"):u.type,v=new ia.Layouts[h](u),delete l.preset,v.init(c),[4,v.execute()]):(n?.(),a(),[2,!1]);case 1:return y.sent(),e?.(),a(),[2,!0]}})})})},t.prototype.layoutWithWorker=function(e,n){var i=this,o=this.layoutCfg,s=this.graph,l=this.getWorker(),c=this.workerData;if(!l)return!1;c.requestId=null,c.requestId2=null,c.currentTick=null,c.currentTickData=null,s.emit("beforelayout");var u=Promise.resolve(),d=!1;if(o.type)d=!0,u=u.then(function(){return i.runWebworker(l,e,o)});else if(o.pipes){d=!0;for(var h=function(K){u=u.then(function(){return i.runWebworker(l,e,K)})},v=0,y=o.pipes;v<y.length;v++)h(y[v])}return d&&u.then(function(){o.onAllLayoutEnd&&o.onAllLayoutEnd(),n?.()}).catch(function(F){console.error("layout failed",F)}),!0},t.prototype.runWebworker=function(e,n,i){var a=this,o=this.isGPU,s=this.filterLayoutData(n,i),l=s.nodes,c=s.edges,u=document.createElement("canvas"),d=o&&typeof window<"u"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in u,h=function nle(r,t){var e={};return r&&"object"===lC(r)?(Object.keys(r).forEach(function(n){r.hasOwnProperty(n)&&t(r[n])&&(e[n]=r[n])}),e):r}(i,function(y){return"function"!=typeof y});if(d){var v=u.transferControlToOffscreen();h.type="".concat(h.type,"-gpu"),e.postMessage({type:"GPU_LAYOUT_RUN",nodes:l,edges:c,layoutCfg:h,canvas:v},[v])}else e.postMessage({type:"LAYOUT_RUN",nodes:l,edges:c,layoutCfg:h});return new Promise(function(y,D){e.onmessage=function(F){a.handleWorkerMessage(y,D,F,s,i)}})},t.prototype.handleWorkerMessage=function(e,n,i,a,o){var l=this.graph,c=this.workerData,u=i.data,h=function(){o.onTick&&o.onTick()};switch(u.type){case"LAYOUT_TICK":c.currentTick=u.currentTick,c.currentTickData=u,c.requestId||(c.requestId=cx_requestAnimationFrame(function(){cC(a,u),l.refreshPositions(),h(),u.currentTick===u.totalTicks?e():c.currentTick===u.totalTicks&&(c.requestId2=cx_requestAnimationFrame(function(){cC(a,c.currentTickData),l.refreshPositions(),c.requestId2=null,h(),e()})),c.requestId=null}));break;case"LAYOUT_END":null==c.currentTick&&(cC(a,u),e());break;case"GPU_LAYOUT_END":null==c.currentTick&&(function rle(r,t){for(var e=r.nodes,n=t.vertexEdgeData,i=e.length,a=0;a<i;a++){var o=e[a],l=n[4*a+1];o.x=n[4*a],o.y=l}}(a,u),e());break;case"LAYOUT_ERROR":console.warn("Web-Worker layout error!",u.message),n();break;default:n()}},t.prototype.updateLayoutCfg=function(e){var n=this,a=this.graph,o=this.layoutMethods;if(a&&!a.get("destroyed")){var s=e.disableTriggerLayout,l=(0,Me.__rest)(e,["disableTriggerLayout"]),c=(0,ue.mix)({},this.layoutCfg,l);if(this.layoutCfg=c,!s){if(!o?.length)return void this.layout();if(this.data=this.setDataFromGraph(),this.stopWorker(),!l.workerEnabled||!this.layoutWithWorker(this.data,null)){a.emit("beforelayout");var u=Promise.resolve(),d=!1;1===o?.length?(d=!0,u=u.then(function(){return(0,Me.__awaiter)(n,void 0,void 0,function(){return(0,Me.__generator)(this,function(h){switch(h.label){case 0:return[4,this.updateLayoutMethod(o[0],c)];case 1:return[2,h.sent()]}})})})):o?.length&&(d=!0,o.forEach(function(h,v){var y=c.pipes[v];u=u.then(function(){return(0,Me.__awaiter)(n,void 0,void 0,function(){return(0,Me.__generator)(this,function(D){switch(D.label){case 0:return[4,this.updateLayoutMethod(h,y)];case 1:return[2,D.sent()]}})})})})),d&&u.then(function(){c.onAllLayoutEnd&&c.onAllLayoutEnd()}).catch(function(h){console.warn("layout failed",h)})}}}},t.prototype.adjustPipesBox=function(e,n){var i=this;return new Promise(function(a){var o=e.nodes;o?.length||a(),Jse.includes(n)||(console.warn("The adjust type ".concat(n," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),a());var s={center:i.layoutCfg.center,nodeSize:function(y){return Math.max(y.height,y.width)},preventOverlap:!0,onLayoutEnd:function(){}},l=i.getLayoutBBox(o),c=l.groupNodes,u=l.layoutNodes,d=(0,ue.clone)(u);s.onLayoutEnd=function(){u?.forEach(function(v,y){var D,F,K,Q=v.x-(null===(D=d[y])||void 0===D?void 0:D.x),J=v.y-(null===(F=d[y])||void 0===F?void 0:F.y);null===(K=c[y])||void 0===K||K.forEach(function(de){de.x+=Q,de.y+=J})}),a()},new ia.Layouts[n](s).layout({nodes:u})})},t.prototype.destroy=function(){this.destoryLayoutMethods();var e=this.worker;e&&(e.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},t}(l3);const tle=ele;function cC(r,t){for(var e=r.nodes,n=t.nodes,i=e.length,a=0;a<i;a++){var o=e[a];o.x=n[a].x,o.y=n[a].y}}function l5(r){return Qse.includes(r)}function c5(r,t){var e=t;t&&"gpu"===t.split("-")[1]&&(e=t.split("-")[0],r.gpuEnabled=!0);var n=!1;return r.gpuEnabled&&(n=!0,a5().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),n=!1)),n&&!l5(e)&&(console.warn("The '".concat(e,"' layout does not support GPU calculation for now, it will run in CPU.")),n=!1),n}var V0,uC,u5,dC;function go(r){V0||function ale(){V0=document.createElement("table"),uC=document.createElement("tr"),u5=/^\s*<(\w+|!)[^>]*>/,dC={tr:document.createElement("tbody"),tbody:V0,thead:V0,tfoot:V0,td:uC,th:uC,"*":document.createElement("div")}}();var t=u5.test(r)&&RegExp.$1;(!t||!(t in dC))&&(t="*");var e=dC[t];r="string"==typeof r?r.replace(/(^\s*)|(\s*$)/g,""):r,e.innerHTML=""+r;var n=e.childNodes[0];return n&&e.contains(n)&&e.removeChild(n),n}var sle=function r(t,e){var n;t.isGroup()&&e.isGroup()&&(null===(n=t.get("children"))||void 0===n||n.forEach(function(s,l){var c=e.get("children")[l];r(s,c)}));var i=t.get("type"),a=e.get("type");if("image"===i&&"image"===a){var o=t.get("clipShape");o&&e.setClip({type:o.get("type"),attrs:o.attr()})}},d5=Yc,cle=function(r){function t(e){var n=r.call(this,e)||this,i=n.get("defaultNode");return i||n.set("defaultNode",{type:"circle"}),i.type||(i.type="circle",n.set("defaultNode",i)),n.destroyed=!1,n}return(0,Me.__extends)(t,r),t.prototype.initLayoutController=function(){var e=new tle(this);this.set({layoutController:e})},t.prototype.initEventController=function(){var e=new Rse(this);this.set({eventController:e})},t.prototype.initCanvas=function(){var e=this.get("container");if("string"==typeof e&&(e=document.getElementById(e),this.set("container",e)),!e)throw new Error("invalid container");var l,n=e.clientWidth,i=e.clientHeight,a=this.get("width")||n,o=this.get("height")||i;if(!this.get("width")&&!this.get("height")&&(this.set("width",n),this.set("height",i)),"svg"===this.get("renderer"))l=new F0({container:e,width:a,height:o});else{var c={container:e,width:a,height:o},u=this.get("pixelRatio");u&&(c.pixelRatio=u,window.devicePixelRatio=u),l=new Cf(c)}this.set("canvas",l)},t.prototype.initPlugins=function(){var e=this;(0,ue.each)(e.get("plugins"),function(n){!n.destroyed&&n.initPlugin&&n.initPlugin(e)})},t.prototype.downloadImageWatermark=function(e,n,i,a){return(0,Me.__awaiter)(this,void 0,void 0,function(){var o,s,l;return(0,Me.__generator)(this,function(c){switch(c.label){case 0:return s=(o=e.style.backgroundImage).slice(5,o.length-2),(l=new Image).src=s,[4,new Promise(function(u){l.onload=function(){var d=n.createPattern(l,"repeat");n.rect(0,0,i,a),n.fillStyle=d,n.fill(),u("")}})];case 1:return c.sent(),[2]}})})},t.prototype.asyncToDataUrl=function(e,n,i,a,o,s){var l=this,c=document.querySelector(".g6-graph-watermarker"),u=this.get("canvas"),d=u.getRenderer(),h=s||u.get("el"),v="";e||(e="image/png"),setTimeout(function(){return(0,Me.__awaiter)(l,void 0,void 0,function(){var y,D,F,K,Q,J,de,Ee,ke,Re;return(0,Me.__generator)(this,function(tt){switch(tt.label){case 0:return"svg"!==d?[3,1]:(y=h.cloneNode(!0),D=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(F=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",D)).replaceChild(y,F.documentElement),K=(new XMLSerializer).serializeToString(F),v="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(K)),[3,4]);case 1:return Q=void 0,J=h.getContext("2d"),de=a||this.get("width"),Ee=o||this.get("height"),ke=void 0,c?[4,this.downloadImageWatermark(c,J,de,Ee)]:[3,3];case 2:tt.sent(),tt.label=3;case 3:if(n){Re=typeof window<"u"?window.devicePixelRatio:1;try{Q=J.getImageData(0,0,de*Re,Ee*Re),ke=J.globalCompositeOperation,J.globalCompositeOperation="destination-over",J.fillStyle=n,J.fillRect(0,0,de,Ee)}catch{console.error("Download image failed. Out of memory at ImageData creation")}}v=h.toDataURL(e),n&&(J.clearRect(0,0,de,Ee),J.putImageData(Q,0,0),J.globalCompositeOperation=ke),tt.label=4;case 4:return i&&i(v),[2]}})})},16)},t.prototype.toDataURL=function(e,n){var i=this.get("canvas"),a=i.getRenderer(),o=i.get("el");e||(e="image/png");var s="";if("svg"===a){var l=o.cloneNode(!0),c=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",c);u.replaceChild(l,u.documentElement);var d=(new XMLSerializer).serializeToString(u);s="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d))}else{var h=void 0,v=o.getContext("2d"),y=Math.max(this.get("width"),500),D=Math.max(this.get("height"),500),F=void 0;if(n){var K=typeof window<"u"&&window.devicePixelRatio||1;try{h=v.getImageData(0,0,y*K,D*K),F=v.globalCompositeOperation,v.globalCompositeOperation="destination-over",v.fillStyle=n,v.fillRect(0,0,y,D)}catch{console.error("Download image failed. Out of memory at ImageData creation")}}s=o.toDataURL(e),n&&(v.clearRect(0,0,y,D),v.putImageData(h,0,0),v.globalCompositeOperation=F)}return s},t.prototype.toFullDataURL=function(e,n,i){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),c=go('<div id="virtual-image"></div>'),u=i?i.backgroundColor:void 0,d=i?i.padding:void 0;d?(0,ue.isNumber)(d)&&(d=[d,d,d,d]):d=[0,0,0,0];var h=o+d[0]+d[2],v=s+d[1]+d[3],y={container:c,height:h,width:v,quickHit:!0},D="svg"===l?new F0(y):new Cf(y),K=this.get("group").clone(),Q=(0,ue.clone)(K.getMatrix());Q||(Q=[1,0,0,0,1,0,0,0,1]),Q=d5(Q,[["t",-(a.maxX+a.minX)/2,-(a.maxY+a.minY)/2],["t",s/2+d[3],o/2+d[0]]]),K.resetMatrix(),K.setMatrix(Q),D.add(K);var Ee=D.get("el"),ke="";n||(n="image/png"),setTimeout(function(){if("svg"===l){var Re=Ee.cloneNode(!0),tt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),xt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",tt);xt.replaceChild(Re,xt.documentElement);var ct=(new XMLSerializer).serializeToString(xt);ke="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(ct))}else{var Nt=void 0,Ut=Ee.getContext("2d"),Mn=void 0;if(u){var Jn=typeof window<"u"?window.devicePixelRatio:1;try{Nt=Ut.getImageData(0,0,v*Jn,h*Jn),Mn=Ut.globalCompositeOperation,Ut.globalCompositeOperation="destination-over",Ut.fillStyle=u,Ut.fillRect(0,0,v,h)}catch{console.error("Download image failed. Out of memory at ImageData creation")}}ke=Ee.toDataURL(n),u&&(Ut.clearRect(0,0,v,h),Ut.putImageData(Nt,0,0),Ut.globalCompositeOperation=Mn)}e&&e(ke)},16)},t.prototype.downloadFullImage=function(e,n,i){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,c=this.get("renderer"),u=go('<div id="virtual-image"></div>'),d=document.querySelector(".g6-graph-watermarker"),h=i?i.backgroundColor:void 0,v=i?i.padding:void 0;v?(0,ue.isNumber)(v)&&(v=[v,v,v,v]):v=[0,0,0,0];var y=s+v[0]+v[2],D=l+v[1]+v[3];if(d){var F=this.get("graphWaterMarker").cfg||{},K=F.width,Q=F.height;y=Math.ceil(y/Q)*Q,D=Math.ceil(D/K)*K}var J={container:u,height:y,width:D},de="svg"===c?new F0(J):new Cf(J),ke=function(t){var e=t.clone();return sle(t,e),e}(this.get("group")),Re=(0,ue.clone)(ke.getMatrix());Re||(Re=[1,0,0,0,1,0,0,0,1]),Re=d5(Re,[["t",-(o.maxX+o.minX)/2,-(o.maxY+o.minY)/2],["t",l/2+v[3],s/2+v[0]]]),ke.resetMatrix(),ke.setMatrix(Re),de.add(ke);var ct=de.get("el");n||(n="image/png"),this.asyncToDataUrl(n,h,function(Nt){var Ut=document.createElement("a"),Mn=(e||"graph")+("svg"===c?".svg":".".concat(n.split("/")[1]));a.dataURLToImage(Nt,c,Ut,Mn);var Jn=document.createEvent("MouseEvents");Jn.initEvent("click",!1,!1),Ut.dispatchEvent(Jn)},D,y,ct)},t.prototype.downloadImage=function(e,n,i){var a=this,o=this;o.stopAnimate();var l=o.get("canvas").getRenderer();n||(n="image/png");var c=(e||"graph")+("svg"===l?".svg":n.split("/")[1]),u=document.createElement("a");o.asyncToDataUrl(n,i,function(d){a.dataURLToImage(d,l,u,c);var h=document.createEvent("MouseEvents");h.initEvent("click",!1,!1),u.dispatchEvent(h)})},t.prototype.dataURLToImage=function(e,n,i,a){if(e&&"data:"!==e){if(typeof window<"u")if(window.Blob&&window.URL&&"svg"!==n){var o=e.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var c=atob(o[1]),u=c.length,d=new Uint8Array(u);u--;)d[u]=c.charCodeAt(u);var h=new Blob([d],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(h,a):i.addEventListener("click",function(){i.download=a,i.href=window.URL.createObjectURL(h)})}else i.addEventListener("click",function(){i.download=a,i.href=e})}else console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items")},t.prototype.addPlugin=function(e){e.destroyed||(this.get("plugins").push(e),e.initPlugin(this))},t.prototype.removePlugin=function(e){var n=this.get("plugins"),i=n.indexOf(e);i>=0&&(e.destroyPlugin(),n.splice(i,1))},t.prototype.setImageWaterMarker=function(e,n){void 0===e&&(e=Wp.waterMarkerImage);var i=this.get("container");(0,ue.isString)(i)&&(i=document.getElementById(i)),i.style.position||(i.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,ue.deepMix)({},Wp.imageWaterMarkerConfig,n),s=o.width,l=o.height,c=o.compatible,u=o.image;if(!e){var d=c?i:document.querySelector(".g6-graph-watermarker");return d&&(d.style.cssText=void 0),void(a&&a.clear())}if(a)a.clear();else{var h={container:i,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(h.pixelRatio=v,window.devicePixelRatio=v),a=new Cf(h),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var y=a.get("context"),D=u.rotate,F=u.x,K=u.y;y.rotate(-D*Math.PI/180);var Q=new Image;Q.crossOrigin="anonymous",Q.src=e,Q.onload=function(){if(y.drawImage(Q,F,K,u.width,u.height),y.rotate(D*Math.PI/180),c)i.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var J=document.querySelector(".g6-graph-watermarker");J||((J=document.createElement("div")).className="g6-graph-watermarker"),J.className="g6-graph-watermarker",a.destroyed||(J.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),i.appendChild(J))}}},t.prototype.setTextWaterMarker=function(e,n){var i=this.get("container");(0,ue.isString)(i)&&(i=document.getElementById(i)),i.style.position||(i.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,ue.deepMix)({},Wp.textWaterMarkerConfig,n),s=o.width,l=o.height,c=o.compatible,u=o.text;if(!e?.length){var d=c?i:document.querySelector(".g6-graph-watermarker");return d&&(d.style.cssText=void 0),void(a&&a.clear())}if(a)a.clear();else{var h={container:i,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(h.pixelRatio=v,window.devicePixelRatio=v),a=new Cf(h),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var y=a.get("context"),D=u.rotate,F=u.fill,K=u.fontFamily,Q=u.fontSize,J=u.baseline,de=u.x,Ee=u.y,ke=u.lineHeight;y.rotate(-D*Math.PI/180),y.font="".concat(Q,"px ").concat(K),y.fillStyle=F,y.textBaseline=J;for(var Re=(0,ue.isString)(e)?[e]:e,tt=Re.length-1;tt>=0;tt--)y.fillText(Re[tt],de,Ee+tt*ke);if(y.rotate(D*Math.PI/180),c)i.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var xt=document.querySelector(".g6-graph-watermarker");xt||((xt=document.createElement("div")).className="g6-graph-watermarker"),xt.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),i.appendChild(xt)}},t.prototype.destroy=function(){var e,n,i,a;(0,ue.each)(this.get("plugins"),function(u){u.destroyPlugin()});var o=this.get("tooltips");if(o)for(var s=0;s<o.length;s++){var l=o[s];if(l){var c=l.parentElement;c&&c.removeChild(l)}}null===(e=this.get("eventController"))||void 0===e||e.destroy(),null===(n=this.get("layoutController"))||void 0===n||n.destroy(),null===(i=this.get("graphWaterMarker"))||void 0===i||i.destroy(),null===(a=document.querySelector(".g6-graph-watermarker"))||void 0===a||a.remove(),r.prototype.destroy.call(this)},t}(t3);const f5=cle;var ule=Tf.radialLayout,fC=Tf.traverseTree,dle=function(r){function t(e){var n=r.call(this,e)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return(0,Me.__extends)(t,r),t.prototype.getLayout=function(){var e=this.get("layout");return e?"function"==typeof e?e:(e.type||(e.type="dendrogram"),e.direction||(e.direction="indented"===e.type?"LR":"TB"),e.radial?function(n){var i=lx()[e.type](n,e);return ule(i),i}:function(n){return lx()[e.type](n,e)}):null},t.indexOfChild=function(e,n){var i=-1;return(0,ue.each)(e,function(a,o){if(n===a.id)return i=o,!1}),i},t.prototype.getDefaultCfg=function(){var e=r.prototype.getDefaultCfg.call(this);return e.animate=!0,e},t.prototype.innerAddChild=function(e,n,i){var a=this,o=e.data;o&&(o.x=e.x,o.y=e.y,o.depth=e.depth);var s=a.addItem("node",o,!1);if(n){if(s.set("parent",n),i){var l=n.get("originAttrs");if(l)s.set("originAttrs",l);else{var c=n.getModel();s.set("originAttrs",{x:c.x,y:c.y})}}var u=n.get("children");u?u.push(s):n.set("children",[s]),a.addItem("edge",{source:n.get("id"),target:s.get("id"),id:"".concat(n.get("id"),":").concat(s.get("id"))},!1)}return(0,ue.each)(e.children||[],function(d){a.innerAddChild(d,s,i)}),a.emit("afteraddchild",{item:s,parent:n}),s},t.prototype.innerUpdateChild=function(e,n,i){var a=this,o=a.findById(e.id);if(o){(0,ue.each)(e.children||[],function(y){a.innerUpdateChild(y,o,i)});var d,h,s=o.get("children");if(s&&s.length>0)for(var c=s.length-1;c>=0;c--){var u=s[c].getModel();-1===t.indexOfChild(e.children||[],u.id)&&(a.innerRemoveChild(u.id,{x:e.x,y:e.y},i),s.splice(c,1))}o.get("originAttrs")&&(d=o.get("originAttrs").x,h=o.get("originAttrs").y);var v=o.getModel();i&&o.set("originAttrs",{x:v.x,y:v.y}),o.set("model",Object.assign(v,e.data)),(d!==e.x||h!==e.y)&&o.updatePosition({x:e.x,y:e.y})}else a.innerAddChild(e,n,i)},t.prototype.innerRemoveChild=function(e,n,i){var a=this,o=a.findById(e);if(o)if((0,ue.each)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,n,i)}),i){var s=o.getModel();o.set("to",n),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o,!1)},t.prototype.changeData=function(e,n){void 0===n&&(n=!0);var i=this;this.getNodes().map(function(a){return i.clearItemStates(a)}),this.getEdges().map(function(a){return i.clearItemStates(a)}),n&&this.get("enabledStack")&&this.pushStack("changedata",{before:i.get("originData"),after:e||i.get("data")}),e?(i.data(e),i.render(!1)):i.layout(this.get("fitView"))},t.prototype.changeLayout=function(e){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon"),this.updateLayout(e)},t.prototype.updateLayout=function(e,n,i,a){void 0===a&&(a=!0);var o=this;if(e){if(a&&this.get("enabledStack")&&this.pushStack("layout",{before:o.get("layout"),after:e}),o.set("layout",e),o.set("layoutMethod",o.getLayout()),o.layout(),n){var s=i;s||(s="begin"===n?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),s=this.getPointByCanvas(s.x,s.y);var l=this.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];s.x=s.x*l[0]+l[6],s.y=s.y*l[0]+l[7];var c=this.getGroup().getCanvasBBox(),u=c.minX,h=c.minY,y={x:(u+c.maxX)/2,y:(h+c.maxY)/2};"begin"===n&&(y.x=u,y.y=h),this.translate(s.x-y.x,s.y-y.y)}}else console.warn("layout cannot be null")},t.prototype.refreshLayout=function(e){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon"),this.layout(e)},t.prototype.layout=function(e){var n=this,i=this,a=i.get("data"),o=i.get("layoutMethod"),l=a;if(i.get("layout")?.excludeInvisibles){a=(0,ue.clone)(i.get("data"));var c={};fC(a,function(h){var v=h.children;if(!v?.length)return!0;for(var y=v.length-1;y>=0;y--){var D=n.findById(v[y].id);(D?!D.isVisible():!1===v[y].visible)&&(c[h.id]=c[h.id]||[],c[h.id].push({idx:y,child:v.splice(y,1)[0]}))}}),l=o?o(a,i.get("layout")):a,fC(l,function(h){var v=c[h.id];if(v?.length)for(var y=v.length-1;y>=0;y--){var D=v[y];h.children.splice(D.idx,0,D.child)}})}else l=o?o(a,i.get("layout")):a;var u=i.get("animate");i.emit("beforerefreshlayout",{data:a,layoutData:l}),i.emit("beforelayout"),i.innerUpdateChild(l,void 0,u),e&&i.get("viewController").fitView(),u?i.layoutAnimate(l):(i.refresh(),i.paint()),i.emit("afterrefreshlayout",{data:a,layoutData:l}),i.emit("afterlayout")},t.prototype.addChild=function(e,n,i){void 0===i&&(i=!0);var a=this;a.emit("beforeaddchild",{model:e,parent:n}),(0,ue.isString)(n)||(n=n.get("id"));var o=a.findDataById(n);o&&(o.children||(o.children=[]),o.children.push(e),a.findById(n).refresh(),a.changeData(void 0,i))},t.prototype.updateChildren=function(e,n,i){void 0===i&&(i=!0);var a=this,o=a.findById(n);n&&o?(a.findDataById(n).children=e,o.refresh(),a.changeData(void 0,i)):console.warn("Update children failed! There is no node with id '".concat(n,"'"))},t.prototype.updateChild=function(e,n,i){void 0===i&&(i=!0);var a=this;if(n&&a.findById(n)){var o=a.findDataById(n),s=a.findById(e.id);if(o.children||(o.children=[]),s){var l=t.indexOfChild(o.children,e.id);l>-1&&(o.children[l]=e)}else o.children.push(e);a.findById(n)?.refresh(),a.changeData(void 0,i)}else a.changeData(e,i)},t.prototype.removeChild=function(e,n){void 0===n&&(n=!0);var o,i=this,a=i.findById(e);if((o=a?a?.get("parent"):i.getNodes().find(function(d){return!!(d.getModel().children||[]).find(function(v){return v.id===e})}))&&!o.destroyed){var s=o.get("id"),l=i.findDataById(s),c=l&&l.children||[],u=t.indexOfChild(c,e);c.splice(u,1),o.refresh()}i.changeData(void 0,n)},t.prototype.findDataById=function(e,n){var i=this;if(n||(n=i.get("data")),e===n.id)return n;var a=null;return(0,ue.each)(n.children||[],function(o){return o.id===e?(a=o,!1):!(a=i.findDataById(e,o))&&void 0}),a},t.prototype.layoutAnimate=function(e,n){var i=this,a=this.get("animateCfg");i.emit("beforeanimate",{data:e}),i.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){fC(e,function(s){var l=i.findById(s.id);if(l){var c=l.get("originAttrs"),u=l.get("model");if(c||l.set("originAttrs",c={x:u.x,y:u.y}),n){var d=n(l,o,c,e);l.set("model",Object.assign(u,d))}else u.x=c.x+(s.x-c.x)*o,u.y=c.y+(s.y-c.y)*o}return!0}),(0,ue.each)(i.get("removeList"),function(s){var l=s.getModel(),c=s.get("originAttrs"),u=s.get("to");l.x=c.x+(u.x-c.x)*o,l.y=c.y+(u.y-c.y)*o}),i.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,ue.each)(i.getNodes(),function(s){s.set("originAttrs",null)}),(0,ue.each)(i.get("removeList"),function(s){i.removeItem(s,!1)}),i.set("removeList",[]),a.callback&&a.callback(),i.emit("afteranimate",{data:e})},delay:a.delay})},t.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},t.prototype.isLayoutAnimating=function(){return this.layoutAnimating},t.prototype.render=function(e){void 0===e&&(e=!0);var n=this,i=n.get("data");if(!i||!(0,ue.isObject)(i)||!Object.keys(i).length)throw new Error("data must be defined first");n.clear(),e&&this.get("enabledStack")&&this.clearStack(),n.emit("beforerender"),n.layout(this.get("fitView")),n.emit("afterrender")},t.prototype.save=function(){return this.get("data")},t.prototype.data=function(e){r.prototype.data.call(this,e),this.set("originData",JSON.parse(JSON.stringify(e)))},t}(f5);const h5=dle;function Yi(r,t){if(r)for(var e in t)t.hasOwnProperty(e)&&(r.style[e]=t[e]);return r}var fle=function(){function r(t){this._cfgs=(0,ue.deepMix)(this.getDefaultCfgs(),t),this._events={},this.destroyed=!1}return r.prototype.getDefaultCfgs=function(){return{}},r.prototype.initPlugin=function(t){var e=this;e.set("graph",t);var n=e.getEvents(),i={};(0,ue.each)(n,function(a,o){var s=(0,ue.wrapBehavior)(e,a);i[o]=s,t.on(o,s)}),this._events=i,this.init()},r.prototype.getEvents=function(){return{}},r.prototype.get=function(t){var e;return null===(e=this._cfgs)||void 0===e?void 0:e[t]},r.prototype.set=function(t,e){this._cfgs[t]=e},r.prototype.destroy=function(){},r.prototype.destroyPlugin=function(){this.destroy();var t=this.get("graph");(0,ue.each)(this._events,function(n,i){t.off(i,n)}),this._events=null,this._cfgs=null,this.destroyed=!0},r}();const Ll=fle;var r,hle=(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p5="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",ple=function(r){function t(e){return r.call(this,e)||this}return hle(t,r),t.prototype.getDefaultCfgs=function(){return{img:p5,follow:!0}},t.prototype.init=function(){var e=this.get("graph"),n=e.get("container"),i=e.get("canvas").get("el"),a=this.get("img")||p5;a.includes("url(")||(a='url("'.concat(a,'")'));var o=go("<div class='g6-grid-container' style=\"position:absolute;overflow:hidden;z-index: -1;\"></div>"),s=go("<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(a,";\n        user-select: none\n        '></div>"));this.set("container",o),this.set("gridContainer",s),this.positionInit(),o.appendChild(s),n.insertBefore(o,i)},t.prototype.positionInit=function(){var e=this.get("graph"),n=e.get("minZoom"),i=e.get("width"),a=e.get("height");Yi(this.get("container"),{width:"".concat(i,"px"),height:"".concat(a,"px")});var o=80*i/n,s=80*a/n;Yi(this.get("gridContainer"),{width:"".concat(o,"px"),height:"".concat(s,"px"),left:"-".concat(o/2,"px"),top:"-".concat(s/2,"px")})},t.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},t.prototype.updateGrid=function(e){var n=this.get("gridContainer"),i=e.matrix;i||(i=[1,0,0,0,1,0,0,0,1]);var a=this.get("follow");Yi(n,{transform:"matrix(".concat(i[0],", ").concat(i[1],", ").concat(i[3],", ").concat(i[4],", ").concat(a?i[6]:"0",", ").concat(a?i[7]:"0",")")})},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var n=this.get("graph").get("container"),i=this.get("container");n.removeChild(i)},t}(Ll);const vle=ple;var gle=j(4586),ux=j.n(gle),mle=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();typeof document<"u"&&ux()("\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n");var yle=function(r){function t(e){return r.call(this,e)||this}return mle(t,r),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(n){return"\n          <ul class='g6-contextmenu-ul'>\n            <li>\u83dc\u5355\u98791</li>\n            <li>\u83dc\u5355\u98792</li>\n          </ul>\n        "},shouldBegin:function(n){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},t.prototype.init=function(){var e=this.get("className"),n=go("<div class=".concat(e||"g6-component-contextmenu","></div>"));Yi(n,{top:"0px",position:"absolute",visibility:"hidden"});var i=this.get("container");i||(i=this.get("graph").get("container")),(0,ue.isString)(i)&&(i=document.getElementById(i)),i.appendChild(n),this.set("menu",n)},t.prototype.onMenuShow=function(e){var n=this;e.preventDefault();var i=this.get("itemTypes");if(e.item){if(e.item&&e.item.getType&&-1===i.indexOf(e.item.getType()))return void n.onMenuHide()}else if(-1===i.indexOf("canvas"))return void n.onMenuHide();if(this.get("shouldBegin")(e)){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),c=s(e,l);o.innerHTML=(0,ue.isString)(c)?c:c.outerHTML,this.removeMenuEventListener();var u=this.get("handleMenuClick");if(u){var d=function(tt){u(tt.target,e.item,l)};this.set("handleMenuClickWrapper",d),o.addEventListener("click",d)}var h=l.get("width"),v=l.get("height"),y=o.getBoundingClientRect(),D=this.get("offsetX")||0,F=this.get("offsetY")||0,K=l.getContainer().offsetTop,Q=l.getContainer().offsetLeft,J=e.canvasX+Q+D,de=e.canvasY+K+F;J+y.width>h&&(J=e.canvasX-y.width-D+Q),de+y.height>v&&(de=e.canvasY-y.height-F+K),Yi(o,{top:"".concat(de,"px"),left:"".concat(J,"px"),visibility:"visible"});var Ee="click"===this.get("trigger"),ke=function(tt){Ee?Ee=!1:n.onMenuHide()};document.body.addEventListener("click",ke),this.set("handler",ke)}},t.prototype.removeMenuEventListener=function(){var e=this.get("handleMenuClickWrapper"),n=this.get("handler");e&&(this.get("menu").removeEventListener("click",e),this.set("handleMenuClickWrapper",null)),n&&document.body.removeEventListener("click",n)},t.prototype.onMenuHide=function(){var e=this.get("menu");e&&Yi(e,{visibility:"hidden"}),this.removeMenuEventListener()},t.prototype.destroy=function(){var e=this.get("menu");if(this.removeMenuEventListener(),e){var n=this.get("container");n||(n=this.get("graph").get("container")),(0,ue.isString)(n)&&(n=document.getElementById(n)),n.removeChild(e)}},t}(Ll);const _le=yle;var ble=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hC=function(){return hC=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},hC.apply(this,arguments)},v5=Math.max,xle=Yc,Mle=function(r){function t(e){var n=r.call(this,e)||this;return n.handleUpdateCanvas=(0,ue.debounce)(function(i){n.destroyed||n.updateCanvas()},100,!1),n}return ble(t,r),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0,hideEdge:!1}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,n=this._cfgs,i=n.size,a=n.graph;if(!this.destroyed){var s=this.get("canvas").get("container"),l=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,c=navigator.userAgent.toLowerCase().indexOf("safari")>-1,u=go("\n      <div\n        class=".concat(n.viewportClassName,"\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          outline: 2px solid #1980ff;\n          cursor:move'\n        draggable=").concat(!(c||l),"\n      </div>")),d=0,h=0,v=!1,y=0,D=0,F=0,K=0,Q=0,J=0;u.addEventListener(c||l?"mousedown":"dragstart",function(tt){var xt,ct;if(tt.dataTransfer){var Nt=new Image;Nt.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",null===(ct=(xt=tt.dataTransfer).setDragImage)||void 0===ct||ct.call(xt,Nt,0,0);try{tt.dataTransfer.setData("text/html","view-port-minimap")}catch{tt.dataTransfer.setData("text","view-port-minimap")}}if(n.refresh=!1,tt.target===u){var Ut=u.style;y=parseInt(Ut.left,10),D=parseInt(Ut.top,10),F=parseInt(Ut.width,10),K=parseInt(Ut.height,10),!(F>i[0]||K>i[1])&&(J=a.getZoom(),Q=e.get("ratio"),v=!0,d=tt.clientX,h=tt.clientY)}},!1);var Ee=function(xt){if(v&&!(0,ue.isNil)(xt.clientX)&&!(0,ue.isNil)(xt.clientY)){var ct=d-xt.clientX,Nt=h-xt.clientY;(y-ct<0||y-ct+F>=i[0])&&(ct=0),(D-Nt<0||D-Nt+K>=i[1])&&(Nt=0),D-=Nt,Yi(u,{left:"".concat(y-=ct,"px"),top:"".concat(D,"px")}),a.translate(ct*J/Q,Nt*J/Q),d=xt.clientX,h=xt.clientY}};!c&&!l&&u.addEventListener("drag",Ee,!1);var ke=function(){v=!1,n.refresh=!0};u.addEventListener(c||l?"mouseup":"dragend",ke,!1),s.addEventListener("mouseleave",ke),s.addEventListener("mouseup",ke),(c||l)&&s.addEventListener("mousemove",Ee,!1),this.set("viewport",u),s.appendChild(u)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),n=this.get("totaldx"),i=this.get("totaldy"),a=this.get("graph"),o=this.get("size"),s=a.get("canvas").get("el"),l=a.get("width")||s.scrollWidth||500,c=a.get("height")||s.scrollHeight||500,u=a.getPointByCanvas(0,0),d=a.getPointByCanvas(l,c),h=this.get("viewport");h||this.initViewport();var v=(d.x-u.x)*e,y=(d.y-u.y)*e,D=u.x*e+n,F=u.y*e+i,K=D+v,Q=F+y;D<0&&(v+=D,D=0),K>o[0]&&(v-=K-o[0]),F<0&&(y+=F,F=0),Q>o[1]&&(y-=Q-o[1]),this.set("ratio",e),Yi(h,{left:"".concat(D,"px"),top:"".concat(F,"px"),width:"".concat(v,"px"),height:"".concat(y,"px")})}},t.prototype.updateGraphShapes=function(){var a,e=this._cfgs.graph,n=this.get("canvas"),i=e.get("group");i.destroyed||(n.clear(),this.get("hideEdge")?(a=n.addGroup(),i.get("children").forEach(function(s){s.get("id").includes("-edge")||a.add(s.clone())})):((a=i.clone()).resetMatrix(),n.add(a)),"svg"===e.get("renderer")&&this.updateVisible(a))},t.prototype.updateVisible=function(e){var n=this;if(e.isGroup()||e.get("visible")){var i=e.get("children");if(!i||!i.length)return;i.forEach(function(a){a.get("visible")||a.hide(),n.updateVisible(a)})}else e.hide()},t.prototype.updateKeyShapes=function(){var e=this,n=this._cfgs.graph,i=this.get("canvas"),a=i.get("children")[0]||i.addGroup();this.get("hideEdge")||(0,ue.each)(n.getEdges(),function(l){e.updateOneEdgeKeyShape(l,a)}),(0,ue.each)(n.getNodes(),function(l){e.updateOneNodeKeyShape(l,a)});var o=n.getCombos();if(o&&o.length){var s=a.find(function(l){return"comboGroup"===l.get("name")})||a.addGroup({name:"comboGroup"});setTimeout(function(){e.destroyed||((0,ue.each)(o,function(l){e.updateOneComboKeyShape(l,s)}),s?.sort(),s?.toBack(),e.updateCanvas())},250)}this.clearDestroyedShapes()},t.prototype.updateOneComboKeyShape=function(e,n){if(!this.destroyed){var i=this.get("itemMap")||{},a=i[e.get("id")],o=e.getBBox(),s=e.get("keyShape").clone(),l=s.attr(),c={x:o.centerX,y:o.centerY};a?c=Object.assign(l,c):n.add(a=s);var u=a.get("type");("rect"===u||"image"===u)&&(c.x=o.minX,c.y=o.minY),a.attr(c),e.isVisible()?a.show():a.hide(),a.exist=!0;var d=e.getModel().depth;isNaN(d)||a.set("zIndex",d),i[e.get("id")]=a,this.set("itemMap",i)}},t.prototype.updateOneNodeKeyShape=function(e,n){var i=this.get("itemMap")||{},a=i[e.get("id")],o=e.getBBox(),s=e.get("keyShape").clone(),l=s.attr(),c={x:o.centerX,y:o.centerY};a?(c=Object.assign(l,c),a.toFront()):n.add(a=s);var u=a.get("type");("rect"===u||"image"===u)&&(c.x=o.minX,c.y=o.minY),a.attr(c),e.isVisible()?a.show():a.hide(),a.exist=!0;var d=e.getModel().depth;isNaN(d)||a.set("zIndex",d),i[e.get("id")]=a,this.set("itemMap",i)},t.prototype.updateDelegateShapes=function(){var e=this,n=this._cfgs.graph,i=this.get("canvas"),a=i.get("children")[0]||i.addGroup();this.get("hideEdge")||(0,ue.each)(n.getEdges(),function(l){e.updateOneEdgeKeyShape(l,a)}),(0,ue.each)(n.getNodes(),function(l){e.updateOneNodeDelegateShape(l,a)});var o=n.getCombos();if(o&&o.length){var s=a.find(function(l){return"comboGroup"===l.get("name")})||a.addGroup({name:"comboGroup"});setTimeout(function(){e.destroyed||((0,ue.each)(o,function(l){e.updateOneComboKeyShape(l,s)}),s?.sort(),s?.toBack(),e.updateCanvas())},250)}this.clearDestroyedShapes()},t.prototype.clearDestroyedShapes=function(){var e=this.get("itemMap")||{},n=Object.keys(e);if(n&&0!==n.length)for(var i=n.length-1;i>=0;i--){var a=e[n[i]],o=a.exist;a.exist=!1,o||(a.remove(),delete e[n[i]])}},t.prototype.updateOneEdgeKeyShape=function(e,n){var i=this.get("itemMap")||{},a=i[e.get("id")];if(a){var o=e.get("keyShape").attr("path");a.attr("path",o)}else a=e.get("keyShape").clone(),n.add(a);e.isVisible()?a.show():a.hide(),a.exist=!0,i[e.get("id")]=a,this.set("itemMap",i)},t.prototype.updateOneNodeDelegateShape=function(e,n){var i=this.get("delegateStyle"),a=this.get("itemMap")||{},o=a[e.get("id")],s=e.getBBox();o?(o.attr({x:s.minX,y:s.minY,width:s.width,height:s.height}),o.toFront()):o=n.addShape("rect",{attrs:hC({x:s.minX,y:s.minY,width:s.width,height:s.height},i),name:"minimap-node-shape"}),e.isVisible()?o.show():o.hide(),o.exist=!0,a[e.get("id")]=o,this.set("itemMap",a)},t.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},t.prototype.initContainer=function(){var e=this,n=e.get("graph"),i=e.get("size"),a=e.get("className"),o=e.get("container"),s=go("<div class='".concat(a,"' style='width: ").concat(i[0],"px; height: ").concat(i[1],"px; overflow: hidden'></div>"));(0,ue.isString)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):n.get("container").appendChild(s),e.set("container",s);var c,l=go('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l),l.addEventListener("dragenter",function(d){d.preventDefault()}),l.addEventListener("dragover",function(d){d.preventDefault()}),c="svg"===n.get("renderer")?new F0({container:l,width:i[0],height:i[1]}):new Cf({container:l,width:i[0],height:i[1]}),e.set("canvas",c),e.updateCanvas()},t.prototype.updateCanvas=function(){if(!this.destroyed&&this.get("refresh")){var n=this.get("graph");if(!n.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var i=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var l=a.get("children")[0];if(l){l.resetMatrix();var c=l.getCanvasBBox(),u=n.get("canvas").getCanvasBBox(),d=n.getZoom()||1,h=u.width/d,v=u.height/d;Number.isFinite(c.width)&&(h=v5(c.width,h),v=v5(c.height,v)),h+=2*s,v+=2*s;var y=Math.min(i[0]/h,i[1]/v),D=[1,0,0,0,1,0,0,0,1],F=0,K=0;Number.isFinite(c.minX)&&(F=-c.minX),Number.isFinite(c.minY)&&(K=-c.minY);var Q=(i[0]-(h-2*s)*y)/2,J=(i[1]-(v-2*s)*y)/2;D=xle(D,[["t",F,K],["s",y,y],["t",Q,J]]),l.setMatrix(D),this.set("ratio",y),this.set("totaldx",Q+F*y),this.set("totaldy",J+K*y),this.set("dx",Q),this.set("dy",J),this.updateViewport()}}}}},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e;null===(e=this.get("canvas"))||void 0===e||e.destroy();var n=this.get("container");n?.parentNode&&n.parentNode.removeChild(n)},t}(Ll);const Cle=Mle;var Dle=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function Id(r,t,e){var n=r.x-t.x,i=r.y-t.y;return!e||Math.abs(n)>e||Math.abs(i)>e?Math.sqrt(n*n+i*i):e}function m5(r,t){var e=(t.source.y-t.target.y)/(t.source.x-t.target.x),n=(e*e*t.source.x+e*(r.y-t.source.y)+r.x)/(e*e+1);return{x:n,y:e*(n-t.source.x)+t.source.y}}var Ale=function(r){function t(e){return r.call(this,e)||this}return Dle(t,r),t.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},t.prototype.init=function(){var e=this.get("graph"),n=this.get("onTick");this.set("tick",function(){n&&n(),e.refreshPositions()})},t.prototype.bundling=function(e){var n=this;if(n.set("data",e),!n.isTicking()){var i=e.edges||[],o={},s=!1;if((e.nodes||[]).forEach(function(de){(null===de.x||null===!de.y||void 0===de.x||void 0===!de.y)&&(s=!0),o[de.id]=de}),s)throw new Error("please layout the graph or assign x and y for nodes first");n.set("nodeIdMap",o);var l=n.get("divisions"),c=n.get("divRate"),u=n.divideEdges(l);n.set("edgePoints",u);var d=n.getEdgeBundles();n.set("edgeBundles",d);for(var h=n.get("cycles"),v=n.get("iterations"),y=n.get("iterRate"),D=n.get("lambda"),F=0;F<h;F++){for(var K=function(Ee){var ke=[];i.forEach(function(Re,tt){if(Re.source!==Re.target){ke[tt]=n.getEdgeForces({source:o[Re.source],target:o[Re.target]},tt,l,D);for(var Nt=0;Nt<l+1;Nt++)u[tt][Nt].x+=ke[tt][Nt].x,u[tt][Nt].y+=ke[tt][Nt].y}})},Q=0;Q<v;Q++)K();D/=2,v*=y,u=n.divideEdges(l*=c),n.set("edgePoints",u)}i.forEach(function(de,Ee){de.source!==de.target&&(de.type="polyline",de.controlPoints=u[Ee].slice(1,u[Ee].length-1))}),n.get("graph").refresh()}},t.prototype.updateBundling=function(e){var n=this,i=e.data;if(i&&n.set("data",i),n.get("ticking")&&n.set("ticking",!1),Object.keys(e).forEach(function(o){n.set(o,e[o])}),e.onTick){var a=this.get("graph");n.set("tick",function(){e.onTick(),a.refresh()})}n.bundling(i)},t.prototype.divideEdges=function(e){var n=this,i=n.get("data").edges,a=n.get("nodeIdMap"),o=n.get("edgePoints");return(!o||void 0===o)&&(o=[]),i.forEach(function(s,l){var c;(!o[l]||void 0===o[l])&&(o[l]=[]);var u=a[s.source],d=a[s.target];if(1===e)o[l].push({x:u.x,y:u.y}),o[l].push({x:.5*(u.x+d.x),y:.5*(u.y+d.y)}),o[l].push({x:d.x,y:d.y});else{var v=(null!==(c=o[l])&&void 0!==c&&c.length?n.getEdgeLength(o[l]):Id({x:u.x,y:u.y},{x:d.x,y:d.y}))/(e+1),y=v,D=[{x:u.x,y:u.y}];o[l].forEach(function(F,K){if(0!==K){for(var Q=Id(F,o[l][K-1]);Q>y;){var J=y/Q,de={x:o[l][K-1].x,y:o[l][K-1].y};de.x+=J*(F.x-o[l][K-1].x),de.y+=J*(F.y-o[l][K-1].y),D.push(de),Q-=y,y=v}y-=Q}}),D.push({x:d.x,y:d.y}),o[l]=D}}),o},t.prototype.getEdgeLength=function(e){var n=0;return e.forEach(function(i,a){0!==a&&(n+=Id(i,e[a-1]))}),n},t.prototype.getEdgeBundles=function(){var e=this,i=e.get("data").edges||[],a=e.get("bundleThreshold"),o=e.get("nodeIdMap"),s=e.get("edgeBundles");return s||(s=[]),i.forEach(function(l,c){(!s[c]||void 0===s[c])&&(s[c]=[])}),i.forEach(function(l,c){var u=o[l.source],d=o[l.target];i.forEach(function(h,v){v<=c||e.getBundleScore({source:u,target:d},{source:o[h.source],target:o[h.target]})>=a&&(s[c].push(v),s[v].push(c))})}),s},t.prototype.getBundleScore=function(e,n){var i=this;return e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,n.vx=n.target.x-n.source.x,n.vy=n.target.y-n.source.y,e.length=Id({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),n.length=Id({x:n.source.x,y:n.source.y},{x:n.target.x,y:n.target.y}),i.getAngleScore(e,n)*i.getScaleScore(e,n)*i.getPositionScore(e,n)*i.getVisibilityScore(e,n)},t.prototype.getAngleScore=function(e,n){var i=function Tle(r,t){return r.x*t.x+r.y*t.y}({x:e.vx,y:e.vy},{x:n.vx,y:n.vy});return i/(e.length*n.length)},t.prototype.getScaleScore=function(e,n){var i=(e.length+n.length)/2;return 2/(i/Math.min(e.length,n.length)+Math.max(e.length,n.length)/i)},t.prototype.getPositionScore=function(e,n){var i=(e.length+n.length)/2;return i/(i+Id({x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},{x:(n.source.x+n.target.x)/2,y:(n.source.y+n.target.y)/2}))},t.prototype.getVisibilityScore=function(e,n){var i=this.getEdgeVisibility(e,n),a=this.getEdgeVisibility(n,e);return i<a?i:a},t.prototype.getEdgeVisibility=function(e,n){var i=m5(n.source,e),a=m5(n.target,e);return Math.max(0,1-2*Id({x:(i.x+a.x)/2,y:(i.y+a.y)/2},{x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2})/Id(i,a))},t.prototype.getEdgeForces=function(e,n,i,a){for(var o=this,s=o.get("edgePoints"),c=o.get("K")/(Id(e.source,e.target)*(i+1)),u=[{x:0,y:0}],d=1;d<i;d++){var h={x:0,y:0},v=o.getSpringForce({pre:s[n][d-1],cur:s[n][d],next:s[n][d+1]},c),y=o.getElectrostaticForce(d,n);h.x=a*(v.x+y.x),h.y=a*(v.y+y.y),u.push(h)}return u.push({x:0,y:0}),u},t.prototype.getSpringForce=function(e,n){var i=e.pre.x+e.next.x-2*e.cur.x,a=e.pre.y+e.next.y-2*e.cur.y;return{x:i*=n,y:a*=n}},t.prototype.getElectrostaticForce=function(e,n){var i=this,a=i.get("eps"),o=i.get("edgeBundles"),s=i.get("edgePoints"),c={x:0,y:0};return o[n].forEach(function(u){var d={x:s[u][e].x-s[n][e].x,y:s[u][e].y-s[n][e].y};if(Math.abs(d.x)>a||Math.abs(d.y)>a){var v=1/Id(s[u][e],s[n][e]);c.x+=d.x*v,c.y+=d.y*v}}),c},t.prototype.isTicking=function(){return this.get("ticking")},t.prototype.getSimulation=function(){return this.get("forceSimulation")},t.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),r.prototype.destroy.call(this)},t}(Ll);const Ile=Ale;var Ole=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pC=function(){return pC=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},pC.apply(this,arguments)},y5={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},kle=function(r){function t(e){return r.call(this,e)||this}return Ole(t,r),t.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,ue.clone)(y5),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"magnify"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"magnify"}}return e},t.prototype.init=function(){var e=this,n=e.get("r");e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{}),e.set("r2",n*n);var i=e.get("d");e.set("molecularParam",(i+1)*n)},t.prototype.createDelegate=function(e){var n=this,i=this,a=i.get("delegate");(!a||a.destroyed)&&(i.magnify(e),(a=i.get("delegate")).on("dragstart",function(o){i.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){i.magnify(o)}),"wheel"===this.get("scaleDBy")&&a.on("mousewheel",function(o){n.scaleDByWheel(o)}),"wheel"===this.get("scaleRBy")&&a.on("mousewheel",function(o){i.scaleRByWheel(o)}))},t.prototype.scaleRByWheel=function(e){var n=this;if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var a,i=n.get("graph"),o=n.get("delegate"),l=(o?{x:o.attr("x"),y:o.attr("y")}:void 0)||i.getPointByClient(e.clientX,e.clientY);a=e.originalEvent.wheelDelta<0?.95:1/.95;var c=n.get("maxR"),u=n.get("minR"),d=n.get("r");(d>(c||i.get("height"))&&a>1||d<(u||.05*i.get("height"))&&a<1)&&(a=1),n.set("r",d*=a),n.set("r2",d*d);var h=n.get("d");n.set("molecularParam",(h+1)*d),n.set("delegateCenterDiff",void 0),n.magnify(e,l)}},t.prototype.scaleRByDrag=function(e){var n=this;if(e){var o,i=n.get("dragPrePos"),a=n.get("graph"),s=a.getPointByClient(e.clientX,e.clientY);o=e.x-i.x<0?.95:1/.95;var l=n.get("maxR"),c=n.get("minR"),u=n.get("r");(u>(l||a.get("height"))&&o>1||u<(c||.05*a.get("height"))&&o<1)&&(o=1),n.set("r",u*=o),n.set("r2",u*u);var d=n.get("d");n.set("molecularParam",(d+1)*u),n.magnify(e,s),n.set("dragPrePos",{x:e.x,y:e.y})}},t.prototype.scaleDByWheel=function(e){var n=this;if(e||e.originalEvent){e.preventDefault&&e.preventDefault();var i;i=e.originalEvent.wheelDelta<0?-.1:.1;var o=n.get("d")+i,s=n.get("maxD"),l=n.get("minD");if(o<s&&o>l){n.set("d",o);var c=n.get("r");n.set("molecularParam",(o+1)*c);var u=n.get("delegate"),d=u?{x:u.attr("x"),y:u.attr("y")}:void 0;n.set("delegateCenterDiff",void 0),n.magnify(e,d)}}},t.prototype.scaleDByDrag=function(e){var n=this,i=n.get("dragPrePos"),a=e.x-i.x>0?.1:-.1,s=n.get("d")+a,l=n.get("maxD"),c=n.get("minD");if(s<l&&s>c){n.set("d",s);var u=n.get("r");n.set("molecularParam",(s+1)*u),n.magnify(e)}n.set("dragPrePos",{x:e.x,y:e.y})},t.prototype.magnify=function(e,n){var i=this;i.restoreCache();var a=i.get("graph"),o=i.get("cachedMagnifiedModels"),s=i.get("cachedOriginPositions"),l=i.get("showLabel"),c=i.get("r"),u=i.get("r2"),d=i.get("d"),h=i.get("molecularParam"),v=a.getNodes(),y=v.length,D=n?{x:n.x,y:n.y}:{x:e.x,y:e.y};i.get("dragging")&&("mousemove"===i.get("trigger")||"click"===i.get("trigger"))&&(D=i.get("cacheCenter"));var F=i.get("delegateCenterDiff");F&&(D.x+=F.x,D.y+=F.y),i.updateDelegate(D,c);for(var K=0;K<y;K++){var Q=v[K].getModel(),J=Q.x,de=Q.y;if(!isNaN(J)&&!isNaN(de)){var Ee=(J-D.x)*(J-D.x)+(de-D.y)*(de-D.y);if(!isNaN(Ee)&&Ee<u&&0!==Ee){var ke=Math.sqrt(Ee),Re=h*ke/(d*ke+c),xt=(de-D.y)/ke;if(Q.x=(J-D.x)/ke*Re+D.x,Q.y=xt*Re+D.y,s[Q.id]||(s[Q.id]={x:J,y:de,texts:[]}),o.push(Q),l&&2*ke<c)for(var Ut=v[K].getContainer().getChildren(),Mn=Ut.length,Jn=0;Jn<Mn;Jn++){var zn=Ut[Jn];"text"===zn.get("type")&&(s[Q.id].texts.push({visible:zn.get("visible"),shape:zn}),zn.set("visible",!0))}}}}a.refreshPositions()},t.prototype.restoreCache=function(){for(var e=this,n=e.get("cachedMagnifiedModels"),i=e.get("cachedOriginPositions"),a=n.length,o=0;o<a;o++){var s=n[o],c=i[s.id];s.x=c.x,s.y=c.y;for(var u=c.texts.length,d=0;d<u;d++){var h=c.texts[d];h.shape.set("visible",h.visible)}}e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{})},t.prototype.updateParams=function(e){var n=this,i=e.r,a=e.d,o=e.trigger,s=e.minD,l=e.maxD,c=e.minR,u=e.maxR,d=e.scaleDBy,h=e.scaleRBy;isNaN(e.r)||(n.set("r",i),n.set("r2",i*i)),isNaN(a)||n.set("d",a),isNaN(l)||n.set("maxD",l),isNaN(s)||n.set("minD",s),isNaN(u)||n.set("maxR",u),isNaN(c)||n.set("minR",c);var D,v=n.get("d"),y=n.get("r");n.set("molecularParam",(v+1)*y),("mousemove"===o||"click"===o||"drag"===o)&&n.set("trigger",o),("drag"===d||"wheel"===d||"unset"===d)&&(n.set("scaleDBy",d),n.get("delegate").remove(),n.get("delegate").destroy(),(D=n.get("dPercentText"))&&(D.remove(),D.destroy())),"drag"!==h&&"wheel"!==h&&"unset"!==h||(n.set("scaleRBy",h),n.get("delegate").remove(),n.get("delegate").destroy(),(D=n.get("dPercentText"))&&(D.remove(),D.destroy()))},t.prototype.updateDelegate=function(e,n){var i=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),c=a.get("delegateStyle")||y5;s=l.addShape("circle",{attrs:pC({r:n/1.5,x:e.x,y:e.y},c),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?s.on("mousewheel",function(y){a.scaleRByWheel(y)}):"drag"===this.get("scaleRBy")&&(s.on("dragstart",function(y){a.set("dragging",!0),a.set("cacheCenter",{x:y.x,y:y.y}),a.set("dragPrePos",{x:y.x,y:y.y})}),s.on("drag",function(y){a.scaleRByDrag(y)}),s.on("dragend",function(y){a.set("dragging",!1)})),"wheel"===this.get("scaleDBy")?s.on("mousewheel",function(y){i.scaleDByWheel(y)}):"drag"===this.get("scaleDBy")&&(s.on("dragstart",function(y){a.set("dragging",!0),a.set("cacheCenter",{x:y.x,y:y.y}),a.set("dragPrePos",{x:y.x,y:y.y})}),s.on("drag",function(y){i.scaleDByDrag(y)}),s.on("dragend",function(y){a.set("dragging",!1)})))}else s.attr({x:e.x,y:e.y,r:n/1.5});if(a.get("showDPercent")){var u=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),d=a.get("dPercentText"),h=e.y+n/1.5+16;!d||d.destroyed?(d=o.get("group").addShape("text",{attrs:{text:"".concat(u,"%"),x:e.x,y:h,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",d)):d.attr({text:"".concat(u,"%"),x:e.x,y:h})}a.set("delegate",s)},t.prototype.clear=function(){var e=this.get("graph");this.restoreCache(),e.refreshPositions();var n=this.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy());var i=this.get("dPercentText");i&&!i.destroyed&&(i.remove(),i.destroy())},t.prototype.destroy=function(){this.clear()},t}(Ll);const Nle=kle;var Ple=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();typeof document<"u"&&ux()("\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n");var Lle=function(r){function t(e){return r.call(this,e)||this}return Ple(t,r),t.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(n){return'\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        '},zoomSensitivity:2}},t.prototype.init=function(){var e=this,n=this.get("graph"),a=this.get("getContent")(n),o=a;(0,ue.isString)(a)&&(o=go(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),(0,ue.isString)(l)&&(l=document.getElementById(l)),l.appendChild(o),this.set("toolBar",o);var c=this.get("handleClick");o.addEventListener("click",function(d){var h=function(t){if(!t)return[];if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;){if(e.push(n),"HTML"===n.tagName)return e.push(document,window),e;n=n.parentElement}return e}(d).filter(function(y){return"LI"===y.nodeName});if(0!==h.length){var v=h[0].getAttribute("code");v&&(c?c(v,n):e.handleDefaultOperator(v))}});var u=this.get("position");u&&Yi(o,{top:"".concat(u.y,"px"),left:"".concat(u.x,"px")}),this.bindUndoRedo()},t.prototype.bindUndoRedo=function(){var e=this.get("graph"),n=document.querySelector('.g6-component-toolbar li[code="undo"]'),i=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!n||!i||!a||!o||(n.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4"),a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4"),e.on("stackchange",function(s){var d=s.redoStack.length;0===s.undoStack.length?(n.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4")):(n.removeAttribute("style"),i.removeAttribute("style")),0===d?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))}))},t.prototype.undo=function(){var e=this.get("graph"),n=e.getUndoStack();if(n&&0!==n.length){var i=n.pop();if(i){var a=i.action;e.pushStack(a,(0,ue.clone)(i.data),"redo");var o=i.data.before;if("add"===a&&(o=i.data.after),!o)return;switch(a){case"visible":Object.keys(o).forEach(function(d){var h=o[d];h&&h.forEach(function(v){var y=e.findById(v.id);v.visible?e.showItem(y,!1):e.hideItem(y,!1)})});break;case"render":case"update":Object.keys(o).forEach(function(d){var h=o[d];h&&h.forEach(function(v){var y=e.findById(v.id);delete v.id,e.updateItem(y,v,!1),"combo"===y.getType()&&e.updateCombo(y)})});break;case"changedata":e.changeData(o,!1);break;case"delete":Object.keys(o).forEach(function(d){var h=o[d];h&&h.forEach(function(v){var y=v.itemType;delete v.itemType,e.addItem(y,v,!1)})});break;case"add":Object.keys(o).forEach(function(d){var h=o[d];h&&h.forEach(function(v){e.removeItem(v.id,!1)})});break;case"updateComboTree":Object.keys(o).forEach(function(d){var h=o[d];h&&h.forEach(function(v){e.updateComboTree(v.id,v.parentId,!1)})});break;case"createCombo":var s=i.data.after.combos,l=s[s.length-1];Object.keys(o).forEach(function(d){var h=o[d];h&&h.forEach(function(v){e.updateComboTree(v.id,v.parentId,!1)})}),e.removeItem(l.id,!1);break;case"uncombo":var c=o.combos[o.combos.length-1],u=o.nodes.concat(o.combos).map(function(d){return d.id}).filter(function(d){return d!==c.id});e.createCombo(c,u,!1);break;case"layout":e.updateLayout(o,void 0,void 0,!1)}}}},t.prototype.redo=function(){var e=this.get("graph"),n=e.getRedoStack();if(n&&0!==n.length){var i=n.pop();if(i){var a=i.action,o=i.data.after;if(e.pushStack(a,(0,ue.clone)(i.data)),"delete"===a&&(o=i.data.before),!o)return;switch(a){case"visible":Object.keys(o).forEach(function(u){var d=o[u];d&&d.forEach(function(h){var v=e.findById(h.id);h.visible?e.showItem(v,!1):e.hideItem(v,!1)})});break;case"render":case"update":Object.keys(o).forEach(function(u){var d=o[u];d&&d.forEach(function(h){var v=e.findById(h.id);delete h.id,e.updateItem(v,h,!1),"combo"===v.getType()&&e.updateCombo(v)})});break;case"changedata":e.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(u){e.removeItem(u.id,!1)}),o.nodes&&o.nodes.forEach(function(u){e.removeItem(u.id,!1)}),o.combos&&o.combos.forEach(function(u){e.removeItem(u.id,!1)});break;case"add":Object.keys(o).forEach(function(u){var d=o[u];d&&d.forEach(function(h){var v=h.itemType;delete h.itemType,e.addItem(v,h,!1)})});break;case"updateComboTree":Object.keys(o).forEach(function(u){var d=o[u];d&&d.forEach(function(h){e.updateComboTree(h.id,h.parentId,!1)})});break;case"createCombo":var s=o.combos[o.combos.length-1];e.createCombo(s,s.children.map(function(u){return u.id}),!1);break;case"uncombo":var l=i.data.before.combos;e.uncombo(l[l.length-1].id,!1);break;case"layout":e.updateLayout(o,void 0,void 0,!1)}}}},t.prototype.zoomOut=function(){var e=this.get("graph"),n=e.getZoom(),i=1/(1-.05*this.get("zoomSensitivity"));i*n>(this.get("maxZoom")||e.get("maxZoom"))||e.zoomTo(n*i)},t.prototype.zoomIn=function(){var e=this.get("graph"),n=e.getZoom(),i=1-.05*this.get("zoomSensitivity");i*n<(this.get("minZoom")||e.get("minZoom"))||e.zoomTo(n*i)},t.prototype.realZoom=function(){this.get("graph").zoomTo(1)},t.prototype.autoZoom=function(){this.get("graph").fitView([20,20])},t.prototype.handleDefaultOperator=function(e){switch(e){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":this.zoomOut();break;case"zoomIn":this.zoomIn();break;case"realZoom":this.realZoom();break;case"autoZoom":this.autoZoom()}},t.prototype.destroy=function(){var e=this.get("toolBar");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),(0,ue.isString)(n)&&(n=document.getElementById(n)),n.removeChild(e)}var i=this.get("handleClick");i&&e.removeEventListener("click",i)},t}(Ll);const Fle=Lle;var Ble=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();typeof document<"u"&&ux()("\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n");var zle=function(r){function t(e){return r.call(this,e)||this}return Ble(t,r),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(n){return"\n          <h4 class='tooltip-type'>\u7c7b\u578b\uff1a".concat(n.item.getType(),"</h4>\n          <span class='tooltip-id'>ID\uff1a").concat(n.item.getID(),"</span>\n        ")},shouldBegin:function(n){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},t.prototype.init=function(){var e=this,n=e.get("className")||"g6-component-tooltip",i=go("<div class='".concat(n,"'></div>")),a=e.get("container");a||(a=e.get("graph").get("container")),(0,ue.isString)(a)&&(a=document.getElementById(a)),Yi(i,{position:"absolute",visibility:"hidden",display:"none"}),a.appendChild(i),"click"!==e.get("trigger")&&(i.addEventListener("mouseenter",function(o){Yi(i,{visibility:"visible",display:"unset"})}),i.addEventListener("mouseleave",function(o){e.hideTooltip()})),e.set("tooltip",i)},t.prototype.onClick=function(e){var n=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==n.indexOf(e.item.getType())){var i=e.item,a=this.get("graph");this.currentTarget===i?(this.currentTarget=null,this.hideTooltip(),a.emit("tooltipchange",{item:e.item,action:"hide"})):(this.currentTarget=i,this.showTooltip(e),a.emit("tooltipchange",{item:e.item,action:"show"}))}},t.prototype.onMouseEnter=function(e){var n=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==n.indexOf(e.item.getType())){var i=e.item,a=this.get("graph");this.currentTarget=i,this.showTooltip(e),a.emit("tooltipchange",{item:e.item,action:"show"})}},t.prototype.onMouseMove=function(e){var n=this.get("itemTypes");e.item&&e.item.getType&&-1===n.indexOf(e.item.getType())||!this.currentTarget||e.item!==this.currentTarget||this.showTooltip(e)},t.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},t.prototype.clearContainer=function(){var e=this.get("tooltip");e&&(e.innerHTML="")},t.prototype.showTooltip=function(e){if(e.item){var n=this.get("itemTypes");if(!e.item.getType||-1!==n.indexOf(e.item.getType())){var i=this.get("tooltip"),o=this.get("getContent")(e);(0,ue.isString)(o)?i.innerHTML=o:(this.clearContainer(),i.appendChild(o)),this.updatePosition(e)}}},t.prototype.hideTooltip=function(){var e=this.get("tooltip");e&&Yi(e,{visibility:"hidden",display:"none"})},t.prototype.updatePosition=function(e){var n=this.get("shouldBegin"),i=this.get("tooltip");if(n(e)){var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,c=this.get("offsetY")||0,u=a.getPointByClient(e.clientX,e.clientY),d=this.get("fixToNode"),h=e.item;if(h.getType&&"node"===h.getType()&&d&&(0,ue.isArray)(d)&&d.length>=2){var v=h.getBBox();u={x:v.minX+v.width*d[0],y:v.minY+v.height*d[1]}}var y=a.getCanvasByPoint(u.x,u.y),D=y.x,F=y.y,K=a.getContainer(),Q={x:D+K.offsetLeft+l,y:F+K.offsetTop+c};Yi(i,{visibility:"visible",display:"unset"});var J=i.getBoundingClientRect();D+J.width+l>o&&(Q.x-=J.width+l),F+J.height+c>s&&(Q.y-=J.height+c,Q.y<0&&(Q.y=0)),Yi(i,{left:"".concat(Q.x,"px"),top:"".concat(Q.y,"px")})}else Yi(i,{visibility:"hidden",display:"none"})},t.prototype.hide=function(){this.onMouseLeave()},t.prototype.destroy=function(){var e=this.get("tooltip");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),(0,ue.isString)(n)&&(n=document.getElementById(n)),n.removeChild(e)}},t}(Ll);const Vle=zle;var b5={};function Od(r,t){b5[r]=t}var Ule=function(){function r(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return r.prototype.translate=function(t){return t},r.prototype.change=function(t){(0,ue.assign)(this.__cfg__,t),this.init()},r.prototype.clone=function(){return this.constructor(this.__cfg__)},r.prototype.getTicks=function(){var t=this;return(0,ue.map)(this.ticks,function(e,n){return(0,ue.isObject)(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}})},r.prototype.getText=function(t,e){var n=this.formatter,i=n?n(t,e):t;return(0,ue.isNil)(i)||!(0,ue.isFunction)(i.toString)?"":i.toString()},r.prototype.getConfig=function(t){return this.__cfg__[t]},r.prototype.init=function(){(0,ue.assign)(this,this.__cfg__),this.setDomain(),(0,ue.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},r.prototype.initCfg=function(){},r.prototype.setDomain=function(){},r.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if((0,ue.isString)(t)){var n=function jle(r){return b5[r]}(t);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else(0,ue.isFunction)(t)&&(e=t(this));return e},r.prototype.rangeMin=function(){return this.range[0]},r.prototype.rangeMax=function(){return this.range[1]},r.prototype.calcPercent=function(t,e,n){return(0,ue.isNumber)(t)?(t-e)/(n-e):NaN},r.prototype.calcValue=function(t,e,n){return e+t*(n-e)},r}();const vC=Ule;var Gle=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return(0,Me.__extends)(t,r),t.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var e=0;e<this.values.length;e++)this.translateIndexMap.set(this.values[e],e)}},t.prototype.translate=function(e){this.buildIndexMap();var n=this.translateIndexMap.get(e);return void 0===n&&(n=(0,ue.isNumber)(e)?e:NaN),n},t.prototype.scale=function(e){var n=this.translate(e),i=this.calcPercent(n,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},t.prototype.invert=function(e){var n=this.max-this.min,i=this.calcPercent(e,this.rangeMin(),this.rangeMax()),a=Math.round(n*i)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},t.prototype.getText=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=e;return(0,ue.isNumber)(e)&&!this.values.includes(e)&&(a=this.values[a]),r.prototype.getText.apply(this,(0,Me.__spreadArrays)([a],n))},t.prototype.initCfg=function(){this.tickMethod="cat"},t.prototype.setDomain=function(){if((0,ue.isNil)(this.getConfig("min"))&&(this.min=0),(0,ue.isNil)(this.getConfig("max"))){var e=this.values.length;this.max=e>1?e-1:e}this.translateIndexMap&&(this.translateIndexMap=void 0)},t}(vC);const j0=Gle;var x5=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Th="\\d\\d?",Ah="\\d\\d",U0="[^\\s]+",w5=/\[([^]*?)\]/gm;function E5(r,t){for(var e=[],n=0,i=r.length;n<i;n++)e.push(r[n].substr(0,t));return e}var S5=function(r){return function(t,e){var i=e[r].map(function(a){return a.toLowerCase()}).indexOf(t.toLowerCase());return i>-1?i:null}};function Ih(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var n=0,i=t;n<i.length;n++){var a=i[n];for(var o in a)r[o]=a[o]}return r}var M5=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],C5=["January","February","March","April","May","June","July","August","September","October","November","December"],Yle=E5(C5,3),gC={dayNamesShort:E5(M5,3),dayNames:M5,monthNamesShort:Yle,monthNames:C5,amPm:["am","pm"],DoFn:function(r){return r+["th","st","nd","rd"][r%10>3?0:(r-r%10!=10?1:0)*r%10]}},fx=Ih({},gC),D5=function(r){return fx=Ih(fx,r)},T5=function(r){return r.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Fl=function(r,t){for(void 0===t&&(t=2),r=String(r);r.length<t;)r="0"+r;return r},Xle={D:function(r){return String(r.getDate())},DD:function(r){return Fl(r.getDate())},Do:function(r,t){return t.DoFn(r.getDate())},d:function(r){return String(r.getDay())},dd:function(r){return Fl(r.getDay())},ddd:function(r,t){return t.dayNamesShort[r.getDay()]},dddd:function(r,t){return t.dayNames[r.getDay()]},M:function(r){return String(r.getMonth()+1)},MM:function(r){return Fl(r.getMonth()+1)},MMM:function(r,t){return t.monthNamesShort[r.getMonth()]},MMMM:function(r,t){return t.monthNames[r.getMonth()]},YY:function(r){return Fl(String(r.getFullYear()),4).substr(2)},YYYY:function(r){return Fl(r.getFullYear(),4)},h:function(r){return String(r.getHours()%12||12)},hh:function(r){return Fl(r.getHours()%12||12)},H:function(r){return String(r.getHours())},HH:function(r){return Fl(r.getHours())},m:function(r){return String(r.getMinutes())},mm:function(r){return Fl(r.getMinutes())},s:function(r){return String(r.getSeconds())},ss:function(r){return Fl(r.getSeconds())},S:function(r){return String(Math.round(r.getMilliseconds()/100))},SS:function(r){return Fl(Math.round(r.getMilliseconds()/10),2)},SSS:function(r){return Fl(r.getMilliseconds(),3)},a:function(r,t){return r.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(r,t){return r.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(r){var t=r.getTimezoneOffset();return(t>0?"-":"+")+Fl(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(r){var t=r.getTimezoneOffset();return(t>0?"-":"+")+Fl(Math.floor(Math.abs(t)/60),2)+":"+Fl(Math.abs(t)%60,2)}},A5=function(r){return+r-1},I5=[null,Th],O5=[null,U0],k5=["isPm",U0,function(r,t){var e=r.toLowerCase();return e===t.amPm[0]?0:e===t.amPm[1]?1:null}],N5=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(r){var t=(r+"").match(/([+-]|\d\d)/gi);if(t){var e=60*+t[1]+parseInt(t[2],10);return"+"===t[0]?e:-e}return 0}],Kle={D:["day",Th],DD:["day",Ah],Do:["day",Th+U0,function(r){return parseInt(r,10)}],M:["month",Th,A5],MM:["month",Ah,A5],YY:["year",Ah,function(r){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+r>68?e-1:e)+r)}],h:["hour",Th,void 0,"isPm"],hh:["hour",Ah,void 0,"isPm"],H:["hour",Th],HH:["hour",Ah],m:["minute",Th],mm:["minute",Ah],s:["second",Th],ss:["second",Ah],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(r){return 100*+r}],SS:["millisecond",Ah,function(r){return 10*+r}],SSS:["millisecond","\\d{3}"],d:I5,dd:I5,ddd:O5,dddd:O5,MMM:["month",U0,S5("monthNamesShort")],MMMM:["month",U0,S5("monthNames")],a:k5,A:k5,ZZ:N5,Z:N5},hx={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},P5=function(r){return Ih(hx,r)},R5=function(r,t,e){if(void 0===t&&(t=hx.default),void 0===e&&(e={}),"number"==typeof r&&(r=new Date(r)),"[object Date]"!==Object.prototype.toString.call(r)||isNaN(r.getTime()))throw new Error("Invalid Date pass to format");var n=[];t=(t=hx[t]||t).replace(w5,function(a,o){return n.push(o),"@@@"});var i=Ih(Ih({},fx),e);return(t=t.replace(x5,function(a){return Xle[a](r,i)})).replace(/@@@/g,function(){return n.shift()})};function L5(r,t,e){if(void 0===e&&(e={}),"string"!=typeof t)throw new Error("Invalid format in fecha parse");if(t=hx[t]||t,r.length>1e3)return null;var i={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=t.replace(w5,function(de,Ee){return o.push(T5(Ee)),"@@@"}),l={},c={};s=T5(s).replace(x5,function(de){var Ee=Kle[de],ke=Ee[0],Re=Ee[1],tt=Ee[3];if(l[ke])throw new Error("Invalid format. "+ke+" specified twice in format");return l[ke]=!0,tt&&(c[tt]=!0),a.push(Ee),"("+Re+")"}),Object.keys(c).forEach(function(de){if(!l[de])throw new Error("Invalid format. "+de+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var K,u=r.match(new RegExp(s,"i"));if(!u)return null;for(var d=Ih(Ih({},fx),e),h=1;h<u.length;h++){var v=a[h-1],y=v[0],D=v[2],F=D?D(u[h],d):+u[h];if(null==F)return null;i[y]=F}if(1===i.isPm&&null!=i.hour&&12!=+i.hour?i.hour=+i.hour+12:0===i.isPm&&12==+i.hour&&(i.hour=0),null==i.timezoneOffset){K=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var Q=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],J=(h=0,Q.length);h<J;h++)if(l[Q[h][0]]&&i[Q[h][0]]!==K[Q[h][1]]())return null}else if(K=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return K}const F5={format:R5,parse:L5,defaultI18n:gC,setGlobalDateI18n:D5,setGlobalDateMasks:P5};var B5="format";function z5(r,t){return(A[B5]||F5[B5])(r,t)}function px(r){return(0,ue.isString)(r)&&(r=r.indexOf("T")>0?new Date(r).getTime():new Date(r.replace(/-/gi,"/")).getTime()),(0,ue.isDate)(r)&&(r=r.getTime()),r}var Fu=1e3,Yp=6e4,$p=60*Yp,Af=24*$p,G0=31*Af,V5=365*Af,H0=[["HH:mm:ss",Fu],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",Yp],["HH:mm",10*Yp],["HH:mm",30*Yp],["HH",$p],["HH",6*$p],["HH",12*$p],["YYYY-MM-DD",Af],["YYYY-MM-DD",4*Af],["YYYY-WW",7*Af],["YYYY-MM",G0],["YYYY-MM",4*G0],["YYYY-MM",6*G0],["YYYY",380*Af]];var Jle=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="timeCat",e}return(0,Me.__extends)(t,r),t.prototype.translate=function(e){e=px(e);var n=this.values.indexOf(e);return-1===n&&(n=(0,ue.isNumber)(e)&&e<this.values.length?e:NaN),n},t.prototype.getText=function(e,n){var i=this.translate(e);if(i>-1){var a=this.values[i],o=this.formatter;return o?o(a,n):z5(a,this.mask)}return e},t.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},t.prototype.setDomain=function(){var e=this.values;(0,ue.each)(e,function(n,i){e[i]=px(n)}),e.sort(function(n,i){return n-i}),r.prototype.setDomain.call(this)},t}(j0);const ece=Jle;var tce=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.isContinuous=!0,e}return(0,Me.__extends)(t,r),t.prototype.scale=function(e){if((0,ue.isNil)(e))return NaN;var n=this.rangeMin(),i=this.rangeMax();return this.max===this.min?n:n+this.getScalePercent(e)*(i-n)},t.prototype.init=function(){r.prototype.init.call(this);var e=this.ticks,n=(0,ue.head)(e),i=(0,ue.last)(e);n<this.min&&(this.min=n),i>this.max&&(this.max=i),(0,ue.isNil)(this.minLimit)||(this.min=n),(0,ue.isNil)(this.maxLimit)||(this.max=i)},t.prototype.setDomain=function(){var e=(0,ue.getRange)(this.values),n=e.min,i=e.max;(0,ue.isNil)(this.min)&&(this.min=n),(0,ue.isNil)(this.max)&&(this.max=i),this.min>this.max&&(this.min=n,this.max=i)},t.prototype.calculateTicks=function(){var e=this,n=r.prototype.calculateTicks.call(this);return this.nice||(n=(0,ue.filter)(n,function(i){return i>=e.min&&i<=e.max})),n},t.prototype.getScalePercent=function(e){var i=this.min;return(e-i)/(this.max-i)},t.prototype.getInvertPercent=function(e){return(e-this.rangeMin())/(this.rangeMax()-this.rangeMin())},t}(vC);const vx=tce;var nce=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return(0,Me.__extends)(t,r),t.prototype.invert=function(e){var n=this.getInvertPercent(e);return this.min+n*(this.max-this.min)},t.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},t}(vx);const W0=nce;function Oh(r,t){var e=Math.E;return t>=0?Math.pow(e,Math.log(t)/r):-1*Math.pow(e,Math.log(-t)/r)}function Zc(r,t){return 1===r?1:Math.log(t)/Math.log(r)}function j5(r,t,e){(0,ue.isNil)(e)&&(e=Math.max.apply(null,r));var n=e;return(0,ue.each)(r,function(i){i>0&&i<n&&(n=i)}),n===e&&(n=e/t),n>1&&(n=1),n}var rce=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="log",e}return(0,Me.__extends)(t,r),t.prototype.invert=function(e){var s,n=this.base,i=Zc(n,this.max),a=this.rangeMin(),o=this.rangeMax()-a,l=this.positiveMin;if(l){if(0===e)return 0;var c=1/(i-(s=Zc(n,l/n)))*o;if(e<c)return e/c*l}else s=Zc(n,this.min);return Math.pow(n,(e-a)/o*(i-s)+s)},t.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},t.prototype.setDomain=function(){r.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=j5(this.values,this.base,this.max))},t.prototype.getScalePercent=function(e){var n=this.max,i=this.min;if(n===i||e<=0)return 0;var a=this.base,o=this.positiveMin;return o&&(i=1*o/a),e<o?e/o/(Zc(a,n)-Zc(a,i)):(Zc(a,e)-Zc(a,i))/(Zc(a,n)-Zc(a,i))},t}(vx);const ice=rce;var ace=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="pow",e}return(0,Me.__extends)(t,r),t.prototype.invert=function(e){var n=this.getInvertPercent(e),i=this.exponent,a=Oh(i,this.max),o=Oh(i,this.min),s=n*(a-o)+o,l=s>=0?1:-1;return Math.pow(s,i)*l},t.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},t.prototype.getScalePercent=function(e){var n=this.max,i=this.min;if(n===i)return 0;var a=this.exponent;return(Oh(a,e)-Oh(a,i))/(Oh(a,n)-Oh(a,i))},t}(vx);const oce=ace;var sce=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="time",e}return(0,Me.__extends)(t,r),t.prototype.getText=function(e,n){var i=this.translate(e),a=this.formatter;return a?a(i,n):z5(i,this.mask)},t.prototype.scale=function(e){var n=e;return((0,ue.isString)(n)||(0,ue.isDate)(n))&&(n=this.translate(n)),r.prototype.scale.call(this,n)},t.prototype.translate=function(e){return px(e)},t.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},t.prototype.setDomain=function(){var e=this.values,n=this.getConfig("min"),i=this.getConfig("max");if((!(0,ue.isNil)(n)||!(0,ue.isNumber)(n))&&(this.min=this.translate(this.min)),(!(0,ue.isNil)(i)||!(0,ue.isNumber)(i))&&(this.max=this.translate(this.max)),e&&e.length){var a=[],o=1/0,s=o,l=0;(0,ue.each)(e,function(c){var u=px(c);if(isNaN(u))throw new TypeError("Invalid Time: "+c+" in time scale!");o>u?(s=o,o=u):s>u&&(s=u),l<u&&(l=u),a.push(u)}),e.length>1&&(this.minTickInterval=s-o),(0,ue.isNil)(n)&&(this.min=o),(0,ue.isNil)(i)&&(this.max=l)}},t}(W0);const lce=sce;var cce=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="quantize",e}return(0,Me.__extends)(t,r),t.prototype.invert=function(e){var n=this.ticks,i=n.length,a=this.getInvertPercent(e),o=Math.floor(a*(i-1));if(o>=i-1)return(0,ue.last)(n);if(o<0)return(0,ue.head)(n);var s=n[o],c=o/(i-1);return s+(a-c)/((o+1)/(i-1)-c)*(n[o+1]-s)},t.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},t.prototype.calculateTicks=function(){var e=r.prototype.calculateTicks.call(this);return this.nice||((0,ue.last)(e)!==this.max&&e.push(this.max),(0,ue.head)(e)!==this.min&&e.unshift(this.min)),e},t.prototype.getScalePercent=function(e){var n=this.ticks;if(e<(0,ue.head)(n))return 0;if(e>(0,ue.last)(n))return 1;var i=0;return(0,ue.each)(n,function(a,o){if(!(e>=a))return!1;i=o}),i/(n.length-1)},t}(vx);const G5=cce;var uce=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="quantile",e}return(0,Me.__extends)(t,r),t.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},t}(G5);const dce=uce;var H5={};function kd(r,t){if(function fce(r){return H5[r]}(r))throw new Error("type '"+r+"' existed.");H5[r]=t}var hce=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return(0,Me.__extends)(t,r),t.prototype.calculateTicks=function(){return this.values},t.prototype.scale=function(e){return this.values[0]!==e&&(0,ue.isNumber)(e)?e:this.range[0]},t.prototype.invert=function(e){var n=this.range;return e<n[0]||e>n[1]?NaN:this.values[0]},t}(vC);const pce=hce;function W5(r){var t=r.values,e=r.tickInterval,n=r.tickCount,i=r.showLast;if((0,ue.isNumber)(e)){var a=(0,ue.filter)(t,function(y,D){return D%e==0}),o=(0,ue.last)(t);return i&&(0,ue.last)(a)!==o&&a.push(o),a}var s=t.length,l=r.min,c=r.max;if((0,ue.isNil)(l)&&(l=0),(0,ue.isNil)(c)&&(c=t.length-1),!(0,ue.isNumber)(n)||n>=s)return t.slice(l,c+1);if(n<=0||c<=0)return[];for(var u=1===n?s:Math.floor(s/(n-1)),d=[],h=l,v=0;v<n&&!(h>=c);v++)h=Math.min(l+v*u,c),d.push(v===n-1&&i?t[c]:t[h]);return d}var Y5=Math.sqrt(50),$5=Math.sqrt(10),X5=Math.sqrt(2),gce=function(){function r(){this._domain=[0,1]}return r.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},r.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var c,i=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],l=this._domain[o];return l<s&&(s=(e=[l,s])[0],l=e[1],a=(n=[o,a])[0],o=n[1]),(c=gx(s,l,t))>0?c=gx(s=Math.floor(s/c)*c,l=Math.ceil(l/c)*c,t):c<0&&(c=gx(s=Math.ceil(s*c)/c,l=Math.floor(l*c)/c,t)),c>0?(i[a]=Math.floor(s/c)*c,i[o]=Math.ceil(l/c)*c,this.domain(i)):c<0&&(i[a]=Math.ceil(s*c)/c,i[o]=Math.floor(l*c)/c,this.domain(i)),this},r.prototype.ticks=function(t){return void 0===t&&(t=5),function mce(r,t,e){var n,a,o,s,i=-1;if(e=+e,(r=+r)===(t=+t)&&e>0)return[r];if((n=t<r)&&(a=r,r=t,t=a),0===(s=gx(r,t,e))||!isFinite(s))return[];if(s>0)for(r=Math.ceil(r/s),t=Math.floor(t/s),o=new Array(a=Math.ceil(t-r+1));++i<a;)o[i]=(r+i)*s;else for(r=Math.floor(r*s),t=Math.ceil(t*s),o=new Array(a=Math.ceil(r-t+1));++i<a;)o[i]=(r-i)/s;return n&&o.reverse(),o}(this._domain[0],this._domain[this._domain.length-1],t||5)},r}();function gx(r,t,e){var n=(t-r)/Math.max(0,e),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i>=0?(a>=Y5?10:a>=$5?5:a>=X5?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Y5?10:a>=$5?5:a>=X5?2:1)}function K5(r,t,e){return("ceil"===e?Math.ceil(r/t):"floor"===e?Math.floor(r/t):Math.round(r/t))*t}function yC(r,t,e){var n=K5(r,e,"floor"),i=K5(t,e,"ceil");n=(0,ue.fixedBase)(n,e),i=(0,ue.fixedBase)(i,e);for(var a=[],o=Math.max((i-n)/(Math.pow(2,12)-1),e),s=n;s<=i;s+=o){var l=(0,ue.fixedBase)(s,o);a.push(l)}return{min:n,max:i,ticks:a}}function _C(r,t,e){var n,i=r.minLimit,a=r.maxLimit,o=r.min,s=r.max,l=r.tickCount,c=void 0===l?5:l,u=(0,ue.isNil)(i)?(0,ue.isNil)(t)?o:t:i,d=(0,ue.isNil)(a)?(0,ue.isNil)(e)?s:e:a;if(u>d&&(d=(n=[u,d])[0],u=n[1]),c<=2)return[u,d];for(var h=(d-u)/(c-1),v=[],y=0;y<c;y++)v.push(u+h*y);return v}function Xp(r){return Math.abs(r)<1e-15?r:parseFloat(r.toFixed(15))}var _ce=[1,5,2,2.5,4,3],q5=100*Number.EPSILON;function wce(r,t,e,n,i,a){var o=(0,ue.size)(t),s=(0,ue.indexOf)(t,r),l=0,c=function bce(r,t){return(r%t+t)%t}(n,a);return(c<q5||a-c<q5)&&n<=0&&i>=0&&(l=1),1-s/(o-1)-e+l}function Ece(r,t,e){var n=(0,ue.size)(t);return 1-(0,ue.indexOf)(t,r)/(n-1)-e+1}function Sce(r,t,e,n,i,a){var o=(r-1)/(a-i),s=(t-1)/(Math.max(a,n)-Math.min(e,i));return 2-Math.max(o/s,s/o)}function Mce(r,t){return r>=t?2-(r-1)/(t-1):1}function Cce(r,t,e,n){var i=t-r;return 1-.5*(Math.pow(t-n,2)+Math.pow(r-e,2))/Math.pow(.1*i,2)}function Dce(r,t,e){var n=t-r;return e>n?1-Math.pow((e-n)/2,2)/Math.pow(.1*n,2):1}function Z5(r,t,e){if(void 0===e&&(e=5),r===t)return{max:t,min:r,ticks:[r]};var n=e<0?0:Math.round(e);if(0===n)return{max:t,min:r,ticks:[]};var s=(t-r)/n,l=Math.pow(10,Math.floor(Math.log10(s))),c=l;2*l-s<1.5*(s-c)&&5*l-s<2.75*(s-(c=2*l))&&10*l-s<1.5*(s-(c=5*l))&&(c=10*l);for(var u=Math.ceil(t/c),d=Math.floor(r/c),h=Math.max(u*c,t),v=Math.min(d*c,r),y=Math.floor((h-v)/c)+1,D=new Array(y),F=0;F<y;F++)D[F]=Xp(v+F*c);return{min:v,max:h,ticks:D}}function Nce(r,t){var e=r.length*t;return 1===t?r[r.length-1]:0===t?r[0]:e%1!=0?r[Math.ceil(e)-1]:r.length%2==0?(r[e-1]+r[e])/2:r[e]}function mx(r){return new Date(r).getFullYear()}function Bce(r){return new Date(r,0,1).getTime()}function bC(r){return new Date(r).getMonth()}function Vce(r,t){return new Date(r,t,1).getTime()}Od("cat",W5),Od("time-cat",function Fce(r){return W5((0,Me.__assign)({showLast:!0},r))}),Od("wilkinson-extended",function Ice(r){var t=r.min,e=r.max,a=r.tickInterval,o=r.minLimit,s=r.maxLimit,l=function Ace(r,t,e,n,i,a){void 0===e&&(e=5),void 0===n&&(n=!0),void 0===i&&(i=_ce),void 0===a&&(a=[.25,.2,.5,.05]);var o=e<0?0:Math.round(e);if(Number.isNaN(r)||Number.isNaN(t)||"number"!=typeof r||"number"!=typeof t||!o)return{min:0,max:0,ticks:[]};if(t-r<1e-15||1===o)return{min:r,max:t,ticks:[r]};if(t-r>1e148){var l=(t-r)/(s=e||5);return{min:r,max:t,ticks:Array(s).fill(null).map(function(Kn,Gn){return Xp(r+l*Gn)})}}for(var c={score:-2,lmin:0,lmax:0,lstep:0},u=1;u<1/0;){for(var d=0;d<i.length;d+=1){var h=i[d],v=Ece(h,i,u);if(a[0]*v+a[1]+a[2]+a[3]<c.score){u=1/0;break}for(var y=2;y<1/0;){var D=Mce(y,o);if(a[0]*v+a[1]+a[2]*D+a[3]<c.score)break;for(var K=Math.ceil(Math.log10((t-r)/(y+1)/u/h));K<1/0;){var Q=u*h*Math.pow(10,K),J=Dce(r,t,Q*(y-1));if(a[0]*v+a[1]*J+a[2]*D+a[3]<c.score)break;var de=Math.floor(t/Q)*u-(y-1)*u,Ee=Math.ceil(r/Q)*u;if(de<=Ee)for(var s=Ee-de,ke=0;ke<=s;ke+=1){var tt=(de+ke)*(Q/u),xt=tt+Q*(y-1),ct=Q,Nt=wce(h,i,u,tt,xt,ct),Ut=Cce(r,t,tt,xt),Mn=Sce(y,o,r,t,tt,xt),zn=a[0]*Nt+a[1]*Ut+a[2]*Mn+1*a[3];zn>c.score&&(!n||tt<=r&&xt>=t)&&(c.lmin=tt,c.lmax=xt,c.lstep=ct,c.score=zn)}K+=1}y+=1}}u+=1}var $t=Xp(c.lmax),Tn=Xp(c.lmin),In=Xp(c.lstep),an=Math.floor(function xce(r){return Math.round(1e12*r)/1e12}(($t-Tn)/In))+1,On=new Array(an);for(On[0]=Xp(Tn),d=1;d<an;d++)On[d]=Xp(On[d-1]+In);return{min:Math.min(r,(0,ue.head)(On)),max:Math.max(t,(0,ue.last)(On)),ticks:On}}(t,e,r.tickCount,r.nice).ticks;return(0,ue.isNil)(o)&&(0,ue.isNil)(s)?a?yC(t,e,a).ticks:l:_C(r,(0,ue.head)(l),(0,ue.last)(l))}),Od("r-pretty",function Rce(r){var t=r.min,e=r.max,i=r.tickInterval,a=r.minLimit,o=r.maxLimit,s=Z5(t,e,r.tickCount).ticks;return(0,ue.isNil)(a)&&(0,ue.isNil)(o)?i?yC(t,e,i).ticks:s:_C(r,(0,ue.head)(s),(0,ue.last)(s))}),Od("time",function Lce(r){var t=r.min,e=r.max,n=r.minTickInterval,i=r.tickInterval,a=r.tickCount;if(i)a=Math.ceil((e-t)/i);else{var s=(e-t)/(i=function Qle(r,t,e){var n=(t-r)/e,i=function Zle(r){return function(t,e,n,i){for(var a=(0,ue.isNil)(n)?0:n,o=(0,ue.isNil)(i)?t.length:i;a<o;){var s=a+o>>>1;r(t[s])>e?o=s:a=s+1}return a}}(function(o){return o[1]})(H0,n)-1,a=H0[i];return i<0?a=H0[0]:i>=H0.length&&(a=(0,ue.last)(H0)),a}(t,e,a)[1])/a;s>1&&(i*=Math.ceil(s)),n&&i<n&&(i=n)}i=Math.max(Math.floor((e-t)/(Math.pow(2,12)-1)),i);for(var l=[],c=t;c<e+i;c+=i)l.push(c);return l}),Od("time-pretty",function Hce(r){var t=r.min,e=r.max,n=r.minTickInterval,a=r.tickInterval,o=[];a||(a=(e-t)/r.tickCount,n&&a<n&&(a=n)),a=Math.max(Math.floor((e-t)/(Math.pow(2,12)-1)),a);var s=mx(t);if(a>V5)for(var l=mx(e),c=Math.ceil(a/V5),u=s;u<=l+c;u+=c)o.push(Bce(u));else if(a>G0){var d=Math.ceil(a/G0),h=bC(t),v=function zce(r,t){var e=mx(r),n=mx(t),i=bC(r);return 12*(n-e)+(bC(t)-i)%12}(t,e);for(u=0;u<=v+d;u+=d)o.push(Vce(s,u+h))}else if(a>Af){var D=(y=new Date(t)).getFullYear(),F=y.getMonth(),K=y.getDate(),Q=Math.ceil(a/Af),J=function jce(r,t){return Math.ceil((t-r)/Af)}(t,e);for(u=0;u<J+Q;u+=Q)o.push(new Date(D,F,K+u).getTime())}else if(a>$p){D=(y=new Date(t)).getFullYear(),F=y.getMonth(),Q=y.getDate();var y,de=y.getHours(),Ee=Math.ceil(a/$p),ke=function Uce(r,t){return Math.ceil((t-r)/$p)}(t,e);for(u=0;u<=ke+Ee;u+=Ee)o.push(new Date(D,F,Q,de+u).getTime())}else if(a>Yp){var Re=function Gce(r,t){return Math.ceil((t-r)/6e4)}(t,e),tt=Math.ceil(a/Yp);for(u=0;u<=Re+tt;u+=tt)o.push(t+u*Yp)}else{var xt=a;xt<Fu&&(xt=Fu);var ct=Math.floor(t/Fu)*Fu,Nt=Math.ceil((e-t)/Fu),Ut=Math.ceil(xt/Fu);for(u=0;u<Nt+Ut;u+=Ut)o.push(ct+u*Fu)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}),Od("log",function Oce(r){var o,t=r.base,e=r.tickCount,n=r.min,i=r.max,a=r.values,s=Zc(t,i);if(n>0)o=Math.floor(Zc(t,n));else{var l=j5(a,t,i);o=Math.floor(Zc(t,l))}for(var u=Math.ceil((s-o)/e),d=[],h=o;h<s+u;h+=u)d.push(Math.pow(t,h));return n<=0&&d.unshift(0),d}),Od("pow",function kce(r){var t=r.exponent,e=r.tickCount,n=Math.ceil(Oh(t,r.max));return Z5(Math.floor(Oh(t,r.min)),n,e).ticks.map(function(o){var s=o>=0?1:-1;return Math.pow(o,t)*s})}),Od("quantile",function Pce(r){var t=r.tickCount,e=r.values;if(!e||!e.length)return[];for(var n=e.slice().sort(function(s,l){return s-l}),i=[],a=0;a<t;a++)i.push(Nce(n,a/(t-1)));return i}),Od("d3-linear",function yce(r){var t=r.min,e=r.max,n=r.tickInterval,i=r.minLimit,a=r.maxLimit,o=function vce(r){var t=r.min,e=r.max,n=r.nice,i=r.tickCount,a=new gce;return a.domain([t,e]),n&&a.nice(i),a.ticks(i)}(r);return(0,ue.isNil)(i)&&(0,ue.isNil)(a)?n?yC(t,e,n).ticks:o:_C(r,(0,ue.head)(o),(0,ue.last)(o))}),kd("cat",j0),kd("category",j0),kd("identity",pce),kd("linear",W0),kd("log",ice),kd("pow",oce),kd("time",lce),kd("timeCat",ece),kd("quantize",G5),kd("quantile",dce);var Wce=function(r,t,e){if(e||2===arguments.length)for(var a,n=0,i=t.length;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return r.concat(a||Array.prototype.slice.call(t))};function Q5(r){return function Yce(r){return(0,ue.map)(r,function(t,e){return[0===e?"M":"L",t[0],t[1]]})}(r)}function Kce(r,t,e,n){void 0===n&&(n=5);for(var i=new W0({values:r}),a=new j0({values:(0,ue.map)(r,function(h,v){return v})}),o=(0,ue.map)(r,function(h,v){return[a.scale(v)*t,e-i.scale(h)*e]}),s=[],l=0;l<o.length;l++){var c=o[l],d=Qce({x:c[0],y:c[1],y0:e,size:n});s.push.apply(s,d)}return function Jce(r,t){void 0===t&&(t=!0);var e=[],n=r[0];e.push(["M",n.x,n.y]);for(var i=1,a=r.length;i<a;i++)e.push(["L",r[i].x,r[i].y]);return t&&(e.push(["L",n.x,n.y]),e.push(["z"])),e}(s)}function Qce(r){var a,o,s,l,t=r.x,e=r.y,n=r.y0,i=r.size;(0,ue.isArray)(e)?(a=e[0],o=e[1]):(a=n,o=e),(0,ue.isArray)(t)?(s=t[0],l=t[1]):(s=t-i/2,l=t+i/2);var c=[{x:s,y:a},{x:s,y:o}];return c.push({x:l,y:o},{x:l,y:a}),c}var Y0=function(){return Y0=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Y0.apply(this,arguments)},eue={stroke:"#C5C5C5",strokeOpacity:.85},tue={fill:"#CACED4",opacity:.85},nue=function(){function r(t){var e=t.x,n=void 0===e?0:e,i=t.y,a=void 0===i?0:i,o=t.width,s=void 0===o?200:o,l=t.height,c=void 0===l?26:l,u=t.smooth,d=void 0===u||u,h=t.isArea,v=void 0!==h&&h,y=t.data,D=void 0===y?[]:y,F=t.lineStyle,K=t.areaStyle,J=t.interval,de=void 0===J?null:J;this.group=t.group,this.x=n,this.y=a,this.width=s,this.height=c,this.data=D,this.smooth=d,this.isArea=v,this.lineStyle=Object.assign({},eue,F),this.areaStyle=Object.assign({},tue,K),this.intervalConfig=de,this.renderLine()}return r.prototype.renderLine=function(){var t=this,e=t.x,n=t.y,i=t.width,a=t.height,s=t.data,l=t.smooth,c=t.isArea,u=t.lineStyle,d=t.areaStyle,h=this.group.addGroup({name:"trend-group"});if(s){var v=function Xce(r,t,e,n){void 0===n&&(n=!0);var i=new W0({values:r}),a=new j0({values:(0,ue.map)(r,function(s,l){return l})}),o=(0,ue.map)(r,function(s,l){return[a.scale(l)*t,e-i.scale(s)*e]});return n?function $ce(r){if(r.length<=2)return Q5(r);var t=[];(0,ue.each)(r,function(o){(0,ue.isEqual)(o,t.slice(t.length-2))||t.push(o[0],o[1])});var e=vB(t,!1),n=(0,ue.head)(r);return e.unshift(["M",n[0],n[1]]),e}(o):Q5(o)}(s,i,a,l);if(h.addShape("path",{attrs:Y0({path:v},u),name:"trend-line"}),c){var y=function Zce(r,t,e,n){var i=Wce([],r,!0),a=function qce(r,t){var e=new W0({values:r}),n=Math.max(0,e.min);return t-e.scale(n)*t}(n,e);return i.push(["L",t,a]),i.push(["L",0,a]),i.push(["Z"]),i}(v,i,a,s);h.addShape("path",{attrs:Y0({path:y},d),name:"trend-area"})}}this.intervalConfig&&h.addShape("path",{attrs:Y0({path:Kce(this.intervalConfig.data,i,a,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),h.move(e,n)},r.prototype.destory=function(){this.group.destroy()},r}();const rue=nue;var Lg=function(){return Lg=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Lg.apply(this,arguments)},iue={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},aue={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},oue=function(){function r(t){var n=t.name,i=t.type,a=t.x,o=void 0===a?0:a,s=t.y,l=void 0===s?0:s,c=t.width,u=void 0===c?2:c,d=t.height,h=void 0===d?24:d,v=t.style,y=void 0===v?{}:v;this.group=t.group,this.name=n,this.handleType=i,this.x=o,this.y=l,this.width=u,this.height=h,"trend"===i?this.style=Lg(Lg({},iue),y):"simple"===i&&(this.style=Lg(Lg({},aue),y)),this.renderHandle()}return r.prototype.setX=function(t){this.setXY(t,void 0)},r.prototype.setY=function(t){this.setXY(void 0,t)},r.prototype.setXY=function(t,e){(0,ue.isNumber)(t)&&(this.x=t),(0,ue.isNumber)(e)&&(this.y=e),this.updateXY()},r.prototype.renderHandle=function(){var t=this,e=t.width,n=t.height,i=t.style,a=t.name,o=i.fill,s=i.stroke,l=i.radius,c=i.opacity,u=i.cursor;this.handleGroup=this.group.addGroup(),"trend"===this.handleType?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:e,height:n,fill:o,stroke:s,radius:l,opacity:c,cursor:u},name:"".concat(a,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:0,r:2*e,fill:o,stroke:s,radius:l,opacity:c,cursor:u,lineAppendWidth:12},name:"".concat(a,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:n,r:2*e,fill:o,stroke:s,radius:l,opacity:c,cursor:u},name:"".concat(a,"-handler")})):"simple"===this.handleType&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:n/2,r:2*e,fill:o,stroke:s,radius:l,opacity:c,cursor:u,lineWidth:2},name:"".concat(a,"-handler")})),this.updateXY(),"trend"===this.handleType?this.bindTrendEvents():"simple"===this.handleType&&this.bindSimpleEvents()},r.prototype.bindSimpleEvents=function(){var t=this,e=this.name;this.handleGroup.on("".concat(e,"-handler:mouseenter"),function(){t.topCircle.attr("fill",t.style.highLightFill)}),this.handleGroup.on("".concat(e,"-handler:mouseleave"),function(){t.topCircle.attr("fill",t.style.fill)})},r.prototype.bindTrendEvents=function(){var t=this,e=this.name;this.handleGroup.on("".concat(e,"-handler:mouseenter"),function(){var n=t.style.highLightFill;t.verticalLine.attr("fill",n),t.topCircle.attr("fill",n),t.bottomCircle.attr("fill",n)}),this.handleGroup.on("".concat(e,"-handler:mouseleave"),function(){var n=t.style.fill;t.verticalLine.attr("fill",n),t.topCircle.attr("fill",n),t.bottomCircle.attr("fill",n)})},r.prototype.show=function(){this.handleGroup.show()},r.prototype.hide=function(){this.handleGroup.hide()},r.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},r}();const J5=oue;var e4="timebarstartplay",t4="timebarendplay",Nd="valuechange",Kp="timebarConfigChanged",kh="playPauseBtn",$0="nextStepBtn",X0="preStepBtn",xC=function(){return xC=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},xC.apply(this,arguments)},sue=function(){function r(t){this.config=(0,ue.deepMix)({},t),this.init()}return r.prototype.update=function(t){this.config=(0,ue.deepMix)({},this.config,t),this.updateElement(),this.renderMarker()},r.prototype.init=function(){this.initElement(),this.renderMarker()},r.prototype.initElement=function(){var t=this.config,e=t.group,n=t.style,i=n.scale,a=void 0===i?1:i,o=n.offsetX,l=n.offsetY,u=this.config.x+(void 0===o?0:o),d=this.config.y+(void 0===l?0:l),h=e.addGroup({name:kh});this.startMarkerGroup=h.addGroup({name:kh}),this.circle=e.addShape("circle",{attrs:xC({x:u,y:d,r:this.config.r*a},n),name:kh}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(u,d,a),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=h.addGroup({name:kh});var v=.25*this.config.r*a,y=.5*this.config.r*Math.sqrt(3)*a;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:u-.375*this.config.r*a,y:d-y/2,width:v,height:y,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:u+1/8*this.config.r*a,y:d-y/2,width:v,height:y,fill:n.stroke||"#aaa",lineWidth:0}})},r.prototype.updateElement=function(){var t=this.config.style,e=t.scale,n=void 0===e?1:e,i=t.offsetX,o=t.offsetY,l=this.config.x+(void 0===i?0:i),c=this.config.y+(void 0===o?0:o);this.circle.attr("x",l),this.circle.attr("y",c),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(l,c,n));var u=.25*this.config.r*n,d=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",l-.375*this.config.r*n),this.pauseLeftMarker.attr("y",c-d/2),this.pauseLeftMarker.attr("width",u),this.pauseLeftMarker.attr("height",d),this.pauseRightMarker.attr("x",l+1/8*this.config.r*n),this.pauseRightMarker.attr("y",c-d/2),this.pauseRightMarker.attr("width",u),this.pauseRightMarker.attr("height",d)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},r.prototype.getStartMarkerPath=function(t,e,n){var i=.5*this.config.r*Math.sqrt(3)*n;return[["M",t-i/Math.sqrt(3)/2,e-i/2],["L",t+i/Math.sqrt(3),e],["L",t-i/Math.sqrt(3)/2,e+i/2]]},r}();const lue=sue;var Ho=function(){return Ho=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Ho.apply(this,arguments)},K0=Yc,due={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},fue={fill:"#fff"},hue={fill:"green"},n4={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},r4={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},pue={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:n4,timeTypeControllerStyle:r4},Pd={SINGLE:"single",RANGE:"range"},vue=function(){function r(t){this.controllerCfg=(0,ue.deepMix)({},pue,t),this.group=t.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType=this.controllerCfg.defaultTimeType||Pd.RANGE,this.fontFamily=t.fontFamily||"Arial, sans-serif",this.init()}return r.prototype.init=function(){this.renderPlayButton()},r.prototype.getNextMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t+n,e],["L",t,e+n],["Z",t,e-n],["M",t,e],["L",t-n,e-n],["L",t-n,e+n],["Z"]]},r.prototype.getPreMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t-n,e],["L",t,e+n],["L",t,e-n],["M",t,e],["L",t+n,e-n],["L",t+n,e+n],["Z"]]},r.prototype.renderPlayButton=function(){var t=this.controllerCfg,e=t.width,n=t.height,i=t.x,a=t.y,o=t.hideTimeTypeController,s=t.fill,l=void 0===s?"#aaa":s,c=t.stroke,u=void 0===c?"green":c,d=t.containerStyle,h=void 0===d?{}:d,v=Ho(Ho({},due),t.playBtnStyle||{}),y=Ho(Ho({},fue),t.preBtnStyle||{}),D=Ho(Ho({},hue),t.nextBtnStyle||{}),F=n/2-5,K=a+10,Q=this.controllerGroup.addShape("rect",{attrs:Ho({x:i,y:K,width:e,height:n,stroke:u,fill:l},h),name:"container-rect"});this.playButton?this.playButton.update({x:e/2,y:K,r:F}):this.playButton=new lue({group:this.controllerGroup,x:e/2,y:K+F+5,r:F,isPlay:this.isPlay,style:v}),this.controllerGroup.addShape("path",{attrs:Ho({path:this.getPreMarkerPath(e/2-5*F+(y.offsetX||0),K+F+5+(y.offsetY||0),(y.scale||1)*F*.5)},y),name:X0}),this.controllerGroup.addShape("path",{attrs:Ho({path:this.getNextMarkerPath(e/2+5*F+(D.offsetX||0),K+F+5+(D.offsetY||0),(D.scale||1)*F*.5)},D),name:$0}),Q.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var xt=this.controllerCfg.scale,ct=void 0===xt?1:xt,Nt=this.controllerGroup.getCanvasBBox(),Ut=(Nt.maxX+Nt.minX)/2,Mn=(Nt.maxY+Nt.minY)/2,Jn=K0([1,0,0,0,1,0,0,0,1],[["t",-Ut,-Mn],["s",ct,ct],["t",Ut,Mn]]);this.controllerGroup.setMatrix(Jn)},r.prototype.renderSpeedBtn=function(){var t=this.controllerCfg,e=t.y,n=t.width,i=t.hideTimeTypeController,a=Ho(Ho({},n4),this.controllerCfg.speedControllerStyle||{}),o=a.scroller,s=void 0===o?{}:o,l=a.text,c=void 0===l?{}:l,u=a.pointer,d=void 0===u?{}:u,h=a.scale,v=void 0===h?1:h,y=a.offsetX,D=void 0===y?0:y,F=a.offsetY,K=void 0===F?0:F,Q=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=Q;var J=[],de=5;this.speedAxisY=[19,22,26,32,39];for(var Ee=0;Ee<5;Ee++){var ke=e+this.speedAxisY[Ee],Re=n-(i?50:110);Q.addShape("line",{attrs:Ho({x1:Re,x2:Re+15,y1:ke,y2:ke},s),speed:de,name:"speed-rect"}),this.speedAxisY[Ee]=ke,J.push(de),de-=1}this.speedText=Q.addShape("text",{attrs:Ho({x:n-(i?50:110)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},c),name:"speed-text"}),this.speedPoint=Q.addShape("path",{attrs:Ho({path:this.getPointerPath(n-(i?50:110),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},d),name:"speed-pointer"});var tt=this.speedGroup.getCanvasBBox(),xt=(tt.maxX+tt.minX)/2,ct=(tt.maxY+tt.minY)/2,Nt=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];Nt=K0(Nt,[["t",-xt,-ct],["s",v,v],["t",xt+D*v,ct+K*v]]),this.speedGroup.setMatrix(Nt)},r.prototype.getPointerPath=function(t,e){return[["M",t,e],["L",t-10,e-4],["L",t-10,e+4],["Z"]]},r.prototype.renderToggleTime=function(){var t,e,n=this.controllerCfg,i=n.width,a=n.defaultTimeType,o=Ho(Ho({},r4),this.controllerCfg.timeTypeControllerStyle||{}),s=o.scale,l=void 0===s?1:s,c=o.offsetX,u=void 0===c?0:c,d=o.offsetY,h=void 0===d?0:d,v=o.box,y=void 0===v?{}:v,D=o.check,F=void 0===D?{}:D,K=o.text,Q=void 0===K?{}:K;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"});var J=a===Pd.SINGLE;this.toggleGroup.addShape("rect",{attrs:Ho({x:i-50,y:this.speedAxisY[0]+3.5},y),isChecked:J,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:Ho({path:[["M",i-50+3,this.speedAxisY[1]+6],["L",i-50+7,this.speedAxisY[1]+10],["L",i-50+12,this.speedAxisY[1]+4]]},F),capture:!1,name:"check-icon"}),J||this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:Ho({text:J?(null===(t=this.controllerCfg)||void 0===t?void 0:t.timeRangeControllerText)||"\u65f6\u95f4\u8303\u56f4":(null===(e=this.controllerCfg)||void 0===e?void 0:e.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4",x:i-50+15,y:this.speedAxisY[0]+4,fontFamily:typeof window<"u"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},Q),name:"checked-text"});var de=this.toggleGroup.getCanvasBBox(),Ee=(de.maxX+de.minX)/2,ke=(de.maxY+de.minY)/2,Re=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];Re=K0(Re,[["t",-Ee,-ke],["s",l,l],["t",Ee+u*l,ke+h*l]]),this.toggleGroup.setMatrix(Re)},r.prototype.bindEvent=function(){var t=this;this.speedGroup.on("speed-rect:click",function(e){var n=e.target.attr("y1"),i=t.speedPoint.attr("matrix"),a=t.speedAxisY.indexOf(i[7]||0),o=t.speedAxisY.indexOf(n);i=K0(i,[["t",0,t.speedAxisY[o]-t.speedAxisY[a]]]),t.speedPoint.setMatrix(i),t.currentSpeed=t.speedAxisY.length-o,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit(Kp,{speed:t.currentSpeed,type:t.currentType})}),this.speedGroup.on("mousewheel",function(e){e.preventDefault();var n=t.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],i=n[7],a=t.speedAxisY.indexOf(i);if(-1===a){var o=1/0;t.speedAxisY.forEach(function(l,c){var u=Math.abs(l-i);o>u&&(o=u,a=c)})}a=e.originalEvent.deltaY>0?Math.max(0,a-1):Math.min(t.speedAxisY.length-1,a+1),n=K0(n,[["t",0,t.speedAxisY[a]-i]]),t.speedPoint.setMatrix(n),t.currentSpeed=t.speedAxisY.length-a,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit(Kp,{speed:t.currentSpeed,type:t.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(e){var n,i,a=e.target.get("isChecked");a?(t.checkedIcon.hide(),t.checkedText.attr("text",(null===(i=t.controllerCfg)||void 0===i?void 0:i.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4"),t.currentType=Pd.RANGE):(t.checkedIcon.show(),t.checkedText.attr("text",(null===(n=t.controllerCfg)||void 0===n?void 0:n.timeRangeControllerText)||"\u65f6\u95f4\u8303\u56f4"),t.currentType=Pd.SINGLE),e.target.set("isChecked",!a),t.group.emit(Kp,{type:t.currentType,speed:t.currentSpeed})})},r.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},r}();const a4=vue;var co=function(){return co=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},co.apply(this,arguments)},gue=Yc,mue={fill:"#416180",opacity:.05},yue={fill:"#416180",opacity:.15,radius:5},_ue={fill:"#5B8FF9",opacity:.3,cursor:"grab"},bue={width:2,height:24},xue={textBaseline:"middle",fill:"#000",opacity:.45},wue={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},Eue={lineWidth:1,stroke:"#ccc"},Sue=function(){function r(t){var e=this;this.prevX=0,this.onMouseDown=function(Kn){return function(Gn){e.currentHandler=Kn;var dr=Gn.originalEvent;dr.stopPropagation(),dr.preventDefault(),e.prevX=(0,ue.get)(dr,"touches.0.pageX",dr.pageX);var ur=e.canvas.get("container");ur.addEventListener("mousemove",e.onMouseMove),ur.addEventListener("mouseup",e.onMouseUp),ur.addEventListener("mouseleave",e.onMouseUp),ur.addEventListener("touchmove",e.onMouseMove),ur.addEventListener("touchend",e.onMouseUp),ur.addEventListener("touchcancel",e.onMouseUp)}},this.onMouseMove=function(Kn){Kn.stopPropagation(),Kn.preventDefault();var Gn=(0,ue.get)(Kn,"touches.0.pageX",Kn.pageX),ur=e.adjustOffsetRange((Gn-e.prevX)/e.width);e.updateStartEnd(ur),e.updateUI(),e.prevX=Gn},this.onMouseUp=function(){e.currentHandler&&(e.currentHandler=void 0);var Kn=e.canvas.get("container");Kn&&(Kn.removeEventListener("mousemove",e.onMouseMove),Kn.removeEventListener("mouseup",e.onMouseUp),Kn.removeEventListener("mouseleave",e.onMouseUp),Kn.removeEventListener("touchmove",e.onMouseMove),Kn.removeEventListener("touchend",e.onMouseUp),Kn.removeEventListener("touchcancel",e.onMouseUp))};var n=t.x,i=void 0===n?0:n,a=t.y,o=void 0===a?0:a,s=t.width,l=void 0===s?100:s,c=t.height,u=t.padding,d=void 0===u?10:u,h=t.trendCfg,v=t.controllerCfg,y=void 0===v?{speed:1}:v,D=t.backgroundStyle,F=void 0===D?{}:D,K=t.foregroundStyle,Q=void 0===K?{}:K,J=t.handlerStyle,de=void 0===J?{}:J,Ee=t.textStyle,ke=void 0===Ee?{}:Ee,Re=t.start,tt=void 0===Re?0:Re,xt=t.end,ct=void 0===xt?1:xt,Nt=t.minText,Ut=void 0===Nt?"":Nt,Mn=t.maxText,Jn=void 0===Mn?"":Mn,zn=t.group,Tn=t.canvas,In=t.tick,an=void 0===In?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(Gn){return Gn},ticks:[]}:In,On=t.type;this.graph=t.graph,this.canvas=Tn,this.group=zn,this.timeBarType=On,this.x=i,this.y=o,this.width=l,this.height=c,this.padding=d,this.ticks=an.ticks,this.trendCfg=h,this.controllerCfg=y,this.currentSpeed=y.speed||1,this.tickLabelFormatter=an.tickLabelFormatter,"trend"===On?this.backgroundStyle=co(co({},mue),F):"simple"===On&&(this.backgroundStyle=co(co({},yue),F)),this.foregroundStyle=co(co({},_ue),Q),this.handlerStyle=co(co({},bue),de),this.textStyle=co(co({},xue),ke),this.tickLabelStyle=co(co({},wue),an.tickLabelStyle),this.tickLineStyle=co(co({},Eue),an.tickLineStyle),this.currentMode=y.defaultTimeType||Pd.RANGE,this.start=tt,this.end=ct,this.minText=Ut,this.maxText=Jn,this.fontFamily=typeof window<"u"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return r.prototype.update=function(t){var e=t.x,n=t.y,i=t.width,a=t.height,o=t.minText,s=t.maxText,c=t.end;this.start=Math.min(1,Math.max(t.start,0)),this.end=Math.min(1,Math.max(c,0)),(0,ue.assign)(this,{x:e,y:n,width:i,height:a,minText:o,maxText:s}),this.updateUI()},r.prototype.setText=function(t,e){this.minTextShape.attr("text",t),this.maxTextShape.attr("text",e)},r.prototype.renderSlider=function(){var t=this,e=this,n=e.width,i=e.height,a=e.timeBarType;if("trend"===a&&(0,ue.size)((0,ue.get)(this.trendCfg,"data"))){var o=new rue(co(co({x:this.x,y:this.y,width:n,height:i},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:co({x:0,y:0,width:n,height:i},this.backgroundStyle),name:"background"});var l=this.group.addGroup();"trend"===a?(this.minTextShape=l.addShape("text",{attrs:co({x:0,y:i/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=l.addShape("text",{attrs:co({y:i/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=l.addShape("text",{attrs:co({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=l.addShape("text",{attrs:co({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:co({x:0,y:this.y,height:i},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",function(K){K.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(K){K.target.attr("cursor",t.foregroundStyle.cursor||"grab")});var c=(0,ue.get)(this.handlerStyle,"width",2),u=(0,ue.get)(this.handlerStyle,"height",24),d=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new J5({name:"minHandlerShape",group:d,type:a,x:this.x,y:this.y,width:c,height:u,style:this.handlerStyle});var h=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new J5({name:"maxHandlerShape",group:h,type:a,x:this.x,y:this.y,width:c,height:u,style:this.handlerStyle});var v=this.ticks,y=n/(v.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(K){K.destroy()});var D=-1/0,F=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=v.map(function(K,Q){var J;t.tickPosList.push(t.x+Q*y),t.tickLabelFormatter?(J=t.tickLabelFormatter(K),!(0,ue.isString)(J)&&J&&(J=K.date)):J=K.date;var de=t.x+Q*y,Ee=t.y+i+5,ke=t.group.addShape("text",{attrs:co({x:de,y:Ee,text:J,fontFamily:t.fontFamily||"Arial, sans-serif"},t.tickLabelStyle),name:"tick-label"});if((0,ue.isNumber)(F)&&Q!==v.length-1){var Re=gue([1,0,0,0,1,0,0,0,1],[["t",-de,-Ee],["r",F],["t",de-5,Ee+2]]);ke.attr({textAlign:"left",matrix:Re})}0===Q?ke.attr({textAlign:"left"}):Q!==v.length-1&&ke.attr({textAlign:"right"});var tt=t.group.addShape("line",{attrs:co({x1:t.x+Q*y,y1:t.y+i+2,x2:t.x+Q*y,y2:t.y+i+6},t.tickLineStyle),name:"tick-line"});tt.toBack();var xt=ke.getBBox();return xt.minX>D?(ke.show(),tt.show(),D=xt.minX+xt.width+10):(ke.hide(),tt.hide()),ke}),this.controllerBtnGroup=new a4(co({group:this.group,x:this.x,y:this.y+i+25,width:n,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),s.move(this.x,this.y),this.bindEvents(),this.currentMode===Pd.SINGLE&&(this.minHandlerShape.hide(),this.foregroundShape.hide(),this.minTextShape.hide())},r.prototype.bindEvents=function(){var t=this,e=this.group.find(function(i){return"minHandlerShape"===i.get("name")});e&&(e.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),e.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find(function(i){return"maxHandlerShape"===i.get("name")});n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(kh,":click"),function(){t.isPlay=!t.isPlay,t.currentHandler=t.maxHandlerShape,t.changePlayStatus()}),this.group.on("".concat($0,":click"),function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(.01),t.updateUI()}),this.group.on("".concat(X0,":click"),function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(-.01),t.updateUI()}),this.group.on(Kp,function(i){var a=i.type;t.currentSpeed=i.speed,t.currentMode=a,a===Pd.SINGLE?(t.minHandlerShape.hide(),t.foregroundShape.hide(),t.minTextShape.hide()):a===Pd.RANGE&&(t.minHandlerShape.show(),t.foregroundShape.show(),t.minTextShape.show())})},r.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1;return 0},r.prototype.adjustOffsetRange=function(t){switch(this.currentHandler){case this.minHandlerShape:var e=0-this.start,n=1-this.start;return Math.min(n,Math.max(e,t));case this.maxHandlerShape:return e=0-this.end,n=1-this.end,Math.min(n,Math.max(e,t));case this.foregroundShape:return e=0-this.start,n=1-this.end,Math.min(n,Math.max(e,t));default:return 0}},r.prototype.updateStartEnd=function(t){var e=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler)return this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e?.date,void(this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n?.date);switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=t,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=t,this.end+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date}},r.prototype.updateUI=function(){var t=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var e=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",e),this.foregroundShape.attr("width",n-e);var i=(0,ue.get)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var a=this.dodgeText([e,n]),o=a[0],s=a[1];this.minHandlerShape.setX(e-i/2),(0,ue.each)(o,function(l,c){return t.minTextShape.attr(c,l)}),this.maxHandlerShape.setX(n-i/2),(0,ue.each)(s,function(l,c){return t.maxTextShape.attr(c,l)}),this.currentMode===Pd.RANGE?this.graph.emit(Nd,{value:[this.start,this.end].sort()}):this.currentMode===Pd.SINGLE&&this.graph.emit(Nd,{value:[this.end,this.end]})},r.prototype.dodgeText=function(t){var e,n,a=(0,ue.get)(this.handlerStyle,"width",2),o=this.minTextShape,s=this.maxTextShape,l=t[0],c=t[1],u=!1;l>c&&(l=(e=[c,l])[0],c=e[1],o=(n=[s,o])[0],s=n[1],u=!0);var d=o.getBBox(),h=s.getBBox(),v=null,y=null;return"trend"===this.timeBarType?(v=l-d.width<this.x+2?{x:l+a/2+2,textAlign:"left"}:{x:l-a/2-2,textAlign:"right"},y=c+h.width>this.x+this.width?{x:c-a/2-2,textAlign:"right"}:{x:c+a/2+2,textAlign:"left"}):"simple"===this.timeBarType&&(v=o.attr("x")>d.width?{x:l,textAlign:"center"}:{x:l,textAlign:"left"},y=s.attr("x")>this.width-h.width?{x:c,textAlign:"right"}:{x:c,textAlign:"center"}),u?[y,v]:[v,y]},r.prototype.startPlay=function(){var t=this;return typeof window<"u"?window.requestAnimationFrame(function(){var l=t.adjustOffsetRange(t.width/t.ticks.length/(1e3*(10-t.currentSpeed)/60)/t.width);t.updateStartEnd(l),t.updateUI(),t.isPlay&&(t.playHandler=t.startPlay())}):void 0},r.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(e4,null)):this.playHandler&&(typeof window<"u"&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(t4,null))},r.prototype.destory=function(){this.graph.off(Nd,function(){});var t=this.group,e=t.find(function(i){return"minHandlerShape"===i.get("name")});e&&(e.off("minHandlerShape-handler:mousedown"),e.off("minHandlerShape-handler:touchstart"),e.destroy());var n=t.find(function(i){return"maxHandlerShape"===i.get("name")});n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),t.off("".concat(kh,":click")),t.off("".concat($0,":click")),t.off("".concat(X0,":click")),t.off(Kp),t.destroy(),this.trendComponent&&this.trendComponent.destory()},r}();const Mue=Sue;var Cue=function(){function r(t){var e=t.x,n=void 0===e?0:e,i=t.y,a=void 0===i?0:i,s=t.text,l=t.padding,c=void 0===l?[4,4,4,4]:l,u=t.className,d=void 0===u?"g6-component-timebar-tooltip":u,h=t.backgroundColor,v=void 0===h?"#000":h,y=t.textColor,D=void 0===y?"#fff":y,F=t.opacity,K=void 0===F?.8:F,Q=t.fontSize,J=void 0===Q?12:Q;this.container=t.container,this.className=d,this.backgroundColor=v,this.textColor=D,this.x=n,this.y=a,this.text=s,this.padding=c,this.opacity=K,this.fontSize=J,this.render()}return r.prototype.render=function(){var t=this,a=t.backgroundColor,o=t.textColor,s=t.text,l=t.padding,c=t.opacity,u=t.fontSize,d=t.container,h=go("<div class='".concat(t.className,"' style=\"position: absolute; width: fit-content; height: fit-content; opacity: ").concat(c,'"></div>'));(0,ue.isString)(d)&&(d=document.getElementById(d)),d.appendChild(h),t.parentHeight=d.offsetHeight,t.parentWidth=d.offsetWidth,Yi(h,{visibility:"hidden",top:0,left:0});var v=go("\n      <div style='position: absolute; white-space:nowrap; background-color: ".concat(a,"; font-size: ").concat(u,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(o,"; padding: ").concat(l[0],"px ").concat(l[1],"px ").concat(l[2],"px ").concat(l[3],"px'></div>"));v.innerHTML=s,h.appendChild(v),t.backgroundDOM=v;var y=go("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(a,"'></div>"));h.appendChild(y),t.arrowDOM=y,t.container=h},r.prototype.show=function(t){var e=this,i=t.x;e.backgroundDOM.innerHTML=t.text;var l=e.backgroundDOM.offsetWidth,c=e.backgroundDOM.offsetHeight,u=e.arrowDOM.offsetWidth;Yi(e.container,{top:"".concat(-c-e.arrowDOM.offsetHeight,"px"),left:"".concat(i,"px"),visibility:"visible"}),Yi(e.backgroundDOM,{marginLeft:"".concat(-l/2,"px")}),Yi(e.arrowDOM,{marginLeft:"".concat(-u/2,"px"),top:"".concat(c,"px")});var h=i-l/2,v=i+l/2;h<0?Yi(e.backgroundDOM,{marginLeft:"".concat(-l/2-h,"px")}):v>e.parentWidth&&Yi(e.backgroundDOM,{marginLeft:"".concat(-l/2-v+e.parentWidth+12,"px")})},r.prototype.hide=function(){Yi(this.container,{top:0,left:0,visibility:"hidden"})},r}();const Due=Cue;var q0=function(){return q0=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},q0.apply(this,arguments)},Tue=Yc,Aue={fill:"#5B8FF9"},Iue={fill:"#e6e8e9"},Oue=function(){function r(t){this.frameCount=0,this.fontFamily="Arial, sans-serif";var n=t.canvas,i=t.group,a=t.width,o=t.height,s=t.padding,l=t.data,c=t.start,u=t.end,d=t.x,h=void 0===d?0:d,v=t.y,y=void 0===v?0:v,D=t.tickLabelFormatter,F=t.selectedTickStyle,K=void 0===F?Aue:F,Q=t.unselectedTickStyle,J=void 0===Q?Iue:Q,de=t.tooltipBackgroundColor,Ee=t.tooltipFomatter,ke=t.tickLabelStyle,Re=t.controllerCfg,tt=void 0===Re?{speed:1}:Re;this.graph=t.graph,this.group=i,this.sliceGroup=i.addGroup({name:"slice-group"}),this.canvas=n,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=c,this.end=u,this.tickLabelFormatter=D,this.tickLabelStyle=ke||{},this.selectedTickStyle=K,this.unselectedTickStyle=J,this.controllerCfg=tt,this.currentSpeed=tt.speed||1,this.x=h,this.y=y,this.tooltipBackgroundColor=de,this.tooltipFomatter=Ee,this.fontFamily=typeof window<"u"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return r.prototype.renderSlices=function(){var t=this,e=this,n=e.width,i=e.height,a=e.padding,o=e.data,s=e.start,l=e.end,c=e.tickLabelFormatter,u=e.selectedTickStyle,d=e.unselectedTickStyle,h=e.tickLabelStyle,K=i-(3*a+4+10)-2*a,J=o.length,de=(n-2*a-2*(J-1))/J;this.tickWidth=de;var Ee=this.sliceGroup,ke=[],Re=[],tt=Math.round(J*s),xt=Math.round(J*l);this.startTickRectId=tt,this.endTickRectId=xt;var ct=h.rotate;delete h.rotate,o.forEach(function(Ut,Mn){var $t=Ee.addShape("rect",{attrs:q0({x:a+Mn*(de+2),y:a,width:de,height:K},Mn>=tt&&Mn<=xt?u:d),draggable:!0,name:"tick-rect-".concat(Mn)}),Tn=Ee.addShape("rect",{attrs:{x:a+Mn*de+2*(2*Mn-1)/2,y:a,width:0===Mn||Mn===J-1?de+1:de+2,height:K,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(Mn)});Tn.toFront();var On,In=$t.getBBox(),an=(In.minX+In.maxX)/2;if(ke.push({rect:$t,pickRect:Tn,value:Ut.date,x:an,y:In.minY}),c?(On=c(Ut),!(0,ue.isString)(On)&&On&&(On=Ut.date)):Mn%Math.round(J/10)==0&&(On=Ut.date),On){Re.push(On);var Kn=In.maxY+2*a;Ee.addShape("line",{attrs:{stroke:"#BFBFBF",x1:an,y1:Kn,x2:an,y2:Kn+4},name:"tick-line"});var Gn=Kn+4+a,dr=Ee.addShape("text",{attrs:q0({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:an,y:Gn,textAlign:"center",text:On,textBaseline:"top",fontSize:10,fontFamily:t.fontFamily||"Arial, sans-serif"},h),capture:!1,name:"tick-label"}),ur=dr.getBBox();if(ur.maxX>n?dr.attr("textAlign","right"):ur.minX<0&&dr.attr("textAlign","left"),(0,ue.isNumber)(ct)&&10!==Re.length){var Zr=Tue([1,0,0,0,1,0,0,0,1],[["t",-an,-Gn],["r",ct],["t",an-5,Gn+2]]);dr.attr({textAlign:"left",matrix:Zr})}1===Re.length?dr.attr({textAlign:"left"}):10===Re.length&&dr.attr({textAlign:"right"})}}),this.tickRects=ke;var Nt=this.group;this.currentSpeed=1,this.controllerBtnGroup=new a4(q0({group:Nt,x:this.x,y:this.y+i+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"},this.controllerCfg))},r.prototype.initEvent=function(){var t=this,e=this.sliceGroup;e.on("click",function(u){var d=u.target;if("rect"===d.get("type")&&d.get("name")){var h=parseInt(d.get("name").split("-")[2],10);if(!isNaN(h)){var v=t.tickRects,y=t.unselectedTickStyle;v.forEach(function(Q){Q.rect.attr(y)}),v[h].rect.attr(t.selectedTickStyle),t.startTickRectId=h,t.endTickRectId=h;var K=h/v.length;t.graph.emit(Nd,{value:[K,K]})}}}),e.on("dragstart",function(u){var d=t.tickRects,h=t.unselectedTickStyle;d.forEach(function(Q){Q.rect.attr(h)});var y=parseInt(u.target.get("name").split("-")[2],10);d[y].rect.attr(t.selectedTickStyle),t.startTickRectId=y;var K=y/d.length;t.graph.emit(Nd,{value:[K,K]}),t.dragging=!0}),e.on("dragover",function(u){if(t.dragging&&"rect"===u.target.get("type")){for(var d=parseInt(u.target.get("name").split("-")[2],10),h=t.startTickRectId,v=t.tickRects,y=t.selectedTickStyle,D=t.unselectedTickStyle,F=0;F<v.length;F++)v[F].rect.attr(F>=h&&F<=d?y:D);var Q=v.length;t.endTickRectId=d,t.graph.emit(Nd,{value:[h/Q,d/Q]})}}),e.on("drop",function(u){if(t.dragging&&(t.dragging=!1,"rect"===u.target.get("type"))){var d=t.startTickRectId,h=parseInt(u.target.get("name").split("-")[2],10);if(!(h<d)){var y=t.tickRects;y[h].rect.attr(t.selectedTickStyle),t.endTickRectId=h;var D=y.length;t.graph.emit(Nd,{value:[d/D,h/D]})}}});var n=this,i=n.tooltipBackgroundColor,a=n.tooltipFomatter,o=n.canvas,s=new Due({container:o.get("container"),backgroundColor:i}),l=this.tickRects;l.forEach(function(u){var d=u.pickRect;d.on("mouseenter",function(h){var v=h.target;if("rect"===v.get("type")){var y=parseInt(v.get("name").split("-")[2],10),D=o.getClientByPoint(l[y].x,l[y].y);s.show({x:l[y].x,y:l[y].y,clientX:D.x,clientY:D.y,text:a?a(l[y].value):l[y].value})}}),d.on("mouseleave",function(h){s.hide()})});var c=this.group;c.on("".concat(kh,":click"),function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),c.on("".concat($0,":click"),function(){t.updateStartEnd(1)}),c.on("".concat(X0,":click"),function(){t.updateStartEnd(-1)}),c.on(Kp,function(u){t.currentSpeed=u.speed})},r.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(e4,null)):this.playHandler&&(typeof window<"u"&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(t4,null))},r.prototype.startPlay=function(){var t=this;return typeof window<"u"?window.requestAnimationFrame(function(){t.frameCount%(60/t.currentSpeed)==0&&(t.frameCount=0,t.updateStartEnd(1)),t.frameCount++,t.isPlay&&(t.playHandler=t.startPlay())}):void 0},r.prototype.updateStartEnd=function(t){var e=this,n=this.tickRects,i=n.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=e.endTickRectId;if(t>0?e.endTickRectId++:(n[e.endTickRectId].rect.attr(a),e.endTickRectId--),s!==e.startTickRectId)e.endTickRectId<e.startTickRectId&&(e.startTickRectId=e.endTickRectId);else{for(var l=e.startTickRectId;l<=e.endTickRectId-1;l++)n[l].rect.attr(a);e.startTickRectId=e.endTickRectId}n[e.endTickRectId]&&(n[e.endTickRectId].rect.attr(o),this.graph.emit(Nd,{value:[e.startTickRectId/i,e.endTickRectId/i]}))},r.prototype.destory=function(){var t=this.sliceGroup;t.off("click"),t.off("dragstart"),t.off("dragover"),t.off("drop"),this.tickRects.forEach(function(e){var n=e.pickRect;n.off("mouseenter"),n.off("mouseleave")}),this.tickRects.length=0,t.off("".concat(kh,":click")),t.off("".concat($0,":click")),t.off("".concat(X0,":click")),t.off(Kp),this.sliceGroup.destroy()},r}();const kue=Oue;var Nue=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),If=function(){return If=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},If.apply(this,arguments)},Fue=function(r){function t(e){var n=r.call(this,e)||this;return n.afterrenderListener=function(i){return n.filterData({})},n.valueChangeListener=(0,ue.throttle)(function(i){return n.filterData(i)},200,{trailing:!0,leading:!0}),n.changeData=function(i){var a=n.get("graph");n.cacheGraphData=a.get("data"),n.filterData({})},n}return Nue(t,r),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},t.prototype.initContainer=function(){var c,u,e=this.get("graph"),n=this._cfgs,i=n.width,a=n.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container");s?((0,ue.isString)(s)&&(s=document.getElementById(s)),c=s):Yi(c=go("<div class='".concat(o,"'></div>")),{position:"relative"}),l.appendChild(c),this.set("timeBarContainer",c),u="SVG"===e.get("renderer")?new F0({container:c,width:i,height:a}):new Cf({container:c,width:i,height:a}),this.get("containerCSS")&&Yi(c,this.get("containerCSS")),this.set("canvas",u)},t.prototype.init=function(){this.initContainer();var n=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",n),this.renderTrend(),this.initEvent();var i=typeof window<"u"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",i)},t.prototype.play=function(){this.togglePlay(!0)},t.prototype.pause=function(){this.togglePlay(!1)},t.prototype.togglePlay=function(e){var n=this.get("timebar");n&&(n.isPlay=!!e,n.changePlayStatus())},t.prototype.renderTrend=function(){var e=this,n=this._cfgs,i=n.width,a=n.x,o=n.y,s=n.padding,l=n.type,c=n.trend,u=n.slider,d=n.controllerCfg,h=n.textStyle,v=n.tick,y=n.backgroundStyle,D=n.foregroundStyle,F=c.data,K=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]])}return e}(c,["data"]),Q=i-2*s,J="trend"===l?26:4,de=this.get("graph"),Ee=this.get("timeBarGroup"),ke=this.get("canvas"),Re=null;if("trend"===l||"simple"===l){var tt=this.get("getValue");Re=new Mue(If(If({graph:de,canvas:ke,group:Ee,type:l,x:a+s,y:"trend"===l?o+s:o+s+15,width:Q,height:J,padding:s,backgroundStyle:y,foregroundStyle:D,trendCfg:If(If({},K),{data:F.map(function(ct){return tt?.(ct)||ct.value})})},u),{tick:{ticks:F,tickLabelFormatter:v.tickLabelFormatter,tickLabelStyle:v.tickLabelStyle,tickLineStyle:v.tickLineStyle},handlerStyle:If(If({},u.handlerStyle),{height:u.height||J}),controllerCfg:d,textStyle:h}))}else"tick"===l&&(Re=new kue(If({graph:de,canvas:ke,group:Ee,x:a+s,y:o+s,width:i,height:42,padding:2,controllerCfg:d},v)));var xt=function ct(){var Nt=e.get("timebar");Nt.draggingHandler=!1,Nt.isPlay&&(Nt.isPlay=!1,Nt.currentHandler=Nt.maxHandlerShape,Nt.changePlayStatus()),document.removeEventListener("mouseup",ct)};ke.on("mousedown",function(ct){("maxHandlerShape-handler"===ct.target.get("name")||"minHandlerShape-handler"===ct.target.get("name")||ct.target===Re.foregroundShape)&&document.addEventListener("mouseup",xt)}),this.set("timebar",Re)},t.prototype.filterData=function(e){var n,i=e.value;if(!i){i=[];var a=this._cfgs.type;a&&"trend"!==a&&"simple"!==a?"tick"===a&&(i[0]=this._cfgs.tick.start,i[1]=this._cfgs.tick.end):(i[0]=this._cfgs.slider.start,i[1]=this._cfgs.slider.end)}var o=null,s=this._cfgs.type;if("trend"===s||"simple"===s?o=this._cfgs.trend.data:"tick"===s&&(o=this._cfgs.tick.data),o&&0!==o.length){var l=this.get("rangeChange"),c=this.get("graph"),u=Math.round(o.length*i[0]),d=Math.round(o.length*i[1]);d=d>=o.length?o.length-1:d,u=u>=o.length?o.length-1:u;var h=null===(n=this._cfgs.tick)||void 0===n?void 0:n.tickLabelFormatter,v=h?h(o[u]):o[u].date,y=h?h(o[d]):o[d].date;if("tick"!==s&&this.get("timebar").setText(v,y),l)l(c,v,y);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=c.get("data"));var F=this.get("filterItemTypes"),K=this.get("changeData"),Q=this.get("getDate"),J=this.get("shouldIgnore"),de=o[u].date,Ee=o[d].date;if(K||void 0===K){var ke=this.cacheGraphData.nodes,Re=this.cacheGraphData.edges,tt={},xt={};c.getNodes().forEach(function(ct){return tt[ct.getID()]=!0}),c.getEdges().forEach(function(ct){return xt[ct.getID()]=!0}),F.includes("node")&&(ke?.forEach(function(ct){var Nt=+(Q?.(ct)||ct.date),Ut=Nt>=de&&Nt<=Ee||J?.("node",ct,{min:de,max:Ee}),Mn=tt[ct.id];Mn&&!Ut?(c.removeItem(ct.id),tt[ct.id]=!1):!Mn&&Ut&&(c.addItem("node",ct),tt[ct.id]=!0)}),Re?.forEach(function(ct){var Nt=tt[ct.source]&&tt[ct.target]||J?.("edge",ct,{min:de,max:Ee}),Ut=!!c.findById(ct.id);Ut&&!Nt?(c.removeItem(ct.id),xt[ct.id]=!1):!Ut&&Nt?(c.addItem("edge",ct),xt[ct.id]=!0):Ut||(xt[ct.id]=!1)})),(this.get("filterEdge")||F.includes("edge"))&&Re?.filter(function(ct){var Nt=+(Q?.(ct)||ct.date),Jn=(Nt>=de&&Nt<=Ee||J?.("edge",ct,{min:de,max:Ee}))&&tt[ct.source]&&tt[ct.target],zn=xt[ct.id];zn&&!Jn?(xt[ct.id]=!1,c.removeItem(ct.id)):!zn&&Jn&&(xt[ct.id]=!0,c.addItem("edge",ct))})}else F.includes("node")&&c.getNodes().forEach(function(ct){var Nt=ct.getModel();if(!J?.("node",Nt,{min:de,max:Ee})){var Ut=+(Q?.(Nt)||Nt.date);Ut<de||Ut>Ee?c.hideItem(ct):c.showItem(ct)}}),(this.get("filterEdge")||F.includes("edge"))&&c.getEdges().forEach(function(ct){var Nt=ct.getModel();if(!J?.("edge",Nt,{min:o[u].date,max:o[d].date})){var Ut=+(Q?.(Nt)||Nt.date);if(Ut<o[u].date||Ut>o[d].date)c.hideItem(ct);else{var Mn=ct.getSource().isVisible(),Jn=ct.getTarget().isVisible();Mn&&Jn&&c.showItem(ct)}}})}}else console.warn("\u8bf7\u914d\u7f6e TimeBar \u7ec4\u4ef6\u7684\u6570\u636e")},t.prototype.initEvent=function(){var e=this.get("graph");e.on("afterchangedata",this.changeData),e.on("afterrender",this.afterrenderListener),e.on(Nd,this.valueChangeListener)},t.prototype.destroy=function(){var e=this.get("graph");e.off("afterchangedata",this.changeData),e.off("afterrender",this.afterrenderListener),e.off(Nd,this.valueChangeListener);var n=this.get("timebar");n&&n.destory&&n.destory(),r.prototype.destroy.call(this);var i=this.get("timeBarContainer");if(i){var a=this.get("container");a||(a=this.get("graph").get("container")),(0,ue.isString)(a)&&(a=document.getElementById(a)),a.removeChild(i)}},t}(Ll);const Bue=Fue;var zue=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vue=cl.applyMatrix,Uue=function(r){function t(e){return r.call(this,e)||this}return zue(t,r),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,n=this._cfgs,i=n.graph;if(!this.destroyed){var a=this.get("container");(0,ue.isString)(a)&&(a=document.getElementById(a));var o=go("<div class=".concat(n.viewportClassName,"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff;\n        cursor:move'\n      </div>")),s=0,l=0,c=!1,u=0,d=0,h=0,v=0,y=0,D=0;a.addEventListener("mousedown",function(F){if(n.refresh=!1,F.target===o){var K=o.style;h=parseInt(K.width,10),v=parseInt(K.height,10);var Q=e.get("width"),J=e.get("height");h>Q||v>J||(D=i.getZoom(),y=e.get("ratio"),c=!0,s=F.clientX,l=F.clientY)}},!1),a.addEventListener("mousemove",function(F){if(c&&!(0,ue.isNil)(F.clientX)&&!(0,ue.isNil)(F.clientY)){var K=e.get("width"),Q=e.get("height"),J=o.style;u=parseInt(J.left,10),d=parseInt(J.top,10),h=parseInt(J.width,10),v=parseInt(J.height,10);var de=s-F.clientX,Ee=l-F.clientY;u-de<0?de=u:u-de+h>=K&&(de=0),d-Ee<0?Ee=d:d-Ee+v>=Q&&(Ee=0),d-=Ee,Yi(o,{left:"".concat(u-=de,"px"),top:"".concat(d,"px")}),i.translate(de*D/y,Ee*D/y),s=F.clientX,l=F.clientY}},!1),a.addEventListener("mouseleave",function(){c=!1,n.refresh=!0},!1),a.addEventListener("mouseup",function(){c=!1,n.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),n=this.get("width"),i=this.get("height"),a=this.get("graph"),o=a.get("width"),l=o/a.get("height"),c=a.getGroup(),u=c.getCanvasBBox(),d=[(u.minX+u.maxX)/2,(u.minY+u.maxY)/2],h=[u.maxX-u.minX,u.maxY-u.minY],v={centerX:d[0],centerY:d[1],width:0,height:0,minX:0,minY:0};u[0]/u[1]>l?(v.width=h[0],v.height=v.width/l):(v.height=h[1],v.width=v.height*l),v.minX=d[0]-v.width/2,v.minY=d[1]-v.height/2;var y=c.getMatrix();y||(y=[1,0,0,0,1,0,0,0,1]);var D=wd.invert([1,0,0,0,1,0,0,0,1],y),F=Vue({x:v.minX,y:v.minY},D),K=a.getCanvasByPoint(F.x,F.y),Q=this.get("viewport");Q||this.initViewport();var J=o/v.width,de=J*n,Ee=J*i,ke=n*-K.x/v.width,Re=i*-K.y/v.height,tt=ke+de,xt=Re+Ee;ke<0&&(de+=ke,ke=0),tt>n&&(de-=tt-n),Re<0&&(Ee+=Re,Re=0),xt>i&&(Ee-=xt-i),this.set("ratio",e),Yi(Q,{left:"".concat(ke,"px"),top:"".concat(Re,"px"),width:"".concat(de,"px"),height:"".concat(Ee,"px")})}},t.prototype.init=function(){this.initContainer()},t.prototype.initContainer=function(){var e=this,n=e.get("graph"),i=n.get("width"),o=n.get("height")/i,s=e.get("className"),l=e.get("container"),c=e.get("width"),u=e.get("height");!c&&!u&&(c=200),c?e.set("height",u=o*c):e.set("width",c=1/o*u);var d=go("<div class='".concat(s,"' style='width: ").concat(c,"px; height: ").concat(u,"px; overflow: hidden; position: relative;'></div>"));(0,ue.isString)(l)&&(l=document.getElementById(l)),l?l.appendChild(d):n.get("container").appendChild(d),e.set("container",d);var h=go('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');d.appendChild(h);var v=go('<span style="display: table-cell; vertical-align: middle; "></span>');h.appendChild(v),e.set("containerDOM",h),e.set("containerSpan",v);var y=go('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));e.set("imgDOM",y),e.updateImgSize(),v.appendChild(y),e.updateCanvas()},t.prototype.updateImgSize=function(){var e=this,n=e.get("imgDOM"),i=e.get("width"),a=e.get("height");n.onload=function(){var o=function jue(r,t){var e,n;if(r.naturalWidth)e=r.naturalWidth,n=r.naturalHeight;else{var i=new Image;i.src=r.src,i.onload=function(){t&&t(i.width,i.height)}}return[e,n]}(n);o[0]>o[1]?n.width=i:n.height=a}},t.prototype.updateCanvas=function(){if(this.get("refresh")){var n=this.get("graph");if(!n.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var i=this.get("width"),a=n.get("canvas").getCanvasBBox();this.set("ratio",i/a.width),this.updateViewport()}}},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.updateGraphImg=function(e){var n=this;n.get("imgDOM").remove(),n.set("graphImg",e);var a=go('<img alt="" src="'.concat(e,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));n.set("imgDOM",a),a.src=e,n.updateImgSize(),n.get("containerSpan").appendChild(a),n.updateCanvas()},t.prototype.destroy=function(){var e=this.get("container");e.parentNode.removeChild(e)},t}(Ll);const Gue=Uue;var Hue=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),SC=function(){return SC=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},SC.apply(this,arguments)},Wue=cl.distance,s4={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},Yue=function(r){function t(e){return r.call(this,e)||this}return Hue(t,r),t.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,ue.clone)(s4),showLabel:"edge",scaleRBy:"wheel"}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"filter"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"filter"}}return e},t.prototype.init=function(){var e=this,n=e.get("showLabel"),a="edge"===n||"both"===n;e.set("showNodeLabel","node"===n||"both"===n),e.set("showEdgeLabel",a),e.get("shouldShow")||e.set("shouldShow",function(){return!0})},t.prototype.createDelegate=function(e){var n=this,i=n.get("delegate");(!i||i.destroyed)&&(n.filter(e),(i=n.get("delegate")).on("dragstart",function(a){}),i.on("drag",function(a){n.filter(a)}),"wheel"===this.get("scaleRBy")&&i.on("mousewheel",function(a){n.scaleRByWheel(a)}))},t.prototype.scaleRByWheel=function(e){var n=this;if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var a,i=n.get("graph"),o=n.get("delegate");(o?(o.attr("x"),o.attr("y"),1):void 0)||i.getPointByClient(e.clientX,e.clientY),a=e.originalEvent.wheelDelta<0?.95:1/.95;var c=n.get("maxR"),u=n.get("minR"),d=n.get("r");(d>(c||i.get("height"))&&a>1||d<(u||.05*i.get("height"))&&a<1)&&(a=1),n.set("r",d*=a),n.filter(e)}},t.prototype.filter=function(e){var n=this,i=n.get("graph"),a=i.getNodes(),o={},s=n.get("r"),l=n.get("type"),c={x:e.x,y:e.y};n.updateDelegate(c,s);var u=n.get("shouldShow"),d=n.get("vShapes");d&&d.forEach(function(K){K.remove(),K.destroy()}),d=[],a.forEach(function(K){var Q=K.getModel();Wue({x:Q.x,y:Q.y},c)<s&&(o[Q.id]=K)});var h=i.getEdges(),v=[];h.forEach(function(K){var Q=K.getModel(),J=Q.source,de=Q.target;u(Q)&&("only-source"===l||"one"===l?o[J]&&!o[de]&&v.push(K):"only-target"===l||"one"===l?o[de]&&!o[J]&&v.push(K):"both"===l&&o[J]&&o[de]&&v.push(K))});var y=n.get("showNodeLabel"),D=n.get("showEdgelabel"),F=i.get("group");v.forEach(function(K){K.get("group").get("children").forEach(function(J){var de=J.get("type"),Ee=F.addShape(de,{attrs:J.attr()});d.push(Ee),y&&"text"===de&&Ee.set("visible",!0)})}),Object.keys(o).forEach(function(K){var J=o[K].get("group").clone();if(F.add(J),d.push(J),D)for(var de=J.get("children"),Ee=0;Ee<de.length;Ee++){var ke=de[Ee];"text"===ke.get("type")&&ke.set("visible",!0)}}),n.set("vShapes",d)},t.prototype.updateParams=function(e){var n=this,i=e.r,a=e.trigger,o=e.minR,s=e.maxR,l=e.scaleRBy,c=e.showLabel,u=e.shouldShow;if(isNaN(e.r)||n.set("r",i),isNaN(s)||n.set("maxR",s),isNaN(o)||n.set("minR",o),("mousemove"===a||"click"===a)&&n.set("trigger",a),"wheel"===l||"unset"===l){n.set("scaleRBy",l),n.get("delegate").remove(),n.get("delegate").destroy();var d=n.get("dPercentText");d&&(d.remove(),d.destroy())}("node"===c||"both"===c)&&n.set("showNodeLabel",!0),("edge"===c||"both"===c)&&n.set("showEdgeLabel",!0),u&&n.set("shouldShow",u)},t.prototype.updateDelegate=function(e,n){var i=this,a=i.get("graph"),o=i.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=i.get("delegateStyle")||s4;o=s.addShape("circle",{attrs:SC({r:n,x:e.x,y:e.y},l),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&o.on("mousewheel",function(c){i.scaleRByWheel(c)})}else o.attr({x:e.x,y:e.y,r:n});i.set("delegate",o)},t.prototype.clear=function(){var e=this,n=e.get("vShapes");n&&n.forEach(function(a){a.remove(),a.destroy()}),e.set("vShapes",n=[]);var i=e.get("delegate");i&&!i.destroyed&&(i.remove(),i.destroy())},t.prototype.destroy=function(){this.clear()},t}(Ll);const $ue=Yue;var Xue=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kue=cl.pointLineDistance,que={stroke:"#FA8C16",lineWidth:1},Zue=function(r){function t(e){return r.call(this,e)||this}return Xue(t,r),t.prototype.getDefaultCfgs=function(){return{line:que,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},t.prototype.init=function(){},t.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},t.prototype.onDragStart=function(){this.initBoxLine()},t.prototype.onDrag=function(e){var n=e.item,a=(n.get("delegateShape")||n).getBBox(),o=n.getModel();this.show({x:a.minX+(o.x-a.x),y:a.minY+(o.y-a.y)},{width:a.width,height:a.height})},t.prototype.onDragEnd=function(){this.destory()},t.prototype.initBoxLine=function(){var e=this._cfgs,n=e.horizontalLines,i=e.verticalLines,a=e.itemAlignType;this.get("graph").getNodes().forEach(function(l){var c=l.getBBox(),u=l.get("id");!0===a||"horizontal"===a?(n["".concat(u,"tltr")]=[c.minX,c.minY,c.maxX,c.minY,l],n["".concat(u,"lcrc")]=[c.minX,c.centerY,c.maxX,c.centerY,l],n["".concat(u,"blbr")]=[c.minX,c.maxY,c.maxX,c.maxY,l]):"center"===a&&(n["".concat(u,"lcrc")]=[c.minX,c.centerY,c.maxX,c.centerY,l]),!0===a||"vertical"===a?(i["".concat(u,"tlbl")]=[c.minX,c.minY,c.minX,c.maxY,l],i["".concat(u,"tcbc")]=[c.centerX,c.minY,c.centerX,c.maxY,l],i["".concat(u,"trbr")]=[c.maxX,c.minY,c.maxX,c.maxY,l]):"center"===a&&(i["".concat(u,"tcbc")]=[c.centerX,c.minY,c.centerX,c.maxY,l])})},t.prototype.show=function(e,n){var i=(0,ue.mix)({},e);return this.itemAlign(e,n,i),e},t.prototype.itemAlign=function(e,n,i){var a=this,o=this._cfgs,s=o.horizontalLines,l=o.verticalLines,c=o.tolerance,u={x:i.x+n.width/2,y:i.y},d={x:i.x+n.width/2,y:i.y+n.height/2},h={x:i.x+n.width/2,y:i.y+n.height},v={x:i.x,y:i.y+n.height/2},y={x:i.x+n.width,y:i.y+n.height/2},D=[],F=[],K=null;if(this.clearAlignLine(),(0,ue.each)(s,function(J){J[4].isVisible&&(D.push(a.getLineDisObject(J,u)),D.push(a.getLineDisObject(J,d)),D.push(a.getLineDisObject(J,h)))}),(0,ue.each)(l,function(J){J[4].isVisible&&(F.push(a.getLineDisObject(J,v)),F.push(a.getLineDisObject(J,d)),F.push(a.getLineDisObject(J,y)))}),D.sort(function(J,de){return J.dis-de.dis}),F.sort(function(J,de){return J.dis-de.dis}),0!==D.length&&D[0].dis<c){e.y=D[0].line[1]-D[0].point.y+i.y,K={type:"item",horizontals:[D[0]]};for(var Q=1;Q<3;Q++)D[0].dis===D[Q].dis&&K.horizontals.push(D[Q])}if(0!==F.length&&F[0].dis<c)for(e.x=F[0].line[0]-F[0].point.x+i.x,K?K.verticals=[F[0]]:K={type:"item",verticals:[F[0]]},Q=1;Q<3;Q++)F[0].dis===F[Q].dis&&K.verticals.push(F[Q]);K&&(K.bbox=n,this.addAlignLine(K))},t.prototype.addAlignLine=function(e){var n=e.bbox,i=e.type,a=e.horizontals,o=e.verticals,s=this._cfgs,l=s.line,c=s.alignLines,d=this.get("graph").get("group");"item"===i&&(a&&(0,ue.each)(a,function(h){var F,K,v=h.line,y=h.point;y.x<(v[0]+v[2])/2?(F=y.x-n.width/2,K=Math.max(v[0],v[2])):(F=y.x+n.width/2,K=Math.min(v[0],v[2]));var Q=(0,ue.mix)({x1:F,y1:v[1],x2:K,y2:v[1]},l),J=d.addShape("line",{attrs:Q,capture:!1});c.push(J)}),o&&(0,ue.each)(o,function(h){var F,K,v=h.line,y=h.point;y.y<(v[1]+v[3])/2?(F=y.y-n.height/2,K=Math.max(v[1],v[3])):(F=y.y+n.height/2,K=Math.min(v[1],v[3]));var Q=(0,ue.mix)({x1:v[0],y1:F,x2:v[0],y2:K},l),J=d.addShape("line",{attrs:Q,capture:!1});c.push(J)}))},t.prototype.getLineDisObject=function(e,n){return{line:e,point:n,dis:Kue(e,n)}},t.prototype.getContainer=function(){return this.get("container")},t.prototype.clearAlignLine=function(){var e=this._cfgs.alignLines;(0,ue.each)(e,function(n){n.remove()}),e.length=0},t.prototype.destory=function(){var e=this._cfgs,n=e.horizontalLines,i=e.verticalLines;this.get("graph").getNodes().forEach(function(s){var l=s.get("id");delete n["".concat(l,"tltr")],delete n["".concat(l,"lcrc")],delete n["".concat(l,"blbr")],delete i["".concat(l,"tlbl")],delete i["".concat(l,"tcbc")],delete i["".concat(l,"trbr")]}),this.clearAlignLine()},t}(Ll);const Que=Zue;var Jue=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mo=function(){return Mo=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Mo.apply(this,arguments)},ede=["click","mouseenter"],tde=function(r){function t(e){return r.call(this,e)||this}return Jue(t,r),t.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},t.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var e=this.get("filter")||{};e.multiple&&"mouseenter"===e.trigger&&this.set("multiple",!1);var i=this.get("align");if(!i){var a=this.get("position").split("-");a.includes("left")&&(i="left"),i=a.includes("right")?"right":"center",this.set("align",i)}var s=this.get("graph").get("container"),l=go("<div class='g6-legend-container' style=\"position: absolute;\"></div>");s.appendChild(l),this.set("container",l);var c=this.render();Yi(l,this.getContainerPos(c)),this.bindEvents()},t.prototype.getContainerPos=function(e){void 0===e&&(e=[0,0]);var i=this.get("graph"),a=this.get("offsetX"),o=this.get("offsetY"),s=this.get("margin"),l=this.get("position").split("-"),c={top:0,right:1,bottom:2,left:3},h={left:(i.getWidth()-e[0])/2+0,top:(i.getHeight()-e[1])/2+0};return l.forEach(function(v){var y=s[c[v]],D=v;switch(v){case"top":case"left":y+=0;break;case"bottom":y=i.getHeight()-e[1]-y+0,D="top";break;default:y=i.getWidth()-e[0]-y+0,D="left"}h[D]=y}),h.top+=o+i.getContainer().offsetTop,h.left+=a+i.getContainer().offsetLeft,Object.keys(h).forEach(function(v){h[v]="".concat(h[v],"px")}),h},t.prototype.bindEvents=function(){var e=this,n=e.get("filter");if(n&&n.enable){var i=n.trigger||"click";ede.includes(i)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),i="click");var a=e.get("legendCanvas");"mouseenter"===i?(a.on("node-container:mouseenter",function(o){return e.filterData(o)}),a.on("node-container:mouseleave",function(o){e.clearFilter(),e.clearActiveLegend()})):(a.on("node-container:click",function(o){return e.filterData(o)}),a.on("click",function(o){o.target&&o.target.isCanvas&&o.target.isCanvas()&&(e.clearFilter(),e.clearActiveLegend())}))}},t.prototype.changeData=function(e){this.set("data",e);var n=this.render();Yi(this.get("container"),this.getContainerPos(n))},t.prototype.activateLegend=function(e){var n=this.get("filter"),i=n?.multiple;i||this.clearActiveLegend();var a=e.get("parent");a.get("active")?(a.set("active",!1),this.findLegendItemsByState("active").length&&a.set("inactive",!0)):(a.set("inactive",!1),a.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(d){d.set("inactive",!0)}):this.clearActiveLegend();var o=n?.legendStateStyles||{},s=o?.inactive||{opacity:.5,"text-shape":{opacity:.5}},l=s["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(d){var h=d.get("children"),v=h[0],y=h[1];v.attr(Mo(Mo({},v.get("oriAttrs")),s)),y.attr(Mo(Mo({},y.get("oriAttrs")),l))});var c=o?.active||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},u=c["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(d){var h=d.get("children"),v=h[0],y=h[1];v.attr(Mo(Mo({},v.get("oriAttrs")),c)),y.attr(Mo(Mo({},y.get("oriAttrs")),u))})},t.prototype.findLegendItemsByState=function(e,n,i){void 0===n&&(n="all"),void 0===i&&(i=!0);var a=this.get("legendCanvas").find(function(l){return"root"===l.get("name")}),o=a.find(function(l){return"node-group"===l.get("name")}),s=a.find(function(l){return"edge-group"===l.get("name")});return"node"===n?o.get("children").filter(function(l){return!!l.get(e)===i}):"edge"===n?s.get("children").filter(function(l){return!!l.get(e)===i}):o.get("children").filter(function(l){return!!l.get(e)===i}).concat(s.get("children").filter(function(l){return!!l.get(e)===i}))},t.prototype.clearActiveLegend=function(){var n=this.get("legendCanvas").find(function(a){return"root"===a.get("name")});[n.find(function(a){return"node-group"===a.get("name")}),n.find(function(a){return"edge-group"===a.get("name")})].forEach(function(a){a.get("children").forEach(function(o){o.set("active",!1),o.set("inactive",!1);var s=o.get("children"),l=s[0],c=s[1];l.attr(l.get("oriAttrs")),c.attr(c.get("oriAttrs"))})})},t.prototype.filterData=function(e){var n=this.get("filter"),i=n?.filterFunctions;if(n&&i){var a=this.get("legendCanvas"),o=this.get("graph"),s=n.graphActiveState||"active",l=n.graphInactiveState||"inactive",c=n.multiple;this.clearFilter(),c||this.clearActiveLegend(),this.activateLegend(e.target);var u=a.find(function(K){return"root"===K.get("name")}),d=u.find(function(K){return"node-group"===K.get("name")}),h=u.find(function(K){return"edge-group"===K.get("name")}),v=d.get("children").filter(function(K){return K.get("active")}),y=h.get("children").filter(function(K){return K.get("active")}),D=0,F=["getNodes","getEdges"];F.forEach(function(K){o[K]().forEach(function(Q){var J=!1;("getNodes"===K?v:y).forEach(function(Ee){var ke=i[Ee.get("id")];J=J||ke(Q.getModel())}),J?(o.setItemState(Q,l,!1),o.setItemState(Q,s,!0),D++):(o.setItemState(Q,s,!1),o.setItemState(Q,l,!0))})}),D||F.forEach(function(K){o[K]().forEach(function(Q){o.clearItemStates(Q,[l])})})}},t.prototype.clearFilter=function(){var e=this.get("graph"),n=this.get("filter");if(n){var i=n.graphActiveState||"active",a=n.graphInactiveState||"inactive";e.getNodes().forEach(function(o){e.clearItemStates(o,[i,a])}),e.getEdges().forEach(function(o){e.clearItemStates(o,[i,a])})}},t.prototype.render=function(){var e=this;this.processData();var n=this.get("legendCanvas");n?n.clear():n=new Cf({container:this.get("container"),width:200,height:200});var i=n.addGroup({name:"root"}),a=i.addGroup({name:"node-group"}),o=i.addGroup({name:"edge-group"});this.set("legendCanvas",n);var s=this.get("itemsData"),c=[a,o];["nodes","edges"].forEach(function($t,Tn){s[$t].forEach(function(In){var an,Kn,On=c[Tn].addGroup({id:In.id,name:"node-container"}),Gn=In.type,dr=e.getShapeSize(In),ur=dr.width,Zr=dr.height,yi=dr.r,_i=e.getStyle($t.substr(0,4),In);switch(In.type){case"circle":default:Kn={r:yi,x:0,y:0};break;case"rect":Kn={width:ur,height:Zr,x:-ur/2,y:-Zr/2};break;case"ellipse":Kn={rx:ur,ry:Zr,x:0,y:0},Gn="ellipse";break;case"line":Kn={x1:-ur/2,y1:0,x2:ur/2,y2:0},Gn="line";break;case"quadratic":Kn={path:[["M",-ur/2,0],["Q",0,ur/2,ur/2,0]]},Gn="path";break;case"cubic":Kn={path:[["M",-ur/2,0],["C",-ur/6,ur/2,ur/6,-ur/2,ur/2,0]]},Gn="path";break;case"diamond":Kn={path:[["M",0,-Zr],["L",ur,0],["L",0,Zr],["L",-ur,0],["Z"]]},Gn="path";break;case"triangle":Kn={path:[["M",-ur,Zr],["L",0,-Zr],["L",ur,Zr],["Z"]]},Gn="path";break;case"star":Kn={path:cl.getStarPath(3*yi,1.2*yi)},Gn="path"}var Li=On.addShape(Gn,{attrs:Mo(Mo({},Kn),_i),name:"".concat(In.type,"-node-keyShape"),oriAttrs:Mo({opacity:1},_i)});if(In.label){var Fi=Li.getBBox(),ya=(null===(an=In.labelCfg)||void 0===an?void 0:an.style)||{},Va=Mo({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},ya);On.addShape("text",{attrs:Mo({x:Fi.maxX+4,y:0,text:In.label},Va),className:"legend-label",name:"".concat(In.type,"-node-text"),oriAttrs:Va})}})});var d,u=this.get("padding"),h=i.find(function($t){return"title-container"===$t.get("name")}),v={height:0,maxY:0,width:0};if(this.get("title")){h||(h=i.addGroup({name:"title-container"}));var y={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:u[0]},D=this.get("titleConfig")||{},F=Object.assign(y,D.style||{});d=h.addShape("text",{attrs:Mo({text:this.get("title")},F)}),v=h.getCanvasBBox(),h.setMatrix([1,0,0,0,1,0,D.offsetX,D.offsetY,1])}this.layoutItems();var K=i.getCanvasBBox(),Q=a.getCanvasBBox(),J=Q.minX<0?Math.abs(Q.minX)+u[3]:u[3],de=v.maxY<Q.minY?Math.abs(v.maxY-Q.minY)+u[0]:v.maxY+u[0],Ee=[1,0,0,0,1,0,J,de,1];a.setMatrix(Ee);var ke=[(K=i.getCanvasBBox()).minX+K.width+u[1],K.minY+K.height+u[2]];if(d){D=Mo({position:"center",offsetX:0,offsetY:0},this.get("titleConfig")),v=h.getCanvasBBox();var Re=h.getMatrix()||[1,0,0,0,1,0,0,0,1];"center"===D.position?Re[6]=ke[0]/2+D.offsetX:"right"===D.position?(Re[6]=ke[0]-u[3]+D.offsetX,d.attr({textAlign:"right"})):(Re[6]=u[3]+D.offsetX,d.attr({textAlign:"left"})),h.setMatrix(Re),v=h.getCanvasBBox(),J=Q.minX<0?Math.abs(Q.minX)+u[3]:u[3],de=Q.minY<v.maxY?Math.abs(v.maxY-Q.minY)+u[0]:v.maxY+u[0],a.setMatrix(Ee=[1,0,0,0,1,0,J,de,1]);var tt=[1,0,0,0,1,0,J,de,1];"vertical"===this.get("layout")?tt[6]+=Q.maxX+this.get("horiSep"):tt[7]+=Q.maxY+this.get("vertiSep"),o.setMatrix(tt)}else{Q=a.getCanvasBBox();var xt=[1,0,0,0,1,0,0,0,1];"vertical"===this.get("layout")?xt[6]+=Ee[6]+Q.maxX+this.get("horiSep"):xt[7]+=Ee[7]+Q.maxY+this.get("vertiSep"),o.setMatrix(xt)}K=i.getCanvasBBox(),Q=a.getCanvasBBox(),Ee=a.getMatrix()||[1,0,0,0,1,0,0,0,1];var ct=o.getMatrix()||[1,0,0,0,1,0,0,0,1],Nt=o.getCanvasBBox();ke=[Math.max(Q.width+Ee[6],Nt.width+ct[6])+u[1],Math.max(Q.height+Ee[7],Nt.height+ct[7])+u[2]],n.changeSize(ke[0],ke[1]);var Ut=this.get("containerStyle"),Mn=i.getMatrix()||[1,0,0,0,1,0,0,0,1],Jn=cl.invertMatrix({x:0,y:0},Mn);return i.addShape("rect",{attrs:Mo({x:Jn.x+(Ut.lineWidth||1),y:Jn.y+(Ut.lineWidth||1),width:ke[0]-2*(Ut.lineWidth||1),height:ke[1]-2*(Ut.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},Ut),name:"legend-back-rect",capture:!1}).toBack(),ke},t.prototype.layoutItems=function(){var e=this.get("legendCanvas"),n=this.get("horiSep"),i=this.get("vertiSep"),a=this.get("layout"),o=this.get("align"),s=[0,0],l=e.find(function(de){return"root"===de.get("name")}),c=l.find(function(de){return"node-group"===de.get("name")}),u=l.find(function(de){return"edge-group"===de.get("name")}),d={min:0,max:-1/0},h=-1/0;c.get("children").forEach(function(de,Ee){0===Ee&&(d.min=s[0]);var ke=de.get("children")[0],Re=de.getCanvasBBox(),tt=ke.getBBox(),xt=tt.width,ct=tt.height,Nt=0,Ut=0,Mn=0;"vertical"===a?(Ut=s[1],s[0]=(Mn=s[0]+xt/2)+Re.height+i,Nt=Re.maxX+Ut+xt/2):(Mn=s[1],s[0]=(Ut=s[0]+xt/2)+Re.width+n,Nt=Re.maxY+Mn+ct/2),s[0]>d.max&&(d.max=s[0]),Nt>h&&(h=Nt),de.setMatrix([1,0,0,0,1,0,Ut,Mn,1])});var v=d.max-d.min,y={min:0,max:-1/0},D=c.getCanvasBBox();if(s[0]=0,s[1]="vertical"===a?D.maxX+n:D.maxY+i,u.get("children").forEach(function(de,Ee){0===Ee&&(y.min=s[0]);var ke=de.get("children")[0],Re=de.getCanvasBBox(),tt=ke.getBBox(),xt=tt.width,ct=tt.height,Nt=0,Ut=0;"vertical"===a?(Nt=s[1],s[0]=(Ut=s[0])+Re.height+i,de.setMatrix([1,0,0,0,1,0,0,Ut+ct/2,1])):(Ut=s[1],s[0]=(Nt=s[0])+Re.width+n,de.setMatrix([1,0,0,0,1,0,Nt+xt/2,0,1])),s[0]>y.max&&(y.max=s[0])}),o&&""!==o&&"left"!==o){var K=v-(y.max-y.min),Q="center"===o?Math.abs(K)/2:Math.abs(K);(K<0?c:u).get("children").forEach(function(de){var Ee=de.getMatrix()||[1,0,0,0,1,0,0,0,1];"vertical"===a?Ee[7]+=Q:Ee[6]+=Q,de.setMatrix(Ee)})}},t.prototype.processData=function(){var e=this.get("data"),n={nodes:[],edges:[]};e.nodes&&(e.nodes.sort(function(i,a){return i.order-a.order}),e.nodes.forEach(function(i){var a,o,s,l,c,u=i.size||[(null===(a=i.style)||void 0===a?void 0:a.width)||(null===(o=i.style)||void 0===o?void 0:o.r)||8,(null===(s=i.style)||void 0===s?void 0:s.height)||(null===(l=i.style)||void 0===l?void 0:l.r)||8],d=(null===(c=i.labelCfg)||void 0===c?void 0:c.style)||{};n.nodes.push({id:i.id||(0,ue.uniqueId)(),type:i.type||"circle",style:Mo({},i.style),order:i.order,label:i.label,itemType:"node",size:u,labelCfg:{position:"right",style:Mo({fontFamily:"Arial"},d)}})})),e.edges&&(e.edges.sort(function(i,a){return i.order-a.order}),e.edges.forEach(function(i){var a,o,s=i.type||"line";"cubic-horizontal"===i.type&&(s="cubic");var l=(null===(a=i.labelCfg)||void 0===a?void 0:a.style)||{},c=i.size||[(null===(o=i.style)||void 0===o?void 0:o.width)||8,1];n.edges.push({id:i.id||(0,ue.uniqueId)(),type:s,size:c,style:Mo({lineWidth:(0,ue.isArray)(c)?c[1]:1},i.style),order:i.order,label:i.label,itemType:"edge",labelCfg:{position:"right",style:Mo({fontFamily:"Arial"},l)}})})),this.set("itemsData",n)},t.prototype.getContainer=function(){return this.get("container")},t.prototype.formatArray=function(e){var n=this.get(e);if((0,ue.isNumber)(n))this.set(e,[n,n,n,n]);else if((0,ue.isArray)(n))switch(n.length){case 0:this.set(e,[0,0,0,0]);break;case 1:this.set(e,[n[0],n[0],n[0],n[0]]);break;case 2:this.set(e,[n[0],n[1],n[0],n[1]]);break;case 3:this.set(e,[n[0],n[1],n[2],n[1]])}return this.get(e)},t.prototype.getShapeSize=function(e){var n,i,a;return e.size&&((0,ue.isArray)(e.size)?(n=e.size[0],i=e.size[1]||e.size[0],a=e.size[0]/2):(0,ue.isNumber)(e.size)&&(n=e.size,i=e.size,a=e.size/2)),e.style&&(e.style.width&&(n=e.style.width),e.style.height&&(i=e.style.height),e.style.r&&(a=e.style.r)),a||(a=5),n||(n=a),i||(i=a),{width:n,height:i,r:a}},t.prototype.getStyle=function(e,n){return Mo(Mo({},"node"===e?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1}),n.style||{})},t.prototype.destroy=function(){this.get("legendCanvas")?.destroy();var i=this.get("graph").get("container"),a=this.get("container");i.removeChild(a)},t}(Ll);const nde=tde;var rde=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(e,n)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qc=function(){return Qc=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Qc.apply(this,arguments)},l4=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]])}return e};typeof document<"u"&&ux()("\n  .g6-annotation-container {\n    background-color: rgba(255, 255, 255, 0.3);\n    padding: 8px;\n  }\n  .g6-annotation-wrapper {\n    background-color: #fff;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.85);\n  }\n  .g6-annotation-header-wapper {\n    height: fit-content;\n    width: 100%;\n    background-color: #5B8FF9;\n    display: inline-flex;\n    cursor: move;\n  }\n  .g6-annotation-title {\n    margin: 4px 40px 4px 8px;\n    cursor: text;\n    min-width: 32px;\n  }\n  .g6-annotation-collapse {\n    margin: 4px;\n    cursor: pointer;\n  }\n  .g6-annotation-expand {\n    margin: 4px;\n    cursor: pointer;\n  }\n  .g6-annotation-close {\n    margin: 4px 8px 4px 0;\n    cursor: pointer;\n  }\n  .g6-annotation-content {\n    padding: 8px;\n    width: fit-content;\n    cursor: text;\n    word-break: break-all;\n    min-width: 32px;\n  }\n  .g6-annotation-title-input-wrapper {\n    margin: 4px 40px 4px 8px;\n  }\n  .g6-annotation-content-input {\n    height: 100%;\n    word-break: break-all;\n  }\n  .g6-annotation-content-input-wrapper {\n    margin: 8px;\n    height: 100%;\n  }\n");var c4="canvas-annotation",ide=function(r){function t(e){return r.call(this,e)||this}return rde(t,r),t.prototype.getDefaultCfgs=function(){return{trigger:"click",editable:!0,itemHighlightState:"highlight",linkHighlightStyle:{shadowColor:"#5B8FF9",shadowBlur:10},cardCfg:{minHeight:60,width:"fit-content",height:"fit-content",collapseType:"minimize",closeType:"hide",borderRadius:5,maxTitleLength:20}}},t.prototype.getEvents=function(){var e={viewportchange:"updateLinks",afterlayout:"updateLinks",aftergraphrefreshposition:"updateLinks",afterupdateitem:"updateLink",afterchangedata:"onGraphDataChange",afteritemvisibilitychange:"onGraphItemVisibilityChange"};return"click"===this.get("trigger")&&(e=Qc(Qc({},e),{"node:click":"showAnnotation","edge:click":"showAnnotation"})),e},t.prototype.getDOMContent=function(e){if(!this.destroyed){var n=e.collapsed,i=e.maxWidth,a=e.title,o=void 0===a?"":a,s=e.content,c=e.borderRadius,u=void 0===c?5:c,d=n?"<p class='g6-annotation-expand'>+</p>":"<p class='g6-annotation-collapse'>-</p>",h=n?"":" <p class='g6-annotation-content'>".concat(void 0===s?"":s,"</p>"),y=n?"".concat(u,"px"):"".concat(u,"px ").concat(u,"px 0 0");return'<div class="g6-annotation-wrapper" style="border-radius: '.concat(u,"px; max-width: ").concat(i,'px">\n        <div\n          class="g6-annotation-header-wapper"\n          style="border-radius: ').concat(y,";\"\n        >\n          <h4 class='g6-annotation-title'>").concat(o,"</h4>\n          ").concat(d,"\n          ").concat("<p class='g6-annotation-close'>x</p>","\n        </div>\n        ").concat(h,"\n      </div>")}},t.prototype.init=function(){var e=this;if(!e.destroyed){var i=e.get("graph").getContainer(),a=e.get("container");this.get("containerCfg")?(a=this.createContainer(),i.appendChild(a)):a=i,this.set("container",a);var s=i.getBoundingClientRect(),l=new Cf({container:i,width:s.right-s.left,height:s.bottom-s.top});Yi(l.get("el"),{position:"absolute",top:0,left:0,pointerEvents:"none"}),window.addEventListener("resize",(0,ue.debounce)(function(){return e.resizeCanvas(e)},100));var c=l.addGroup({id:"annotation-link-group"});e.set("linkGroup",c),e.set("canvas",l),e.get("getTitle")||e.set("getTitle",function(d){var h,v=(null===(h=d?.getModel)||void 0===h?void 0:h.call(d))||{};return v.label||v.id||"-"}),e.get("getContent")||e.set("getContent",function(d){var h,v;if(!d)return"-";var y=(null===(h=d.getModel)||void 0===h?void 0:h.call(d))||{},D=y.label,F=y.id,K=null===(v=d.getType)||void 0===v?void 0:v.call(d),Q=K?"".concat(K,": "):"";return"".concat(Q).concat(D||F||"")});var u=e.get("defaultData");u&&this.readData(u)}},t.prototype.createContainer=function(){var e=this;if(!this.destroyed){var n=this.get("containerCfg"),i=this.get("graph"),a=i.getContainer(),o=a.getBoundingClientRect(),s=o.left,c=o.top,d=o.bottom-c,h=o.right-s,v=n.position,y=void 0===v?"top":v,D=n.offsetX,F=void 0===D?0:D,K=n.offsetY,Q=void 0===K?0:K,J=l4(n,["position","offsetX","offsetY"]),de=n.height,Ee=void 0===de?"fit-content":de,ke=n.width,Re=void 0===ke?i.getWidth():ke;"100%"===Ee&&(Ee=d),"100%"===Re&&(Re=h);var tt="unset",xt="unset",ct={};switch(y){case"right":tt="".concat(d,"px"),(ct={top:0,right:0}).right+=s+F,ct.top+=c+Q;break;case"bottom":xt="".concat(h,"px"),(ct={bottom:0,left:0}).left+=s+F,ct.bottom+=c+Q;break;case"top":xt="".concat(h,"px");case"left":tt="".concat(d,"px");default:(ct={top:0,left:0}).left+=s+F,ct.top+=c+Q}Object.keys(ct).forEach(function(Ut){ct[Ut]="".concat(ct[Ut],"px")});var Nt=go("<div class='".concat(n.className," g6-annotation-container'></div>"));return Yi(Nt,Qc(Qc({position:"absolute",display:"top"===y||"bottom"===y?"inline-flex":"unset",width:(0,ue.isNumber)(Re)?"".concat(Re,"px"):Re,height:(0,ue.isNumber)(Ee)?"".concat(Ee,"px"):Ee,maxHeight:tt,maxWidth:xt,overflow:"scroll"},ct),J)),a.appendChild(Nt),Nt.addEventListener("scroll",function(Ut){e.updateLinks()}),Nt}},t.prototype.resizeCanvas=function(e){clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){if(e&&!e.destroyed){var n=e.get("container").getBoundingClientRect(),i=n.right-n.left,a=n.bottom-n.top;e.get("canvas").changeSize(i,a),e.updateOutsideCards(e)}},250)},t.prototype.updateOutsideCards=function(e){var n=e||this,i=n.get("cardInfoMap")||{},a=n.get("graph"),o=a.getPointByCanvas(0,0),s=a.getPointByCanvas(a.getWidth(),a.getHeight()),l=a.getClientByPoint(o.x,o.y),c=l.x,u=l.y,d=a.getClientByPoint(s.x,s.y),h=d.x,v=d.y;Object.values(i).forEach(function(y){var D=y.card;if(D){var F=D.style,K=qp(F.left),Q=qp(F.top),J=D.getBoundingClientRect(),de=J.width,Ee=J.height,ke=K,Re=Q;K+de>h-c&&(ke=h-c-de),K<0&&(ke=0),Q+Ee>v-u&&(Re=v-u-Ee),Q<0&&(Re=0),Yi(D,{left:"".concat(ke,"px"),top:"".concat(Re,"px")})}}),n.updateLinks()},t.prototype.showAnnotation=function(e){this.destroyed||this.toggleAnnotation(e.item)},t.prototype.hideCards=function(){var e=this;if(!e.destroyed){var n=e.get("cardInfoMap")||{};Object.keys(n).forEach(function(i){e.hideCard(i)})}},t.prototype.toggleAnnotation=function(e,n){var i,a;void 0===n&&(n={});var o=this;if(!o.destroyed){var s=o.get("cardInfoMap")||{},l=o.get("graph"),c=o.get("container"),u=o.get("containerCfg"),d=Object.assign({},o.get("cardCfg")||{},n),h=d.minHeight,v=d.minWidth,y=d.width,D=d.height,F=d.collapsed,K=void 0!==F&&F,Q=d.x,J=d.y,de=d.title,Ee=d.content,ke=d.maxTitleLength,Re=d.defaultBegin,tt=l4(d,["minHeight","minWidth","width","height","collapsed","x","y","title","content","maxTitleLength","defaultBegin"]),xt=o.get("linkGroup"),ct=this.get("rows")||[[]],Nt=null===(i=e.isCanvas)||void 0===i?void 0:i.call(e),Ut=Nt?c4:e.getID(),Mn=s[Ut]||{},Jn=Mn.card,zn=Mn.link,$t=Mn.x,Tn=Mn.y,In=Mn.title,an=Mn.content,On=this.get("getTitle"),Kn=this.get("getContent"),Gn=this.get("getContentPlaceholder")||function(){return""},dr=this.get("getTitlePlaceHolder")||function(){return""},ur=Gn(e),Zr=dr(e),yi=go(this.getDOMContent(Qc({itemId:Ut,collapsed:K,title:(null===(a=In||de||On?.(e))||void 0===a?void 0:a.substr(0,ke))||Zr,content:an||Ee||Kn?.(e)||ur},tt))),_i=(0,ue.isNumber)(h)?"".concat(h,"px"):h;Yi(yi,{minHeight:K?"unset":_i,minWidth:(0,ue.isNumber)(v)?"".concat(v,"px"):v,height:D,width:y});var Fi,Li=!!Jn;if(Li?(zn?.remove(!0),c.replaceChild(yi,Jn)):c.appendChild(yi),!u){if(Fi=c.getBoundingClientRect()||{},void 0!==Q&&void 0!==J)$t=Q,Tn=J;else if(!Li&&!Nt){var ya=Fi.top,Va=Re||{},Qa=Va.left,tu=Va.right,nu=Va.top,cs=Va.bottom,wc=void 0===tu?16:tu,Xs=void 0===nu?8:nu;isNaN(Qa)||(wc=c.scrollWidth-Qa),isNaN(cs)||(Xs=c.scrollHeight-cs);var Sl=(0,ue.isNumber)(v)?v:100;$t=c.scrollWidth-yi.scrollWidth-(ct.length-1)*Sl-wc;var $i=ct[ct.length-1];Tn=($i[$i.length-1]||{}).bbox?.bottom-ya||Xs}Yi(yi,{position:"absolute",left:"".concat($t,"px"),top:"".concat(Tn,"px"),cusor:u?"unset":"move"})}this.bindListener(yi,Ut);var Gi=yi.getBoundingClientRect();if(!Nt){var Ca=MC(e,Gi,l,this.get("canvas")),Ha=this.get("linkStyle");zn=xt.addShape("path",{attrs:Qc({lineWidth:1,lineDash:[5,5],stroke:"#ccc",path:Ca},Ha)})}if(s[Ut]=Qc(Qc({},s[Ut]||{}),{id:Ut,collapsed:K,card:yi,link:zn,x:$t,y:Tn,cardBBox:Gi,content:an||Ee,title:In||de,contentPlaceholder:ur,titlePlaceholder:Zr,isCanvas:Nt}),o.set("cardInfoMap",s),u)this.updateCardPositionsInConatainer(),this.updateLinks();else{var Wr=!isNaN(Q)&&!isNaN(J);if(!Li&&!Nt&&!Wr){var ta=Fi.bottom,aa=void 0===ta?0:ta;ya=Fi.top,ct[ct.length-1].push({id:Ut,bbox:Gi}),Gi.top>aa-ya-Gi.height-16&&ct.push([]),this.set("rows",ct)}}this.updateCardSize(Ut),this.get("onAnnotationChange")?.(s[Ut],Li?"update":"create")}},t.prototype.updateCardPositionsInConatainer=function(){if(!this.destroyed){var e=this.get("cardInfoMap");if(e){var n=this.get("container"),i=this.get("containerCfg").position,a=n.getBoundingClientRect().width,o=getComputedStyle(n),s=qp(o.paddingLeft)+qp(o.paddingRight);a-=s,Object.values(e).forEach(function(l){var c=l.card,u=c.getBoundingClientRect().width;switch(i){case"right":Yi(c,{marginLeft:a?"".concat(a-u,"px"):"0px"});break;case"top":case"bottom":Yi(c,{marginLeft:"8px"})}})}}},t.prototype.handleExpandCollapseCard=function(e){if(!this.destroyed){var n=this.get("graph"),i=this.get("cardInfoMap");if(i){var a=i[e].collapsed,o=n.findById(e);o&&("hide"!==this.get("cardCfg").collapseType||a?this.toggleAnnotation(o,{collapsed:!a}):this.hideCard(e),i[e]=Qc(Qc({},i[e]),{collapsed:!a}))}}},t.prototype.hideCard=function(e){if(!this.destroyed){var n=this.get("cardInfoMap");if(n&&n[e]){var i=n[e],o=i.link;Yi(i.card,{display:"none"}),o?.hide(),this.get("onAnnotationChange")(n[e],"hide")}}},t.prototype.removeCard=function(e){if(!this.destroyed){var n=this.get("cardInfoMap");if(n){var i=n[e],a=i.card,o=i.link;this.get("container").removeChild(a),o?.remove(!0),delete n[e],this.get("onAnnotationChange")(i,"remove")}}},t.prototype.bindListener=function(e,n){var i=this;if(!this.destroyed){e.addEventListener("mousemove",function(l){var c;if("g6-annotation-collapse"===l.target.className?c="collapse":"g6-annotation-expand"===l.target.className?c="expand":"g6-annotation-close"===l.target.className&&(c="close"),c){var u=i.get("cardCfg").onMouseEnterIcon;(void 0===u?function(){}:u)(l,n,c)}}),e.addEventListener("mouseout",function(l){var c;if("g6-annotation-collapse"===l.target.className?c="collapse":"g6-annotation-expand"===l.target.className?c="expand":"g6-annotation-close"===l.target.className&&(c="close"),c){var u=i.get("cardCfg").onMouseLeaveIcon;(void 0===u?function(){}:u)(l,n,c)}}),e.addEventListener("mouseenter",function(l){var c=i.get("cardInfoMap");if(c){var u=i.get("graph"),d=u.findById(n);if(d){var h=i.get("itemHighlightState");u.setItemState(d,h,!0)}var v=c[n].link;if(v){var y=i.get("linkHighlightStyle")||{};v.attr(y)}}}),e.addEventListener("mouseleave",function(l){var c=i.get("cardInfoMap");if(c){var u=i.get("graph"),d=u.findById(n);if(d){var h=i.get("itemHighlightState");u.setItemState(d,h,!1)}var v=c[n].link;if(v){var y=i.get("linkHighlightStyle")||{};Object.keys(y).forEach(function(F){v.attr(F,void 0),v.attr(F,void 0)});var D=i.get("linkStyle");v.attr(D)}}}),e.addEventListener("click",function(l){var c=(i.get("cardCfg")||{}).onClickIcon;"g6-annotation-collapse"===l.target.className||"g6-annotation-expand"===l.target.className?("hide"===i.get("cardCfg").collapseType?i.hideCard(n):i.handleExpandCollapseCard(n),c?.(l,n,"g6-annotation-collapse"===l.target.className?"collapse":"expand")):"g6-annotation-close"===l.target.className&&("remove"===i.get("cardCfg").closeType?i.removeCard(n):i.hideCard(n),c?.(l,n,"close"))}),this.get("editable")&&e.addEventListener("dblclick",function(l){var c=i.get("cardInfoMap"),u=(i.get("cardCfg")||{}).maxTitleLength,d=void 0===u?20:u;if(c){var h=l.target,v=h.className;if("g6-annotation-title"===v||"g6-annotation-content"===v){var y="g6-annotation-title"===v?h.getBoundingClientRect():h.parentNode.getBoundingClientRect(),D=y.width,F=y.height,K=getComputedStyle(h),J=go("<".concat("g6-annotation-title"===v?"input":"textarea",' class="').concat(v,'-input" type="textarea" style="width:').concat(D,"px; height: ").concat(F,'px; min-width: 16px;"/>')),de=go('<div class="'.concat(v,'-input-wrapper" style="width: ').concat(D,"px; height: ").concat(F,"px; min-width: 16px; margin-right: ").concat(K.marginRight,'" />'));de.appendChild(J),h.parentNode.replaceChild(de,h);var Ee=c[n],ke=Ee.contentPlaceholder,Re=Ee.titlePlaceholder,xt=Ee.title,ct=Ee.content;"g6-annotation-title"===v?(J.name="title",J.maxLength=d,ct=xt):J.name="content",ct?(J.innerHTML=h.innerHTML,J.value=h.innerHTML):J.placeholder="g6-annotation-title"===v?Re:ke,J.focus(),J.addEventListener("blur",function(Nt){J.value&&(h.innerHTML=J.value,Ee[J.name||"title"]=J.value),de.parentNode.replaceChild(h,de),i.updateCardSize(n),i.get("onAnnotationChange")?.(Ee,"update")})}}});var o=["g6-annotation-title","g6-annotation-content","g6-annotation-title-input","g6-annotation-content-input"];e.draggable=!0,e.addEventListener("dragstart",function(l){if(!o.includes(l.target.className)){var u=e.style;i.set("dragging",{card:e,x:l.clientX,y:l.clientY,left:qp(u.left),top:qp(u.top)})}}),e.addEventListener("drag",function(l){l.preventDefault();var c=i.get("cardInfoMap");if(c){var u=l.clientX,d=l.clientY,h=i.get("dragging");if(!isNaN(u)&&!isNaN(d)&&h){var v=h.x,y=h.y,D=h.left,F=h.top,K=h.card,Q=u-v,J=d-y;D+=Q,F+=J;var de=i.get("graph"),Ee=de.getPointByCanvas(0,0),ke=de.getPointByCanvas(de.getWidth(),de.getHeight()),Re=de.getClientByPoint(Ee.x,Ee.y),tt=Re.x,xt=Re.y,ct=de.getClientByPoint(ke.x,ke.y),Nt=ct.x,Ut=ct.y,Mn=K.getBoundingClientRect();(D>Nt-tt-(Mn.right-Mn.left)&&Q>0||D<0&&Q<0)&&(D-=Q),(F>Ut-xt-(Mn.bottom-Mn.top)&&J>0||F<0&&J<0)&&(F-=J),Yi(K,{left:"".concat(D,"px"),top:"".concat(F,"px"),visibility:"hidden"}),v=u,y=d;var $t=(c[n]||{}).link;if($t){var Tn=de.findById(n);$t.attr("path",MC(Tn,Mn,de,i.get("canvas")))}i.set("dragging",{x:v,y,left:D,top:F,card:K})}}}),e.addEventListener("dragend",function(c){var u=i.get("cardInfoMap");if(u){var d=i.get("dragging");if(d){var v=d.top,y=d.card;u[n].x=d.left,u[n].y=v,Yi(y,{visibility:"visible"}),i.set("dragging",!1),i.get("rows")?.forEach(function(K){for(var Q=K.length-1;Q>=0;Q--)K[Q].id===n&&K.splice(Q,1)}),i.get("onAnnotationChange")?.(u[n],"update")}}})}},t.prototype.updateCardSize=function(e){var n=this.get("cardInfoMap");if(n){var i=n[e].card,a=i.getBoundingClientRect().width,o=i.getElementsByClassName("g6-annotation-title")[0];if(o){var s=getComputedStyle(o),l=qp(s.marginLeft),c=o.getBoundingClientRect().width;Yi(o,{marginRight:"".concat(a-l-24-16-c,"px")})}}},t.prototype.updateLink=function(e){var n=e.item;if(n){var i=this.get("cardInfoMap");if(i){var a=this.get("canvas"),o=this.get("graph"),l=i[n.getID()]||{},c=l.link;if(c){var d=MC(n,l.card.getBoundingClientRect(),o,a);c.attr("path",d)}}}},t.prototype.updateLinks=function(){var e=this;if(!this.destroyed){var n=this.get("cardInfoMap");if(n){var i=this.get("graph");Object.values(n).forEach(function(a){var s=i.findById(a.id);e.updateLink({item:s})})}}},t.prototype.onGraphDataChange=function(){var e=this,n=this.get("cardInfoMap");if(n){var i=this.get("graph");Object.values(n).forEach(function(a){var o=a.id,s=a.card;if(s&&!a.isCanvas&&"none"!==s.style.display){var c=i.findById(o);c&&c.isVisible()?e.toggleAnnotation(c):e.hideCard(o)}})}},t.prototype.onGraphItemVisibilityChange=function(e){var n=e.item,i=e.visible;if(n&&!n.destroyed){var a=this.get("cardInfoMap");if(a){var o=n.getID();a[o]&&(i||this.hideCard(o))}}},t.prototype.saveData=function(e){void 0===e&&(e=!1);var n=this.get("cardInfoMap");if(n){var i=this.get("graph"),a=this.get("getTitle"),o=this.get("getContent"),s=[];return Object.values(n).forEach(function(l){var c=l.title,u=l.content,d=l.x,h=l.y,v=l.id,y=l.collapsed,D=l.card;if(!D||"none"!==D.style.display||e){var F=i.findById(v)||i.get("canvas");s.push({id:v,x:d,y:h,collapsed:y,title:c||a?.(F),content:u||o?.(F),visible:D&&"none"!==D.style.display})}}),s}},t.prototype.readData=function(e){var n=this,i=this.get("graph");e.forEach(function(a){var o=a.id,s=a.x,l=a.y,c=a.title,u=a.content,d=a.collapsed,h=a.visible,v=i.findById(o);if(!v&&o===c4&&(v=i.get("canvas")),!v){var y=n.get("cardInfoMap")||{};return y[o]=a,void n.set("cardInfoMap",y)}n.toggleAnnotation(v,{x:s,y:l,title:c,content:u,collapsed:d}),h||n.hideCard(o)})},t.prototype.clear=function(){var e=this.get("cardInfoMap");if(e){var n=this.get("container");Object.values(e).forEach(function(i){var o=i.link;n.removeChild(i.card),o?.remove(!0)}),this.set("cardInfoMap",{})}},t.prototype.destroy=function(){var e;this.clear(),null===(e=this.get("canvas"))||void 0===e||e.destroy();var n=this.get("graph");!n||n.destroyed||(this.get("containerCfg")&&n.getContainer().removeChild(this.get("container")),this.destroyed=!0)},t}(Ll),MC=function(t,e,n,i){var a,o;if("edge"===t.getType())o=[t.getKeyShape().getPoint(.5)];else{var l=null===(a=t.getKeyShape)||void 0===a?void 0:a.call(t).getBBox(),c=l.minX,u=l.minY,d=l.maxX,h=l.maxY,v=t.getModel(),y=v.x,D=v.y;o={left:{x:c+=y,y:((u+=D)+(h+=D))/2},right:{x:d+=y,y:(u+h)/2},top:{x:(c+d)/2,y:u},bottom:{x:(c+d)/2,y:h}}}Object.keys(o).forEach(function(xt){var ct=o[xt],Mn=n.getClientByPoint(ct.x,ct.y);o[xt]=i.getPointByClient(Mn.x,Mn.y)});var F=e.top,K=void 0===F?0:F,Q=e.left,J=void 0===Q?0:Q,de=e.right,Ee=void 0===de?0:de,ke=e.bottom,Re=void 0===ke?0:ke,tt={left:i.getPointByClient(J,(K+Re)/2),right:i.getPointByClient(Ee,(K+Re)/2),top:i.getPointByClient((J+Ee)/2,K),bottom:i.getPointByClient((J+Ee)/2,Re)};return function(t,e){var n,i,o=1/0;Object.keys(t).forEach(function(c){var u=t[c];Object.keys(e).forEach(function(d){var h=e[d],v=u.x-h.x,y=u.y-h.y,D=v*v+y*y;o>D&&(o=D,n=u,i=h)})});var l=cl.getControlPoint(n,i,.5,20);return[["M",n.x,n.y],["Q",l.x,l.y,i.x,i.y]]}(o,tt)},qp=function(t){return Number(t.replace(/\s+|px/gi,""))||0};const os={PluginBase:Ll,Menu:_le,Grid:vle,Minimap:Cle,Bundling:Ile,ToolBar:Fle,Tooltip:Vle,Fisheye:Nle,TimeBar:Bue,ImageMinimap:Gue,EdgeFilterLens:$ue,SnapLine:Que,Legend:nde,Annotation:ide};Mf("circle",{options:{size:hr.defaultNode.size,style:{x:0,y:0,stroke:hr.defaultNode.style.stroke,fill:hr.defaultNode.style.fill,lineWidth:hr.defaultNode.style.lineWidth},labelCfg:{style:{fill:hr.nodeLabel.style.fill,fontSize:hr.nodeLabel.style.fontSize,fontFamily:hr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:hr.defaultNode.linkPoints.size,lineWidth:hr.defaultNode.linkPoints.lineWidth,fill:hr.defaultNode.linkPoints.fill,stroke:hr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Me.__assign)({},hr.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=void 0===n?{}:n,a=this.getShapeStyle(t),o=(0,ue.deepMix)({},i,t.icon),s="".concat(this.type,"-keyShape"),l=e.addShape("circle",{attrs:a,className:s,name:s,draggable:!0});e.shapeMap[s]=l;var c=o.width,u=o.height,h=o.text;if(o.show){var v="".concat(this.type,"-icon");e.shapeMap[v]=h?e.addShape("text",{attrs:(0,Me.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:v,name:v,draggable:!0}):e.addShape("image",{attrs:(0,Me.__assign)({x:-c/2,y:-u/2},o),className:v,name:v,draggable:!0})}return this.drawLinkPoints(t,e),l},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints;if(n){var i=n||{},a=i.top,o=i.left,s=i.right,l=i.bottom,c=i.size,u=i.r,d=(0,Me.__rest)(i,["top","left","right","bottom","size","r"]),v=this.getSize(t)[0]/2;if(o){var y="link-point-left";e.shapeMap[y]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:-v,y:0,r:c/2||u||5}),className:y,name:y,isAnchorPoint:!0})}if(s){var D="link-point-right";e.shapeMap[D]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:v,y:0,r:c/2||u||5}),className:D,name:D,isAnchorPoint:!0})}if(a){var F="link-point-top";e.shapeMap[F]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:0,y:-v,r:c/2||u||5}),className:F,name:F,isAnchorPoint:!0})}if(l){var K="link-point-bottom";e.shapeMap[K]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:0,y:v,r:c/2||u||5}),className:K,name:K,isAnchorPoint:!0})}}},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,i=(0,ue.deepMix)({},e,{stroke:t.color}),a=this.getSize(t);return(0,Me.__assign)({x:0,y:0,r:a[0]/2},i)},update:function(t,e,n){var i=e.getContainer(),a=this.getSize(t),o=(0,Me.__assign)({},t.style);void 0===t.style.stroke&&t.color&&(o.stroke=t.color),void 0===t.style.r&&!isNaN(a[0])&&(o.r=a[0]/2),this.updateShape(t,e,o,!0,n),this.updateLinkPoints(t,i)}},"single-node"),Mf("rect",{options:{size:[100,30],style:{radius:0,stroke:hr.defaultNode.style.stroke,fill:hr.defaultNode.style.fill,lineWidth:hr.defaultNode.style.lineWidth},labelCfg:{style:{fill:hr.nodeLabel.style.fill,fontSize:hr.nodeLabel.style.fontSize,fontFamily:hr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:hr.defaultNode.linkPoints.size,lineWidth:hr.defaultNode.linkPoints.lineWidth,fill:hr.defaultNode.linkPoints.fill,stroke:hr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Me.__assign)({},hr.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t),i=e.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return e.shapeMap["".concat(this.type,"-keyShape")]=i,this.drawLinkPoints(t,e),i},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=void 0===n?{}:n,a=i.top,o=i.left,s=i.right,l=i.bottom,c=i.size,u=i.r,d=(0,Me.__rest)(i,["top","left","right","bottom","size","r"]),h=this.getSize(t),v=h[0],y=h[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:-v/2,y:0,r:c/2||u||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:v/2,y:0,r:c/2||u||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:0,y:-y/2,r:c/2||u||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:0,y:y/2,r:c/2||u||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,i=(0,ue.mix)({},e,{stroke:t.color}),a=this.getSize(t),o=i.width||a[0],s=i.height||a[1];return(0,Me.__assign)({x:-o/2,y:-s/2,width:o,height:s},i)},update:function(t,e,n){var i=e.getContainer(),a=this.getOptions({}).style,o=this.getSize(t),s=e.get("keyShape");t.size||(o[0]=s.attr("width")||a.width,o[1]=s.attr("height")||a.height);var l={stroke:t.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},c=(0,ue.mix)({},a,s.attr(),l);c=(0,ue.mix)(c,t.style),this.updateShape(t,e,c,!1,n),this.updateLinkPoints(t,i)}},"single-node"),Mf("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:hr.defaultNode.style.stroke,fill:hr.defaultNode.style.fill,lineWidth:hr.defaultNode.style.lineWidth},labelCfg:{style:{fill:hr.nodeLabel.style.fill,fontSize:hr.nodeLabel.style.fontSize,fontFamily:hr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:hr.defaultNode.linkPoints.size,lineWidth:hr.defaultNode.linkPoints.lineWidth,fill:hr.defaultNode.linkPoints.fill,stroke:hr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Me.__assign)({},hr.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=void 0===n?{}:n,a=this.getShapeStyle(t),o=e.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});e.shapeMap["ellipse-keyShape"]=o;var s=i.width,l=i.height,u=i.text;return i.show&&(e.shapeMap["".concat(this.type,"-icon")]=u?e.addShape("text",{attrs:(0,Me.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:(0,Me.__assign)({x:-s/2,y:-l/2},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=void 0===n?{}:n,a=i.top,o=i.left,s=i.right,l=i.bottom,c=i.size,u=i.r,d=(0,Me.__rest)(i,["top","left","right","bottom","size","r"]),h=this.getSize(t),v=h[0]/2,y=h[1]/2;o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:-v,y:0,r:c/2||u||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:v,y:0,r:c/2||u||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:0,y:-y,r:c/2||u||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:0,y,r:c/2||u||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,i=(0,ue.mix)({},e,{stroke:t.color}),a=this.getSize(t);return(0,Me.__assign)({x:0,y:0,rx:a[0]/2,ry:a[1]/2},i)},update:function(t,e,n){var i=e.getContainer(),a=this.getOptions({}).style,o=this.getSize(t),s={stroke:t.color,rx:o[0]/2,ry:o[1]/2},l=e.get("keyShape"),c=(0,ue.mix)({},a,l.attr(),s);c=(0,ue.mix)(c,t.style),this.updateShape(t,e,c,!0,n),this.updateLinkPoints(t,i)}},"single-node"),Mf("diamond",{options:{size:[80,80],style:{stroke:hr.defaultNode.style.stroke,fill:hr.defaultNode.style.fill,lineWidth:hr.defaultNode.style.lineWidth},labelCfg:{style:{fill:hr.nodeLabel.style.fill,fontSize:hr.nodeLabel.style.fontSize,fontFamily:hr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:hr.defaultNode.linkPoints.size,lineWidth:hr.defaultNode.linkPoints.lineWidth,fill:hr.defaultNode.linkPoints.fill,stroke:hr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Me.__assign)({},hr.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=void 0===n?{}:n,a=this.getShapeStyle(t),o=e.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=o;var s=i.width,l=i.height,u=i.text;return i.show&&(e.shapeMap["".concat(this.type,"-icon")]=u?e.addShape("text",{attrs:(0,Me.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:(0,Me.__assign)({x:-s/2,y:-l/2},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=void 0===n?{}:n,a=i.top,o=i.left,s=i.right,l=i.bottom,c=i.size,u=i.r,d=(0,Me.__rest)(i,["top","left","right","bottom","size","r"]),h=this.getSize(t),v=h[0],y=h[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:-v/2,y:0,r:c/2||u||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:v/2,y:0,r:c/2||u||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:0,y:-y/2,r:c/2||u||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:0,y:y/2,r:c/2||u||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(t){var e=this.getSize(t),n=e[0],i=e[1];return[["M",0,-i/2],["L",n/2,0],["L",0,i/2],["L",-n/2,0],["Z"]]},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,i=(0,ue.mix)({},e,{stroke:t.color}),a=this.getPath(t);return(0,Me.__assign)({path:a},i)},update:function(t,e,n){var i=e.getContainer(),a=this.getOptions({}).style,o=this.getPath(t),s={stroke:t.color,path:o},l=e.get("keyShape"),c=(0,ue.mix)({},a,l.attr(),s);c=(0,ue.mix)(c,t.style),this.updateShape(t,e,c,!0,n),this.updateLinkPoints(t,i)}},"single-node"),Mf("triangle",{options:{size:40,direction:"up",style:{stroke:hr.defaultNode.style.stroke,fill:hr.defaultNode.style.fill,lineWidth:hr.defaultNode.style.lineWidth},labelCfg:{style:{fill:hr.nodeLabel.style.fill,fontSize:hr.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:hr.defaultNode.linkPoints.size,lineWidth:hr.defaultNode.linkPoints.lineWidth,fill:hr.defaultNode.linkPoints.fill,stroke:hr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,Me.__assign)({},hr.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(t,e){var n=this.mergeStyle||this.getOptions(t),i=n.icon,a=void 0===i?{}:i,o=n.direction,s=this.getShapeStyle(t),l=t.direction||o,c=e.addShape("path",{attrs:s,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=c;var u=a.width,d=a.height,v=a.offset;if(a.show)if(a.text)e.shapeMap["".concat(this.type,"-icon")]=e.addShape("text",{attrs:(0,Me.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var D=-u/2,F=-d/2;("up"===l||"down"===l)&&(F+=v),("left"===l||"right"===l)&&(D+=v),e.shapeMap["".concat(this.type,"-icon")]=e.addShape("image",{attrs:(0,Me.__assign)({x:D,y:F},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(t,e),c},drawLinkPoints:function(t,e){var n=this.mergeStyle||this.getOptions(t),i=n.linkPoints,a=void 0===i?{}:i,s=t.direction||n.direction,l=a.top,c=a.left,u=a.right,d=a.bottom,h=a.size,v=a.r,y=(0,Me.__rest)(a,["top","left","right","bottom","size","r"]),F=this.getSize(t)[0];if(c){var K=null,Q=F*Math.sin(1/3*Math.PI),J=F*Math.sin(1/3*Math.PI);"up"===s?K=[-J,Q]:"down"===s?K=[-J,-Q]:"left"===s&&(K=[-J,J-Q]),K&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},y),{x:K[0],y:K[1],r:h/2||v||5}),className:"link-point-left",name:"link-point-left"}))}if(u){var de=null;Q=F*Math.sin(1/3*Math.PI),J=F*Math.sin(1/3*Math.PI),"up"===s?de=[J,Q]:"down"===s?de=[J,-Q]:"right"===s&&(de=[J,J-Q]),de&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},y),{x:de[0],y:de[1],r:h/2||v||5}),className:"link-point-right",name:"link-point-right"}))}if(l){var Ee=null;Q=F*Math.sin(1/3*Math.PI),J=F*Math.sin(1/3*Math.PI),"up"===s?Ee=[J-Q,-Q]:"left"===s?Ee=[J,-Q]:"right"===s&&(Ee=[-J,-Q]),Ee&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},y),{x:Ee[0],y:Ee[1],r:h/2||v||5}),className:"link-point-top",name:"link-point-top"}))}if(d){var ke=null;Q=F*Math.sin(1/3*Math.PI),J=F*Math.sin(1/3*Math.PI),"down"===s?ke=[-J+Q,Q]:"left"===s?ke=[J,Q]:"right"===s&&(ke=[-J,Q]),ke&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},y),{x:ke[0],y:ke[1],r:h/2||v||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(t){var e=(this.mergeStyle||this.getOptions(t)).direction,n=t.direction||e,a=this.getSize(t)[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return"down"===n?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:"left"===n?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:"right"===n&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,i=(0,ue.mix)({},e,{stroke:t.color}),a=this.getPath(t);return(0,Me.__assign)({path:a},i)},update:function(t,e,n){var i=e.getContainer(),a=this.getOptions({}).style,o=this.getPath(t),s={stroke:t.color,path:o},l=e.get("keyShape"),c=(0,ue.mix)({},a,l.attr(),s);c=(0,ue.mix)(c,t.style),this.updateShape(t,e,c,!0,n),this.updateLinkPoints(t,i)},updateLinkPoints:function(t,e){var n=this.getOptions({}),i=n.linkPoints,o=t.direction||n.direction,s=e.shapeMap["link-point-left"]||e.find(function($t){return"link-point-left"===$t.get("className")}),l=e.shapeMap["link-point-right"]||e.find(function($t){return"link-point-right"===$t.get("className")}),c=e.shapeMap["link-point-top"]||e.find(function($t){return"link-point-top"===$t.get("className")}),u=e.shapeMap["link-point-bottom"]||e.find(function($t){return"link-point-bottom"===$t.get("className")}),d=i,h=s||l||c||u;h&&(d=h.attr());var v=(0,ue.mix)({},d,t.linkPoints),y=v.fill,D=v.stroke,F=v.lineWidth,K=v.size/2;K||(K=v.r);var Q=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},J=Q.left,de=Q.right,Ee=Q.top,ke=Q.bottom,tt=this.getSize(t)[0],xt={r:K,fill:y,stroke:D,lineWidth:F},ct=null,Nt=tt*Math.sin(1/3*Math.PI),Ut=tt*Math.sin(1/3*Math.PI);"up"===o?ct=[-Ut,Nt]:"down"===o?ct=[-Ut,-Nt]:"left"===o&&(ct=[-Ut,Ut-Nt]),ct&&(s?J||void 0===J?s.attr((0,Me.__assign)((0,Me.__assign)({},xt),{x:ct[0],y:ct[1]})):(s.remove(),delete e.shapeMap["link-point-left"]):J&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},xt),{x:ct[0],y:ct[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var Mn=null;"up"===o?Mn=[Ut,Nt]:"down"===o?Mn=[Ut,-Nt]:"right"===o&&(Mn=[Ut,Ut-Nt]),Mn&&(l?de||void 0===de?l.attr((0,Me.__assign)((0,Me.__assign)({},xt),{x:Mn[0],y:Mn[1]})):(l.remove(),delete e.shapeMap["link-point-right"]):de&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},xt),{x:Mn[0],y:Mn[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var Jn=null;"up"===o?Jn=[Ut-Nt,-Nt]:"left"===o?Jn=[Ut,-Nt]:"right"===o&&(Jn=[-Ut,-Nt]),Jn&&(c?Ee||void 0===Ee?c.attr((0,Me.__assign)((0,Me.__assign)({},xt),{x:Jn[0],y:Jn[1]})):(c.remove(),delete e.shapeMap["link-point-top"]):Ee&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},xt),{x:Jn[0],y:Jn[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var zn=null;"down"===o?zn=[-Ut+Nt,Nt]:"left"===o?zn=[Ut,Nt]:"right"===o&&(zn=[-Ut,Nt]),zn&&(u?ke||void 0===ke?u.attr((0,Me.__assign)((0,Me.__assign)({},xt),{x:zn[0],y:zn[1]})):(u.remove(),delete e.shapeMap["link-point-bottom"]):ke&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},xt),{x:zn[0],y:zn[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),Mf("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:hr.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:hr.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:hr.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).preRect,i=void 0===n?{}:n,a=this.getShapeStyle(t),o=this.getSize(t),s=o[0],l=o[1],c=e.addShape("rect",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=c;var u=i.show,d=(0,Me.__rest)(i,["show"]);return u&&(e.shapeMap["pre-rect"]=e.addShape("rect",{attrs:(0,Me.__assign)({x:-s/2,y:-l/2,height:l},d),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(t,e),this.drawStateIcon(t,e),this.drawLinkPoints(t,e),c},drawLogoIcon:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).logoIcon,i=void 0===n?{}:n,o=this.getSize(t)[0];if(i.show){var s=i.width,l=i.height,c=i.x,u=i.y,d=i.offset,h=i.text,v=(0,Me.__rest)(i,["width","height","x","y","offset","text"]);e.shapeMap["rect-logo-icon"]=h?e.addShape("text",{attrs:(0,Me.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},v),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):e.addShape("image",{attrs:(0,Me.__assign)((0,Me.__assign)({},v),{x:c||-o/2+s+d,y:u||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).stateIcon,i=void 0===n?{}:n,o=this.getSize(t)[0];if(i.show){var s=i.width,l=i.height,c=i.x,u=i.y,d=i.offset,h=i.text,v=(0,Me.__rest)(i,["width","height","x","y","offset","text"]);e.shapeMap["rect-state-icon"]=h?e.addShape("text",{attrs:(0,Me.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},v),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):e.addShape("image",{attrs:(0,Me.__assign)((0,Me.__assign)({},v),{x:c||o/2-s+d,y:u||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=void 0===n?{}:n,a=i.top,o=i.left,s=i.right,l=i.bottom,c=i.size,u=i.r,d=(0,Me.__rest)(i,["top","left","right","bottom","size","r"]),h=this.getSize(t),v=h[0],y=h[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:-v/2,y:0,r:c/2||u||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:v/2,y:0,r:c/2||u||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:0,y:-y/2,r:c/2||u||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},d),{x:0,y:y/2,r:c/2||u||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(t,e){var n=this.getOptions(t),i=n.labelCfg,a=void 0===i?{}:i,o=n.logoIcon,s=void 0===o?{}:o,l=n.descriptionCfg,c=void 0===l?{}:l,d=this.getSize(t)[0],h=null,D=-d/2+a.offset;s.show&&(D=-d/2+s.width+a.offset);var F=a.style,K=c.style,Q=c.paddingTop;return(0,ue.isString)(t.description)?(h=e.addShape("text",{attrs:(0,Me.__assign)((0,Me.__assign)({},F),{x:D,y:-5,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e.shapeMap["text-shape"]=h,e.shapeMap["rect-description"]=e.addShape("text",{attrs:(0,Me.__assign)((0,Me.__assign)({},K),{x:D,y:17+(Q||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(h=e.addShape("text",{attrs:(0,Me.__assign)((0,Me.__assign)({},F),{x:D,y:7,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e.shapeMap["text-shape"]=h),h},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,i=(0,ue.mix)({},e,{stroke:t.color}),a=this.getSize(t),o=i.width||a[0],s=i.height||a[1];return(0,Me.__assign)({x:-o/2,y:-s/2,width:o,height:s},i)},update:function(t,e){var n=this.mergeStyle||this.getOptions(t),i=n.style,a=void 0===i?{}:i,o=n.labelCfg,s=void 0===o?{}:o,l=n.descriptionCfg,c=void 0===l?{}:l,u=this.getSize(t),d=u[0],h=u[1];e.get("keyShape").attr((0,Me.__assign)((0,Me.__assign)({},a),{x:-d/2,y:-h/2,width:d,height:h}));var y=e.getContainer(),D=y.shapeMap["rect-logo-icon"]||y.find(function(yi){return"rect-logo-icon"===yi.get("className")}),F=D?D.attr():{},K=(0,ue.mix)({},F,t.logoIcon),Q=K.width;void 0===Q&&(Q=this.options.logoIcon.width);var J=t.logoIcon?t.logoIcon.show:void 0,de=s.offset,Ee=-d/2+Q+de;!J&&void 0!==J&&(Ee=-d/2+de);var ke=y.shapeMap["node-label"]||y.find(function(yi){return"node-label"===yi.get("className")}),Re=y.shapeMap["rect-description"]||y.find(function(yi){return"rect-description"===yi.get("className")});if(t.label)if(ke){var tt=t.labelCfg?t.labelCfg.style:{},xt=(0,ue.mix)({},ke.attr(),tt);t.label&&(xt.text=t.label),xt.x=Ee,(0,ue.isString)(t.description)&&(xt.y=-5),Re&&(Re.resetMatrix(),Re.attr({x:Ee})),ke.resetMatrix(),ke.attr(xt)}else y.shapeMap["node-label"]=y.addShape("text",{attrs:(0,Me.__assign)((0,Me.__assign)({},s.style),{x:Ee,y:t.description?-5:7,text:t.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});if((0,ue.isString)(t.description)){var ct=c.paddingTop;if(Re){tt=t.descriptionCfg?t.descriptionCfg.style:{};var Nt=(0,ue.mix)({},Re.attr(),tt);(0,ue.isString)(t.description)&&(Nt.text=t.description),Nt.x=Ee,Re.resetMatrix(),Re.attr((0,Me.__assign)((0,Me.__assign)({},Nt),{y:17+(ct||0)}))}else y.shapeMap["rect-description"]=y.addShape("text",{attrs:(0,Me.__assign)((0,Me.__assign)({},c.style),{x:Ee,y:17+(ct||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})}var Ut=y.shapeMap["pre-rect"]||y.find(function(yi){return"pre-rect"===yi.get("className")});if(Ut&&!Ut.destroyed){var Mn=(0,ue.mix)({},Ut.attr(),t.preRect);Ut.attr((0,Me.__assign)((0,Me.__assign)({},Mn),{x:-d/2,y:-h/2,height:h}))}if(D&&!D.destroyed)if(J||void 0===J){var Jn=K.width,zn=K.height,$t=K.x,Tn=K.y,In=K.offset,an=(0,Me.__rest)(K,["width","height","x","y","offset"]);D.attr((0,Me.__assign)((0,Me.__assign)({},an),{x:$t||-d/2+Jn+In,y:Tn||-zn/2,width:Jn,height:zn}))}else D.remove(),delete y.shapeMap["pre-rect"];else J&&this.drawLogoIcon(t,y);var On=y.shapeMap["rect-state-icon"]||y.find(function(yi){return"rect-state-icon"===yi.get("className")}),Kn=On?On.attr():{},Gn=(0,ue.mix)({},Kn,t.stateIcon);if(On){!Gn.show&&void 0!==Gn.show&&(On.remove(),delete y.shapeMap["rect-state-icon"]);var dr=Gn.width,ur=(zn=Gn.height,$t=Gn.x,Tn=Gn.y,Gn.offset),Zr=(0,Me.__rest)(Gn,["width","height","x","y","offset"]);On.attr((0,Me.__assign)((0,Me.__assign)({},Zr),{x:$t||d/2-dr+ur,y:Tn||-zn/2,width:dr,height:zn}))}else Gn.show&&this.drawStateIcon(t,y);this.updateLinkPoints(t,y)},getOptions:function(t,e){return"move"===e?t:(0,ue.deepMix)({},this.options,this.getCustomConfig(t)||{},t)}},"single-node"),Mf("star",{options:{size:60,style:{stroke:hr.defaultNode.style.stroke,fill:hr.defaultNode.style.fill,lineWidth:hr.defaultNode.style.lineWidth},labelCfg:{style:{fill:hr.nodeLabel.style.fill,fontSize:hr.nodeLabel.style.fontSize,fontFamily:hr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:hr.defaultNode.linkPoints.size,lineWidth:hr.defaultNode.linkPoints.lineWidth,fill:hr.defaultNode.linkPoints.fill,stroke:hr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Me.__assign)({},hr.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=void 0===n?{}:n,a=this.getShapeStyle(t),o=e.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=o;var s=i.width,l=i.height,u=i.text;return i.show&&(e.shapeMap["".concat(this.type,"-icon")]=u?e.addShape("text",{attrs:(0,Me.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:(0,Me.__assign)({x:-s/2,y:-l/2},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,i=void 0===n?{}:n,a=i.top,o=i.left,s=i.right,l=i.leftBottom,c=i.rightBottom,u=i.size,d=i.r,h=(0,Me.__rest)(i,["top","left","right","leftBottom","rightBottom","size","r"]),y=this.getSize(t)[0];if(s){var D=Math.cos(.1*Math.PI)*y,F=Math.sin(.1*Math.PI)*y;e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},h),{x:D,y:-F,r:u/2||d||5}),className:"link-point-right",name:"link-point-right"})}a&&(D=Math.cos(.5*Math.PI)*y,F=Math.sin(.5*Math.PI)*y,e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},h),{x:D,y:-F,r:u/2||d||5}),className:"link-point-top",name:"link-point-top"})),o&&(D=Math.cos(.9*Math.PI)*y,F=Math.sin(.9*Math.PI)*y,e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},h),{x:D,y:-F,r:u/2||d||5}),className:"link-point-left",name:"link-point-left"})),l&&(D=Math.cos(1.3*Math.PI)*y,F=Math.sin(1.3*Math.PI)*y,e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},h),{x:D,y:-F,r:u/2||d||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})),c&&(D=Math.cos(1.7*Math.PI)*y,F=Math.sin(1.7*Math.PI)*y,e.shapeMap["link-point-right-bottom"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},h),{x:D,y:-F,r:u/2||d||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"}))},getPath:function(t){var n=this.getSize(t)[0];return cl.getStarPath(n,t.innerR||3*n/8)},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,i=(0,ue.mix)({},e,{stroke:t.color}),a=this.getPath(t);return(0,Me.__assign)({path:a},i)},update:function(t,e,n){var i=e.getContainer(),a=this.getOptions({}).style,o=this.getPath(t),s={stroke:t.color,path:o},l=e.get("keyShape"),c=(0,ue.mix)({},a,l.attr(),s);c=(0,ue.mix)(c,t.style),this.updateShape(t,e,c,!0,n),this.updateLinkPoints(t,i)},updateLinkPoints:function(t,e){var n=this.getOptions({}).linkPoints,i=e.shapeMap["link-point-left"]||e.find(function(Nt){return"link-point-left"===Nt.get("className")}),a=e.shapeMap["link-point-right"]||e.find(function(Nt){return"link-point-right"===Nt.get("className")}),o=e.shapeMap["link-point-top"]||e.find(function(Nt){return"link-point-top"===Nt.get("className")}),s=e.shapeMap["link-point-left-bottom"]||e.find(function(Nt){return"link-point-left-bottom"===Nt.get("className")}),l=e.shapeMap["link-point-left-bottom"]||e.find(function(Nt){return"link-point-right-bottom"===Nt.get("className")}),c=n,u=i||a||o||s||l;u&&(c=u.attr());var d=(0,ue.mix)({},c,t.linkPoints),h=d.fill,v=d.stroke,y=d.lineWidth,D=d.size/2;D||(D=d.r);var F=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},K=F.left,Q=F.right,J=F.top,de=F.leftBottom,Ee=F.rightBottom,Re=this.getSize(t)[0],tt={r:D,fill:h,stroke:v,lineWidth:y},xt=Math.cos(.1*Math.PI)*Re,ct=Math.sin(.1*Math.PI)*Re;a?Q||void 0===Q?a.attr((0,Me.__assign)((0,Me.__assign)({},tt),{x:xt,y:-ct})):(a.remove(),delete e.shapeMap["link-point-right"]):Q&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},tt),{x:xt,y:-ct}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),xt=Math.cos(.5*Math.PI)*Re,ct=Math.sin(.5*Math.PI)*Re,o?J||void 0===J?o.attr((0,Me.__assign)((0,Me.__assign)({},tt),{x:xt,y:-ct})):(o.remove(),delete e.shapeMap["link-point-top"]):J&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},tt),{x:xt,y:-ct}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),xt=Math.cos(.9*Math.PI)*Re,ct=Math.sin(.9*Math.PI)*Re,i?K||void 0===K?i.attr((0,Me.__assign)((0,Me.__assign)({},tt),{x:xt,y:-ct})):(i.remove(),delete e.shapeMap["link-point-left"]):K&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},tt),{x:xt,y:-ct}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),xt=Math.cos(1.3*Math.PI)*Re,ct=Math.sin(1.3*Math.PI)*Re,s?de||void 0===de?s.attr((0,Me.__assign)((0,Me.__assign)({},tt),{x:xt,y:-ct})):(s.remove(),delete e.shapeMap["link-point-left-bottom"]):de&&(e.shapeMap["link-point-left-bottom"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},tt),{x:xt,y:-ct}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),xt=Math.cos(1.7*Math.PI)*Re,ct=Math.sin(1.7*Math.PI)*Re,l?Ee||void 0===Ee?l.attr((0,Me.__assign)((0,Me.__assign)({},tt),{x:xt,y:-ct})):(l.remove(),delete e.shapeMap["link-point-right-bottom"]):Ee&&(e.shapeMap["link-point-right-bottom"]=e.addShape("circle",{attrs:(0,Me.__assign)((0,Me.__assign)({},tt),{x:xt,y:-ct}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var u4=cl.defaultSubjectColors,Z0="fan-shape-";Mf("donut",{options:{size:hr.defaultNode.size,style:{x:0,y:0,stroke:hr.defaultNode.style.stroke,fill:hr.defaultNode.style.fill,lineWidth:hr.defaultNode.style.lineWidth},labelCfg:{style:{fill:hr.nodeLabel.style.fill,fontSize:hr.nodeLabel.style.fontSize,fontFamily:hr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:hr.defaultNode.linkPoints.size,lineWidth:hr.defaultNode.linkPoints.lineWidth,fill:hr.defaultNode.linkPoints.fill,stroke:hr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Me.__assign)({},hr.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,i=void 0===n?{}:n,a=this.getShapeStyle(t),o=(0,ue.deepMix)({},i,t.icon),s=e.addShape("circle",{attrs:a,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});e.shapeMap["".concat(this.type,"-keyShape")]=s;var l=o.width,c=o.height,d=o.text;return o.show&&(e.shapeMap["".concat(this.type,"-icon")]=d?e.addShape("text",{attrs:(0,Me.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:(0,Me.__assign)({x:-l/2,y:-c/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),lde(t,e,s),this.drawLinkPoints(t,e),s},updateShape:function(t,e,n,i,a){var o=e.get("keyShape");o.attr((0,Me.__assign)({},n)),cde(t,e,o),this.updateLabel(t,e,a),i&&this.updateIcon(t,e)}},"circle");var lde=function(t,e,n){var i=t.donutAttrs,a=void 0===i?{}:i,o=t.donutColorMap,s=void 0===o?{}:o,l=Object.keys(a).length;if(a&&l>1){var c=d4(a,s),u=c.configs,d=c.totalValue;if(d){var h=f4(n),v=h.lineWidth,y=h.arcR,D=[y,0],F=0;if(1===l)return void CC(e,{arcR:y,arcBegin:D,beginAngle:F,config:u[0],fanIndex:0,lineWidth:v,totalValue:d,drawWhole:!0});for(var K=0;K<u.length;K++){var Q=CC(e,{arcR:y,arcBegin:D,beginAngle:F,config:u[K],fanIndex:K,lineWidth:v,totalValue:d});if(Q.shouldEnd)return;D=Q.arcBegin,F=Q.beginAngle}}}},CC=function(t,e){var D,F,K,n=e.arcR,i=e.arcBegin,a=e.beginAngle,o=e.config,s=e.fanIndex,l=e.lineWidth,u=e.drawWhole,d=void 0!==u&&u,h=e.updateShape,v=void 0===h?void 0:h,y=o.value/e.totalValue;if(y<.001)return{beginAngle:a,arcBegin:i,shape:void 0,shouldEnd:!1};if(d||y>.999)D=[n,1e-4],K=1;else{var Q=y*Math.PI*2;F=a+Q,D=[n*Math.cos(F),-n*Math.sin(F)],K=Q>Math.PI?1:0}var J={path:[["M",i[0],i[1]],["A",n,n,0,K,0,D[0],D[1]],["L",D[0],D[1]]],stroke:o.color||v?.attr("stroke")||u4[s%u4.length],lineWidth:l};return v?v.attr(J):t.shapeMap["".concat(Z0).concat(s)]=t.addShape("path",{attrs:J,name:"".concat(Z0).concat(s),draggable:!0}),{beginAngle:F,arcBegin:D,shape:t.shapeMap["".concat(Z0).concat(s)],shouldEnd:d||y>.999}},cde=function(t,e,n){var i=t.donutAttrs,a=t.donutColorMap,o=void 0===a?{}:a,s={},l=e.getContainer();if(i){var c=d4(i,o),u=c.configs,d=c.totalValue;if(d)for(var h=f4(n),v=h.lineWidth,y=h.arcR,D=[y,0],F=0,K=0;K<u.length;K++){var Q="".concat(Z0).concat(K),J=CC(l,{arcR:y,arcBegin:D,beginAngle:F,config:u[K],fanIndex:K,lineWidth:v,totalValue:d,drawWhole:1===u.length,updateShape:l.shapeMap[Q]});if(J.shape&&(s[Q]=!0),J.shouldEnd)break;D=J.arcBegin,F=J.beginAngle}}Object.keys(l.shapeMap).filter(function(Ee){return Ee.includes(Z0)}).forEach(function(Ee){s[Ee]||(l.shapeMap[Ee].remove(!0),delete l.shapeMap[Ee])})},d4=function(t,e){var n=0,i=[];return Object.keys(t).forEach(function(a){var o=+t[a];isNaN(o)||(i.push({key:a,value:o,color:e[a]}),n+=o)}),{totalValue:n,configs:i}},f4=function(t){var e=t.attr("r"),n=.6*e;return{lineWidth:e-n,arcR:(e+n)/2}},yx=function(t){var e=t.x,n=t.y;return{x:e,y:n,centerX:e,centerY:n,minX:e,minY:n,maxX:e,maxY:n,height:0,width:0}},DC=function(t){for(var e=[],n={},a=t.length-1;a>=0;a--){var o=t[a];o.id="".concat(o.x,"|||").concat(o.y),n[o.id]||(n[o.id]=o,e.push(o))}return e},h4=function(t){return DC(t)},_x=function(t,e){return t.width||t.height?{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}:t},TC=function(t,e,n){var i=function(t,e){var n=Math.abs(t.x-e.centerX),i=Math.abs(t.y-e.centerY);return 0===n&&0===i?0:n/e.width>i/e.height}(e,t);if(0===i){var a=t.centerX,o=t.centerY;return n.y<e.y?o=t.minY:n.x>e.x?a=t.maxX:n.x<e.x?a=t.minX:n.x===e.x&&(o=t.maxY),{x:a,y:o}}return i?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},p4=function(t,e){var n=Math.min(t.minX,e.minX),i=Math.min(t.minY,e.minY),a=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+a)/2,centerY:(i+o)/2,minX:n,minY:i,maxX:a,maxY:o,height:o-i,width:a-n}},AC=function(t){return[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY},{x:t.minX,y:t.maxY}]},bx=function(t,e){var n=t.x,i=t.y;return n<e.minX||n>e.maxX||i<e.minY||i>e.maxY},Q0=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},v4=function(t,e,n,i,a){return Q0(t,e)+Q0(t,n)+function(t,e){var i=0;return e.forEach(function(a){a&&(t.x===a.x&&(i+=-2),t.y===a.y&&(i+=-2))}),i}(t,[e,n,i,a])},gde=function r(t,e,n,i,a){void 0===a&&(a=0),t.unshift(e[i]),n[i]&&n[i]!==i&&a<=100&&r(t,e,n,n[i],a+1)},xx=function(t,e,n,i){var a=n.x-t.x,o=n.y-t.y,s=i.x-t.x,l=i.y-t.y,c=n.x-e.x,u=n.y-e.y,d=i.x-e.x,h=i.y-e.y;return(a*l-o*s)*(c*h-u*d)<=0&&(a*u-o*c)*(s*h-l*d)<=0},IC=function(t,e,n){if(n.width||n.height){var i=AC(n),a=i[0],o=i[1],s=i[2],l=i[3];return xx(t,e,a,o)||xx(t,e,a,l)||xx(t,e,o,s)||xx(t,e,s,l)}return!1},mde=function(t,e,n,i){var a=[];return t.forEach(function(o){if(o!==e&&(o.x===e.x||o.y===e.y)){if(IC(o,e,n)||IC(o,e,i))return;a.push(o)}}),DC(a)},g4=function(t,e){var n=[],i=t[0];return n.push("M".concat(i.x," ").concat(i.y)),t.forEach(function(a,o){var s=t[o+1],l=t[o+2];if(s&&l)if(function(t,e,n){return!(t.x===e.x&&e.x===n.x||t.y===e.y&&e.y===n.y)}(a,s,l)){var c=function(t,e,n,i){var a=Q0(t,e),o=Q0(n,e);return a<i&&(i=a),o<i&&(i=o),[{x:e.x-i/a*(e.x-t.x),y:e.y-i/a*(e.y-t.y)},{x:e.x-i/o*(e.x-n.x),y:e.y-i/o*(e.y-n.y)}]}(a,s,l,e),u=c[0],d=c[1];n.push("L".concat(u.x," ").concat(u.y)),n.push("Q".concat(s.x," ").concat(s.y," ").concat(d.x," ").concat(d.y)),n.push("L".concat(d.x," ").concat(d.y))}else n.push("L".concat(s.x," ").concat(s.y));else s&&n.push("L".concat(s.x," ").concat(s.y))}),n.join("")},m4=function(t,e,n,i,a){var o,s;if(n&&n.getType())if("combo"===n.getType()){var l=n.getKeyShape().getBBox();if(l){var c=n.getModel(),u=c.x,d=c.y;(o={x:u,y:d,width:l.width,height:l.height,minX:l.minX+u,maxX:l.maxX+u,minY:l.minY+d,maxY:l.maxY+d}).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=yx(t)}else o=n&&n.getBBox();else o=yx(t);if(i&&i.getType())if("combo"===i.getType()){var h=i.getKeyShape().getBBox();if(h){var v=i.getModel(),y=v.x,D=v.y;(s={x:y,y:D,width:h.width,height:h.height,minX:h.minX+y,maxX:h.maxX+y,minY:h.minY+D,maxY:h.maxY+D}).centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=yx(e)}else s=i&&i.getBBox();else s=yx(e);var F=_x(o,a),K=_x(s,a),Q=TC(F,t,e),J=TC(K,e,t),de=function(t){void 0===t&&(t=[]);var e=[],n=[];t.forEach(function(l){e.push(l.x),n.push(l.y)});var i=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=Math.min.apply(Math,n),s=Math.max.apply(Math,n);return{centerX:(i+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:i,minY:o,height:s-o,width:a-i}}([Q,J]),Ee=p4(F,de),ke=p4(K,de),Re=[];Re=Re.concat(AC(Ee)).concat(AC(ke));var tt={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[de,Ee,ke].forEach(function(ct){Re=Re.concat(function(t,e){return function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}(t,e.x).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(t,e.y))}(ct,tt).filter(function(Nt){return bx(Nt,F)&&bx(Nt,K)}))}),[{x:Q.x,y:J.y},{x:J.x,y:Q.y}].forEach(function(ct){bx(ct,F)&&bx(ct,K)&&Re.push(ct)}),Re.unshift(Q),Re.push(J);var xt=function(t,e,n,i,a,o,s){var l,c=[],u=((l={})[e.id]=e,l),d={},h={},v={};h[e.id]=0,v[e.id]=v4(e,n,e);var y=new y4;y.add({id:e.id,value:v[e.id]});var F,D={};for(t.forEach(function(Ee){D[Ee.id]=Ee});Object.keys(u).length;){var K=y.minId(!1);if(!K)break;if((F=u[K])===n){var Q=[];return gde(Q,D,d,n.id),Q}delete u[F.id],y.remove(F.id),c.push(F),mde(t,F,i,a).forEach(function(Re){if(-1===c.indexOf(Re)){var tt=Re.id;u[tt]||(u[tt]=Re);var xt=v[F.id]+Q0(F,Re);if(h[tt]&&xt>=h[tt])return void y.add({id:tt,value:v[tt]});d[tt]=F.id,h[tt]=xt,v[tt]=h[tt]+v4(Re,n,e,o,s),y.add({id:tt,value:v[tt]})}})}return[e,n]}(Re=DC(Re),Q,J,o,s,t,e);return xt.unshift(t),xt.push(e),h4(xt)},y4=function(){function r(){this.arr=[],this.map={},this.arr=[],this.map={}}return r.prototype._innerAdd=function(t,e){for(var n=[0,e-1];n[1]-n[0]>1;){var i=Math.floor((n[0]+n[1])/2);if(this.arr[i].value>t.value)n[1]=i;else{if(!(this.arr[i].value<t.value))return this.arr.splice(i,0,t),void(this.map[t.id]=!0);n[0]=i}}this.arr.splice(n[1],0,t),this.map[t.id]=!0},r.prototype.add=function(t){delete this.map[t.id];var e=this.arr.length;return e?this.arr[e-1].value<t.value?(this.arr.push(t),void(this.map[t.id]=!0)):void this._innerAdd(t,e):(this.arr.push(t),void(this.map[t.id]=!0))},r.prototype.remove=function(t){this.map[t]&&delete this.map[t]},r.prototype._clearAndGetMinId=function(){for(var t,e=this.arr.length-1;e>=0;e--)this.map[this.arr[e].id]?t=this.arr[e].id:this.arr.splice(e,1);return t},r.prototype._findFirstId=function(){for(;this.arr.length;){var t=this.arr.shift();if(this.map[t.id])return t.id}},r.prototype.minId=function(t){return t?this._clearAndGetMinId():this._findFirstId()},r}(),Cde={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},fallbackRoute:function(t,e,n,i,a){return h4(m4(t,e,n,i,a.offset))}},Of=(Math,function(t,e){var n=Math.round(Math.abs(t/e));return n<0?0:(t<0?-1:1)*n}),OC=function(t,e){var n=e.x-t.x,i=e.y-t.y;return n||i?Math.atan2(i,n):0},_4=function(t,e){var n=Math.abs(t-e);return n>Math.PI?2*Math.PI-n:n},b4=function(t,e,n){for(var i=1/0,a=0,o=e.length;a<o;a++){var s=n(t,e[a]);s<i&&(i=s)}return i},x4=function(t,e,n,i,a){var o=[];if(!n)return[t];var s=a.directions,l=a.offset,c=n.getBBox(),u=e.x>c.minX&&e.x<c.maxX&&e.y>c.minY&&e.y<c.maxY,d=_x(c,l);for(var h in d)d[h]=Of(d[h],a.gridSize);if(u){for(var v=0,y=s;v<y.length;v++){var D=y[v],F=[[{x:d.minX,y:d.minY},{x:d.maxX,y:d.minY}],[{x:d.minX,y:d.minY},{x:d.minX,y:d.maxY}],[{x:d.maxX,y:d.minY},{x:d.maxX,y:d.maxY}],[{x:d.minX,y:d.maxY},{x:d.maxX,y:d.maxY}]];for(h=0;h<4;h++){var K=F[h],Q=cl.getLineIntersect(t,{x:t.x+D.stepX*d.width,y:t.y+D.stepY*d.height},K[0],K[1]);Q&&!IC(t,Q,c)&&(Q.id="".concat(Q.x,"|||").concat(Q.y),o.push(Q))}}return o}var J=TC(d,t,i);return J.id="".concat(J.x,"|||").concat(J.y),[J]},kC=function(t,e,n,i){var a=OC(t,e),o=n[t.id];if(!o){var s=OC(i,t);return _4(s,a)}var l=OC({x:o.x,y:o.y},t);return _4(l,a)},Tde=function(t,e,n,i,a,o,s){var l=[i],c=i,u=t.id,d=t.x,h=t.y,v={x:d,y:h,id:u};kC(v,o,e,n)&&l.unshift(c={x:o.x===i.x?i.x:v.x*s,y:o.y===i.y?i.y:v.y*s});for(var y=e[u];y&&y.id!==u;){var D={x:d,y:h,id:u},F={x:y.x,y:y.y,id:y.id};kC(F,D,e,n)&&l.unshift(c={x:F.x===D.x?c.x:F.x*s,y:F.y===D.y?c.y:F.y*s}),d=F.x,h=F.y,y=e[u=F.id]}return l[0].x=d===n.x?a.x:c.x,l[0].y=h===n.y?a.y:c.y,l.unshift(a),l};u3("polyline",{options:{color:hr.defaultEdge.color,size:hr.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:hr.defaultEdge.style.stroke,lineAppendWidth:hr.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:hr.edgeLabel.style.fill,fontSize:hr.edgeLabel.style.fontSize,fontFamily:hr.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:(0,Me.__assign)({},hr.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);0===n.radius&&delete n.radius;var i=e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return e.shapeMap["edge-shape"]=i,i},getShapeStyle:function(t){var i=(0,ue.mix)({},this.options.style,{stroke:t.color},t.style);t=this.getPathPoints(t),this.radius=i.radius,this.offset=i.offset;var a=t.startPoint,o=t.endPoint,s=this.getControlPoints(t),l=[a];s&&(l=l.concat(s)),l.push(o);var c=t.sourceNode,u=t.targetNode,d=i.radius,v=(0,ue.mix)({},this.options.routeCfg,t.routeCfg);v.offset=i.offset;var y=this.getPath(l,c,u,d,v,!Boolean(s));return((0,ue.isArray)(y)&&y.length<=1||(0,ue.isString)(y)&&-1===y.indexOf("L"))&&(y="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(y="M0 0, L0 0"),(0,ue.mix)({},hr.defaultEdge.style,i,{lineWidth:t.size,path:y})},updateShapeStyle:function(t,e){var n=e.getContainer();if(e.isVisible()){var i={stroke:t.color},a=n.shapeMap["edge-shape"]||n.find(function(de){return"edge-shape"===de.get("className")})||e.getKeyShape(),o=t.size,s=(t=this.getPathPoints(t)).startPoint,l=t.endPoint,c=this.getControlPoints(t),u=[s];c&&(u=u.concat(c)),u.push(l);var d=a.attr(),h=(0,ue.mix)({},i,d,t.style),v=t.sourceNode,y=t.targetNode,D=h.radius,K=(0,ue.mix)({},this.options.routeCfg,t.routeCfg);K.offset=h.offset;var Q=this.getPath(u,v,y,D,K,!Boolean(c));((0,ue.isArray)(Q)&&Q.length<=1||(0,ue.isString)(Q)&&-1===Q.indexOf("L"))&&(Q="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(Q="M0 0, L0 0"),d.endArrow&&!1===h.endArrow&&(t.style.endArrow={path:""}),d.startArrow&&!1===h.startArrow&&(t.style.startArrow={path:""});var J=(0,ue.mix)(i,a.attr(),{lineWidth:o,path:Q},t.style);a&&a.attr(J)}},getPath:function(t,e,n,i,a,o){var s=a.offset,l=a.obstacles,c=a.simple;if(!s||t.length>2||!1===o){if(i)return g4(t,i);var u=[];return(0,ue.each)(t,function(y,D){u.push(0===D?["M",y.x,y.y]:["L",y.x,y.y])}),u}!1!==c&&!l?.length&&(c=!0);var d=c?m4(t[t.length-1],t[0],n,e,s):function(t,e,n,i,a){if(isNaN(t.x)||isNaN(e.x))return[];var o=(0,ue.deepMix)(Cde,a);o.obstacles=o.obstacles||[];var s=o.penalties,l=o.gridSize,c=function(t,e,n){var i={};return t.forEach(function(a){if(a)for(var o=_x(a.getBBox(),n),s=Of(o.minX,e);s<=Of(o.maxX,e);s+=1)for(var l=Of(o.minY,e);l<=Of(o.maxY,e);l+=1)i["".concat(s,"|||").concat(l)]=!0}),i}(o.obstacles.concat([n,i]),l,o.offset),u={x:Of(t.x,l),y:Of(t.y,l)},d={x:Of(e.x,l),y:Of(e.y,l)};t.id="".concat(u.x,"|||").concat(u.y),e.id="".concat(d.x,"|||").concat(d.y);var h=x4(u,t,n,d,o),v=x4(d,e,i,u,o);h.forEach(function(an){delete c[an.id]}),v.forEach(function(an){delete c[an.id]});for(var y={},D={},F={},K={},Q={},J=new y4,de=0;de<h.length;de++){var Ee=h[de];y[Ee.id]=Ee,K[Ee.id]=0,Q[Ee.id]=b4(Ee,v,o.distFunc),J.add({id:Ee.id,value:Q[Ee.id]})}var Re,tt,xt,ct,Nt,Ut,ke=o.maximumLoops,Mn=1/0,Jn={};for(v.forEach(function(an){Jn["".concat(an.x,"|||").concat(an.y)]=!0}),Object.keys(y).forEach(function(an){var On=y[an].id;Q[On]<=Mn&&(Mn=Q[On],Re=y[On])});Object.keys(y).length>0&&ke>0;){var zn=J.minId((ke+1)%30==0);if(!zn)break;if(Jn["".concat((Re=y[zn]).x,"|||").concat(Re.y)])return Tde(Re,F,u,e,t,d,l);for(delete y[Re.id],J.remove(Re.id),D[Re.id]=!0,de=0;de<o.directions.length;de++){tt=o.directions[de];var $t="".concat(Math.round(Re.x)+tt.stepX,"|||").concat(Math.round(Re.y)+tt.stepY);if(xt={x:Re.x+tt.stepX,y:Re.y+tt.stepY,id:$t},!(D[$t]||(Ut=kC(Re,xt,F,u),Ut>o.maxAllowedDirectionChange||c[$t]))){y[$t]||(y[$t]=xt);var Tn=s[Ut];ct=o.distFunc(Re,xt)+(isNaN(Tn)?l:Tn),Nt=K[Re.id]+ct;var In=K[$t];In&&Nt>=In||(F[$t]=Re,K[$t]=Nt,Q[$t]=Nt+b4(xt,v,o.distFunc),J.add({id:$t,value:Q[$t]}))}}ke-=1}return o.fallbackRoute(t,e,n,i,o)}(t[0],t[t.length-1],e,n,a);return d&&d.length?i?g4(d,i):(d=function(t){if(!t?.length)return t;for(var e=t[t.length-1],n={x:e.x,y:e.y},i=[e],a=[e],o=t.length-2;o>=0;o--){var l,s=t[o];s.x===n.x?i.push(s):(i=[s],n.x=s.x),s.y===n.y?a.push(s):(a=[s],n.y=s.y),i.length>2?(l=t.indexOf(i[1]))>-1&&t.splice(l,1):a.length>2&&(l=t.indexOf(a[1]))>-1&&t.splice(l,1)}return t}(d),cl.pointsToPolygon(d)):"M0 0, L0 0"}},"single-edge");var w4=Tf.cloneEvent,E4=Tf.isNaN,S4=Math.abs,Ode=["shift","ctrl","alt","control"];const kde={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{mousedown:"onMouseDown",drag:"onDragMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(t){var e=this.origin,n=+t.clientX,i=+t.clientY;if(!E4(n)&&!E4(i)){var a=n-e.x,o=i-e.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(a=0),this.origin={x:n,y:i};var s=this.graph.get("width"),l=this.graph.get("height"),c=this.graph.get("canvas").getCanvasBBox(),u=this.scalableRange,d=this.scalableRange;u<1&&u>-1&&(u*=s,d*=l),(c.minX<=s+u&&c.minX+a>s+u||c.maxX+u>=0&&c.maxX+u+a<0)&&(a=0),(c.minY<=l+d&&c.minY+o>l+d||c.maxY+d>=0&&c.maxY+d+o<0)&&(o=0),this.graph.translate(a,o)}},onTouchStart:function(t){var n=t.originalEvent.touches;n[0]&&n[1]||(t.preventDefault(),this.mousedown=!0,this.onDragStart(t))},onMouseDown:function(t){this.mousedown=!0},onDragMove:function(t){this.mousedown&&(this.dragstart?this.onDrag(t):(this.dragstart=!0,this.onDragStart(t)))},onDragStart:function(t){var e=this,n=t.originalEvent;if((!n||"touchstart"===t.name||0===n.button)&&(!("touchstart"!==t.name&&typeof window<"u"&&window.event)||window.event.buttons||window.event.button)&&this.shouldBegin(t,this)&&!e.keydown&&this.allowDrag(t)){if(e.origin={x:t.clientX,y:t.clientY},e.dragging=!1,this.enableOptimize){for(var i=this.graph,a=i.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");l&&l.forEach(function(J){J.set("ori-visibility",J.get("ori-visibility")||J.get("visible")),J.hide()})}for(var c=i.getNodes(),u=0,d=c.length;u<d;u++)for(var y=0,D=c[u].getContainer().get("children");y<D.length;y++){var F=D[y];F.get("isKeyShape")||(F.set("ori-visibility",F.get("ori-visibility")||F.get("visible")),F.hide())}}if(typeof window<"u"){var Q=this;this.handleDOMContextMenu=function(J){return Q.onMouseUp(J)},document.body.addEventListener("contextmenu",this.handleDOMContextMenu)}}},onTouchMove:function(t){var n=t.originalEvent.touches;n[0]&&n[1]?this.onMouseUp(t):(t.preventDefault(),this.onDrag(t))},onDrag:function(t){if(this.mousedown){var e=this.graph;if(!this.keydown&&this.allowDrag(t)&&(t=w4(t),this.origin)){if(this.dragging)t.type="drag",e.emit("canvas:drag",t);else{if(S4(this.origin.x-t.clientX)+S4(this.origin.y-t.clientY)<10)return;this.shouldBegin(t,this)&&(t.type="dragstart",e.emit("canvas:dragstart",t),this.originPosition={x:t.clientX,y:t.clientY},this.dragging=!0)}this.shouldUpdate(t,this)&&this.updateViewport(t)}}},onMouseUp:function(t){var e,n;this.mousedown=!1,this.dragstart=!1;var i=this.graph;if(!this.keydown){var a=i.getZoom(),o=i.get("modeController"),s=null===(n=null===(e=o?.modes[o.mode])||void 0===e?void 0:e.filter(function(Re){return"zoom-canvas"===Re.type}))||void 0===n?void 0:n[0],l=s?s.optimizeZoom||.1:0;if(this.enableOptimize){for(var c=i.getEdges(),u=0,d=c.length;u<d;u++){var h=c[u].get("group").get("children");h&&h.forEach(function(Re){var tt=Re.get("ori-visibility");Re.set("ori-visibility",void 0),tt&&Re.show()})}if(a>l)for(var v=i.getNodes(),y=0,D=v.length;y<D;y++)for(var Q=0,J=v[y].getContainer().get("children");Q<J.length;Q++){var de=J[Q];if(!de.get("isKeyShape")){var ke=de.get("ori-visibility");de.set("ori-visibility",void 0),ke&&de.show()}}}if(!this.dragging)return void(this.origin=null);t=w4(t),this.shouldEnd(t,this)&&this.updateViewport(t),t.type="dragend",t.dx=t.clientX-this.originPosition.x,t.dy=t.clientY-this.originPosition.y,i.emit("canvas:dragend",t),this.endDrag(),typeof window<"u"&&document.body.removeEventListener("contextmenu",this.handleDOMContextMenu)}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1,this.mousedown=!1,this.dragstart=!1},onKeyDown:function(t){var n=t.key;n&&(this.keydown=Ode.indexOf(n.toLowerCase())>-1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1},allowDrag:function(t){var e,n,i=t.target,a=i&&i.isCanvas&&i.isCanvas();if((0,ue.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!a)return!1;if((0,ue.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,l=o.edge,c=o.combo,u=null===(n=null===(e=t.item)||void 0===e?void 0:e.getType)||void 0===n?void 0:n.call(e);if(!s&&"node"===u||!l&&"edge"===u||!c&&"combo"===u)return!1}return!0}},Nde={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:mousedown":"onMouseDown",drag:"onDragMove",dragend:"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd",afterchangedata:"onDragEnd"}},validationCombo:function(t){return!(!this.origin||!t||t.destroyed)&&"combo"===t.getType()},onTouchStart:function(t){if(t.item){try{var n=t.originalEvent.touches;if(n[0]&&n[1])return;t.preventDefault()}catch{console.warn("Touch original event not exist!")}this.mousedown={item:t.item,target:t.target,origin:{x:t.x,y:t.y}},this.dragstart=!0,this.onDragStart(t)}},onTouchMove:function(t){try{var n=t.originalEvent.touches;if(n[0]&&n[1])return void this.onDragEnd(t);t.preventDefault()}catch{console.warn("Touch original event not exist!")}this.onDrag(t)},onMouseDown:function(t){this.mousedown={item:t.item,target:t.target,origin:{x:t.x,y:t.y}},typeof window<"u"&&!this.windowEventBinded&&(this.windowEventBinded=!0,document.body.addEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.addEventListener("mouseup",this.onDragEnd.bind(this)))},onDragMove:function(t){var e,n;"node"===(null===(n=null===(e=t.item)||void 0===e?void 0:e.getType)||void 0===n?void 0:n.call(e))?this.mousedown&&(this.dragstart?this.onDrag((0,Me.__assign)((0,Me.__assign)({},t),this.mousedown)):(this.dragstart=!0,this.onDragStart(t))):this.onDragEnd()},onDragStart:function(t){var e=this;if(this.currentShouldEnd=!0,this.shouldBegin((0,Me.__assign)((0,Me.__assign)({},t),this.mousedown),this)){var n=this.mousedown,i=n.item,a=n.target;if(i&&!i.destroyed&&!i.hasLocked()){if(i.getContainer().set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(i),a&&a.get("isAnchorPoint"))return;var l=this.graph;this.targets=[],this.targetCombo=null;var c=l.findAllByState("node",this.selectedState),u=i.get("id");if(0===c.filter(function(v){var y=v.get("id");return u===y}).length?this.targets.push(i):c.length>1?c.forEach(function(v){v.hasLocked()||e.targets.push(v)}):this.targets.push(i),this.graph.get("enabledStack")&&this.enableStack){var h=[];this.targets.forEach(function(v){var y=v.getModel();h.push({x:y.x,y:y.y,id:y.id})}),this.set("beforeDragNodes",h)}this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(v){v.getEdges().forEach(function(D){D.isVisible()&&(e.hidenEdge[D.getID()]=!0,D.hide())})}),this.origin=this.mousedown.origin,this.point={},this.originPoint={}}}},onDrag:function(t){var e=this;if(this.mousedown&&this.origin&&this.shouldUpdate(t,this))if(this.get("enableDelegate"))this.updateDelegate(t);else if(this.enableDebounce)this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos});else{var n={};this.targets.map(function(i){e.update(i,t);var a=i.getModel().comboId;a&&(n[a]=e.graph.findById(a))}),this.onlyChangeComboSize&&this.updateParentCombos()}},onDragEnd:function(t){var n,e=this;if(this.mousedown=!1,this.dragstart=!1,typeof window<"u"&&this.windowEventBinded&&(this.windowEventBinded=!1,document.body.removeEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.removeEventListener("mouseup",this.onDragEnd.bind(this))),this.origin){null===(n=this.cachedCaptureItems)||void 0===n||n.forEach(function(o){o.getContainer().set("capture",!0)}),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(o){o.getEdges().forEach(function(l){e.hidenEdge[l.getID()]&&l.show(),l.refresh()})}),this.hidenEdge={};var i=this.graph;if(i.get("enabledStack")&&this.enableStack){var a={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(o){a.before.nodes.push(o)}),this.targets.forEach(function(o){var s=o.getModel();a.after.nodes.push({x:s.x,y:s.y,id:s.id})}),i.pushStack("update",(0,ue.clone)(a))}i.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(t){var e=t.item;if(this.currentShouldEnd=this.shouldEnd(t,e,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&this.validationCombo(e)){var n=this.graph;if(this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1),this.targetCombo=e,this.onlyChangeComboSize)n.updateCombos();else{var i=e.getModel();this.targets.map(function(a){a.getModel().comboId!==i.id&&n.updateComboTree(a,i.id)}),n.updateCombo(e)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(t){var e=this.graph;this.currentShouldEnd=this.shouldEnd(t,void 0,this),this.updatePositions(t,!this.currentShouldEnd),this.targets&&0!==this.targets.length&&this.currentShouldEnd&&(this.onlyChangeComboSize?this.updateParentCombos():this.targets.map(function(n){n.getModel().comboId&&e.updateComboTree(n)}))},onDropNode:function(t){if(this.targets&&0!==this.targets.length){var e=this,n=t.item,i=e.graph,a=n.getModel().comboId,o=a?i.findById(a):void 0;if(this.currentShouldEnd=this.shouldEnd(t,o,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd){if(this.onlyChangeComboSize)this.updateParentCombos();else if(a){var s=i.findById(a);e.comboActiveState&&i.setItemState(s,e.comboActiveState,!1),this.targets.map(function(l){var c=l.getModel();a!==c.comboId&&i.updateComboTree(l,a)}),i.updateCombo(s)}else this.targets.map(function(l){l.getModel().comboId&&i.updateComboTree(l)});i.emit("dragnodeend",{items:this.targets,targetItem:n})}}},onDragEnter:function(t){var e=t.item;this.validationCombo(e)&&this.comboActiveState&&this.graph.setItemState(e,this.comboActiveState,!0)},onDragLeave:function(t){var e=t.item;this.validationCombo(e)&&this.comboActiveState&&this.graph.setItemState(e,this.comboActiveState,!1)},updatePositions:function(t,e){var n=this;!this.targets||0===this.targets.length||(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos}):e||this.targets.map(function(i){return n.update(i,t)}):this.targets.map(function(i){return n.update(i,t,e)}))},update:function(t,e,n){var i=this.origin,a=t.get("model"),o=t.get("id");this.point[o]||(this.point[o]={x:a.x||0,y:a.y||0});var s=e.x-i.x+this.point[o].x,l=e.y-i.y+this.point[o].y;n&&(s+=i.x-e.x,l+=i.y-e.y);var c={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(t,c,!1):t.updatePosition(c)},debounceUpdate:(0,ue.debounce)(function(r){var t=r.targets,e=r.graph,n=r.point,i=r.origin,a=r.evt,o=r.updateEdge,s=r.onlyChangeComboSize,l=r.updateParentCombos;t.map(function(c){var u=c.get("model"),d=c.get("id");n[d]||(n[d]={x:u.x||0,y:u.y||0});var y={x:a.x-i.x+n[d].x,y:a.y-i.y+n[d].y};o?e.updateItem(c,y,!1):c.updatePosition(y)}),s&&l(e,t)},50,!0),updateDelegate:function(t){var e=this.graph;if(this.delegateRect)this.delegateRect.attr({x:t.x-this.origin.x+this.originPoint.minX,y:t.y-this.origin.y+this.originPoint.minY});else{var n=e.get("group"),i=(0,ue.deepMix)({},Wp.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(t),o=a.x,s=a.y,l=a.width,c=a.height;this.originPoint={x:o,y:s,width:l,height:c,minX:a.minX,minY:a.minY},this.delegateRect=n.addShape("rect",{attrs:(0,Me.__assign)({width:l,height:c,x:o,y:s},i),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(t){var e=this.targets;0===e.length&&e.push(t.item);for(var n=1/0,i=-1/0,a=1/0,o=-1/0,s=0;s<e.length;s++){var c=e[s].getBBox(),u=c.minX,d=c.minY,h=c.maxX,v=c.maxY;u<n&&(n=u),d<a&&(a=d),h>i&&(i=h),v>o&&(o=v)}return{x:Math.floor(n),y:Math.floor(a),width:Math.ceil(i)-Math.floor(n),height:Math.ceil(o)-Math.floor(a),minX:n,minY:a}},updateParentCombos:function(t,e){var n=t||this.graph,a={};(e||this.targets)?.forEach(function(o){var s=o.getModel().comboId;s&&(a[s]=n.findById(s))}),Object.values(a).forEach(function(o){o&&n.updateCombo(o)})}},Pde={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(t){try{var n=t.originalEvent.touches;if(n[0]&&n[1])return;t.preventDefault()}catch{console.warn("Touch original event not exist!")}this.setAllItemStates(t)},clearOnTouchStart:function(t){try{var n=t.originalEvent.touches;if(n[0]&&n[1])return;t.preventDefault()}catch{console.warn("Touch original event not exist!")}this.clearActiveState(t)},setAllItemStates:function(t){clearTimeout(this.timer),this.throttleSetAllItemStates(t,this)},clearActiveState:function(t){var e=this;this.timer=setTimeout(function(){e.throttleClearActiveState(t,e)},50)},throttleSetAllItemStates:(0,ue.throttle)(function(r,t){var e=r.item,n=t.graph;if(n&&!n.destroyed&&(t.item=e,t.shouldUpdate(r.item,{event:r,action:"activate"},t))){for(var i=t.activeState,a=t.inactiveState,o=n.getNodes(),s=n.getCombos(),l=n.getEdges(),c=n.get("vedges"),u=o.length,d=s.length,h=l.length,v=c.length,y=t.inactiveItems||{},D=t.activeItems||{},F=0;F<u;F++){var K=o[F],Q=K.getID(),J=K.hasState("selected");t.resetSelected&&J&&n.setItemState(K,"selected",!1),D[Q]&&(n.setItemState(K,i,!1),delete D[Q]),a&&!y[Q]&&(n.setItemState(K,a,!0),y[Q]=K)}for(F=0;F<d;F++){var de=s[F],Ee=de.getID();J=de.hasState("selected"),t.resetSelected&&J&&n.setItemState(de,"selected",!1),D[Ee]&&(n.setItemState(de,i,!1),delete D[Ee]),a&&!y[Ee]&&(n.setItemState(de,a,!0),y[Ee]=de)}for(F=0;F<h;F++)D[Re=(ke=l[F]).getID()]&&(n.setItemState(ke,i,!1),delete D[Re]),a&&!y[Re]&&(n.setItemState(ke,a,!0),y[Re]=ke);for(F=0;F<v;F++){var tt=c[F],xt=tt.getID();D[xt]&&(n.setItemState(tt,i,!1),delete D[xt]),a&&!y[xt]&&(n.setItemState(tt,a,!0),y[xt]=tt)}if(e&&!e.destroyed){a&&(n.setItemState(e,a,!1),delete y[e.getID()]),D[e.getID()]||(n.setItemState(e,i,!0),D[e.getID()]=e);var ct=e.getEdges(),Nt=ct.length;for(F=0;F<Nt;F++){var ke,Re=(ke=ct[F]).getID(),Ut=void 0,Mn=(Ut=ke.getSource()===e?ke.getTarget():ke.getSource()).getID();a&&y[Mn]&&(n.setItemState(Ut,a,!1),delete y[Mn]),D[Mn]||(n.setItemState(Ut,i,!0),D[Mn]=Ut),y[Re]&&(n.setItemState(ke,a,!1),delete y[Re]),D[Re]||(n.setItemState(ke,i,!0),D[Re]=ke),ke.toFront()}}t.activeItems=D,t.inactiveItems=y,n.emit("afteractivaterelations",{item:r.item,action:"activate"})}},50,{trailing:!0,leading:!0}),throttleClearActiveState:(0,ue.throttle)(function(r,t){var e=t.get("graph");if(e&&!e.destroyed&&t.shouldUpdate(r.item,{event:r,action:"deactivate"},t)){var n=t.activeState,i=t.inactiveState,o=t.inactiveItems||{};Object.values(t.activeItems||{}).filter(function(s){return!s.destroyed}).forEach(function(s){e.clearItemStates(s,n)}),Object.values(o).filter(function(s){return!s.destroyed}).forEach(function(s){e.clearItemStates(s,i)}),t.activeItems={},t.inactiveItems={},e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}},50,{trailing:!0,leading:!0})};var wx=Math.min,M4=Math.max,C4=Math.abs,Rde=["drag","shift","ctrl","alt","control"];const Lde={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,includeCombos:!1,selectedEdges:[],selectedNodes:[],selectedCombos:[]}},getEvents:function(){return Rde.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior brush-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(t){var n=this.brush;t.item||"drag"!==this.trigger&&!this.keydown||(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:t.canvasX,y:t.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(t){this.dragging&&("drag"!==this.trigger&&!this.keydown||this.updateBrush(t))},onMouseUp:function(t){!this.brush&&!this.dragging||"drag"!==this.trigger&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(t),this.dragging=!1)},clearStates:function(){var e=this.graph,n=this.selectedState,i=e.findAllByState("node",n),a=e.findAllByState("edge",n),o=e.findAllByState("combo",n);i.forEach(function(s){return e.setItemState(s,n,!1)}),a.forEach(function(s){return e.setItemState(s,n,!1)}),o.forEach(function(s){return e.setItemState(s,n,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.selectedCombos=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges,this.selectedCombos),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},isBBoxCenterInRect:function(t,e,n,i,a){var o=t.getBBox();return o.centerX>=e&&o.centerX<=n&&o.centerY>=i&&o.centerY<=a},getSelectedNodes:function(t){var e=this,n=this,i=n.graph,a=n.originPoint,o=n.shouldUpdate,s=n.isBBoxCenterInRect,l=this.selectedState,c={x:t.x,y:t.y},u=i.getPointByCanvas(a.x,a.y),d=wx(c.x,u.x),h=M4(c.x,u.x),v=wx(c.y,u.y),y=M4(c.y,u.y),D=[],F=[];i.getNodes().forEach(function(J){if(J.isVisible()&&s(J,d,h,v,y)&&o(J,"select",e)){D.push(J);var de=J.getModel();F.push(de.id),i.setItemState(J,l,!0)}});var K=[];this.includeEdges&&D.forEach(function(J){J.getOutEdges().forEach(function(Ee){if(Ee.isVisible()){var ke=Ee.getModel(),tt=ke.target;F.includes(ke.source)&&F.includes(tt)&&o(Ee,"select",e)&&(K.push(Ee),i.setItemState(Ee,e.selectedState,!0))}})});var Q=[];this.includeCombos&&i.getCombos().forEach(function(J){if(J.isVisible()&&s(J,d,h,v,y)&&o(J,"select",e)){Q.push(J);var de=J.getModel();F.push(de.id),i.setItemState(J,l,!0)}}),this.selectedEdges=K,this.selectedNodes=D,this.selectedCombos=Q,this.onSelect&&this.onSelect(D,K,Q),i.emit("nodeselectchange",{selectedItems:{nodes:D,edges:K,combos:Q},select:!0})},createBrush:function(){var e=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=e,this.delegate=e,e},updateBrush:function(t){var e=this.originPoint;this.brush.attr({width:C4(t.canvasX-e.x),height:C4(t.canvasY-e.y),x:wx(t.canvasX,e.x),y:wx(t.canvasY,e.y)})},onKeyDown:function(t){var e=t.key;if(e){var n=this.trigger.toLowerCase(),i=e.toLowerCase();this.keydown=i===n||"control"===i&&"ctrl"===n||"ctrl"===i&&"control"===n}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}};var Fde=["shift","ctrl","alt","control"];const Bde={getDefaultCfg:function(){return{multiple:!0,trigger:"shift",selectedState:"selected",selectNode:!0,selectEdge:!1,selectCombo:!0}},getEvents:function(){var t=this;return Fde.indexOf(t.trigger.toLowerCase())>-1||(t.trigger="shift",console.warn("Behavior click-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),t.multiple?{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(t){var e=this,n=t.item;if(n&&!n.destroyed){var i=n.getType(),a=e.graph,o=e.keydown,s=e.multiple,l=e.shouldUpdate;if((0,e.shouldBegin)(t,e)){if(!o||!s){var u=a.findAllByState("node",e.selectedState).concat(a.findAllByState("edge",e.selectedState)).concat(a.findAllByState("combo",e.selectedState));(0,ue.each)(u,function(D){D!==n&&a.setItemState(D,e.selectedState,!1)})}if(!function(){switch(i){case"node":return e.selectNode;case"edge":return e.selectEdge;case"combo":return e.selectCombo;default:return!1}}()){var h=a.findAllByState("node",e.selectedState),v=a.findAllByState("edge",e.selectedState),y=a.findAllByState("combo",e.selectedState);return void a.emit("nodeselectchange",{selectedItems:{nodes:h,edges:v,combos:y},select:!1})}n.hasState(e.selectedState)?(l(t,e)&&a.setItemState(n,e.selectedState,!1),h=a.findAllByState("node",e.selectedState),v=a.findAllByState("edge",e.selectedState),y=a.findAllByState("combo",e.selectedState),a.emit("nodeselectchange",{target:n,selectedItems:{nodes:h,edges:v,combos:y},select:!1})):(l(t,e)&&a.setItemState(n,e.selectedState,!0),h=a.findAllByState("node",e.selectedState),v=a.findAllByState("edge",e.selectedState),y=a.findAllByState("combo",e.selectedState),a.emit("nodeselectchange",{target:n,selectedItems:{nodes:h,edges:v,combos:y},select:!0}))}}},onCanvasClick:function(t){var e=this,i=this.graph;if((0,this.shouldBegin)(t,this)){var o=i.findAllByState("node",this.selectedState);(0,ue.each)(o,function(c){i.setItemState(c,e.selectedState,!1)});var s=i.findAllByState("edge",this.selectedState);(0,ue.each)(s,function(c){i.setItemState(c,e.selectedState,!1)});var l=i.findAllByState("combo",this.selectedState);(0,ue.each)(l,function(c){i.setItemState(c,e.selectedState,!1)}),i.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(t){var n=t.key;n&&(this.keydown=n.toLowerCase()===this.trigger.toLowerCase()||"control"===n.toLowerCase())},onKeyUp:function(){this.keydown=!1}};var zde=Yc;const Vde={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var t=this.fixSelectedItems;return t.fixState||(t.fixState="selected"),t.fixAll&&(t.fixLineWidth=!0,t.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(t){var e=t.originalEvent.touches,n=e[0],i=e[1];t.preventDefault(),i&&(this.shouldBegin&&!this.shouldBegin(t,this)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,i&&(this.endPoint={pageX:i.pageX,pageY:i.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(t){if(this.moveable){t.preventDefault();var e=t.originalEvent.touches,n=e[0],i=e[1];if(i){this.endPoint||(this.endPoint={pageX:i.pageX,pageY:i.pageY});var a=function(D,F){return Math.hypot(F.x-D.x,F.y-D.y)},o=a({x:n.pageX,y:n.pageY},{x:i.pageX,y:i.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom");if(!(s>(this.get("maxZoom")||this.graph.get("maxZoom"))||s<l)){var u=this.get("animate"),d=this.get("animateCfg"),v=this.graph.get("canvas").getPointByClient(t.clientX,t.clientY);this.graph.zoomTo(s,{x:v.x,y:v.y},u,d),this.graph.emit("wheelzoom",t)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(t){var e=this,i=this.graph,a=this.fixSelectedItems;if((!this.shouldBegin||this.shouldBegin(t,this))&&this.shouldUpdate(t,this)){t.preventDefault();var s=i.get("canvas").getPointByClient(t.clientX,t.clientY),l=this.get("sensitivity"),c=i.getZoom(),d=c;d=c*(t.wheelDelta<0?1-.05*l:1/(1-.05*l));var h=this.get("minZoom")||i.get("minZoom"),v=this.get("maxZoom")||i.get("maxZoom");if(d>v?d=v:d<h&&(d=h),this.get("enableOptimize")){var D=this.get("optimizeZoom"),F=this.get("optimized"),K=i.getNodes(),Q=i.getEdges(),J=K.length,de=Q.length;if(!F){for(var Ee=0;Ee<J;Ee++)if(!(ke=K[Ee]).destroyed)for(var tt=(Re=ke.get("group").get("children")).length,xt=0;xt<tt;xt++)!(ct=Re[xt]).destoryed&&!ct.get("isKeyShape")&&(ct.set("ori-visibility",ct.get("ori-visibility")||ct.get("visible")),ct.hide());for(var Nt=0;Nt<de;Nt++)for(tt=(Re=(Ut=Q[Nt]).get("group").get("children")).length,xt=0;xt<tt;xt++)(ct=Re[xt]).set("ori-visibility",ct.get("ori-visibility")||ct.get("visible")),ct.hide();this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Mn=setTimeout(function(){var $i=i.getZoom();if(e.get("optimized")){e.set("optimized",!1);for(var Gi=0;Gi<J;Gi++){var Ca=K[Gi],Wr=(Ha=Ca.get("group").get("children")).length;if($i<D){var aa=(ta=Ca.getKeyShape()).get("ori-visibility");ta.set("ori-visibility",void 0),aa&&ta.show()}else for(var Wa=0;Wa<Wr;Wa++)aa=(la=Ha[Wa]).get("ori-visibility"),la.set("ori-visibility",void 0),!la.get("visible")&&aa&&aa&&la.show()}for(var _a=0;_a<de;_a++){var Ha,ta,bo=Q[_a];if(Wr=(Ha=bo.get("group").get("children")).length,$i<D)aa=(ta=bo.getKeyShape()).get("ori-visibility"),ta.set("ori-visibility",void 0),aa&&ta.show();else for(Wa=0;Wa<Wr;Wa++){var la;(la=Ha[Wa]).get("visible")||(aa=la.get("ori-visibility"),la.set("ori-visibility",void 0),aa&&la.show())}}}},100);this.set("timeout",Mn)}if(c<=1){var Jn=void 0,zn=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){Jn=i.findAllByState("node",a.fixState),zn=i.findAllByState("edge",a.fixState);for(var $t=c/d,Tn=Jn.length,In=0;In<Tn;In++){var ke,an=(ke=Jn[In]).getContainer(),On=ke.getModel(),Kn=ke.getOriginStyle(),Gn=ke.getStateStyle(a.fixState),dr=ke.get("shapeFactory").getShape(On.type).getStateStyle(a.fixState,ke)[a.fixState];if(a.fixAll){if(d<=1){var ur=(0,ue.clone)(an.getMatrix());ur||(ur=[1,0,0,0,1,0,0,0,1]);var Zr=ke.getModel(),yi=Zr.x,_i=Zr.y;ur=zde(ur,[["t",-yi,-_i],["s",$t,$t],["t",yi,_i]]),an.setMatrix(ur)}}else for(tt=(Re=an.get("children")).length,xt=0;xt<tt;xt++){var ct=Re[xt],Li=void 0,Fi=void 0;if(a.fixLabel&&"text"===ct.get("type")){Li=ct.attr("fontSize")||12;var Va=Gn[ct.get("name")],ss=(Qa=dr[ct.get("name")])?Qa.fontSize:12,nu=(Va?Va.fontSize:12)||ss||12;if(d<=1&&ct.attr("fontSize",nu/d),Fi)break}if(a.fixLineWidth&&ct.get("isKeyShape")){Fi=ct.attr("lineWidth")||0;var ls=Gn.lineWidth||dr.lineWidth||Kn.lineWidth||0;if(d<=1&&ct.attr("lineWidth",ls/d),Li)break}}}for(var cs=zn.length,wc=0;wc<cs;wc++){var Ut,Re=(an=(Ut=zn[wc]).getContainer()).get("children");for(On=Ut.getModel(),Gn=Ut.getStateStyle(a.fixState),dr=Ut.get("shapeFactory").getShape(On.type).getStateStyle(a.fixState,Ut)[a.fixState],tt=Re.length,xt=0;xt<tt;xt++){var Qa;if(ct=Re[xt],Li=void 0,Fi=void 0,(a.fixLabel||a.fixAll)&&"text"===ct.get("type"))if(Li=ct.attr("fontSize")||12,Va=Gn[ct.get("name")],ss=(Qa=dr[ct.get("name")])?Qa.fontSize:12,nu=(Va?Va.fontSize:12)||ss||12,d<=1&&ct.attr("fontSize",nu/d),Fi)break;if((a.fixLineWidth||a.fixAll)&&ct.get("isKeyShape")&&(Fi=ct.attr("lineWidth")||0,ls=Gn.lineWidth||dr.lineWidth||1,d<=1&&ct.attr("lineWidth",ls/d),Li))break}}}}var Xs=this.get("animate"),Sl=this.get("animateCfg");i.zoomTo(d,{x:s.x,y:s.y},Xs,Sl),i.emit("wheelzoom",t)}}},I4={onMouseEnter:function(t){this.currentTarget=t.item,this.showTooltip(t),this.graph.emit("tooltipchange",{item:t.item,action:"show"})},onMouseMove:function(t){this.shouldUpdate(t,this)?!this.currentTarget||t.item!==this.currentTarget||this.updatePosition(t):this.hideTooltip()},onMouseLeave:function(t){this.shouldEnd(t,this)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(t){var e=this.container;if(t.item&&!t.item.destroyed){e||(e=this.createTooltip(this.graph.get("canvas")),this.container=e);var n=this.formatText(t.item.get("model"),t);e.innerHTML=n,Yi(this.container,{visibility:"visible"}),this.updatePosition(t)}},hideTooltip:function(){Yi(this.container,{visibility:"hidden"})},updatePosition:function(t){var e=this.get("shouldBegin"),n=this,i=n.width,a=n.height,o=n.container,s=n.graph;if(e(t,this)){var l=s.getPointByClient(t.clientX,t.clientY),c=s.getCanvasByPoint(l.x,l.y),u=c.x,d=c.y,h=o.getBoundingClientRect();u>i/2?u-=h.width:u+=this.offset,d>a/2?d-=h.height:d+=this.offset;var v="".concat(u,"px"),y="".concat(d,"px");Yi(this.container,{left:v,top:y,visibility:"visible"})}else Yi(o,{visibility:"hidden"})},createTooltip:function(t){var e=t.get("el");e.style.position="relative";var n=go('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return e.parentNode.appendChild(n),Yi(n,{position:"absolute",visibility:"visible"}),this.width=t.get("width"),this.height=t.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},jde=(0,Me.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(e){return e.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},I4),Ude=(0,Me.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(e){return"source: ".concat(e.source," target: ").concat(e.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},I4);var Gde=["click","dblclick"];const Hde={getDefaultCfg:function(){return{trigger:"click",onChange:function(){}}},getEvents:function(){var t,e;return Gde.includes(this.trigger)?e=this.trigger:(e="click",console.warn("Behavior collapse-expand \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(t={})["node:".concat(e)]="onNodeClick",t.touchstart="onNodeClick",t},onNodeClick:function(t){var e=this;if("click"===this.trigger){if(this.timer)return clearTimeout(this.timer),void(this.timer=0);this.timer=setTimeout(function(){e.toggle(t),clearTimeout(e.timer),e.timer=0},200)}else this.toggle(t)},toggle:function(t){var e=t.item;if(e){var n=this.graph.findDataById(e.get("id"));if(n){var i=n.children;if(i&&0!==i.length){var a=!n.collapsed;this.shouldBegin(t,a,this)&&(n.collapsed=a,e.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:t.item,collapsed:a}),this.shouldUpdate(t,a,this)&&(this.onChange(e,a,this),this.graph.layout()))}}}}};var Wde=Tf.calculationItemsBBox,Yde=function r(t,e){if(!1!==e(t)&&t){var n=t.get("combos");if(0===n.length)return!1;(0,ue.each)(n,function(i){r(i,e)})}};const $de={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected",enableStack:!0}},getEvents:function(){return{"combo:mousedown":"onMouseDown","combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(t){var e=t.item;return!(!e||e.destroyed||!this.shouldUpdate(t,this))&&"combo"===e.getType()},onMouseDown:function(t){this.origin={x:t.x,y:t.y}},onDragStart:function(t){var e=this,n=this.graph,i=t.item;if(this.currentShouldEnd=!0,this.validationCombo(t)){this.targets=[];var a=n.findAllByState("combo",this.selectedState),o=i.get("id");0===a.filter(function(c){var u=c.get("id");return o===u}).length?this.targets.push(i):this.targets=a;var l=[];this.targets.forEach(function(c){var u=c.getModel();l.push({x:u.x,y:u.y,id:u.id})}),this.set("beforeDragItems",l),this.activeState&&this.targets.map(function(c){var u=c.getModel();if(u.parentId){var d=n.findById(u.parentId);d&&n.setItemState(d,e.activeState,!0)}}),this.point={},this.originPoint={},this.currentItemChildCombos=[],Yde(i,function(c){if(c.destroyed)return!1;var u=c.getModel();return e.currentItemChildCombos.push(u.id),!0})}},onDrag:function(t){var e=this;if(this.origin&&this.validationCombo(t))if(this.enableDelegate)this.updateDelegate(t);else{if(this.activeState){var n=this.graph,i=t.item,a=i.getModel(),o=n.getCombos(),s=i.getBBox(),l=s.centerX,c=s.centerY,u=s.width;o.filter(function(h){var v=h.getModel();return v.id!==a.id&&!e.currentItemChildCombos.includes(v.id)}).map(function(h){var v=h.getBBox(),F=v.width,K=l-v.centerX,Q=c-v.centerY,J=2*Math.sqrt(K*K+Q*Q);n.setItemState(h,e.activeState,u+F-J>.8*u)})}(0,ue.each)(this.targets,function(h){e.updateCombo(h,t)}),this.onlyChangeComboSize&&this.updateParentCombos()}},updatePositions:function(t,e){var n=this;(this.enableDelegate||e)&&(0,ue.each)(this.targets,function(i){n.updateCombo(i,t,e)})},onDrop:function(t){var e=this,n=t.item;if(this.currentShouldEnd=this.shouldEnd(t,n,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&n&&this.targets&&!n.destroyed){var i=this.graph,a=n.getModel();this.targets.map(function(o){o.getModel().parentId!==a.id?(e.activeState&&i.setItemState(n,e.activeState,!1),e.onlyChangeComboSize?i.updateCombo(o):i.updateComboTree(o,a.id,!1)):i.updateCombo(n)}),this.end(n,t),this.endComparison=!0}},onNodeDrop:function(t){var e=this;if(this.targets&&0!==this.targets.length){var n=this.graph,a=t.item.getModel().comboId,o=a?n.findById(a):void 0;if(this.currentShouldEnd=this.shouldEnd(t,o,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd){var s;if(a){if(this.activeState){var l=n.findById(a);n.setItemState(l,this.activeState,!1)}this.targets.map(function(c){e.onlyChangeComboSize?n.updateCombo(c):a!==c.getID()&&(s=n.findById(a),a!==c.getModel().parentId&&n.updateComboTree(c,a,!1))})}else this.targets.map(function(c){e.onlyChangeComboSize?n.updateCombo(c):c.getModel().comboId&&n.updateComboTree(c,void 0,!1)});this.endComparison=!0,this.end(s,t)}}},onDragEnter:function(t){this.origin&&this.validationCombo(t)&&this.activeState&&this.graph.setItemState(t.item,this.activeState,!0)},onDragLeave:function(t){this.origin&&this.validationCombo(t)&&this.activeState&&this.graph.setItemState(t.item,this.activeState,!1)},onDragEnd:function(t){if(this.targets&&0!==this.targets.length){var e=t.item;this.currentShouldEnd&&this.updatePositions(t);var n=this.getParentCombo(e.getModel().parentId);n&&this.activeState&&this.graph.setItemState(n,this.activeState,!1),this.end(void 0,t)}},end:function(t,e){var n=this;if(this.origin){var i=this.graph;if(this.delegateShape&&(i.get("delegateGroup").clear(),this.delegateShape=null),t&&this.activeState&&i.setItemState(t,this.activeState,!1),!t){var o=i.get("enabledStack")&&this.enableStack,s={before:{nodes:[],edges:[],combos:[].concat(this.get("beforeDragItems"))},after:{nodes:[],edges:[],combos:[]}};this.targets.map(function(l){if(n.onlyChangeComboSize){i.updateCombo(l);var c=l.getModel();s.after.combos.push({x:c.x,y:c.y,id:c.id}),i.pushStack("update",s)}else i.updateComboTree(l,void 0,o)})}this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(t,e,n){var i=this;if(void 0===n&&(n={}),!1!==e(t,n)&&t){var a=t.get("combos");(0,ue.each)(a,function(s){i.traverse(s,e,n)});var o=t.get("nodes");(0,ue.each)(o,function(s){i.traverse(s,e,n)})}},updateCombo:function(t,e,n){this.updateSingleItem(t,e,n);var i={};this.traverse(t,function(a,o){return!a.destroyed&&(a.getEdges().forEach(function(s){return o[s.getID()]=s}),!0)},i),Object.values(i).forEach(function(a){return a.refresh()})},updateSingleItem:function(t,e,n){var i=this.origin,a=this.graph,o=t.getModel(),s=t.get("id");this.point[s]||(this.point[s]={x:o.x,y:o.y});var l=e.x-i.x+this.point[s].x,c=e.y-i.y+this.point[s].y;n&&(l+=i.x-e.x,c+=i.y-e.y),a.updateItem(t,{x:l,y:c},!1)},getParentCombo:function(t){if(t){var n=this.graph.findById(t);if(n)return n}},updateDelegate:function(t){var e=this.graph;if(this.delegateShape)this.delegateShape.attr({x:t.x-this.origin.x+this.originPoint.minX,y:t.y-this.origin.y+this.originPoint.minY});else{var i,n=e.get("delegateGroup");i=this.targets.length>1?Wde(this.targets):this.targets[0].getBBox(),this.originPoint={x:i.x,y:i.y,width:i.width,height:i.height,minX:i.minX,minY:i.minY};var d=(0,Me.__assign)((0,Me.__assign)({},Wp.delegateStyle),this.delegateStyle);this.delegateShape=n.addShape("rect",{attrs:(0,Me.__assign)({width:i.width,height:i.height,x:i.x,y:i.y},d),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}},updateParentCombos:function(){var e=this.graph,i={};this.targets?.forEach(function(a){var o=a.getModel().parentId;o&&(i[o]=e.findById(o))}),Object.values(i).forEach(function(a){a&&e.updateCombo(a)})}};var k4="dblclick",Xde=["click","dblclick"];const Kde={getDefaultCfg:function(){return{trigger:k4,relayout:!0}},getEvents:function(){var t,e;return Xde.includes(this.trigger)?e=this.trigger:(e=k4,console.warn("Behavior collapse-expand-group \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(t={})["combo:".concat(e)]="onComboClick",t},onComboClick:function(t){var e=t.item,i=this.graph,a=this.relayout;if(e&&!e.destroyed&&"combo"===e.getType()){var s=e.getModel().id;s&&(i.collapseExpandCombo(s),a&&i.get("layout")?i.layout():i.refreshPositions())}}};var qde=Tf.isPolygonsIntersect,Zde=Tf.pathToPoints,Qde=["drag","shift","ctrl","alt","control"];const efe={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Qde.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior lasso-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(t){var e=this.lasso;t.item||"drag"!==this.trigger&&!this.keydown||(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates("dragstart"),e||(e=this.createLasso()),this.dragging=!0,this.originPoint={x:t.x,y:t.y},this.points.push(this.originPoint),e.show())},onDragMove:function(t){this.dragging&&("drag"!==this.trigger&&!this.keydown||(this.points.push({x:t.x,y:t.y}),this.updateLasso(t)))},onDragEnd:function(t){!this.lasso&&!this.dragging||"drag"!==this.trigger&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var t=this.points,e=[];return t.length&&(t.forEach(function(n,i){e.push(0===i?["M",n.x,n.y]:["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},clearStates:function(t){void 0===t&&(t="canvas:click");var e=this,n=e.graph,i=e.selectedState,a=e.shouldDeselect,o=n.findAllByState("node",i),s=n.findAllByState("edge",i);(!a||a({action:t,nodes:o,edges:s}))&&(o.forEach(function(l){return n.setItemState(l,i,!1)}),s.forEach(function(l){return n.setItemState(l,i,!1)})),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var t=this,n=this.graph,i=this.shouldUpdate,a=this.points.map(function(u){return[n.getCanvasByPoint(u.x,u.y).x,n.getCanvasByPoint(u.x,u.y).y]}),o=this.selectedState,s=[],l=[];n.getNodes().forEach(function(u){if(u.isVisible()&&function(t,e){var n,i=t.getKeyShape();if("path"===t.get("type"))n=Zde(i.attr("path"));else{var a=i.getCanvasBBox();n=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return qde(e,n)}(u,a)&&i(u,"select",t)){s.push(u);var d=u.getModel();l.push(d.id),n.setItemState(u,o,!0)}});var c=[];this.includeEdges&&s.forEach(function(u){u.getOutEdges().forEach(function(h){if(h.isVisible()){var v=h.getModel(),D=v.target;l.includes(v.source)&&l.includes(D)&&i(h,"select",t)&&(c.push(h),n.setItemState(h,t.selectedState,!0))}})}),this.selectedEdges=c,this.selectedNodes=s,this.onSelect&&this.onSelect(s,c),n.emit("nodeselectchange",{selectedItems:{nodes:s,edges:c},select:!0})},createLasso:function(){var e=this.graph.get("delegateGroup").addShape("path",{attrs:(0,Me.__assign)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=e,this.delegate=e,this.points=[],e},updateLasso:function(t){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(t){var e=t.key;e&&(this.keydown=e.toLowerCase()===this.trigger.toLowerCase())},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}};var tfe=["click","drag"],nfe=["shift","ctrl","control","alt","meta",void 0];const rfe={getDefaultCfg:function(){return{trigger:"click",key:void 0,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var e,t=this;return tfe.indexOf(t.trigger.toLowerCase())>-1||(t.trigger="click",console.warn("Behavior create-edge \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click'\uff0c'drag'")),t.key&&-1===nfe.indexOf(t.key.toLowerCase())&&(t.trigger=void 0,console.warn("Behavior create-edge \u7684 key \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'shift'\uff0c'ctrl'\uff0c'alt'\uff0c'control'\uff0c\u6216 undefined")),"drag"===t.trigger?e={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===t.trigger&&(e={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),t.key&&(e.keydown="onKeyDown",e.keyup="onKeyUp"),e},onDragEnd:function(t){var e=this;if(!e.key||e.keydown){var n=t.item;(!n||n.getID()===e.source||"node"!==n.getType())&&e.cancelCreating({item:e.edge,x:t.x,y:t.y})}},onClick:function(t){var e=this;if(!e.key||e.keydown){var i=e.graph,a=t.item.getModel(),o=e.getEdgeConfig;if(e.addingEdge&&e.edge){if(!e.shouldEnd(t,e))return;var s=void 0;s=o&&(0,ue.isFunction)(o)?o({source:e.source,target:a.id},e):e.edgeConfig;var l=(0,Me.__assign)({target:a.id},s);if(e.source===a.id&&(l.type="loop"),i.emit("beforecreateedge",{}),i.updateItem(e.edge,l,!1),i.get("enabledStack")){var c=(0,Me.__assign)((0,Me.__assign)({},e.edge.getModel()),{itemType:"edge"}),u={};u.edges=[c],i.pushStack("add",{before:{},after:u})}i.emit("aftercreateedge",{edge:e.edge}),e.edge.getKeyShape().set("capture",!0),e.edge=null,e.addingEdge=!1}else{if(!e.shouldBegin(t,e))return;s=void 0,s=o&&(0,ue.isFunction)(o)?o({source:a.id,target:a.id},e):e.edgeConfig,e.edge=i.addItem("edge",(0,Me.__assign)({source:a.id,target:a.id},s),!1),e.source=a.id,e.addingEdge=!0,e.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(t){var e=this;if(!e.key||e.keydown){e.edge&&e.edge.destroyed&&e.cancelCreating({item:e.edge});var n={x:t.x,y:t.y};if(!e.graph.findById(e.source))return void(e.addingEdge=!1);e.addingEdge&&e.edge&&e.graph.updateItem(e.edge,{target:n},!1)}},cancelCreating:function(t){var e,n,i=this;if(!i.key||i.keydown){var a=i.graph;if(i.addingEdge&&(i.edge===t.item||null!==(n=null===(e=t.target)||void 0===e?void 0:e.isCanvas)&&void 0!==n&&n.call(e)))return i.edge&&!i.edge.destroyed&&a.removeItem(i.edge,!1),i.edge=null,void(i.addingEdge=!1)}},onKeyDown:function(t){var n=t.key;n&&(this.keydown=n.toLowerCase()===this.key.toLowerCase())},onKeyUp:function(){var t=this;t.addingEdge&&t.edge&&(t.graph.removeItem(t.edge,!1),t.addingEdge=!1,t.edge=null),this.keydown=!1}};var ife=["shift","ctrl","alt","control"];const ofe={getDefaultCfg:function(){return{trigger:"ctrl",combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return ife.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="ctrl",console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53c2\u6570 '".concat(this.trigger,"' \u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(t){var e=t.key;if(e){var n=this.trigger.toLowerCase(),i=e.toLowerCase();this.triggerKeydown||(this.triggerKeydown=i===n||"control"===i&&"ctrl"===n||"ctrl"===i&&"control"===n);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53c2\u6570 '".concat(this.functionName,"' \u4e0d\u5408\u6cd5\uff0c\u5b83\u4e0d\u662f Graph \u7684\u4e00\u4e2a\u51fd\u6570\u540d")),{};if(this.triggerKeydown&&!this.combinedKey)return void(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]());var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(i===o||"control"===i&&"ctrl"===o||"ctrl"===i&&"control"===o)&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}};var sfe=["shift","ctrl","alt","control","meta"],lfe={"drag-canvas":kde,"zoom-canvas":Vde,"drag-node":Nde,"activate-relations":Pde,"brush-select":Lde,"click-select":Bde,"lasso-select":efe,tooltip:jde,"edge-tooltip":Ude,"collapse-expand":Hde,"drag-combo":$de,"collapse-expand-combo":Kde,"create-edge":rfe,"shortcuts-call":ofe,"scroll-canvas":{getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0,allowDragOnItem:!0}},getEvents:function(){return(!this.zoomKey||-1===sfe.indexOf(this.zoomKey))&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(t){var e=this;if(this.allowDrag(t)){var n=this.graph,i=Array.isArray(this.zoomKey)?[].concat(this.zoomKey):[this.zoomKey];if(i.includes("control")&&i.push("ctrl"),i.some(function(On){return t["".concat(On,"Key")]})){var s=n.get("canvas").getPointByClient(t.clientX,t.clientY),l=n.getZoom();t.wheelDelta>0?l+=.05*l:l-=.05*l,n.zoomTo(l,{x:s.x,y:s.y})}else{var c=t.deltaX||t.movementX,u=t.deltaY||t.movementY;!u&&navigator.userAgent.indexOf("Firefox")>-1&&(u=125*-t.wheelDelta/3);var d=this.graph.get("width"),h=this.graph.get("height"),v=this.graph.get("canvas").getCanvasBBox(),y=this.scalableRange,D=this.scalableRange;y<1&&y>-1&&(y*=d,D*=h);var F=v.minX,K=v.maxX,Q=v.minY,J=v.maxY;c>0?K<-y?c=0:K-c<-y&&(c=K+y):c<0&&(F>d+y?c=0:F-c>d+y&&(c=F-(d+y))),u>0?J<-D?u=0:J-u<-D&&(u=J+D):u<0&&(Q>h+D?u=0:Q-u>h+D&&(u=Q-(h+D))),"x"===this.get("direction")?u=0:"y"===this.get("direction")&&(c=0),n.translate(-c,-u)}if(t.preventDefault(),this.get("enableOptimize")){var Ee=this.get("optimizeZoom"),ke=this.get("optimized"),Re=n.getNodes(),tt=n.getEdges(),xt=Re.length,ct=tt.length;if(!ke){for(var Nt=0;Nt<xt;Nt++){var Ut=Re[Nt];if(!Ut.destroyed)for(var Jn=(Mn=Ut.get("group").get("children")).length,zn=0;zn<Jn;zn++)!($t=Mn[zn]).destoryed&&!$t.get("isKeyShape")&&($t.set("ori-visibility",$t.get("ori-visibility")||$t.get("visible")),$t.hide())}for(var Tn=0;Tn<ct;Tn++){var Mn;for(Jn=(Mn=tt[Tn].get("group").get("children")).length,zn=0;zn<Jn;zn++){var $t;($t=Mn[zn]).set("ori-visibility",$t.get("ori-visibility")||$t.get("visible")),$t.hide()}}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var an=setTimeout(function(){var On=n.getZoom();if(e.get("optimized")){e.set("optimized",!1);for(var Gn=0;Gn<xt;Gn++){var dr=Re[Gn],Zr=(ur=dr.get("group").get("children")).length;if(On<Ee)(_i=(yi=dr.getKeyShape()).get("ori-visibility"))&&yi.show();else for(var Li=0;Li<Zr;Li++){var _i=(Fi=ur[Li]).get("ori-visibility");!Fi.get("visible")&&_i&&_i&&Fi.show()}}for(var ya=0;ya<ct;ya++){var ur,yi,Va=tt[ya];if(Zr=(ur=Va.get("group").get("children")).length,On<Ee)(_i=(yi=Va.getKeyShape()).get("ori-visibility"))&&yi.show();else for(Li=0;Li<Zr;Li++){var Fi;(Fi=ur[Li]).get("visible")||(_i=Fi.get("ori-visibility"))&&Fi.show()}}}},100);this.set("timeout",an)}}},allowDrag:function(t){var e,n,i=t.target,a=i&&i.isCanvas&&i.isCanvas();if((0,ue.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!a)return!1;if((0,ue.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,l=o.edge,c=o.combo,u=null===(n=null===(e=t.item)||void 0===e?void 0:e.getType)||void 0===n?void 0:n.call(e);if(!s&&"node"===u||!l&&"edge"===u||!c&&"combo"===u)return!1}return!0}}};(0,ue.each)(lfe,function(r,t){d3(t,r)});var cfe=(0,Me.__assign)((0,Me.__assign)({},R),oae);const F4={version:"4.8.9",Graph:f5,TreeGraph:h5,Util:Tf,Layout:ia.Layouts,TreeLayout:$se,registerLayout:function(t,e){e.isCustomLayout=!0,ia.Layouts[t]=(0,ia.registerLayout)(t,e)},Global:Wp,registerBehavior:d3,registerCombo:aae,registerEdge:u3,registerNode:Mf,Minimap:os.Minimap,Grid:os.Grid,Bundling:os.Bundling,Menu:os.Menu,ToolBar:os.ToolBar,Tooltip:os.Tooltip,Legend:os.Legend,TimeBar:os.TimeBar,SnapLine:os.SnapLine,Fisheye:os.Fisheye,ImageMinimap:os.ImageMinimap,EdgeFilterLens:os.EdgeFilterLens,Annotation:os.Annotation,Algorithm:cfe,Arrow:{triangle:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=15),void 0===n&&(n=0);var i=2*n;return"M ".concat(i,",0 L ").concat(i+e,",-").concat(t/2," L ").concat(i+e,",").concat(t/2," Z")},vee:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=20),void 0===n&&(n=0);var i=2*n;return"M ".concat(i,",0 L ").concat(i+e,",-").concat(t/2,"\n        L ").concat(i+2*e/3,",0 L ").concat(i+e,",").concat(t/2," Z")},circle:function(t,e){return void 0===t&&(t=5),void 0===e&&(e=0),"M ".concat(2*e,", 0\n            a ").concat(t,",").concat(t," 0 1,0 ").concat(2*t,",0\n            a ").concat(t,",").concat(t," 0 1,0 ").concat(2*-t,",0")},rect:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=10),void 0===n&&(n=0);var i=2*n;return"M ".concat(i,",").concat(-t/2," \n        L ").concat(i+e,",").concat(-t/2," \n        L ").concat(i+e,",").concat(t/2," \n        L ").concat(i,",").concat(t/2," Z")},diamond:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=0);var i=2*n;return"M ".concat(i,",0 \n        L ").concat(i+e/2,",").concat(-t/2," \n        L ").concat(i+e,",0 \n        L ").concat(i+e/2,",").concat(t/2," Z")},triangleRect:function(t,e,n,i,a,o){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=15),void 0===i&&(i=3),void 0===a&&(a=5),void 0===o&&(o=0);var s=2*o,l=s+e+a;return"M ".concat(s,",0 L ").concat(s+e,",-").concat(t/2," L ").concat(s+e,",").concat(t/2," Z\n            M ").concat(l,", -").concat(n/2,"\n            L ").concat(l+i," -").concat(n/2,"\n            L ").concat(l+i," ").concat(n/2,"\n            L ").concat(l," ").concat(n/2,"\n            Z")}},Marker:o3,Shape:Ch},gfe=F4;class J0{constructor(t,e,n){this.value=t,this.left=e,this.right=n}insert(t){return t<this.value?this.left?this.left.insert(t):this.left=new J0(t):this.right?this.right.insert(t):this.right=new J0(t),this}find(t){return t<this.value?this.left?this.left.find(t):null:t>this.value?this.right?this.right.find(t):null:this}delete(t){if(t<this.value)this.left&&(this.left=this.left.delete(t));else if(t>this.value)this.right&&(this.right=this.right.delete(t));else{if(!this.left||!this.right)return this.left?this.left:this.right?this.right:null;this.value=this.right.getMinValue(),this.right=this.right.delete(this.value)}return this}getMinValue(){return this.left?this.left.getMinValue():this.value}traverseInOrder(){const t=[];return this.left&&t.push(...this.left.traverseInOrder()),t.push(this.value),this.right&&t.push(...this.right.traverseInOrder()),t}traversePreOrder(){const t=[];return t.push(this.value),this.left&&t.push(...this.left.traversePreOrder()),this.right&&t.push(...this.right.traversePreOrder()),t}traversePostOrder(){const t=[];return this.left&&t.push(...this.left.traversePostOrder()),this.right&&t.push(...this.right.traversePostOrder()),t.push(this.value),t}traverseLevelOrder(){const t=[],e=[];for(e.push(this);e.length;){const n=e.shift();t.push(n.value),n.left&&e.push(n.left),n.right&&e.push(n.right)}return t}getDepth(){return this.left||this.right?this.left&&this.right?1+Math.max(this.left.getDepth(),this.right.getDepth()):this.left?1+this.left.getDepth():1+this.right.getDepth():1}getMinDepth(){return this.left||this.right?this.left&&this.right?1+Math.min(this.left.getMinDepth(),this.right.getMinDepth()):this.left?1+this.left.getMinDepth():1+this.right.getMinDepth():1}getWidth(){const t=[];t.push(this);let e=0;for(;t.length;){const n=t.length;e=Math.max(e,n);for(let i=0;i<n;i++){const a=t.shift();a.left&&t.push(a.left),a.right&&t.push(a.right)}}return e}getMinWidth(){const t=[];t.push(this);let e=1/0;for(;t.length;){const n=t.length;e=Math.min(e,n);for(let i=0;i<n;i++){const a=t.shift();a.left&&t.push(a.left),a.right&&t.push(a.right)}}return e}getSize(){let t=1;return this.left&&(t+=this.left.getSize()),this.right&&(t+=this.right.getSize()),t}getLeafSize(){if(!this.left&&!this.right)return 1;let t=0;return this.left&&(t+=this.left.getLeafSize()),this.right&&(t+=this.right.getLeafSize()),t}getKLevelSize(t){if(1===t)return 1;let e=0;return this.left&&(e+=this.left.getKLevelSize(t-1)),this.right&&(e+=this.right.getKLevelSize(t-1)),e}getSum(){let t=this.value;return this.left&&(t+=this.left.getSum()),this.right&&(t+=this.right.getSum()),t}}const mfe=[{path:"",component:KQ},{path:"pathfinding",component:DQ},{path:"sorting",component:QJ},{path:"tree",component:(()=>{class r{constructor(e){this._snackBar=e,this.treeTabs=[{name:"binarySearchTree",value:"binarySearchTree",tab:"\u4e8c\u53c9\u641c\u7d22\u6811"}],this.animationQueue=[],this.outputNumbers=[],this.speed=100}ngOnInit(){this.initGraph(),this.generateBinarySearchTree()}initGraph(){gfe.registerEdge("circle-running",{afterDraw(e,n){const i=n?.get("children")[0],a=i.getPoint(0);n?.addShape("circle",{attrs:{x:a.x,y:a.y,fill:"#1890ff",r:3},name:"circle-shape"})?.animate(s=>{const l=i.getPoint(s);return{x:l.x,y:l.y}},{repeat:!0,duration:1e3})}},"cubic-vertical"),this.graph=new h5({container:"container",width:1500,height:500,animate:!0,modes:{default:["drag-canvas","zoom-canvas"]},layout:{type:"compactBox",direction:"TB",nodeSep:40,rankSep:100},defaultEdge:{type:"cubic-vertical",style:{stroke:"#A3B1BF"}}}),this.graph?.node(e=>({label:e.id,style:{fill:"white"},labelCfg:{position:"center",offset:5}}))}tabSelectionChanged(e){this.graph?.clear(),0==e&&this.initBinaryTreeGraph()}initBinaryTreeGraph(){this.generateBinarySearchTree()}addBinarySearchTreeNode(){if(null!=this.binarySearchTreeNodeValue){if(!this.checkValidValue())return void this._snackBar.open("\u8282\u70b9\u503c\u5df2\u5b58\u5728","\u5173\u95ed",{duration:2e3});this.clearNodeColorAndEdgeStatus(),this.insertBinarySearchTree(this.binarySearchTreeNodeValue),this.binarySearchTreeNodeValue=void 0,this.graph?.data(this.binarySearchTreeData),this.graph?.changeData(),this.graph?.fitView()}console.log(this.binarySearchTreeData)}insertBinarySearchTree(e){this.binarySearchTree?this.binarySearchTree.insert(e):this.binarySearchTree=new J0(e),this.binarySearchTreeData=this.toBinarySearchTreeData()}toBinarySearchTreeData(){if(this.binarySearchTree)return this.toBinarySearchTreeDataHelper(this.binarySearchTree)}toBinarySearchTreeDataHelper(e){const n={id:e.value.toString(),children:[]};return e.left&&n.children.push(this.toBinarySearchTreeDataHelper(e.left)),e.right&&n.children.push(this.toBinarySearchTreeDataHelper(e.right)),n}checkValidValue(){return!(null!=this.binarySearchTreeNodeValue&&this.binarySearchTreeNodeValue<0||this.binarySearchTree&&this.binarySearchTree.find(this.binarySearchTreeNodeValue))}deleteBinarySearchTreeNode(){this.binarySearchTree?this.waitDeleteBinarySearchTreeNodeValue?this.binarySearchTree.find(this.waitDeleteBinarySearchTreeNodeValue)?this.binarySearchTree.value==this.waitDeleteBinarySearchTreeNodeValue&&null==this.binarySearchTree.left&&null==this.binarySearchTree.right?(this.binarySearchTree=void 0,this.binarySearchTreeData=void 0,this.graph?.clear()):(this.binarySearchTree.delete(this.waitDeleteBinarySearchTreeNodeValue),this.binarySearchTreeData=this.toBinarySearchTreeData(),console.log(this.binarySearchTreeData),this.graph?.data(this.binarySearchTreeData),this.graph?.render(),this.graph?.fitView()):this._snackBar.open("\u8282\u70b9\u503c\u4e0d\u5b58\u5728","\u5173\u95ed",{duration:2e3}):this._snackBar.open("\u8bf7\u8f93\u5165\u8282\u70b9\u503c","\u5173\u95ed",{duration:2e3}):this._snackBar.open("\u4e8c\u53c9\u67e5\u627e\u6811\u4e3a\u7a7a","\u5173\u95ed",{duration:2e3}),this.waitDeleteBinarySearchTreeNodeValue=void 0}searchBinarySearchTreeNode(){this.clearNodeColorAndEdgeStatus(),this.binarySearchTreeData&&(this.waitSearchBinarySearchTreeNodeValue?this.binarySearchTree.find(this.waitSearchBinarySearchTreeNodeValue)?(this.searchBinarySearchTreeNodeHelper(this.binarySearchTreeData,this.waitSearchBinarySearchTreeNodeValue),console.log(this.animationQueue),this.playSearchBinarySearchTreeNodeAnimation()):this._snackBar.open("\u8282\u70b9\u503c\u4e0d\u5b58\u5728","\u5173\u95ed",{duration:2e3}):this._snackBar.open("\u8bf7\u8f93\u5165\u8282\u70b9\u503c","\u5173\u95ed",{duration:2e3}))}clearNodeColorAndEdgeStatus(){this.graph?.getNodes().forEach(e=>{e.update({style:{fill:"white"}}),e.setState("selected",!1)}),this.graph?.getEdges().forEach(e=>{e.update({type:"cubic-vertical"})}),this.outputString=void 0}clearAnimationQueueHasSameNodeEdge(){const e=[];this.animationQueue.forEach(n=>{2==n.length?n[1].value.split(":")[0]!=n[1].value.split(":")[1]&&e.push(n):e.push(n)}),this.animationQueue=e}searchBinarySearchTreeNodeHelper(e,n){parseInt(e.id)!=n?0!=e.children.length&&(1==e.children.length&&(this.addToAnimationQueue(e.id),this.searchBinarySearchTreeNodeHelper(e.children[0],n)),2==e.children.length&&(this.addToAnimationQueue(e.id),parseInt(e.id)>n?this.searchBinarySearchTreeNodeHelper(e.children[0],n):this.searchBinarySearchTreeNodeHelper(e.children[1],n))):this.addToAnimationQueue(e.id,"green")}addToAnimationQueue(e,n="red"){if(this.animationQueue.length>0){let i,a=this.animationQueue[this.animationQueue.length-1];"node"==a[0].type&&(i=a[0].value),this.animationQueue[this.animationQueue.length-1].push({type:"edge",value:i+":"+e,operation:"search"}),this.animationQueue.push([{type:"node",value:e,operation:"search",color:n}])}else this.animationQueue.push([{type:"node",value:e,operation:"search",color:n}])}generateBinarySearchTree(){const e=40*Math.random(),n=new Set;this.binarySearchTree=new J0(Math.floor(100*Math.random())),n.add(this.binarySearchTree.value);for(let i=0;i<e;i++){let a=Math.floor(100*Math.random());for(;n.has(a);)a=Math.floor(100*Math.random());this.binarySearchTree.insert(a),n.add(a)}this.binarySearchTreeData=this.toBinarySearchTreeData(),this.graph?.data(this.binarySearchTreeData),this.graph?.render(),this.graph?.fitView()}deleteBinarySearchTree(){this.binarySearchTree=void 0,this.binarySearchTreeData=void 0,this.graph?.clear()}getCalculateSpeed(){return 1e3-9*this.speed}playSearchBinarySearchTreeNodeAnimation(){if(this.animationQueue.length>0){const e=this.animationQueue.shift();e&&e.forEach(n=>{"node"==n.type?this.graph?.update(n.value,{style:{fill:n.color}}):"edge"==n.type&&this.graph?.findById(n.value)?.update({type:"circle-running"})}),this.timer=setTimeout(()=>{this.playSearchBinarySearchTreeNodeAnimation()},this.getCalculateSpeed())}else clearInterval(this.timer)}playTraverseSearchTreeNodeAnimation(){if(this.animationQueue.length>0){const e=this.animationQueue.shift();e&&e.forEach(n=>{if("node"==n.type){if(this.graph?.update(n.value,{style:{fill:n.color}}),this.graph?.findById(n.value)?.setState("selected",!1),parseInt(n.value)==this.outputNumbers[0]){this.graph?.update(n.value,{style:{fill:"white"}}),this.graph?.findById(n.value)?.setState("selected",!0);const i=this.outputNumbers.shift();i&&(this.outputString=this.outputString?this.outputString+","+i.toString():i.toString())}}else"edge"==n.type&&this.graph?.findById(n.value)?.update({type:"circle-running"})}),this.traverseTimer=setTimeout(()=>{this.playTraverseSearchTreeNodeAnimation()},this.getCalculateSpeed())}else clearInterval(this.traverseTimer),this.traverseTimer=void 0}playLevelOrderTraversalAnimation(){if(this.animationQueue.length>0){const e=this.animationQueue.shift();e&&e.forEach(n=>{if("node"==n.type&&(this.graph?.update(n.value,{style:{fill:n.color}}),this.graph?.findById(n.value)?.setState("selected",!1),parseInt(n.value)==this.outputNumbers[0])){const i=this.outputNumbers.shift();i&&(this.outputString=this.outputString?this.outputString+","+i.toString():i.toString())}}),this.traverseTimer=setTimeout(()=>{this.playLevelOrderTraversalAnimation()},this.getCalculateSpeed())}else clearInterval(this.traverseTimer),this.traverseTimer=void 0}preOrderTraversal(){this.binarySearchTreeData&&(this.clearNodeColorAndEdgeStatus(),this.animationQueue=[],this.outputString=void 0,this.outputNumbers=[],this.preOrderTraversalHelper(this.binarySearchTreeData),this.outputString="\u5148\u5e8f\u904d\u5386\u7ed3\u679c\uff1a",this.playTraverseSearchTreeNodeAnimation())}preOrderTraversalHelper(e){this.addToAnimationQueue(e.id),this.outputNumbers.push(parseInt(e.id)),1==e.children.length?this.preOrderTraversalHelper(e.children[0]):2==e.children.length&&(this.preOrderTraversalHelper(e.children[0]),this.addToAnimationQueue(e.id,"green"),this.preOrderTraversalHelper(e.children[1]),this.addToAnimationQueue(e.id,"green")),this.addToAnimationQueue(e.id,"green")}inOrderTraversal(){this.binarySearchTreeData&&(this.clearNodeColorAndEdgeStatus(),this.animationQueue=[],this.outputString=void 0,this.outputNumbers=[],this.inOrderTraversalHelper(this.binarySearchTreeData),this.outputString="\u4e2d\u5e8f\u904d\u5386\u7ed3\u679c\uff1a",this.playTraverseSearchTreeNodeAnimation())}inOrderTraversalHelper(e){this.addToAnimationQueue(e.id),1==e.children.length?e.children[0].id<e.id?(this.inOrderTraversalHelper(e.children[0]),this.addToAnimationQueue(e.id),this.outputNumbers.push(parseInt(e.id))):(this.addToAnimationQueue(e.id),this.outputNumbers.push(parseInt(e.id)),this.inOrderTraversalHelper(e.children[0])):2==e.children.length&&(this.inOrderTraversalHelper(e.children[0]),this.addToAnimationQueue(e.id),this.outputNumbers.push(parseInt(e.id)),this.inOrderTraversalHelper(e.children[1])),0==e.children.length&&(this.addToAnimationQueue(e.id),this.outputNumbers.push(parseInt(e.id))),this.addToAnimationQueue(e.id,"green")}postOrderTraversal(){this.binarySearchTreeData&&(this.clearNodeColorAndEdgeStatus(),this.animationQueue=[],this.outputString=void 0,this.outputNumbers=[],this.postOrderTraversalHelper(this.binarySearchTreeData),this.outputString="\u540e\u5e8f\u904d\u5386\u7ed3\u679c\uff1a",this.playTraverseSearchTreeNodeAnimation())}postOrderTraversalHelper(e){this.addToAnimationQueue(e.id),1==e.children.length?(this.postOrderTraversalHelper(e.children[0]),this.addToAnimationQueue(e.id),this.outputNumbers.push(parseInt(e.id))):2==e.children.length?(this.postOrderTraversalHelper(e.children[0]),this.addToAnimationQueue(e.id),this.postOrderTraversalHelper(e.children[1]),this.addToAnimationQueue(e.id),this.outputNumbers.push(parseInt(e.id))):(this.addToAnimationQueue(e.id,"green"),this.outputNumbers.push(parseInt(e.id))),this.addToAnimationQueue(e.id,"green")}levelOrderTraversal(){this.binarySearchTreeData&&(this.clearNodeColorAndEdgeStatus(),this.animationQueue=[],this.outputString=void 0,this.outputNumbers=[],this.levelOrderTraversalHelper(this.binarySearchTreeData),this.playLevelOrderTraversalAnimation(),this.outputString="\u5c42\u5e8f\u904d\u5386\u7ed3\u679c\uff1a")}levelOrderTraversalHelper(e){const n=[];for(n.push(e);n.length>0;){let i;i=n.shift(),this.addToAnimationQueue(i.id,"green"),this.outputNumbers.push(parseInt(i.id)),1==i.children.length?n.push(i.children[0]):2==i.children.length&&(n.push(i.children[0]),n.push(i.children[1]))}}}return r.\u0275fac=function(e){return new(e||r)(It(IN))},r.\u0275cmp=ua({type:r,selectors:[["app-tree"]],decls:49,vars:10,consts:[[1,"tree-main"],[3,"selectedIndexChange"],[3,"label"],[2,"display","flex","flex-direction","row","height","200px"],[1,"input-with-button"],["mat-raised-button","","color","primary","routerLink","/"],["mat-raised-button","","color","primary",3,"click"],["matInput","","type","number","placeholder","\u8f93\u5165\u4e00\u4e2a\u6570\u5b57",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","\u8f93\u5165\u8282\u70b9\u6570\u5b57",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"speed-area"],[2,"margin-left","20px"],["min","1","max","100","step","1","discrete","",2,"width","200px"],["matSliderThumb","",3,"value","valueChange"],[1,"output-area"],["id","container",2,"border","1px black solid","border-radius","10px"]],template:function(e,n){1&e&&(ar(0,"div",0)(1,"mat-tab-group",1),ri("selectedIndexChange",function(a){return n.tabSelectionChanged(a)}),ar(2,"mat-tab",2)(3,"div",3)(4,"div",4)(5,"button",5),hi(6,"\u8fd4\u56de\u9996\u9875"),sr(),ar(7,"button",6),ri("click",function(){return n.generateBinarySearchTree()}),hi(8,"\u751f\u6210\u4e8c\u53c9\u641c\u7d22\u6811"),sr(),ar(9,"button",6),ri("click",function(){return n.deleteBinarySearchTree()}),hi(10,"\u9500\u6bc1\u4e8c\u53c9\u641c\u7d22\u6811"),sr()(),ar(11,"div",4)(12,"mat-form-field")(13,"mat-label"),hi(14,"\u63d2\u5165\u8282\u70b9"),sr(),ar(15,"input",7),ri("ngModelChange",function(a){return n.binarySearchTreeNodeValue=a}),sr()(),ar(16,"button",6),ri("click",function(){return n.addBinarySearchTreeNode()}),hi(17,"\u6dfb\u52a0\u8282\u70b9"),sr()(),ar(18,"div",4)(19,"mat-form-field")(20,"mat-label"),hi(21,"\u5220\u9664\u8282\u70b9"),sr(),ar(22,"input",8),ri("ngModelChange",function(a){return n.waitDeleteBinarySearchTreeNodeValue=a}),sr()(),ar(23,"button",6),ri("click",function(){return n.deleteBinarySearchTreeNode()}),hi(24,"\u5220\u9664\u8282\u70b9"),sr()(),ar(25,"div",4)(26,"mat-form-field")(27,"mat-label"),hi(28,"\u641c\u7d22\u8282\u70b9"),sr(),ar(29,"input",8),ri("ngModelChange",function(a){return n.waitSearchBinarySearchTreeNodeValue=a}),sr()(),ar(30,"button",6),ri("click",function(){return n.searchBinarySearchTreeNode()}),hi(31,"\u641c\u7d22\u8282\u70b9"),sr()(),ar(32,"div",4)(33,"button",9),ri("click",function(){return n.preOrderTraversal()}),hi(34,"\u5148\u5e8f\u904d\u5386 "),sr(),ar(35,"button",9),ri("click",function(){return n.inOrderTraversal()}),hi(36,"\u4e2d\u5e8f\u904d\u5386 "),sr(),ar(37,"button",9),ri("click",function(){return n.postOrderTraversal()}),hi(38,"\u540e\u5e8f\u904d\u5386 "),sr(),ar(39,"button",9),ri("click",function(){return n.levelOrderTraversal()}),hi(40,"\u5c42\u6b21\u904d\u5386 "),sr()(),ar(41,"div",10)(42,"div",11),hi(43,"\u901f\u5ea6\uff1a"),sr(),ar(44,"mat-slider",12)(45,"input",13),ri("valueChange",function(a){return n.speed=a}),sr()()()()()(),ar(46,"div",14),hi(47),sr(),Ra(48,"div",15),sr()),2&e&&(gr(2),_p("label",n.treeTabs[0].tab),gr(13),mr("ngModel",n.binarySearchTreeNodeValue),gr(7),mr("ngModel",n.waitDeleteBinarySearchTreeNodeValue),gr(7),mr("ngModel",n.waitSearchBinarySearchTreeNodeValue),gr(4),mr("disabled",null!=n.traverseTimer),gr(2),mr("disabled",null!=n.traverseTimer),gr(2),mr("disabled",null!=n.traverseTimer),gr(2),mr("disabled",null!=n.traverseTimer),gr(6),mr("value",n.speed),gr(2),zc(n.outputString))},dependencies:[Dp,QE,t0,MS,d0,W_,hR,n0,mS,iS,gS,kS,wR],styles:[".input-with-button[_ngcontent-%COMP%]{height:150px;display:flex;flex-direction:column;margin-top:10px;margin-left:20px;width:200px;justify-content:space-evenly}.speed-area[_ngcontent-%COMP%]{display:flex;width:300px;flex-direction:row;align-items:center;height:150px}"]}),r})()}];let yfe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[pk.forRoot(mfe),pk]}),r})(),_fe=(()=>{class r{constructor(){this.title="visualAlgorithm"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ua({type:r,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"main-body"]],template:function(e,n){1&e&&(ar(0,"div",0),Ra(1,"router-outlet"),sr())},dependencies:[lE],styles:[".main-body[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;display:flex;flex-direction:column;font-family:proxima_nova_rgregular,Helvetica,Arial,sans-serif}.information[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:10px 0;padding:0;width:100%;height:100%;font-size:large}"]}),r})();function B4(r){return new Pe(3e3,!1)}function ehe(){return typeof window<"u"&&typeof window.document<"u"}function NC(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ph(r){switch(r.length){case 0:return new Zm;case 1:return r[0];default:return new lN(r)}}function z4(r,t,e,n,i=new Map,a=new Map){const o=[],s=[];let l=-1,c=null;if(n.forEach(u=>{const d=u.get("offset"),h=d==l,v=h&&c||new Map;u.forEach((y,D)=>{let F=D,K=y;if("offset"!==D)switch(F=t.normalizePropertyName(F,o),K){case BE:K=i.get(D);break;case wf:K=a.get(D);break;default:K=t.normalizeStyleValue(D,F,K,o)}v.set(F,K)}),h||s.push(v),c=v,l=d}),o.length)throw function Ufe(r){return new Pe(3502,!1)}();return s}function PC(r,t,e,n){switch(t){case"start":r.onStart(()=>n(e&&RC(e,"start",r)));break;case"done":r.onDone(()=>n(e&&RC(e,"done",r)));break;case"destroy":r.onDestroy(()=>n(e&&RC(e,"destroy",r)))}}function RC(r,t,e){const a=LC(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),o=r._data;return null!=o&&(a._data=o),a}function LC(r,t,e,n,i="",a=0,o){return{element:r,triggerName:t,fromState:e,toState:n,phaseName:i,totalTime:a,disabled:!!o}}function bc(r,t,e){let n=r.get(t);return n||r.set(t,n=e),n}function V4(r){const t=r.indexOf(":");return[r.substring(1,t),r.slice(t+1)]}let FC=(r,t)=>!1,j4=(r,t,e)=>[],U4=null;function BC(r){const t=r.parentNode||r.host;return t===U4?null:t}(NC()||typeof Element<"u")&&(ehe()?(U4=(()=>document.documentElement)(),FC=(r,t)=>{for(;t;){if(t===r)return!0;t=BC(t)}return!1}):FC=(r,t)=>r.contains(t),j4=(r,t,e)=>{if(e)return Array.from(r.querySelectorAll(t));const n=r.querySelector(t);return n?[n]:[]});let Zp=null,G4=!1;const H4=FC,W4=j4;let Y4=(()=>{class r{validateStyleProperty(e){return function nhe(r){Zp||(Zp=function rhe(){return typeof document<"u"?document.body:null}()||{},G4=!!Zp.style&&"WebkitAppearance"in Zp.style);let t=!0;return Zp.style&&!function the(r){return"ebkit"==r.substring(1,6)}(r)&&(t=r in Zp.style,!t&&G4&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Zp.style)),t}(e)}matchesElement(e,n){return!1}containsElement(e,n){return H4(e,n)}getParentElement(e){return BC(e)}query(e,n,i){return W4(e,n,i)}computeStyle(e,n,i){return i||""}animate(e,n,i,a,o,s=[],l){return new Zm(i,a)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})(),zC=(()=>{class r{}return r.NOOP=new Y4,r})();const ihe=1e3,VC="ng-enter",Ex="ng-leave",Sx="ng-trigger",Mx=".ng-trigger",X4="ng-animating",jC=".ng-animating";function kf(r){if("number"==typeof r)return r;const t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:UC(parseFloat(t[1]),t[2])}function UC(r,t){return"s"===t?r*ihe:r}function Cx(r,t,e){return r.hasOwnProperty("duration")?r:function ohe(r,t,e){let i,a=0,o="";if("string"==typeof r){const s=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return t.push(B4()),{duration:0,delay:0,easing:""};i=UC(parseFloat(s[1]),s[2]);const l=s[3];null!=l&&(a=UC(parseFloat(l),s[4]));const c=s[5];c&&(o=c)}else i=r;if(!e){let s=!1,l=t.length;i<0&&(t.push(function bfe(){return new Pe(3100,!1)}()),s=!0),a<0&&(t.push(function xfe(){return new Pe(3101,!1)}()),s=!0),s&&t.splice(l,0,B4())}return{duration:i,delay:a,easing:o}}(r,t,e)}function ey(r,t={}){return Object.keys(r).forEach(e=>{t[e]=r[e]}),t}function K4(r){const t=new Map;return Object.keys(r).forEach(e=>{t.set(e,r[e])}),t}function Rh(r,t=new Map,e){if(e)for(let[n,i]of e)t.set(n,i);for(let[n,i]of r)t.set(n,i);return t}function Z4(r,t,e){return e?t+":"+e+";":""}function Q4(r){let t="";for(let e=0;e<r.style.length;e++){const n=r.style.item(e);t+=Z4(0,n,r.style.getPropertyValue(n))}for(const e in r.style)r.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Z4(0,uhe(e),r.style[e]));r.setAttribute("style",t)}function Rd(r,t,e){r.style&&(t.forEach((n,i)=>{const a=HC(i);e&&!e.has(i)&&e.set(i,r.style[a]),r.style[a]=n}),NC()&&Q4(r))}function Qp(r,t){r.style&&(t.forEach((e,n)=>{const i=HC(n);r.style[i]=""}),NC()&&Q4(r))}function ty(r){return Array.isArray(r)?1==r.length?r[0]:aN(r):r}const GC=new RegExp("{{\\s*(.+?)\\s*}}","g");function J4(r){let t=[];if("string"==typeof r){let e;for(;e=GC.exec(r);)t.push(e[1]);GC.lastIndex=0}return t}function ny(r,t,e){const n=r.toString(),i=n.replace(GC,(a,o)=>{let s=t[o];return null==s&&(e.push(function Efe(r){return new Pe(3003,!1)}()),s=""),s.toString()});return i==n?r:i}function Dx(r){const t=[];let e=r.next();for(;!e.done;)t.push(e.value),e=r.next();return t}const che=/-+([a-z0-9])/g;function HC(r){return r.replace(che,(...t)=>t[1].toUpperCase())}function uhe(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xc(r,t,e){switch(t.type){case 7:return r.visitTrigger(t,e);case 0:return r.visitState(t,e);case 1:return r.visitTransition(t,e);case 2:return r.visitSequence(t,e);case 3:return r.visitGroup(t,e);case 4:return r.visitAnimate(t,e);case 5:return r.visitKeyframes(t,e);case 6:return r.visitStyle(t,e);case 8:return r.visitReference(t,e);case 9:return r.visitAnimateChild(t,e);case 10:return r.visitAnimateRef(t,e);case 11:return r.visitQuery(t,e);case 12:return r.visitStagger(t,e);default:throw function Sfe(r){return new Pe(3004,!1)}()}}function ez(r,t){return window.getComputedStyle(r)[t]}const Ix="*";function ghe(r,t){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(n=>function mhe(r,t,e){if(":"==r[0]){const l=function yhe(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(function Bfe(r){return new Pe(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof l)return void t.push(l);r=l}const n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function Ffe(r){return new Pe(3015,!1)}()),t;const i=n[1],a=n[2],o=n[3];t.push(tz(i,o));"<"==a[0]&&!(i==Ix&&o==Ix)&&t.push(tz(o,i))}(n,e,t)):e.push(r),e}const Ox=new Set(["true","1"]),kx=new Set(["false","0"]);function tz(r,t){const e=Ox.has(r)||kx.has(r),n=Ox.has(t)||kx.has(t);return(i,a)=>{let o=r==Ix||r==i,s=t==Ix||t==a;return!o&&e&&"boolean"==typeof i&&(o=i?Ox.has(r):kx.has(r)),!s&&n&&"boolean"==typeof a&&(s=a?Ox.has(t):kx.has(t)),o&&s}}const _he=new RegExp("s*:selfs*,?","g");function WC(r,t,e,n){return new bhe(r).build(t,e,n)}class bhe{constructor(t){this._driver=t}build(t,e,n){const i=new Ehe(e);return this._resetContextStyleTimingState(i),xc(this,ty(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const a=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function Cfe(){return new Pe(3006,!1)}()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),0==s.type){const l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,a.push(this.visitState(l,e))}),l.name=c}else if(1==s.type){const l=this.visitTransition(s,e);n+=l.queryCount,i+=l.depCount,o.push(l)}else e.errors.push(function Dfe(){return new Pe(3007,!1)}())}),{type:7,name:t.name,states:a,transitions:o,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const a=new Set,o=i||{};n.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{J4(l).forEach(c=>{o.hasOwnProperty(c)||a.add(c)})})}),a.size&&(Dx(a.values()),e.errors.push(function Tfe(r,t){return new Pe(3008,!1)}()))}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=xc(this,ty(t.animation),e);return{type:1,matchers:ghe(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Jp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>xc(this,n,e)),options:Jp(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const a=t.steps.map(o=>{e.currentTime=n;const s=xc(this,o,e);return i=Math.max(i,e.currentTime),s});return e.currentTime=i,{type:3,steps:a,options:Jp(t.options)}}visitAnimate(t,e){const n=function Mhe(r,t){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return YC(Cx(r,t).duration,0,"");const e=r;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=YC(0,0,"");return a.dynamic=!0,a.strValue=e,a}const i=Cx(e,t);return YC(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let i,a=t.styles?t.styles:Go({});if(5==a.type)i=this.visitKeyframes(a,e);else{let o=t.styles,s=!1;if(!o){s=!0;const c={};n.easing&&(c.easing=n.easing),o=Go(c)}e.currentTime+=n.duration+n.delay;const l=this.visitStyle(o,e);l.isEmptyStep=s,i=l}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let s of i)"string"==typeof s?s===wf?n.push(s):e.errors.push(new Pe(3002,!1)):n.push(K4(s));let a=!1,o=null;return n.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(o=s.get("easing"),s.delete("easing")),!a))for(let l of s.values())if(l.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:n,easing:o,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,a=e.currentTime;n&&a>0&&(a-=n.duration+n.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(a!=i&&a>=u.startTime&&i<=u.endTime&&(e.errors.push(function Ife(r,t,e,n,i){return new Pe(3010,!1)}()),d=!1),a=u.startTime),d&&c.set(l,{startTime:a,endTime:i}),e.options&&function lhe(r,t,e){const n=t.params||{},i=J4(r);i.length&&i.forEach(a=>{n.hasOwnProperty(a)||e.push(function wfe(r){return new Pe(3001,!1)}())})}(s,e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Ofe(){return new Pe(3011,!1)}()),n;let a=0;const o=[];let s=!1,l=!1,c=0;const u=t.steps.map(K=>{const Q=this._makeStyleAst(K,e);let J=null!=Q.offset?Q.offset:function She(r){if("string"==typeof r)return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Q.styles),de=0;return null!=J&&(a++,de=Q.offset=J),l=l||de<0||de>1,s=s||de<c,c=de,o.push(de),Q});l&&e.errors.push(function kfe(){return new Pe(3012,!1)}()),s&&e.errors.push(function Nfe(){return new Pe(3200,!1)}());const d=t.steps.length;let h=0;a>0&&a<d?e.errors.push(function Pfe(){return new Pe(3202,!1)}()):0==a&&(h=1/(d-1));const v=d-1,y=e.currentTime,D=e.currentAnimateTimings,F=D.duration;return u.forEach((K,Q)=>{const J=h>0?Q==v?1:h*Q:o[Q],de=J*F;e.currentTime=y+D.delay+de,D.duration=de,this._validateStyleAst(K,e),K.offset=J,n.styles.push(K)}),n}visitReference(t,e){return{type:8,animation:xc(this,ty(t.animation),e),options:Jp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Jp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Jp(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[a,o]=function xhe(r){const t=!!r.split(/\s*,\s*/).find(e=>":self"==e);return t&&(r=r.replace(_he,"")),r=r.replace(/@\*/g,Mx).replace(/@\w+/g,e=>Mx+"-"+e.slice(1)).replace(/:animating/g,jC),[r,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+a:a,bc(e.collectedStyles,e.currentQuerySelector,new Map);const s=xc(this,ty(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Jp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Rfe(){return new Pe(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Cx(t.timings,e.errors,!0);return{type:12,animation:xc(this,ty(t.animation),e),timings:n,options:null}}}class Ehe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jp(r){return r?(r=ey(r)).params&&(r.params=function whe(r){return r?ey(r):null}(r.params)):r={},r}function YC(r,t,e){return{duration:r,delay:t,easing:e}}function $C(r,t,e,n,i,a,o=null,s=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:n,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:s}}class Nx{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const The=new RegExp(":enter","g"),Ihe=new RegExp(":leave","g");function XC(r,t,e,n,i,a=new Map,o=new Map,s,l,c=[]){return(new Ohe).buildKeyframes(r,t,e,n,i,a,o,s,l,c)}class Ohe{buildKeyframes(t,e,n,i,a,o,s,l,c,u=[]){c=c||new Nx;const d=new KC(t,e,c,i,a,u,[]);d.options=l;const h=l.delay?kf(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),xc(this,n,d);const v=d.timelines.filter(y=>y.containsAnimation());if(v.length&&s.size){let y;for(let D=v.length-1;D>=0;D--){const F=v[D];if(F.element===e){y=F;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([s],null,d.errors,l)}return v.length?v.map(y=>y.buildKeyframes()):[$C(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const i=e.createSubContext(t.options),a=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);a!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(const i of t){const a=i?.delay;if(a){const o="number"==typeof a?a:kf(ny(a,i?.params??{},e.errors));n.delayNextStep(o)}}}_visitSubInstructions(t,e,n){let a=e.currentTimeline.currentTime;const o=null!=n.duration?kf(n.duration):null,s=null!=n.delay?kf(n.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,s);a=Math.max(a,c.duration+c.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),xc(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const a=t.options;if(a&&(a.params||a.delay)&&(i=e.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Px);const o=kf(a.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>xc(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?kf(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);a&&s.delayNextStep(a),xc(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Cx(e.params?ny(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(n.duration),this.visitStyle(a,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();const a=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(a):n.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,a=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(l=>{s.forwardTime((l.offset||0)*a),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+a),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},a=i.delay?kf(i.delay):0;a&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Px);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);a&&d.delayNextStep(a),c===e.element&&(l=d.currentTimeline),xc(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,a=t.timings,o=Math.abs(a.duration),s=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":l=s-l;break;case"full":l=n.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;xc(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-d+(i.startTime-n.currentTimeline.startTime)}}const Px={};class KC{constructor(t,e,n,i,a,o,s,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Px,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Rx(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=kf(n.duration)),null!=n.delay&&(i.delay=kf(n.delay));const a=n.params;if(a){let o=i.params;o||(o=this.options.params={}),Object.keys(a).forEach(s=>{(!e||!o.hasOwnProperty(s))&&(o[s]=ny(a[s],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(i=>{n[i]=e[i]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,a=new KC(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=Px,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},a=new khe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,a,o){let s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(The,"."+this._enterClassName)).replace(Ihe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),s.push(...c)}return!a&&0==s.length&&o.push(function Lfe(r){return new Pe(3014,!1)}()),s}}class Rx{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Rx(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||wf),this._currentKeyframe.set(e,wf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&this._previousKeyframe.set("easing",e);const a=i&&i.params||{},o=function Nhe(r,t){const e=new Map;let n;return r.forEach(i=>{if("*"===i){n=n||t.keys();for(let a of n)e.set(a,wf)}else Rh(i,e)}),e}(t,this._globalTimelineStyles);for(let[s,l]of o){const c=ny(l,a,n);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??wf),this._updateStyle(s,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{const i=this._styleSummary.get(n);(!i||e.time>i.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((s,l)=>{const c=Rh(s,new Map,this._backFill);c.forEach((u,d)=>{u===BE?t.add(d):u===wf&&e.add(d)}),n||c.set("offset",l/this.duration),i.push(c)});const a=t.size?Dx(t.values()):[],o=e.size?Dx(e.values()):[];if(n){const s=i[0],l=new Map(s);s.set("offset",0),l.set("offset",1),i=[s,l]}return $C(this.element,i,a,o,this.duration,this.startTime,this.easing,!1)}}class khe extends Rx{constructor(t,e,n,i,a,o,s=!1){super(t,e,o.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],o=n+e,s=e/o,l=Rh(t[0]);l.set("offset",0),a.push(l);const c=Rh(t[0]);c.set("offset",iz(s)),a.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=Rh(t[d]);const v=h.get("offset");h.set("offset",iz((e+v*n)/o)),a.push(h)}n=o,e=0,i="",t=a}return $C(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function iz(r,t=3){const e=Math.pow(10,t-1);return Math.round(r*e)/e}class qC{}const Phe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Rhe extends qC{normalizePropertyName(t,e){return HC(t)}normalizeStyleValue(t,e,n,i){let a="";const o=n.toString().trim();if(Phe.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)a="px";else{const s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&i.push(function Mfe(r,t){return new Pe(3005,!1)}())}return o+a}}function az(r,t,e,n,i,a,o,s,l,c,u,d,h){return{type:0,element:r,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:a,toState:n,toStyles:o,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const ZC={};class oz{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function Lhe(r,t,e,n,i){return r.some(a=>a(t,e,n,i))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,n):new Map}build(t,e,n,i,a,o,s,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||ZC,y=this.buildStyles(n,s&&s.params||ZC,d),D=l&&l.params||ZC,F=this.buildStyles(i,D,d),K=new Set,Q=new Map,J=new Map,de="void"===i,Ee={params:Fhe(D,h),delay:this.ast.options?.delay},ke=u?[]:XC(t,e,this.ast.animation,a,o,y,F,Ee,c,d);let Re=0;if(ke.forEach(xt=>{Re=Math.max(xt.duration+xt.delay,Re)}),d.length)return az(e,this._triggerName,n,i,de,y,F,[],[],Q,J,Re,d);ke.forEach(xt=>{const ct=xt.element,Nt=bc(Q,ct,new Set);xt.preStyleProps.forEach(Mn=>Nt.add(Mn));const Ut=bc(J,ct,new Set);xt.postStyleProps.forEach(Mn=>Ut.add(Mn)),ct!==e&&K.add(ct)});const tt=Dx(K.values());return az(e,this._triggerName,n,i,de,y,F,ke,tt,Q,J,Re)}}function Fhe(r,t){const e=ey(t);for(const n in r)r.hasOwnProperty(n)&&null!=r[n]&&(e[n]=r[n]);return e}class Bhe{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n=new Map,i=ey(this.defaultParams);return Object.keys(t).forEach(a=>{const o=t[a];null!==o&&(i[a]=o)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((o,s)=>{o&&(o=ny(o,i,e));const l=this.normalizer.normalizePropertyName(s,e);o=this.normalizer.normalizeStyleValue(s,l,o,e),n.set(s,o)})}),n}}class Vhe{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new Bhe(i.style,i.options&&i.options.params||{},n))}),sz(this.states,"true","1"),sz(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new oz(t,i,this.states))}),this.fallbackTransition=function jhe(r,t,e){return new oz(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,s)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(o=>o.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function sz(r,t,e){r.has(t)?r.has(e)||r.set(e,r.get(t)):r.has(e)&&r.set(t,r.get(e))}const Uhe=new Nx;class Ghe{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const n=[],i=[],a=WC(this._driver,e,n,i);if(n.length)throw function Gfe(r){return new Pe(3503,!1)}();this._animations.set(t,a)}_buildPlayer(t,e,n){const i=t.element,a=z4(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],a=this._animations.get(t);let o;const s=new Map;if(a?(o=XC(this._driver,e,a,VC,Ex,new Map,new Map,n,Uhe,i),o.forEach(u=>{const d=bc(s,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Hfe(){return new Pe(3300,!1)}()),o=[]),i.length)throw function Wfe(r){return new Pe(3504,!1)}();s.forEach((u,d)=>{u.forEach((h,v)=>{u.set(v,this._driver.computeStyle(d,v,wf))})});const c=Ph(o.map(u=>{const d=s.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Yfe(r){return new Pe(3301,!1)}();return e}listen(t,e,n,i){const a=LC(e,"","","");return PC(this._getPlayer(t),n,a,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const a=this._getPlayer(t);switch(n){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const lz="ng-animate-queued",QC="ng-animate-disabled",Xhe=[],cz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Khe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jc="__ng_removed";class JC{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function Jhe(r){return r??null}(n?t.value:t),n){const a=ey(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(i=>{null==n[i]&&(n[i]=e[i])})}}}const ry="void",eD=new JC(ry);class qhe{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,eu(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.has(e))throw function $fe(r,t){return new Pe(3302,!1)}();if(null==n||0==n.length)throw function Xfe(r){return new Pe(3303,!1)}();if(!function epe(r){return"start"==r||"done"==r}(n))throw function Kfe(r,t){return new Pe(3400,!1)}();const a=bc(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};a.push(o);const s=bc(this._engine.statesByElement,t,new Map);return s.has(e)||(eu(t,Sx),eu(t,Sx+"-"+e),s.set(e,eD)),()=>{this._engine.afterFlush(()=>{const l=a.indexOf(o);l>=0&&a.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function qfe(r){return new Pe(3401,!1)}();return e}trigger(t,e,n,i=!0){const a=this._getTrigger(e),o=new tD(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(eu(t,Sx),eu(t,Sx+"-"+e),this._engine.statesByElement.set(t,s=new Map));let l=s.get(e);const c=new JC(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=eD),c.value!==ry&&l.value===c.value){if(!function rpe(r,t){const e=Object.keys(r),n=Object.keys(t);if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){const a=e[i];if(!t.hasOwnProperty(a)||r[a]!==t[a])return!1}return!0}(l.params,c.params)){const D=[],F=a.matchStyles(l.value,l.params,D),K=a.matchStyles(c.value,c.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Qp(t,F),Rd(t,K)})}return}const h=bc(this._engine.playersByElement,t,[]);h.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let v=a.matchTransition(l.value,c.value,t,c.params),y=!1;if(!v){if(!i)return;v=a.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:l,toState:c,player:o,isFallbackTransition:y}),y||(eu(t,lz),o.onStart(()=>{Fg(t,lz)})),o.onDone(()=>{let D=this.players.indexOf(o);D>=0&&this.players.splice(D,1);const F=this._engine.playersByElement.get(t);if(F){let K=F.indexOf(o);K>=0&&F.splice(K,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Mx,!0);n.forEach(i=>{if(i[Jc])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(o=>o.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,n,i){const a=this._engine.statesByElement.get(t),o=new Map;if(a){const s=[];if(a.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,ry,i);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),n&&Ph(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const i=new Set;e.forEach(a=>{const o=a.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=n.get(o)||eD,u=new JC(ry),d=new tD(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const a=n.players.length?n.playersByQueriedElement.get(t):[];if(a&&a.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(n.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const a=t[Jc];(!a||a===cz)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){eu(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const a=n.element,o=this._elementListeners.get(a);o&&o.forEach(s=>{if(s.name==n.triggerName){const l=LC(a,n.triggerName,n.fromState.value,n.toState.value);l._data=t,PC(n.player,s.phase,l,s.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((n,i)=>{const a=n.transition.ast.depCount,o=i.transition.ast.depCount;return 0==a||0==o?a-o:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(n=>n.element===t)||e,e}}class Zhe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new qhe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,s=this.driver.getParentElement(e);for(;s;){const l=i.get(s);if(l){const c=n.indexOf(l);n.splice(c+1,0,t),o=!0;break}s=this.driver.getParentElement(s)}o||n.unshift(t)}else n.push(t);return i.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n)for(let i of n.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&e.add(a)}return e}trigger(t,e,n,i){if(Lx(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!Lx(e))return;const a=e[Jc];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),eu(t,QC)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Fg(t,QC))}removeNode(t,e,n,i){if(Lx(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i,a){this.collectedLeaveElements.push(e),e[Jc]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,n,i,a){return Lx(e)?this._fetchNamespace(t).listen(e,n,i,a):()=>{}}_buildInstruction(t,e,n,i,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,Mx,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,jC,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ph(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Jc];if(e&&e.setForRemoval){if(t[Jc]=cz,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(QC)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)eu(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?Ph(e).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(t){throw function Zfe(r){return new Pe(3402,!1)}()}_flushAnimations(t,e){const n=new Nx,i=[],a=new Map,o=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach($t=>{u.add($t);const Tn=this.driver.query($t,".ng-animate-queued",!0);for(let In=0;In<Tn.length;In++)u.add(Tn[In])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),v=fz(h,this.collectedEnterElements),y=new Map;let D=0;v.forEach(($t,Tn)=>{const In=VC+D++;y.set(Tn,In),$t.forEach(an=>eu(an,In))});const F=[],K=new Set,Q=new Set;for(let $t=0;$t<this.collectedLeaveElements.length;$t++){const Tn=this.collectedLeaveElements[$t],In=Tn[Jc];In&&In.setForRemoval&&(F.push(Tn),K.add(Tn),In.hasAnimation?this.driver.query(Tn,".ng-star-inserted",!0).forEach(an=>K.add(an)):Q.add(Tn))}const J=new Map,de=fz(h,Array.from(K));de.forEach(($t,Tn)=>{const In=Ex+D++;J.set(Tn,In),$t.forEach(an=>eu(an,In))}),t.push(()=>{v.forEach(($t,Tn)=>{const In=y.get(Tn);$t.forEach(an=>Fg(an,In))}),de.forEach(($t,Tn)=>{const In=J.get(Tn);$t.forEach(an=>Fg(an,In))}),F.forEach($t=>{this.processLeaveNode($t)})});const Ee=[],ke=[];for(let $t=this._namespaceList.length-1;$t>=0;$t--)this._namespaceList[$t].drainQueuedTransitions(e).forEach(In=>{const an=In.player,On=In.element;if(Ee.push(an),this.collectedEnterElements.length){const _i=On[Jc];if(_i&&_i.setForMove){if(_i.previousTriggersValues&&_i.previousTriggersValues.has(In.triggerName)){const Li=_i.previousTriggersValues.get(In.triggerName),Fi=this.statesByElement.get(In.element);if(Fi&&Fi.has(In.triggerName)){const ya=Fi.get(In.triggerName);ya.value=Li,Fi.set(In.triggerName,ya)}}return void an.destroy()}}const Kn=!d||!this.driver.containsElement(d,On),Gn=J.get(On),dr=y.get(On),ur=this._buildInstruction(In,n,dr,Gn,Kn);if(ur.errors&&ur.errors.length)return void ke.push(ur);if(Kn)return an.onStart(()=>Qp(On,ur.fromStyles)),an.onDestroy(()=>Rd(On,ur.toStyles)),void i.push(an);if(In.isFallbackTransition)return an.onStart(()=>Qp(On,ur.fromStyles)),an.onDestroy(()=>Rd(On,ur.toStyles)),void i.push(an);const Zr=[];ur.timelines.forEach(_i=>{_i.stretchStartingKeyframe=!0,this.disabledNodes.has(_i.element)||Zr.push(_i)}),ur.timelines=Zr,n.append(On,ur.timelines),o.push({instruction:ur,player:an,element:On}),ur.queriedElements.forEach(_i=>bc(s,_i,[]).push(an)),ur.preStyleProps.forEach((_i,Li)=>{if(_i.size){let Fi=l.get(Li);Fi||l.set(Li,Fi=new Set),_i.forEach((ya,Va)=>Fi.add(Va))}}),ur.postStyleProps.forEach((_i,Li)=>{let Fi=c.get(Li);Fi||c.set(Li,Fi=new Set),_i.forEach((ya,Va)=>Fi.add(Va))})});if(ke.length){const $t=[];ke.forEach(Tn=>{$t.push(function Qfe(r,t){return new Pe(3505,!1)}())}),Ee.forEach(Tn=>Tn.destroy()),this.reportError($t)}const Re=new Map,tt=new Map;o.forEach($t=>{const Tn=$t.element;n.has(Tn)&&(tt.set(Tn,Tn),this._beforeAnimationBuild($t.player.namespaceId,$t.instruction,Re))}),i.forEach($t=>{const Tn=$t.element;this._getPreviousPlayers(Tn,!1,$t.namespaceId,$t.triggerName,null).forEach(an=>{bc(Re,Tn,[]).push(an),an.destroy()})});const xt=F.filter($t=>pz($t,l,c)),ct=new Map;dz(ct,this.driver,Q,c,wf).forEach($t=>{pz($t,l,c)&&xt.push($t)});const Ut=new Map;v.forEach(($t,Tn)=>{dz(Ut,this.driver,new Set($t),l,BE)}),xt.forEach($t=>{const Tn=ct.get($t),In=Ut.get($t);ct.set($t,new Map([...Array.from(Tn?.entries()??[]),...Array.from(In?.entries()??[])]))});const Mn=[],Jn=[],zn={};o.forEach($t=>{const{element:Tn,player:In,instruction:an}=$t;if(n.has(Tn)){if(u.has(Tn))return In.onDestroy(()=>Rd(Tn,an.toStyles)),In.disabled=!0,In.overrideTotalTime(an.totalTime),void i.push(In);let On=zn;if(tt.size>1){let Gn=Tn;const dr=[];for(;Gn=Gn.parentNode;){const ur=tt.get(Gn);if(ur){On=ur;break}dr.push(Gn)}dr.forEach(ur=>tt.set(ur,On))}const Kn=this._buildAnimation(In.namespaceId,an,Re,a,Ut,ct);if(In.setRealPlayer(Kn),On===zn)Mn.push(In);else{const Gn=this.playersByElement.get(On);Gn&&Gn.length&&(In.parentPlayer=Ph(Gn)),i.push(In)}}else Qp(Tn,an.fromStyles),In.onDestroy(()=>Rd(Tn,an.toStyles)),Jn.push(In),u.has(Tn)&&i.push(In)}),Jn.forEach($t=>{const Tn=a.get($t.element);if(Tn&&Tn.length){const In=Ph(Tn);$t.setRealPlayer(In)}}),i.forEach($t=>{$t.parentPlayer?$t.syncPlayerEvents($t.parentPlayer):$t.destroy()});for(let $t=0;$t<F.length;$t++){const Tn=F[$t],In=Tn[Jc];if(Fg(Tn,Ex),In&&In.hasAnimation)continue;let an=[];if(s.size){let Kn=s.get(Tn);Kn&&Kn.length&&an.push(...Kn);let Gn=this.driver.query(Tn,jC,!0);for(let dr=0;dr<Gn.length;dr++){let ur=s.get(Gn[dr]);ur&&ur.length&&an.push(...ur)}}const On=an.filter(Kn=>!Kn.destroyed);On.length?tpe(this,Tn,On):this.processLeaveNode(Tn)}return F.length=0,Mn.forEach($t=>{this.players.push($t),$t.onDone(()=>{$t.destroy();const Tn=this.players.indexOf($t);this.players.splice(Tn,1)}),$t.play()}),Mn}elementContainsData(t,e){let n=!1;const i=e[Jc];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,a){let o=[];if(e){const s=this.playersByQueriedElement.get(t);s&&(o=s)}else{const s=this.playersByElement.get(t);if(s){const l=!a||a==ry;s.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(n||i)&&(o=o.filter(s=>!(n&&n!=s.namespaceId||i&&i!=s.triggerName))),o}_beforeAnimationBuild(t,e,n){const a=e.element,o=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==a,d=bc(n,c,[]);this._getPreviousPlayers(c,u,o,s,e.toState).forEach(v=>{const y=v.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),v.destroy(),d.push(v)})}Qp(a,e.fromStyles)}_buildAnimation(t,e,n,i,a,o){const s=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(y=>{const D=y.element;u.add(D);const F=D[Jc];if(F&&F.removedBeforeQueried)return new Zm(y.duration,y.delay);const K=D!==l,Q=function npe(r){const t=[];return hz(r,t),t}((n.get(D)||Xhe).map(Re=>Re.getRealPlayer())).filter(Re=>!!Re.element&&Re.element===D),J=a.get(D),de=o.get(D),Ee=z4(0,this._normalizer,0,y.keyframes,J,de),ke=this._buildPlayer(y,Ee,Q);if(y.subTimeline&&i&&d.add(D),K){const Re=new tD(t,s,D);Re.setRealPlayer(ke),c.push(Re)}return ke});c.forEach(y=>{bc(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function Qhe(r,t,e){let n=r.get(t);if(n){if(n.length){const i=n.indexOf(e);n.splice(i,1)}0==n.length&&r.delete(t)}return n}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>eu(y,X4));const v=Ph(h);return v.onDestroy(()=>{u.forEach(y=>Fg(y,X4)),Rd(l,e.toStyles)}),d.forEach(y=>{bc(i,y,[]).push(v)}),v}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Zm(t.duration,t.delay)}}class tD{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Zm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(i=>PC(t,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){bc(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Lx(r){return r&&1===r.nodeType}function uz(r,t){const e=r.style.display;return r.style.display=t??"none",e}function dz(r,t,e,n,i){const a=[];e.forEach(l=>a.push(uz(l)));const o=[];n.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[Jc]=Khe,o.push(c))}),r.set(c,u)});let s=0;return e.forEach(l=>uz(l,a[s++])),o}function fz(r,t){const e=new Map;if(r.forEach(s=>e.set(s,[])),0==t.length)return e;const n=1,i=new Set(t),a=new Map;function o(s){if(!s)return n;let l=a.get(s);if(l)return l;const c=s.parentNode;return l=e.has(c)?c:i.has(c)?n:o(c),a.set(s,l),l}return t.forEach(s=>{const l=o(s);l!==n&&e.get(l).push(s)}),e}function eu(r,t){r.classList?.add(t)}function Fg(r,t){r.classList?.remove(t)}function tpe(r,t,e){Ph(e).onDone(()=>r.processLeaveNode(t))}function hz(r,t){for(let e=0;e<r.length;e++){const n=r[e];n instanceof lN?hz(n.players,t):t.push(n)}}function pz(r,t,e){const n=e.get(r);if(!n)return!1;let i=t.get(r);return i?n.forEach(a=>i.add(a)):t.set(r,n),e.delete(r),!0}class Fx{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new Zhe(t,e,n),this._timelineEngine=new Ghe(t,e,n),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(t,e,n,i,a){const o=t+"-"+i;let s=this._triggerCache[o];if(!s){const l=[],c=[],u=WC(this._driver,a,l,c);if(l.length)throw function jfe(r,t){return new Pe(3404,!1)}();s=function zhe(r,t,e){return new Vhe(r,t,e)}(i,u,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,i,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[a,o]=V4(n);this._timelineEngine.command(a,e,o,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,a){if("@"==n.charAt(0)){const[o,s]=V4(n);return this._timelineEngine.listen(o,e,s,a)}return this._transitionEngine.listen(t,e,n,i,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ape=(()=>{class r{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let a=r.initialStylesByElement.get(e);a||r.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Rd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rd(this._element,this._initialStyles),this._endStyles&&(Rd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Qp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qp(this._element,this._endStyles),this._endStyles=null),Rd(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function nD(r){let t=null;return r.forEach((e,n)=>{(function ope(r){return"display"===r||"position"===r})(n)&&(t=t||new Map,t.set(n,e))}),t}class vz{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{"offset"!==i&&t.set(i,this._finished?n:ez(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class spe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return H4(t,e)}getParentElement(t){return BC(t)}query(t,e,n){return W4(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,i,a,o=[]){const l={duration:n,delay:i,fill:0==i?"both":"forwards"};a&&(l.easing=a);const c=new Map,u=o.filter(v=>v instanceof vz);(function dhe(r,t){return 0===r||0===t})(n,i)&&u.forEach(v=>{v.currentSnapshot.forEach((y,D)=>c.set(D,y))});let d=function she(r){return r.length?r[0]instanceof Map?r:r.map(t=>K4(t)):[]}(e).map(v=>Rh(v));d=function fhe(r,t,e){if(e.size&&t.length){let n=t[0],i=[];if(e.forEach((a,o)=>{n.has(o)||i.push(o),n.set(o,a)}),i.length)for(let a=1;a<t.length;a++){let o=t[a];i.forEach(s=>o.set(s,ez(r,s)))}}return t}(t,d,c);const h=function ipe(r,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=nD(t[0]),t.length>1&&(n=nD(t[t.length-1]))):t instanceof Map&&(e=nD(t)),e||n?new ape(r,e,n):null}(t,d);return new vz(t,d,l,h)}}let lpe=(()=>{class r extends FE{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:Xo.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?aN(e):e;return gz(this._renderer,null,n,"register",[i]),new cpe(n,this._renderer)}}return r.\u0275fac=function(e){return new(e||r)(wn(im),wn(sa))},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})();class cpe extends _X{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new upe(this._id,t,e||{},this._renderer)}}class upe{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return gz(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function gz(r,t,e,n,i){return r.setProperty(t,`@@${e}:${n}`,i)}const mz="@.disabled";let dpe=(()=>{class r{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(a,o)=>{const s=o?.parentNode(a);s&&o.removeChild(s,a)}}createRenderer(e,n){const a=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let u=this._rendererCache.get(a);return u||(u=new yz("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,u)),u}const o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,s,e,u.name,u)};return n.data.animation.forEach(l),new fpe(this,s,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){e>=0&&e<this._microtaskId?this._zone.run(()=>n(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[o,s]=a;o(s)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(e){return new(e||r)(wn(im),wn(Fx),wn(ci))},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})();class yz{constructor(t,e,n,i){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==mz?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class fpe extends yz{constructor(t,e,n,i,a){super(e,n,i,a),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==mz?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function hpe(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(t);let a=e.slice(1),o="";return"@"!=a.charAt(0)&&([a,o]=function ppe(r){const t=r.indexOf(".");return[r.substring(0,t),r.slice(t+1)]}(a)),this.engine.listen(this.namespaceId,i,a,o,s=>{this.factory.scheduleListenerCallback(s._data||-1,n,s)})}return this.delegate.listen(t,e,n)}}let vpe=(()=>{class r extends Fx{constructor(e,n,i,a){super(e.body,n,i)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(e){return new(e||r)(wn(sa),wn(zC),wn(qC),wn(rg))},r.\u0275prov=vr({token:r,factory:r.\u0275fac}),r})();const _z=[{provide:FE,useClass:lpe},{provide:qC,useFactory:function gpe(){return new Rhe}},{provide:Fx,useClass:vpe},{provide:im,useFactory:function mpe(r,t,e){return new dpe(r,t,e)},deps:[u_,Fx,ci]}],rD=[{provide:zC,useFactory:()=>new spe},{provide:Nl,useValue:"BrowserAnimations"},..._z],bz=[{provide:zC,useClass:Y4},{provide:Nl,useValue:"NoopAnimations"},..._z];let ype=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?bz:rD}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({providers:rD,imports:[Q2]}),r})(),_pe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Vk,Za,Za]}),r})(),wpe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r}),r.\u0275inj=Ii({imports:[Wk,Za,Wk,Za]}),r})(),Epe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=Oi({type:r,bootstrap:[_fe]}),r.\u0275inj=Ii({imports:[Q2,yfe,ype,AZ,WZ,iN,sJ,cZ,TN,AQ,_pe,XQ,EQ,wpe,$J,uZ]}),r})();n9().bootstrapModule(Epe).catch(r=>console.error(r))},94:(qt,z,j)=>{var R=j(9914),q={};for(var B in R)R.hasOwnProperty(B)&&(q[R[B]]=B);var O=qt.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var P in O)if(O.hasOwnProperty(P)){if(!("channels"in O[P]))throw new Error("missing channels property: "+P);if(!("labels"in O[P]))throw new Error("missing channel labels property: "+P);if(O[P].labels.length!==O[P].channels)throw new Error("channel and label counts mismatch: "+P);var T=O[P].channels,b=O[P].labels;delete O[P].channels,delete O[P].labels,Object.defineProperty(O[P],"channels",{value:T}),Object.defineProperty(O[P],"labels",{value:b})}function x(m,_){return Math.pow(m[0]-_[0],2)+Math.pow(m[1]-_[1],2)+Math.pow(m[2]-_[2],2)}O.rgb.hsl=function(m){var k,ie,_=m[0]/255,g=m[1]/255,S=m[2]/255,w=Math.min(_,g,S),E=Math.max(_,g,S),A=E-w;return E===w?k=0:_===E?k=(g-S)/A:g===E?k=2+(S-_)/A:S===E&&(k=4+(_-g)/A),(k=Math.min(60*k,360))<0&&(k+=360),ie=(w+E)/2,[k,100*(E===w?0:ie<=.5?A/(E+w):A/(2-E-w)),100*ie]},O.rgb.hsv=function(m){var _,g,S,w,E,A=m[0]/255,k=m[1]/255,L=m[2]/255,ie=Math.max(A,k,L),te=ie-Math.min(A,k,L),$=function(X){return(ie-X)/6/te+.5};return 0===te?w=E=0:(E=te/ie,_=$(A),g=$(k),S=$(L),A===ie?w=S-g:k===ie?w=1/3+_-S:L===ie&&(w=2/3+g-_),w<0?w+=1:w>1&&(w-=1)),[360*w,100*E,100*ie]},O.rgb.hwb=function(m){var _=m[0],g=m[1],S=m[2];return[O.rgb.hsl(m)[0],1/255*Math.min(_,Math.min(g,S))*100,100*(S=1-1/255*Math.max(_,Math.max(g,S)))]},O.rgb.cmyk=function(m){var k,_=m[0]/255,g=m[1]/255,S=m[2]/255;return[100*((1-_-(k=Math.min(1-_,1-g,1-S)))/(1-k)||0),100*((1-g-k)/(1-k)||0),100*((1-S-k)/(1-k)||0),100*k]},O.rgb.keyword=function(m){var _=q[m];if(_)return _;var S,g=1/0;for(var w in R)if(R.hasOwnProperty(w)){var A=x(m,R[w]);A<g&&(g=A,S=w)}return S},O.keyword.rgb=function(m){return R[m]},O.rgb.xyz=function(m){var _=m[0]/255,g=m[1]/255,S=m[2]/255;return[100*(.4124*(_=_>.04045?Math.pow((_+.055)/1.055,2.4):_/12.92)+.3576*(g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92)+.1805*(S=S>.04045?Math.pow((S+.055)/1.055,2.4):S/12.92)),100*(.2126*_+.7152*g+.0722*S),100*(.0193*_+.1192*g+.9505*S)]},O.rgb.lab=function(m){var _=O.rgb.xyz(m),g=_[0],S=_[1],w=_[2];return S/=100,w/=108.883,g=(g/=95.047)>.008856?Math.pow(g,1/3):7.787*g+16/116,[116*(S=S>.008856?Math.pow(S,1/3):7.787*S+16/116)-16,500*(g-S),200*(S-(w=w>.008856?Math.pow(w,1/3):7.787*w+16/116))]},O.hsl.rgb=function(m){var w,E,A,k,L,_=m[0]/360,g=m[1]/100,S=m[2]/100;if(0===g)return[L=255*S,L,L];w=2*S-(E=S<.5?S*(1+g):S+g-S*g),k=[0,0,0];for(var ie=0;ie<3;ie++)(A=_+1/3*-(ie-1))<0&&A++,A>1&&A--,k[ie]=255*(L=6*A<1?w+6*(E-w)*A:2*A<1?E:3*A<2?w+(E-w)*(2/3-A)*6:w);return k},O.hsl.hsv=function(m){var _=m[0],g=m[1]/100,S=m[2]/100,w=g,E=Math.max(S,.01);return g*=(S*=2)<=1?S:2-S,w*=E<=1?E:2-E,[_,100*(0===S?2*w/(E+w):2*g/(S+g)),(S+g)/2*100]},O.hsv.rgb=function(m){var _=m[0]/60,g=m[1]/100,S=m[2]/100,w=Math.floor(_)%6,E=_-Math.floor(_),A=255*S*(1-g),k=255*S*(1-g*E),L=255*S*(1-g*(1-E));switch(S*=255,w){case 0:return[S,L,A];case 1:return[k,S,A];case 2:return[A,S,L];case 3:return[A,k,S];case 4:return[L,A,S];case 5:return[S,A,k]}},O.hsv.hsl=function(m){var E,A,k,_=m[0],g=m[1]/100,S=m[2]/100,w=Math.max(S,.01);return k=(2-g)*S,A=g*w,[_,100*(A=(A/=(E=(2-g)*w)<=1?E:2-E)||0),100*(k/=2)]},O.hwb.rgb=function(m){var E,A,k,L,ie,te,$,_=m[0]/360,g=m[1]/100,S=m[2]/100,w=g+S;switch(w>1&&(g/=w,S/=w),k=6*_-(E=Math.floor(6*_)),1&E&&(k=1-k),L=g+k*((A=1-S)-g),E){default:case 6:case 0:ie=A,te=L,$=g;break;case 1:ie=L,te=A,$=g;break;case 2:ie=g,te=A,$=L;break;case 3:ie=g,te=L,$=A;break;case 4:ie=L,te=g,$=A;break;case 5:ie=A,te=g,$=L}return[255*ie,255*te,255*$]},O.cmyk.rgb=function(m){var g=m[1]/100,S=m[2]/100,w=m[3]/100;return[255*(1-Math.min(1,m[0]/100*(1-w)+w)),255*(1-Math.min(1,g*(1-w)+w)),255*(1-Math.min(1,S*(1-w)+w))]},O.xyz.rgb=function(m){var w,E,A,_=m[0]/100,g=m[1]/100,S=m[2]/100;return E=-.9689*_+1.8758*g+.0415*S,A=.0557*_+-.204*g+1.057*S,w=(w=3.2406*_+-1.5372*g+-.4986*S)>.0031308?1.055*Math.pow(w,1/2.4)-.055:12.92*w,E=E>.0031308?1.055*Math.pow(E,1/2.4)-.055:12.92*E,A=A>.0031308?1.055*Math.pow(A,1/2.4)-.055:12.92*A,[255*(w=Math.min(Math.max(0,w),1)),255*(E=Math.min(Math.max(0,E),1)),255*(A=Math.min(Math.max(0,A),1))]},O.xyz.lab=function(m){var _=m[0],g=m[1],S=m[2];return g/=100,S/=108.883,_=(_/=95.047)>.008856?Math.pow(_,1/3):7.787*_+16/116,[116*(g=g>.008856?Math.pow(g,1/3):7.787*g+16/116)-16,500*(_-g),200*(g-(S=S>.008856?Math.pow(S,1/3):7.787*S+16/116))]},O.lab.xyz=function(m){var w,E,A;w=m[1]/500+(E=(m[0]+16)/116),A=E-m[2]/200;var k=Math.pow(E,3),L=Math.pow(w,3),ie=Math.pow(A,3);return E=k>.008856?k:(E-16/116)/7.787,w=L>.008856?L:(w-16/116)/7.787,A=ie>.008856?ie:(A-16/116)/7.787,[w*=95.047,E*=100,A*=108.883]},O.lab.lch=function(m){var E,_=m[0],g=m[1],S=m[2];return(E=360*Math.atan2(S,g)/2/Math.PI)<0&&(E+=360),[_,Math.sqrt(g*g+S*S),E]},O.lch.lab=function(m){var A,g=m[1];return A=m[2]/360*2*Math.PI,[m[0],g*Math.cos(A),g*Math.sin(A)]},O.rgb.ansi16=function(m){var _=m[0],g=m[1],S=m[2],w=1 in arguments?arguments[1]:O.rgb.hsv(m)[2];if(0===(w=Math.round(w/50)))return 30;var E=30+(Math.round(S/255)<<2|Math.round(g/255)<<1|Math.round(_/255));return 2===w&&(E+=60),E},O.hsv.ansi16=function(m){return O.rgb.ansi16(O.hsv.rgb(m),m[2])},O.rgb.ansi256=function(m){var _=m[0],g=m[1],S=m[2];return _===g&&g===S?_<8?16:_>248?231:Math.round((_-8)/247*24)+232:16+36*Math.round(_/255*5)+6*Math.round(g/255*5)+Math.round(S/255*5)},O.ansi16.rgb=function(m){var _=m%10;if(0===_||7===_)return m>50&&(_+=3.5),[_=_/10.5*255,_,_];var g=.5*(1+~~(m>50));return[(1&_)*g*255,(_>>1&1)*g*255,(_>>2&1)*g*255]},O.ansi256.rgb=function(m){if(m>=232){var _=10*(m-232)+8;return[_,_,_]}var g;return m-=16,[Math.floor(m/36)/5*255,Math.floor((g=m%36)/6)/5*255,g%6/5*255]},O.rgb.hex=function(m){var g=(((255&Math.round(m[0]))<<16)+((255&Math.round(m[1]))<<8)+(255&Math.round(m[2]))).toString(16).toUpperCase();return"000000".substring(g.length)+g},O.hex.rgb=function(m){var _=m.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!_)return[0,0,0];var g=_[0];3===_[0].length&&(g=g.split("").map(function(k){return k+k}).join(""));var S=parseInt(g,16);return[S>>16&255,S>>8&255,255&S]},O.rgb.hcg=function(m){var L,_=m[0]/255,g=m[1]/255,S=m[2]/255,w=Math.max(Math.max(_,g),S),E=Math.min(Math.min(_,g),S),A=w-E;return L=A<=0?0:w===_?(g-S)/A%6:w===g?2+(S-_)/A:4+(_-g)/A+4,L/=6,[360*(L%=1),100*A,100*(A<1?E/(1-A):0)]},O.hsl.hcg=function(m){var S,_=m[1]/100,g=m[2]/100,w=0;return(S=g<.5?2*_*g:2*_*(1-g))<1&&(w=(g-.5*S)/(1-S)),[m[0],100*S,100*w]},O.hsv.hcg=function(m){var g=m[2]/100,S=m[1]/100*g,w=0;return S<1&&(w=(g-S)/(1-S)),[m[0],100*S,100*w]},O.hcg.rgb=function(m){var g=m[1]/100,S=m[2]/100;if(0===g)return[255*S,255*S,255*S];var L,w=[0,0,0],E=m[0]/360%1*6,A=E%1,k=1-A;switch(Math.floor(E)){case 0:w[0]=1,w[1]=A,w[2]=0;break;case 1:w[0]=k,w[1]=1,w[2]=0;break;case 2:w[0]=0,w[1]=1,w[2]=A;break;case 3:w[0]=0,w[1]=k,w[2]=1;break;case 4:w[0]=A,w[1]=0,w[2]=1;break;default:w[0]=1,w[1]=0,w[2]=k}return[255*(g*w[0]+(L=(1-g)*S)),255*(g*w[1]+L),255*(g*w[2]+L)]},O.hcg.hsv=function(m){var _=m[1]/100,S=_+m[2]/100*(1-_),w=0;return S>0&&(w=_/S),[m[0],100*w,100*S]},O.hcg.hsl=function(m){var _=m[1]/100,S=m[2]/100*(1-_)+.5*_,w=0;return S>0&&S<.5?w=_/(2*S):S>=.5&&S<1&&(w=_/(2*(1-S))),[m[0],100*w,100*S]},O.hcg.hwb=function(m){var _=m[1]/100,S=_+m[2]/100*(1-_);return[m[0],100*(S-_),100*(1-S)]},O.hwb.hcg=function(m){var S=1-m[2]/100,w=S-m[1]/100,E=0;return w<1&&(E=(S-w)/(1-w)),[m[0],100*w,100*E]},O.apple.rgb=function(m){return[m[0]/65535*255,m[1]/65535*255,m[2]/65535*255]},O.rgb.apple=function(m){return[m[0]/255*65535,m[1]/255*65535,m[2]/255*65535]},O.gray.rgb=function(m){return[m[0]/100*255,m[0]/100*255,m[0]/100*255]},O.gray.hsl=O.gray.hsv=function(m){return[0,0,m[0]]},O.gray.hwb=function(m){return[0,100,m[0]]},O.gray.cmyk=function(m){return[0,0,0,m[0]]},O.gray.lab=function(m){return[m[0],0,0]},O.gray.hex=function(m){var _=255&Math.round(m[0]/100*255),S=((_<<16)+(_<<8)+_).toString(16).toUpperCase();return"000000".substring(S.length)+S},O.rgb.gray=function(m){return[(m[0]+m[1]+m[2])/3/255*100]}},8754:(qt,z,j)=>{var R=j(94),q=j(4091),B={};Object.keys(R).forEach(function(b){B[b]={},Object.defineProperty(B[b],"channels",{value:R[b].channels}),Object.defineProperty(B[b],"labels",{value:R[b].labels});var x=q(b);Object.keys(x).forEach(function(_){var g=x[_];B[b][_]=function T(b){var x=function(m){if(null==m)return m;arguments.length>1&&(m=Array.prototype.slice.call(arguments));var _=b(m);if("object"==typeof _)for(var g=_.length,S=0;S<g;S++)_[S]=Math.round(_[S]);return _};return"conversion"in b&&(x.conversion=b.conversion),x}(g),B[b][_].raw=function P(b){var x=function(m){return null==m?m:(arguments.length>1&&(m=Array.prototype.slice.call(arguments)),b(m))};return"conversion"in b&&(x.conversion=b.conversion),x}(g)})}),qt.exports=B},4091:(qt,z,j)=>{var R=j(94);function O(T,b){return function(x){return b(T(x))}}function P(T,b){for(var x=[b[T].parent,T],m=R[b[T].parent][T],_=b[T].parent;b[_].parent;)x.unshift(b[_].parent),m=O(R[b[_].parent][_],m),_=b[_].parent;return m.conversion=x,m}qt.exports=function(T){for(var b=function B(T){var b=function q(){for(var T={},b=Object.keys(R),x=b.length,m=0;m<x;m++)T[b[m]]={distance:-1,parent:null};return T}(),x=[T];for(b[T].distance=0;x.length;)for(var m=x.pop(),_=Object.keys(R[m]),g=_.length,S=0;S<g;S++){var w=_[S],E=b[w];-1===E.distance&&(E.distance=b[m].distance+1,E.parent=m,x.unshift(w))}return b}(T),x={},m=Object.keys(b),_=m.length,g=0;g<_;g++){var S=m[g];null!==b[S].parent&&(x[S]=P(S,b))}return x}},9914:qt=>{"use strict";qt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},9655:(qt,z,j)=>{var R=j(9914),q=j(6931),B=Object.hasOwnProperty,O=Object.create(null);for(var P in R)B.call(R,P)&&(O[R[P]]=P);var T=qt.exports={to:{},get:{}};function b(m,_,g){return Math.min(Math.max(_,m),g)}function x(m){var _=Math.round(m).toString(16).toUpperCase();return _.length<2?"0"+_:_}T.get=function(m){var g,S;switch(m.substring(0,3).toLowerCase()){case"hsl":g=T.get.hsl(m),S="hsl";break;case"hwb":g=T.get.hwb(m),S="hwb";break;default:g=T.get.rgb(m),S="rgb"}return g?{model:S,value:g}:null},T.get.rgb=function(m){if(!m)return null;var k,L,ie,A=[0,0,0,1];if(k=m.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(ie=k[2],k=k[1],L=0;L<3;L++){var te=2*L;A[L]=parseInt(k.slice(te,te+2),16)}ie&&(A[3]=parseInt(ie,16)/255)}else if(k=m.match(/^#([a-f0-9]{3,4})$/i)){for(ie=(k=k[1])[3],L=0;L<3;L++)A[L]=parseInt(k[L]+k[L],16);ie&&(A[3]=parseInt(ie+ie,16)/255)}else if(k=m.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(L=0;L<3;L++)A[L]=parseInt(k[L+1],0);k[4]&&(A[3]=k[5]?.01*parseFloat(k[4]):parseFloat(k[4]))}else{if(!(k=m.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(k=m.match(/^(\w+)$/))?"transparent"===k[1]?[0,0,0,0]:B.call(R,k[1])?((A=R[k[1]])[3]=1,A):null:null;for(L=0;L<3;L++)A[L]=Math.round(2.55*parseFloat(k[L+1]));k[4]&&(A[3]=k[5]?.01*parseFloat(k[4]):parseFloat(k[4]))}for(L=0;L<3;L++)A[L]=b(A[L],0,255);return A[3]=b(A[3],0,1),A},T.get.hsl=function(m){if(!m)return null;var g=m.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(g){var S=parseFloat(g[4]);return[(parseFloat(g[1])%360+360)%360,b(parseFloat(g[2]),0,100),b(parseFloat(g[3]),0,100),b(isNaN(S)?1:S,0,1)]}return null},T.get.hwb=function(m){if(!m)return null;var g=m.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(g){var S=parseFloat(g[4]);return[(parseFloat(g[1])%360+360)%360,b(parseFloat(g[2]),0,100),b(parseFloat(g[3]),0,100),b(isNaN(S)?1:S,0,1)]}return null},T.to.hex=function(){var m=q(arguments);return"#"+x(m[0])+x(m[1])+x(m[2])+(m[3]<1?x(Math.round(255*m[3])):"")},T.to.rgb=function(){var m=q(arguments);return m.length<4||1===m[3]?"rgb("+Math.round(m[0])+", "+Math.round(m[1])+", "+Math.round(m[2])+")":"rgba("+Math.round(m[0])+", "+Math.round(m[1])+", "+Math.round(m[2])+", "+m[3]+")"},T.to.rgb.percent=function(){var m=q(arguments),_=Math.round(m[0]/255*100),g=Math.round(m[1]/255*100),S=Math.round(m[2]/255*100);return m.length<4||1===m[3]?"rgb("+_+"%, "+g+"%, "+S+"%)":"rgba("+_+"%, "+g+"%, "+S+"%, "+m[3]+")"},T.to.hsl=function(){var m=q(arguments);return m.length<4||1===m[3]?"hsl("+m[0]+", "+m[1]+"%, "+m[2]+"%)":"hsla("+m[0]+", "+m[1]+"%, "+m[2]+"%, "+m[3]+")"},T.to.hwb=function(){var m=q(arguments),_="";return m.length>=4&&1!==m[3]&&(_=", "+m[3]),"hwb("+m[0]+", "+m[1]+"%, "+m[2]+"%"+_+")"},T.to.keyword=function(m){return O[m.slice(0,3)]}},3608:(qt,z,j)=>{"use strict";var R=j(9655),q=j(8754),B=[].slice,O=["keyword","gray","hex"],P={};Object.keys(q).forEach(function(E){P[B.call(q[E].labels).sort().join("")]=E});var T={};function b(E,A){if(!(this instanceof b))return new b(E,A);if(A&&A in O&&(A=null),A&&!(A in q))throw new Error("Unknown model: "+A);var k,L;if(null==E)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(E instanceof b)this.model=E.model,this.color=E.color.slice(),this.valpha=E.valpha;else if("string"==typeof E){var ie=R.get(E);if(null===ie)throw new Error("Unable to parse color from string: "+E);this.model=ie.model,this.color=ie.value.slice(0,L=q[this.model].channels),this.valpha="number"==typeof ie.value[L]?ie.value[L]:1}else if(E.length){this.model=A||"rgb";var te=B.call(E,0,L=q[this.model].channels);this.color=w(te,L),this.valpha="number"==typeof E[L]?E[L]:1}else if("number"==typeof E)E&=16777215,this.model="rgb",this.color=[E>>16&255,E>>8&255,255&E],this.valpha=1;else{this.valpha=1;var $=Object.keys(E);"alpha"in E&&($.splice($.indexOf("alpha"),1),this.valpha="number"==typeof E.alpha?E.alpha:0);var X=$.sort().join("");if(!(X in P))throw new Error("Unable to parse color from object: "+JSON.stringify(E));this.model=P[X];var Z=q[this.model].labels,Y=[];for(k=0;k<Z.length;k++)Y.push(E[Z[k]]);this.color=w(Y)}if(T[this.model])for(L=q[this.model].channels,k=0;k<L;k++){var ae=T[this.model][k];ae&&(this.color[k]=ae(this.color[k]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function _(E,A,k){return(E=Array.isArray(E)?E:[E]).forEach(function(L){(T[L]||(T[L]=[]))[A]=k}),E=E[0],function(L){var ie;return arguments.length?(k&&(L=k(L)),(ie=this[E]()).color[A]=L,ie):(ie=this[E]().color[A],k&&(ie=k(ie)),ie)}}function g(E){return function(A){return Math.max(0,Math.min(E,A))}}function w(E,A){for(var k=0;k<A;k++)"number"!=typeof E[k]&&(E[k]=0);return E}b.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(E){var A=this.model in R.to?this:this.rgb(),k=1===(A=A.round("number"==typeof E?E:1)).valpha?A.color:A.color.concat(this.valpha);return R.to[A.model](k)},percentString:function(E){var A=this.rgb().round("number"==typeof E?E:1),k=1===A.valpha?A.color:A.color.concat(this.valpha);return R.to.rgb.percent(k)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var E={},A=q[this.model].channels,k=q[this.model].labels,L=0;L<A;L++)E[k[L]]=this.color[L];return 1!==this.valpha&&(E.alpha=this.valpha),E},unitArray:function(){var E=this.rgb().color;return E[0]/=255,E[1]/=255,E[2]/=255,1!==this.valpha&&E.push(this.valpha),E},unitObject:function(){var E=this.rgb().object();return E.r/=255,E.g/=255,E.b/=255,1!==this.valpha&&(E.alpha=this.valpha),E},round:function(E){return E=Math.max(E||0,0),new b(this.color.map(function m(E){return function(A){return function x(E,A){return Number(E.toFixed(A))}(A,E)}}(E)).concat(this.valpha),this.model)},alpha:function(E){return arguments.length?new b(this.color.concat(Math.max(0,Math.min(1,E))),this.model):this.valpha},red:_("rgb",0,g(255)),green:_("rgb",1,g(255)),blue:_("rgb",2,g(255)),hue:_(["hsl","hsv","hsl","hwb","hcg"],0,function(E){return(E%360+360)%360}),saturationl:_("hsl",1,g(100)),lightness:_("hsl",2,g(100)),saturationv:_("hsv",1,g(100)),value:_("hsv",2,g(100)),chroma:_("hcg",1,g(100)),gray:_("hcg",2,g(100)),white:_("hwb",1,g(100)),wblack:_("hwb",2,g(100)),cyan:_("cmyk",0,g(100)),magenta:_("cmyk",1,g(100)),yellow:_("cmyk",2,g(100)),black:_("cmyk",3,g(100)),x:_("xyz",0,g(100)),y:_("xyz",1,g(100)),z:_("xyz",2,g(100)),l:_("lab",0,g(100)),a:_("lab",1),b:_("lab",2),keyword:function(E){return arguments.length?new b(E):q[this.model].keyword(this.color)},hex:function(E){return arguments.length?new b(E):R.to.hex(this.rgb().round().color)},rgbNumber:function(){var E=this.rgb().color;return(255&E[0])<<16|(255&E[1])<<8|255&E[2]},luminosity:function(){for(var E=this.rgb().color,A=[],k=0;k<E.length;k++){var L=E[k]/255;A[k]=L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4)}return.2126*A[0]+.7152*A[1]+.0722*A[2]},contrast:function(E){var A=this.luminosity(),k=E.luminosity();return A>k?(A+.05)/(k+.05):(k+.05)/(A+.05)},level:function(E){var A=this.contrast(E);return A>=7.1?"AAA":A>=4.5?"AA":""},isDark:function(){var E=this.rgb().color;return(299*E[0]+587*E[1]+114*E[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var E=this.rgb(),A=0;A<3;A++)E.color[A]=255-E.color[A];return E},lighten:function(E){var A=this.hsl();return A.color[2]+=A.color[2]*E,A},darken:function(E){var A=this.hsl();return A.color[2]-=A.color[2]*E,A},saturate:function(E){var A=this.hsl();return A.color[1]+=A.color[1]*E,A},desaturate:function(E){var A=this.hsl();return A.color[1]-=A.color[1]*E,A},whiten:function(E){var A=this.hwb();return A.color[1]+=A.color[1]*E,A},blacken:function(E){var A=this.hwb();return A.color[2]+=A.color[2]*E,A},grayscale:function(){var E=this.rgb().color,A=.3*E[0]+.59*E[1]+.11*E[2];return b.rgb(A,A,A)},fade:function(E){return this.alpha(this.valpha-this.valpha*E)},opaquer:function(E){return this.alpha(this.valpha+this.valpha*E)},rotate:function(E){var A=this.hsl(),k=A.color[0];return A.color[0]=k=(k=(k+E)%360)<0?360+k:k,A},mix:function(E,A){if(!E||!E.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof E);var k=E.rgb(),L=this.rgb(),ie=void 0===A?.5:A,te=2*ie-1,$=k.alpha()-L.alpha(),X=((te*$==-1?te:(te+$)/(1+te*$))+1)/2,Z=1-X;return b.rgb(X*k.red()+Z*L.red(),X*k.green()+Z*L.green(),X*k.blue()+Z*L.blue(),k.alpha()*ie+L.alpha()*(1-ie))}},Object.keys(q).forEach(function(E){if(-1===O.indexOf(E)){var A=q[E].channels;b.prototype[E]=function(){if(this.model===E)return new b(this);if(arguments.length)return new b(arguments,E);var k="number"==typeof arguments[A]?A:this.valpha;return new b(function S(E){return Array.isArray(E)?E:[E]}(q[this.model][E].raw(this.color)).concat(k),E)},b[E]=function(k){return"number"==typeof k&&(k=w(B.call(arguments),A)),new b(k,E)}}}),qt.exports=b},3537:(qt,z,j)=>{"use strict";function R(oe,ce){var H,re=1;function ye(){var Ce,Ue,Ie=H.length,pt=0,st=0;for(Ce=0;Ce<Ie;++Ce)pt+=(Ue=H[Ce]).x,st+=Ue.y;for(pt=(pt/Ie-oe)*re,st=(st/Ie-ce)*re,Ce=0;Ce<Ie;++Ce)(Ue=H[Ce]).x-=pt,Ue.y-=st}return null==oe&&(oe=0),null==ce&&(ce=0),ye.initialize=function(Ce){H=Ce},ye.x=function(Ce){return arguments.length?(oe=+Ce,ye):oe},ye.y=function(Ce){return arguments.length?(ce=+Ce,ye):ce},ye.strength=function(Ce){return arguments.length?(re=+Ce,ye):re},ye}j.r(z),j.d(z,{forceCenter:()=>R,forceCollide:()=>b,forceLink:()=>_,forceManyBody:()=>ge,forceRadial:()=>Fe,forceSimulation:()=>ve,forceX:()=>Ae,forceY:()=>ze});var q=j(331);function B(oe){return function(){return oe}}function O(oe){return 1e-6*(oe()-.5)}function P(oe){return oe.x+oe.vx}function T(oe){return oe.y+oe.vy}function b(oe){var ce,H,re,ye=1,Ce=1;function Ie(){for(var st,lt,gt,$e,dt,De,Be,Ne=ce.length,vt=0;vt<Ce;++vt)for(lt=(0,q.Z)(ce,P,T).visitAfter(Ue),st=0;st<Ne;++st)Be=(De=H[(gt=ce[st]).index])*De,$e=gt.x+gt.vx,dt=gt.y+gt.vy,lt.visit(Ve);function Ve(nt,wt,Bt,pn,kn){var je=nt.data,Hn=nt.r,Cr=De+Hn;if(!je)return wt>$e+Cr||pn<$e-Cr||Bt>dt+Cr||kn<dt-Cr;if(je.index>gt.index){var qn=$e-je.x-je.vx,Me=dt-je.y-je.vy,Ur=qn*qn+Me*Me;Ur<Cr*Cr&&(0===qn&&(Ur+=(qn=O(re))*qn),0===Me&&(Ur+=(Me=O(re))*Me),Ur=(Cr-(Ur=Math.sqrt(Ur)))/Ur*ye,gt.vx+=(qn*=Ur)*(Cr=(Hn*=Hn)/(Be+Hn)),gt.vy+=(Me*=Ur)*Cr,je.vx-=qn*(Cr=1-Cr),je.vy-=Me*Cr)}}}function Ue(st){if(st.data)return st.r=H[st.data.index];for(var Ne=st.r=0;Ne<4;++Ne)st[Ne]&&st[Ne].r>st.r&&(st.r=st[Ne].r)}function pt(){if(ce){var st,lt,Ne=ce.length;for(H=new Array(Ne),st=0;st<Ne;++st)H[(lt=ce[st]).index]=+oe(lt,st,ce)}}return"function"!=typeof oe&&(oe=B(null==oe?1:+oe)),Ie.initialize=function(st,Ne){ce=st,re=Ne,pt()},Ie.iterations=function(st){return arguments.length?(Ce=+st,Ie):Ce},Ie.strength=function(st){return arguments.length?(ye=+st,Ie):ye},Ie.radius=function(st){return arguments.length?(oe="function"==typeof st?st:B(+st),pt(),Ie):oe},Ie}function x(oe){return oe.index}function m(oe,ce){var H=oe.get(ce);if(!H)throw new Error("node not found: "+ce);return H}function _(oe){var re,Ce,Ie,Ue,pt,st,ce=x,H=function lt(Be){return 1/Math.min(Ue[Be.source.index],Ue[Be.target.index])},ye=B(30),Ne=1;function gt(Be){for(var vt=0,Ve=oe.length;vt<Ne;++vt)for(var wt,Bt,pn,kn,je,Hn,Cr,nt=0;nt<Ve;++nt)kn=(pn=(wt=oe[nt]).target).x+pn.vx-(Bt=wt.source).x-Bt.vx||O(st),je=pn.y+pn.vy-Bt.y-Bt.vy||O(st),je*=Hn=((Hn=Math.sqrt(kn*kn+je*je))-Ce[nt])/Hn*Be*re[nt],pn.vx-=(kn*=Hn)*(Cr=pt[nt]),pn.vy-=je*Cr,Bt.vx+=kn*(Cr=1-Cr),Bt.vy+=je*Cr}function $e(){if(Ie){var Be,wt,vt=Ie.length,Ve=oe.length,nt=new Map(Ie.map((Bt,pn)=>[ce(Bt,pn,Ie),Bt]));for(Be=0,Ue=new Array(vt);Be<Ve;++Be)(wt=oe[Be]).index=Be,"object"!=typeof wt.source&&(wt.source=m(nt,wt.source)),"object"!=typeof wt.target&&(wt.target=m(nt,wt.target)),Ue[wt.source.index]=(Ue[wt.source.index]||0)+1,Ue[wt.target.index]=(Ue[wt.target.index]||0)+1;for(Be=0,pt=new Array(Ve);Be<Ve;++Be)pt[Be]=Ue[(wt=oe[Be]).source.index]/(Ue[wt.source.index]+Ue[wt.target.index]);re=new Array(Ve),dt(),Ce=new Array(Ve),De()}}function dt(){if(Ie)for(var Be=0,vt=oe.length;Be<vt;++Be)re[Be]=+H(oe[Be],Be,oe)}function De(){if(Ie)for(var Be=0,vt=oe.length;Be<vt;++Be)Ce[Be]=+ye(oe[Be],Be,oe)}return null==oe&&(oe=[]),gt.initialize=function(Be,vt){Ie=Be,st=vt,$e()},gt.links=function(Be){return arguments.length?(oe=Be,$e(),gt):oe},gt.id=function(Be){return arguments.length?(ce=Be,gt):ce},gt.iterations=function(Be){return arguments.length?(Ne=+Be,gt):Ne},gt.strength=function(Be){return arguments.length?(H="function"==typeof Be?Be:B(+Be),dt(),gt):H},gt.distance=function(Be){return arguments.length?(ye="function"==typeof Be?Be:B(+Be),De(),gt):ye},gt}var g={value:()=>{}};function S(){for(var re,oe=0,ce=arguments.length,H={};oe<ce;++oe){if(!(re=arguments[oe]+"")||re in H||/[\s.]/.test(re))throw new Error("illegal type: "+re);H[re]=[]}return new w(H)}function w(oe){this._=oe}function A(oe,ce){for(var ye,H=0,re=oe.length;H<re;++H)if((ye=oe[H]).name===ce)return ye.value}function k(oe,ce,H){for(var re=0,ye=oe.length;re<ye;++re)if(oe[re].name===ce){oe[re]=g,oe=oe.slice(0,re).concat(oe.slice(re+1));break}return null!=H&&oe.push({name:ce,value:H}),oe}w.prototype=S.prototype={constructor:w,on:function(oe,ce){var ye,H=this._,re=function E(oe,ce){return oe.trim().split(/^|\s+/).map(function(H){var re="",ye=H.indexOf(".");if(ye>=0&&(re=H.slice(ye+1),H=H.slice(0,ye)),H&&!ce.hasOwnProperty(H))throw new Error("unknown type: "+H);return{type:H,name:re}})}(oe+"",H),Ce=-1,Ie=re.length;if(!(arguments.length<2)){if(null!=ce&&"function"!=typeof ce)throw new Error("invalid callback: "+ce);for(;++Ce<Ie;)if(ye=(oe=re[Ce]).type)H[ye]=k(H[ye],oe.name,ce);else if(null==ce)for(ye in H)H[ye]=k(H[ye],oe.name,null);return this}for(;++Ce<Ie;)if((ye=(oe=re[Ce]).type)&&(ye=A(H[ye],oe.name)))return ye},copy:function(){var oe={},ce=this._;for(var H in ce)oe[H]=ce[H].slice();return new w(oe)},call:function(oe,ce){if((ye=arguments.length-2)>0)for(var ye,Ce,H=new Array(ye),re=0;re<ye;++re)H[re]=arguments[re+2];if(!this._.hasOwnProperty(oe))throw new Error("unknown type: "+oe);for(re=0,ye=(Ce=this._[oe]).length;re<ye;++re)Ce[re].value.apply(ce,H)},apply:function(oe,ce,H){if(!this._.hasOwnProperty(oe))throw new Error("unknown type: "+oe);for(var re=this._[oe],ye=0,Ce=re.length;ye<Ce;++ye)re[ye].value.apply(ce,H)}};const L=S;var ie=j(9194);const te=1664525,$=1013904223,X=4294967296;function Y(oe){return oe.x}function ae(oe){return oe.y}var ne=10,se=Math.PI*(3-Math.sqrt(5));function ve(oe){var ce,H=1,re=.001,ye=1-Math.pow(re,1/300),Ce=0,Ie=.6,Ue=new Map,pt=(0,ie.HT)(lt),st=L("tick","end"),Ne=function Z(){let oe=1;return()=>(oe=(te*oe+$)%X)/X}();function lt(){gt(),st.call("tick",ce),H<re&&(pt.stop(),st.call("end",ce))}function gt(De){var Be,Ve,vt=oe.length;void 0===De&&(De=1);for(var nt=0;nt<De;++nt)for(H+=(Ce-H)*ye,Ue.forEach(function(wt){wt(H)}),Be=0;Be<vt;++Be)null==(Ve=oe[Be]).fx?Ve.x+=Ve.vx*=Ie:(Ve.x=Ve.fx,Ve.vx=0),null==Ve.fy?Ve.y+=Ve.vy*=Ie:(Ve.y=Ve.fy,Ve.vy=0);return ce}function $e(){for(var vt,De=0,Be=oe.length;De<Be;++De){if((vt=oe[De]).index=De,null!=vt.fx&&(vt.x=vt.fx),null!=vt.fy&&(vt.y=vt.fy),isNaN(vt.x)||isNaN(vt.y)){var Ve=ne*Math.sqrt(.5+De),nt=De*se;vt.x=Ve*Math.cos(nt),vt.y=Ve*Math.sin(nt)}(isNaN(vt.vx)||isNaN(vt.vy))&&(vt.vx=vt.vy=0)}}function dt(De){return De.initialize&&De.initialize(oe,Ne),De}return null==oe&&(oe=[]),$e(),ce={tick:gt,restart:function(){return pt.restart(lt),ce},stop:function(){return pt.stop(),ce},nodes:function(De){return arguments.length?(oe=De,$e(),Ue.forEach(dt),ce):oe},alpha:function(De){return arguments.length?(H=+De,ce):H},alphaMin:function(De){return arguments.length?(re=+De,ce):re},alphaDecay:function(De){return arguments.length?(ye=+De,ce):+ye},alphaTarget:function(De){return arguments.length?(Ce=+De,ce):Ce},velocityDecay:function(De){return arguments.length?(Ie=1-De,ce):1-Ie},randomSource:function(De){return arguments.length?(Ne=De,Ue.forEach(dt),ce):Ne},force:function(De,Be){return arguments.length>1?(null==Be?Ue.delete(De):Ue.set(De,dt(Be)),ce):Ue.get(De)},find:function(De,Be,vt){var wt,Bt,pn,kn,je,Ve=0,nt=oe.length;for(null==vt?vt=1/0:vt*=vt,Ve=0;Ve<nt;++Ve)(pn=(wt=De-(kn=oe[Ve]).x)*wt+(Bt=Be-kn.y)*Bt)<vt&&(je=kn,vt=pn);return je},on:function(De,Be){return arguments.length>1?(st.on(De,Be),ce):st.on(De)}}}function ge(){var oe,ce,H,re,Ce,ye=B(-30),Ie=1,Ue=1/0,pt=.81;function st($e){var dt,De=oe.length,Be=(0,q.Z)(oe,Y,ae).visitAfter(lt);for(re=$e,dt=0;dt<De;++dt)ce=oe[dt],Be.visit(gt)}function Ne(){if(oe){var $e,De,dt=oe.length;for(Ce=new Array(dt),$e=0;$e<dt;++$e)Ce[(De=oe[$e]).index]=+ye(De,$e,oe)}}function lt($e){var De,Be,Ve,nt,wt,dt=0,vt=0;if($e.length){for(Ve=nt=wt=0;wt<4;++wt)(De=$e[wt])&&(Be=Math.abs(De.value))&&(dt+=De.value,vt+=Be,Ve+=Be*De.x,nt+=Be*De.y);$e.x=Ve/vt,$e.y=nt/vt}else{(De=$e).x=De.data.x,De.y=De.data.y;do{dt+=Ce[De.data.index]}while(De=De.next)}$e.value=dt}function gt($e,dt,De,Be){if(!$e.value)return!0;var vt=$e.x-ce.x,Ve=$e.y-ce.y,nt=Be-dt,wt=vt*vt+Ve*Ve;if(nt*nt/pt<wt)return wt<Ue&&(0===vt&&(wt+=(vt=O(H))*vt),0===Ve&&(wt+=(Ve=O(H))*Ve),wt<Ie&&(wt=Math.sqrt(Ie*wt)),ce.vx+=vt*$e.value*re/wt,ce.vy+=Ve*$e.value*re/wt),!0;if(!($e.length||wt>=Ue)){($e.data!==ce||$e.next)&&(0===vt&&(wt+=(vt=O(H))*vt),0===Ve&&(wt+=(Ve=O(H))*Ve),wt<Ie&&(wt=Math.sqrt(Ie*wt)));do{$e.data!==ce&&(ce.vx+=vt*(nt=Ce[$e.data.index]*re/wt),ce.vy+=Ve*nt)}while($e=$e.next)}}return st.initialize=function($e,dt){oe=$e,H=dt,Ne()},st.strength=function($e){return arguments.length?(ye="function"==typeof $e?$e:B(+$e),Ne(),st):ye},st.distanceMin=function($e){return arguments.length?(Ie=$e*$e,st):Math.sqrt(Ie)},st.distanceMax=function($e){return arguments.length?(Ue=$e*$e,st):Math.sqrt(Ue)},st.theta=function($e){return arguments.length?(pt=$e*$e,st):Math.sqrt(pt)},st}function Fe(oe,ce,H){var re,Ce,Ie,ye=B(.1);function Ue(st){for(var Ne=0,lt=re.length;Ne<lt;++Ne){var gt=re[Ne],$e=gt.x-ce||1e-6,dt=gt.y-H||1e-6,De=Math.sqrt($e*$e+dt*dt),Be=(Ie[Ne]-De)*Ce[Ne]*st/De;gt.vx+=$e*Be,gt.vy+=dt*Be}}function pt(){if(re){var st,Ne=re.length;for(Ce=new Array(Ne),Ie=new Array(Ne),st=0;st<Ne;++st)Ie[st]=+oe(re[st],st,re),Ce[st]=isNaN(Ie[st])?0:+ye(re[st],st,re)}}return"function"!=typeof oe&&(oe=B(+oe)),null==ce&&(ce=0),null==H&&(H=0),Ue.initialize=function(st){re=st,pt()},Ue.strength=function(st){return arguments.length?(ye="function"==typeof st?st:B(+st),pt(),Ue):ye},Ue.radius=function(st){return arguments.length?(oe="function"==typeof st?st:B(+st),pt(),Ue):oe},Ue.x=function(st){return arguments.length?(ce=+st,Ue):ce},Ue.y=function(st){return arguments.length?(H=+st,Ue):H},Ue}function Ae(oe){var H,re,ye,ce=B(.1);function Ce(Ue){for(var Ne,pt=0,st=H.length;pt<st;++pt)(Ne=H[pt]).vx+=(ye[pt]-Ne.x)*re[pt]*Ue}function Ie(){if(H){var Ue,pt=H.length;for(re=new Array(pt),ye=new Array(pt),Ue=0;Ue<pt;++Ue)re[Ue]=isNaN(ye[Ue]=+oe(H[Ue],Ue,H))?0:+ce(H[Ue],Ue,H)}}return"function"!=typeof oe&&(oe=B(null==oe?0:+oe)),Ce.initialize=function(Ue){H=Ue,Ie()},Ce.strength=function(Ue){return arguments.length?(ce="function"==typeof Ue?Ue:B(+Ue),Ie(),Ce):ce},Ce.x=function(Ue){return arguments.length?(oe="function"==typeof Ue?Ue:B(+Ue),Ie(),Ce):oe},Ce}function ze(oe){var H,re,ye,ce=B(.1);function Ce(Ue){for(var Ne,pt=0,st=H.length;pt<st;++pt)(Ne=H[pt]).vy+=(ye[pt]-Ne.y)*re[pt]*Ue}function Ie(){if(H){var Ue,pt=H.length;for(re=new Array(pt),ye=new Array(pt),Ue=0;Ue<pt;++Ue)re[Ue]=isNaN(ye[Ue]=+oe(H[Ue],Ue,H))?0:+ce(H[Ue],Ue,H)}}return"function"!=typeof oe&&(oe=B(null==oe?0:+oe)),Ce.initialize=function(Ue){H=Ue,Ie()},Ce.strength=function(Ue){return arguments.length?(ce="function"==typeof Ue?Ue:B(+Ue),Ie(),Ce):ce},Ce.y=function(Ue){return arguments.length?(oe="function"==typeof Ue?Ue:B(+Ue),Ie(),Ce):oe},Ce}},3248:(qt,z,j)=>{"use strict";j.r(z),j.d(z,{quadtree:()=>R.Z});var R=j(331)},331:(qt,z,j)=>{"use strict";function q(Y,ae,ne,se){if(isNaN(ae)||isNaN(ne))return Y;var ve,H,re,ye,Ce,Ie,Ue,pt,st,ge=Y._root,Fe={data:se},Ae=Y._x0,ze=Y._y0,oe=Y._x1,ce=Y._y1;if(!ge)return Y._root=Fe,Y;for(;ge.length;)if((Ie=ae>=(H=(Ae+oe)/2))?Ae=H:oe=H,(Ue=ne>=(re=(ze+ce)/2))?ze=re:ce=re,ve=ge,!(ge=ge[pt=Ue<<1|Ie]))return ve[pt]=Fe,Y;if(ye=+Y._x.call(null,ge.data),Ce=+Y._y.call(null,ge.data),ae===ye&&ne===Ce)return Fe.next=ge,ve?ve[pt]=Fe:Y._root=Fe,Y;do{ve=ve?ve[pt]=new Array(4):Y._root=new Array(4),(Ie=ae>=(H=(Ae+oe)/2))?Ae=H:oe=H,(Ue=ne>=(re=(ze+ce)/2))?ze=re:ce=re}while((pt=Ue<<1|Ie)==(st=(Ce>=re)<<1|ye>=H));return ve[st]=ge,ve[pt]=Fe,Y}function b(Y,ae,ne,se,ve){this.node=Y,this.x0=ae,this.y0=ne,this.x1=se,this.y1=ve}function A(Y){return Y[0]}function L(Y){return Y[1]}function te(Y,ae,ne){var se=new $(ae??A,ne??L,NaN,NaN,NaN,NaN);return null==Y?se:se.addAll(Y)}function $(Y,ae,ne,se,ve,ge){this._x=Y,this._y=ae,this._x0=ne,this._y0=se,this._x1=ve,this._y1=ge,this._root=void 0}function X(Y){for(var ae={data:Y.data},ne=ae;Y=Y.next;)ne=ne.next={data:Y.data};return ae}j.d(z,{Z:()=>te});var Z=te.prototype=$.prototype;Z.copy=function(){var ne,se,Y=new $(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ae=this._root;if(!ae)return Y;if(!ae.length)return Y._root=X(ae),Y;for(ne=[{source:ae,target:Y._root=new Array(4)}];ae=ne.pop();)for(var ve=0;ve<4;++ve)(se=ae.source[ve])&&(se.length?ne.push({source:se,target:ae.target[ve]=new Array(4)}):ae.target[ve]=X(se));return Y},Z.add=function R(Y){const ae=+this._x.call(null,Y),ne=+this._y.call(null,Y);return q(this.cover(ae,ne),ae,ne,Y)},Z.addAll=function B(Y){var ae,ne,ve,ge,se=Y.length,Fe=new Array(se),Ae=new Array(se),ze=1/0,oe=1/0,ce=-1/0,H=-1/0;for(ne=0;ne<se;++ne)isNaN(ve=+this._x.call(null,ae=Y[ne]))||isNaN(ge=+this._y.call(null,ae))||(Fe[ne]=ve,Ae[ne]=ge,ve<ze&&(ze=ve),ve>ce&&(ce=ve),ge<oe&&(oe=ge),ge>H&&(H=ge));if(ze>ce||oe>H)return this;for(this.cover(ze,oe).cover(ce,H),ne=0;ne<se;++ne)q(this,Fe[ne],Ae[ne],Y[ne]);return this},Z.cover=function O(Y,ae){if(isNaN(Y=+Y)||isNaN(ae=+ae))return this;var ne=this._x0,se=this._y0,ve=this._x1,ge=this._y1;if(isNaN(ne))ve=(ne=Math.floor(Y))+1,ge=(se=Math.floor(ae))+1;else{for(var ze,oe,Fe=ve-ne||1,Ae=this._root;ne>Y||Y>=ve||se>ae||ae>=ge;)switch(oe=(ae<se)<<1|Y<ne,ze=new Array(4),ze[oe]=Ae,Ae=ze,Fe*=2,oe){case 0:ve=ne+Fe,ge=se+Fe;break;case 1:ne=ve-Fe,ge=se+Fe;break;case 2:ve=ne+Fe,se=ge-Fe;break;case 3:ne=ve-Fe,se=ge-Fe}this._root&&this._root.length&&(this._root=Ae)}return this._x0=ne,this._y0=se,this._x1=ve,this._y1=ge,this},Z.data=function P(){var Y=[];return this.visit(function(ae){if(!ae.length)do{Y.push(ae.data)}while(ae=ae.next)}),Y},Z.extent=function T(Y){return arguments.length?this.cover(+Y[0][0],+Y[0][1]).cover(+Y[1][0],+Y[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Z.find=function x(Y,ae,ne){var se,Fe,Ae,ze,oe,Ce,Ie,ve=this._x0,ge=this._y0,ce=this._x1,H=this._y1,re=[],ye=this._root;for(ye&&re.push(new b(ye,ve,ge,ce,H)),null==ne?ne=1/0:(ve=Y-ne,ge=ae-ne,ce=Y+ne,H=ae+ne,ne*=ne);Ce=re.pop();)if(!(!(ye=Ce.node)||(Fe=Ce.x0)>ce||(Ae=Ce.y0)>H||(ze=Ce.x1)<ve||(oe=Ce.y1)<ge))if(ye.length){var Ue=(Fe+ze)/2,pt=(Ae+oe)/2;re.push(new b(ye[3],Ue,pt,ze,oe),new b(ye[2],Fe,pt,Ue,oe),new b(ye[1],Ue,Ae,ze,pt),new b(ye[0],Fe,Ae,Ue,pt)),(Ie=(ae>=pt)<<1|Y>=Ue)&&(Ce=re[re.length-1],re[re.length-1]=re[re.length-1-Ie],re[re.length-1-Ie]=Ce)}else{var st=Y-+this._x.call(null,ye.data),Ne=ae-+this._y.call(null,ye.data),lt=st*st+Ne*Ne;if(lt<ne){var gt=Math.sqrt(ne=lt);ve=Y-gt,ge=ae-gt,ce=Y+gt,H=ae+gt,se=ye.data}}return se},Z.remove=function m(Y){if(isNaN(ce=+this._x.call(null,Y))||isNaN(H=+this._y.call(null,Y)))return this;var ae,se,ve,ge,ce,H,re,ye,Ce,Ie,Ue,pt,ne=this._root,Fe=this._x0,Ae=this._y0,ze=this._x1,oe=this._y1;if(!ne)return this;if(ne.length)for(;;){if((Ce=ce>=(re=(Fe+ze)/2))?Fe=re:ze=re,(Ie=H>=(ye=(Ae+oe)/2))?Ae=ye:oe=ye,ae=ne,!(ne=ne[Ue=Ie<<1|Ce]))return this;if(!ne.length)break;(ae[Ue+1&3]||ae[Ue+2&3]||ae[Ue+3&3])&&(se=ae,pt=Ue)}for(;ne.data!==Y;)if(ve=ne,!(ne=ne.next))return this;return(ge=ne.next)&&delete ne.next,ve?(ge?ve.next=ge:delete ve.next,this):ae?(ge?ae[Ue]=ge:delete ae[Ue],(ne=ae[0]||ae[1]||ae[2]||ae[3])&&ne===(ae[3]||ae[2]||ae[1]||ae[0])&&!ne.length&&(se?se[pt]=ne:this._root=ne),this):(this._root=ge,this)},Z.removeAll=function _(Y){for(var ae=0,ne=Y.length;ae<ne;++ae)this.remove(Y[ae]);return this},Z.root=function g(){return this._root},Z.size=function S(){var Y=0;return this.visit(function(ae){if(!ae.length)do{++Y}while(ae=ae.next)}),Y},Z.visit=function w(Y){var ne,ve,ge,Fe,Ae,ze,ae=[],se=this._root;for(se&&ae.push(new b(se,this._x0,this._y0,this._x1,this._y1));ne=ae.pop();)if(!Y(se=ne.node,ge=ne.x0,Fe=ne.y0,Ae=ne.x1,ze=ne.y1)&&se.length){var oe=(ge+Ae)/2,ce=(Fe+ze)/2;(ve=se[3])&&ae.push(new b(ve,oe,ce,Ae,ze)),(ve=se[2])&&ae.push(new b(ve,ge,ce,oe,ze)),(ve=se[1])&&ae.push(new b(ve,oe,Fe,Ae,ce)),(ve=se[0])&&ae.push(new b(ve,ge,Fe,oe,ce))}return this},Z.visitAfter=function E(Y){var se,ae=[],ne=[];for(this._root&&ae.push(new b(this._root,this._x0,this._y0,this._x1,this._y1));se=ae.pop();){var ve=se.node;if(ve.length){var ge,Fe=se.x0,Ae=se.y0,ze=se.x1,oe=se.y1,ce=(Fe+ze)/2,H=(Ae+oe)/2;(ge=ve[0])&&ae.push(new b(ge,Fe,Ae,ce,H)),(ge=ve[1])&&ae.push(new b(ge,ce,Ae,ze,H)),(ge=ve[2])&&ae.push(new b(ge,Fe,H,ce,oe)),(ge=ve[3])&&ae.push(new b(ge,ce,H,ze,oe))}ne.push(se)}for(;se=ne.pop();)Y(se.node,se.x0,se.y0,se.x1,se.y1);return this},Z.x=function k(Y){return arguments.length?(this._x=Y,this):this._x},Z.y=function ie(Y){return arguments.length?(this._y=Y,this):this._y}},9194:(qt,z,j)=>{"use strict";j.d(z,{HT:()=>A});var P,T,R=0,q=0,B=0,O=1e3,b=0,x=0,m=0,_="object"==typeof performance&&performance.now?performance:Date,g="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(X){setTimeout(X,17)};function S(){return x||(g(w),x=_.now()+m)}function w(){x=0}function E(){this._call=this._time=this._next=null}function A(X,Z,Y){var ae=new E;return ae.restart(X,Z,Y),ae}function L(){x=(b=_.now())+m,R=q=0;try{!function k(){S(),++R;for(var Z,X=P;X;)(Z=x-X._time)>=0&&X._call.call(null,Z),X=X._next;--R}()}finally{R=0,function te(){for(var X,Y,Z=P,ae=1/0;Z;)Z._call?(ae>Z._time&&(ae=Z._time),X=Z,Z=Z._next):(Y=Z._next,Z._next=null,Z=X?X._next=Y:P=Y);T=X,$(ae)}(),x=0}}function ie(){var X=_.now(),Z=X-b;Z>O&&(m-=Z,b=X)}function $(X){R||(q&&(q=clearTimeout(q)),X-x>24?(X<1/0&&(q=setTimeout(L,X-_.now()-m)),B&&(B=clearInterval(B))):(B||(b=_.now(),B=setInterval(ie,O)),R=1,g(L)))}E.prototype=A.prototype={constructor:E,restart:function(X,Z,Y){if("function"!=typeof X)throw new TypeError("callback is not a function");Y=(null==Y?S():+Y)+(null==Z?0:+Z),!this._next&&T!==this&&(T?T._next=this:P=this,T=this),this._call=X,this._time=Y,$()},stop:function(){this._call&&(this._call=null,this._time=1/0,$())}}},7645:(qt,z,j)=>{"use strict";j.r(z),j.d(z,{BRIDGE_GRAPH_NAME:()=>P,GraphType:()=>x,HierarchyNodeType:()=>m,InclusionType:()=>b,LAYOUT_CONFIG:()=>R,NodeType:()=>T,ROOT_NAME:()=>O,buildGraph:()=>mn,flatGraph:()=>jn,getEdges:()=>Xn,mergeConfig:()=>q});const R={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function q(p={},M=R){var U,ee,le,he;const me=JSON.parse(JSON.stringify(M)),be=(null===(U=p?.graph)||void 0===U?void 0:U.meta)||{},Te=(null===(ee=p?.subScene)||void 0===ee?void 0:ee.meta)||{},Ge=(null===(le=p?.nodeSize)||void 0===le?void 0:le.meta)||{},at=(null===(he=p?.nodeSize)||void 0===he?void 0:he.node)||{},Ze=me.nodeSize.bridge;return{graph:{meta:Object.assign(me.graph.meta,be)},subScene:{meta:Object.assign(me.subScene.meta,Te)},nodeSize:{meta:Object.assign(me.nodeSize.meta,Ge),node:Object.assign(me.nodeSize.node,at),bridge:Ze}}}function B(p){return`\u25ec${p}\u25ec`}const O=B("ROOT"),P=B("BRIDGE_GRAPH");var T,b,x,m,p;(p=T||(T={}))[p.META=0]="META",p[p.NODE=1]="NODE",p[p.BRIDGE=2]="BRIDGE",function(p){p[p.INCLUDE=0]="INCLUDE",p[p.EXCLUDE=1]="EXCLUDE",p[p.UNSPECIFIED=2]="UNSPECIFIED"}(b||(b={})),function(p){p[p.META=0]="META",p[p.CORE=1]="CORE",p[p.BRIDGE=2]="BRIDGE"}(x||(x={})),function(p){p[p.META=0]="META",p[p.OP=1]="OP",p[p.SERIES=2]="SERIES"}(m||(m={}));var _=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g(p,M){return p(M={exports:{}},M.exports),M.exports}var w=function(p,M){return p===M||p!=p&&M!=M},E=function(p,M){for(var U=p.length;U--;)if(w(p[U][0],M))return U;return-1},A=Array.prototype.splice;function $(p){var M=-1,U=null==p?0:p.length;for(this.clear();++M<U;){var ee=p[M];this.set(ee[0],ee[1])}}$.prototype.clear=function(){this.__data__=[],this.size=0},$.prototype.delete=function(p){var M=this.__data__,U=E(M,p);return!(U<0||(U==M.length-1?M.pop():A.call(M,U,1),--this.size,0))},$.prototype.get=function(p){var M=this.__data__,U=E(M,p);return U<0?void 0:M[U][1]},$.prototype.has=function(p){return E(this.__data__,p)>-1},$.prototype.set=function(p,M){var U=this.__data__,ee=E(U,p);return ee<0?(++this.size,U.push([p,M])):U[ee][1]=M,this};var pt,X=$,se="object"==typeof _&&_&&_.Object===Object&&_,ve="object"==typeof self&&self&&self.Object===Object&&self,ge=se||ve||Function("return this")(),Fe=ge.Symbol,Ae=Object.prototype,ze=Ae.hasOwnProperty,oe=Ae.toString,ce=Fe?Fe.toStringTag:void 0,re=Object.prototype.toString,Ce=Fe?Fe.toStringTag:void 0,Ie=function(p){return null==p?void 0===p?"[object Undefined]":"[object Null]":Ce&&Ce in Object(p)?function(p){var M=ze.call(p,ce),U=p[ce];try{p[ce]=void 0;var ee=!0}catch{}var le=oe.call(p);return ee&&(M?p[ce]=U:delete p[ce]),le}(p):function(p){return re.call(p)}(p)},Ue=function(p){var M=typeof p;return null!=p&&("object"==M||"function"==M)},st=function(p){if(!Ue(p))return!1;var M=Ie(p);return"[object Function]"==M||"[object GeneratorFunction]"==M||"[object AsyncFunction]"==M||"[object Proxy]"==M},Ne=ge["__core-js_shared__"],lt=(pt=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+pt:"",$e=Function.prototype.toString,dt=function(p){if(null!=p){try{return $e.call(p)}catch{}try{return p+""}catch{}}return""},De=/^\[object .+?Constructor\]$/,wt=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kn=function(p,M){var U=function(p,M){return p?.[M]}(p,M);return function(p){return!(!Ue(p)||function(p){return!!lt&&lt in p}(p))&&(st(p)?wt:De).test(dt(p))}(U)?U:void 0},je=kn(ge,"Map"),Hn=kn(Object,"create"),Me=Object.prototype.hasOwnProperty,pi=Object.prototype.hasOwnProperty;function Xi(p){var M=-1,U=null==p?0:p.length;for(this.clear();++M<U;){var ee=p[M];this.set(ee[0],ee[1])}}Xi.prototype.clear=function(){this.__data__=Hn?Hn(null):{},this.size=0},Xi.prototype.delete=function(p){var M=this.has(p)&&delete this.__data__[p];return this.size-=M?1:0,M},Xi.prototype.get=function(p){var M=this.__data__;if(Hn){var U=M[p];return"__lodash_hash_undefined__"===U?void 0:U}return Me.call(M,p)?M[p]:void 0},Xi.prototype.has=function(p){var M=this.__data__;return Hn?void 0!==M[p]:pi.call(M,p)},Xi.prototype.set=function(p,M){var U=this.__data__;return this.size+=this.has(p)?0:1,U[p]=Hn&&void 0===M?"__lodash_hash_undefined__":M,this};var ji=Xi,br=function(p,M){var U=p.__data__;return function(p){var M=typeof p;return"string"==M||"number"==M||"symbol"==M||"boolean"==M?"__proto__"!==p:null===p}(M)?U["string"==typeof M?"string":"hash"]:U.map};function Ti(p){var M=-1,U=null==p?0:p.length;for(this.clear();++M<U;){var ee=p[M];this.set(ee[0],ee[1])}}Ti.prototype.clear=function(){this.size=0,this.__data__={hash:new ji,map:new(je||X),string:new ji}},Ti.prototype.delete=function(p){var M=br(this,p).delete(p);return this.size-=M?1:0,M},Ti.prototype.get=function(p){return br(this,p).get(p)},Ti.prototype.has=function(p){return br(this,p).has(p)},Ti.prototype.set=function(p,M){var U=br(this,p),ee=U.size;return U.set(p,M),this.size+=U.size==ee?0:1,this};var Ki=Ti;function Ar(p){var M=this.__data__=new X(p);this.size=M.size}Ar.prototype.clear=function(){this.__data__=new X,this.size=0},Ar.prototype.delete=function(p){var M=this.__data__,U=M.delete(p);return this.size=M.size,U},Ar.prototype.get=function(p){return this.__data__.get(p)},Ar.prototype.has=function(p){return this.__data__.has(p)},Ar.prototype.set=function(p,M){var U=this.__data__;if(U instanceof X){var ee=U.__data__;if(!je||ee.length<199)return ee.push([p,M]),this.size=++U.size,this;U=this.__data__=new Ki(ee)}return U.set(p,M),this.size=U.size,this};var ti=Ar,Vr=function(p,M){for(var U=-1,ee=null==p?0:p.length;++U<ee&&!1!==M(p[U],U,p););return p},Se=function(){try{var p=kn(Object,"defineProperty");return p({},"",{}),p}catch{}}(),G=function(p,M,U){"__proto__"==M&&Se?Se(p,M,{configurable:!0,enumerable:!0,value:U,writable:!0}):p[M]=U},V=Object.prototype.hasOwnProperty,C=function(p,M,U){var ee=p[M];V.call(p,M)&&w(ee,U)&&(void 0!==U||M in p)||G(p,M,U)},W=function(p,M,U,ee){var le=!U;U||(U={});for(var he=-1,me=M.length;++he<me;){var be=M[he],Te=ee?ee(U[be],p[be],be,U,p):void 0;void 0===Te&&(Te=p[be]),le?G(U,be,Te):C(U,be,Te)}return U},He=function(p){return null!=p&&"object"==typeof p},We=function(p){return He(p)&&"[object Arguments]"==Ie(p)},it=Object.prototype,rt=it.hasOwnProperty,Vt=it.propertyIsEnumerable,N=We(function(){return arguments}())?We:function(p){return He(p)&&rt.call(p,"callee")&&!Vt.call(p,"callee")},Xe=Array.isArray,Ye=function(){return!1},Qe=g(function(p,M){var U=M&&!M.nodeType&&M,ee=U&&p&&!p.nodeType&&p,le=ee&&ee.exports===U?ge.Buffer:void 0;p.exports=(le?le.isBuffer:void 0)||Ye}),Et=/^(?:0|[1-9]\d*)$/,nn=function(p,M){var U=typeof p;return!!(M=M??9007199254740991)&&("number"==U||"symbol"!=U&&Et.test(p))&&p>-1&&p%1==0&&p<M},Je=function(p){return"number"==typeof p&&p>-1&&p%1==0&&p<=9007199254740991},Wt={};Wt["[object Float32Array]"]=Wt["[object Float64Array]"]=Wt["[object Int8Array]"]=Wt["[object Int16Array]"]=Wt["[object Int32Array]"]=Wt["[object Uint8Array]"]=Wt["[object Uint8ClampedArray]"]=Wt["[object Uint16Array]"]=Wt["[object Uint32Array]"]=!0,Wt["[object Arguments]"]=Wt["[object Array]"]=Wt["[object ArrayBuffer]"]=Wt["[object Boolean]"]=Wt["[object DataView]"]=Wt["[object Date]"]=Wt["[object Error]"]=Wt["[object Function]"]=Wt["[object Map]"]=Wt["[object Number]"]=Wt["[object Object]"]=Wt["[object RegExp]"]=Wt["[object Set]"]=Wt["[object String]"]=Wt["[object WeakMap]"]=!1;var Dn=function(p){return function(M){return p(M)}},Rn=g(function(p,M){var U=M&&!M.nodeType&&M,ee=U&&p&&!p.nodeType&&p,le=ee&&ee.exports===U&&se.process,he=function(){try{return ee&&ee.require&&ee.require("util").types||le&&le.binding&&le.binding("util")}catch{}}();p.exports=he}),Ir=Rn&&Rn.isTypedArray,Yn=Ir?Dn(Ir):function(p){return He(p)&&Je(p.length)&&!!Wt[Ie(p)]},er=Object.prototype.hasOwnProperty,Gr=function(p,M){var U=Xe(p),ee=!U&&N(p),le=!U&&!ee&&Qe(p),he=!U&&!ee&&!le&&Yn(p),me=U||ee||le||he,be=me?function(p,M){for(var U=-1,ee=Array(p);++U<p;)ee[U]=M(U);return ee}(p.length,String):[],Te=be.length;for(var Ge in p)!M&&!er.call(p,Ge)||me&&("length"==Ge||le&&("offset"==Ge||"parent"==Ge)||he&&("buffer"==Ge||"byteLength"==Ge||"byteOffset"==Ge)||nn(Ge,Te))||be.push(Ge);return be},Pr=Object.prototype,Ht=function(p){var M=p&&p.constructor;return p===("function"==typeof M&&M.prototype||Pr)},Ln=function(p,M){return function(U){return p(M(U))}},Vn=Ln(Object.keys,Object),cn=Object.prototype.hasOwnProperty,Lr=function(p){if(!Ht(p))return Vn(p);var M=[];for(var U in Object(p))cn.call(p,U)&&"constructor"!=U&&M.push(U);return M},pr=function(p){return null!=p&&Je(p.length)&&!st(p)},Ct=function(p){return pr(p)?Gr(p):Lr(p)},Ot=Object.prototype.hasOwnProperty,At=function(p){return pr(p)?Gr(p,!0):function(p){if(!Ue(p))return function(p){var M=[];if(null!=p)for(var U in Object(p))M.push(U);return M}(p);var M=Ht(p),U=[];for(var ee in p)("constructor"!=ee||!M&&Ot.call(p,ee))&&U.push(ee);return U}(p)},En=g(function(p,M){var U=M&&!M.nodeType&&M,ee=U&&p&&!p.nodeType&&p,le=ee&&ee.exports===U?ge.Buffer:void 0,he=le?le.allocUnsafe:void 0;p.exports=function(me,be){if(be)return me.slice();var Te=me.length,Ge=he?he(Te):new me.constructor(Te);return me.copy(Ge),Ge}}),Fn=function(p,M){var U=-1,ee=p.length;for(M||(M=Array(ee));++U<ee;)M[U]=p[U];return M},xr=function(p,M){for(var U=-1,ee=null==p?0:p.length,le=0,he=[];++U<ee;){var me=p[U];M(me,U,p)&&(he[le++]=me)}return he},fr=function(){return[]},Fr=Object.prototype.propertyIsEnumerable,Ai=Object.getOwnPropertySymbols,ca=Ai?function(p){return null==p?[]:(p=Object(p),xr(Ai(p),function(M){return Fr.call(p,M)}))}:fr,ja=function(p,M){for(var U=-1,ee=M.length,le=p.length;++U<ee;)p[le+U]=M[U];return p},no=Ln(Object.getPrototypeOf,Object),Bl=Object.getOwnPropertySymbols?function(p){for(var M=[];p;)ja(M,ca(p)),p=no(p);return M}:fr,xo=function(p,M,U){var ee=M(p);return Xe(p)?ee:ja(ee,U(p))},zl=function(p){return xo(p,Ct,ca)},iu=function(p){return xo(p,At,Bl)},au=kn(ge,"DataView"),Co=kn(ge,"Promise"),Ui=kn(ge,"Set"),zu=kn(ge,"WeakMap"),Rf=dt(au),Vu=dt(je),vr=dt(Co),Lf=dt(Ui),Ii=dt(zu),us=Ie;(au&&"[object DataView]"!=us(new au(new ArrayBuffer(1)))||je&&"[object Map]"!=us(new je)||Co&&"[object Promise]"!=us(Co.resolve())||Ui&&"[object Set]"!=us(new Ui)||zu&&"[object WeakMap]"!=us(new zu))&&(us=function(p){var M=Ie(p),U="[object Object]"==M?p.constructor:void 0,ee=U?dt(U):"";if(ee)switch(ee){case Rf:return"[object DataView]";case Vu:return"[object Map]";case vr:return"[object Promise]";case Lf:return"[object Set]";case Ii:return"[object WeakMap]"}return M});var dl=us,ju=Object.prototype.hasOwnProperty,Vl=ge.Uint8Array,xs=function(p){var M=new p.constructor(p.byteLength);return new Vl(M).set(new Vl(p)),M},ou=/\w*$/,fl=Fe?Fe.prototype:void 0,Xr=fl?fl.valueOf:void 0,Uu=function(p,M){var U=M?xs(p.buffer):p.buffer;return new p.constructor(U,p.byteOffset,p.length)},ds=Object.create,Ls=function(){function p(){}return function(M){if(!Ue(M))return{};if(ds)return ds(M);p.prototype=M;var U=new p;return p.prototype=void 0,U}}(),fa=function(p){return"function"!=typeof p.constructor||Ht(p)?{}:Ls(no(p))},Gu=Rn&&Rn.isMap,zd=Gu?Dn(Gu):function(p){return He(p)&&"[object Map]"==dl(p)},Gl=Rn&&Rn.isSet,hl=Gl?Dn(Gl):function(p){return He(p)&&"[object Set]"==dl(p)},Ea={};Ea["[object Arguments]"]=Ea["[object Array]"]=Ea["[object ArrayBuffer]"]=Ea["[object DataView]"]=Ea["[object Boolean]"]=Ea["[object Date]"]=Ea["[object Float32Array]"]=Ea["[object Float64Array]"]=Ea["[object Int8Array]"]=Ea["[object Int16Array]"]=Ea["[object Int32Array]"]=Ea["[object Map]"]=Ea["[object Number]"]=Ea["[object Object]"]=Ea["[object RegExp]"]=Ea["[object Set]"]=Ea["[object String]"]=Ea["[object Symbol]"]=Ea["[object Uint8Array]"]=Ea["[object Uint8ClampedArray]"]=Ea["[object Uint16Array]"]=Ea["[object Uint32Array]"]=!0,Ea["[object Error]"]=Ea["[object Function]"]=Ea["[object WeakMap]"]=!1;var Hu=function p(M,U,ee,le,he,me){var be,Te=1&U,Ge=2&U,at=4&U;if(ee&&(be=he?ee(M,le,he,me):ee(M)),void 0!==be)return be;if(!Ue(M))return M;var Ze=Xe(M);if(Ze){if(be=function(p){var M=p.length,U=new p.constructor(M);return M&&"string"==typeof p[0]&&ju.call(p,"index")&&(U.index=p.index,U.input=p.input),U}(M),!Te)return Fn(M,be)}else{var Mt=dl(M),jt="[object Function]"==Mt||"[object GeneratorFunction]"==Mt;if(Qe(M))return En(M,Te);if("[object Object]"==Mt||"[object Arguments]"==Mt||jt&&!he){if(be=Ge||jt?{}:fa(M),!Te)return Ge?function(p,M){return W(p,Bl(p),M)}(M,function(p,M){return p&&W(M,At(M),p)}(be,M)):function(p,M){return W(p,ca(p),M)}(M,function(p,M){return p&&W(M,Ct(M),p)}(be,M))}else{if(!Ea[Mt])return he?M:{};be=function(p,M,U){var ee=p.constructor;switch(M){case"[object ArrayBuffer]":return xs(p);case"[object Boolean]":case"[object Date]":return new ee(+p);case"[object DataView]":return function(p,M){var U=M?xs(p.buffer):p.buffer;return new p.constructor(U,p.byteOffset,p.byteLength)}(p,U);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Uu(p,U);case"[object Map]":case"[object Set]":return new ee;case"[object Number]":case"[object String]":return new ee(p);case"[object RegExp]":return function(p){var M=new p.constructor(p.source,ou.exec(p));return M.lastIndex=p.lastIndex,M}(p);case"[object Symbol]":return function(p){return Xr?Object(Xr.call(p)):{}}(p)}}(M,Mt,Te)}}me||(me=new ti);var xn=me.get(M);if(xn)return xn;me.set(M,be),hl(M)?M.forEach(function(Gt){be.add(p(Gt,U,ee,Gt,M,me))}):zd(M)&&M.forEach(function(Gt,Jt){be.set(Jt,p(Gt,U,ee,Jt,M,me))});var Zt=Ze?void 0:(at?Ge?iu:zl:Ge?At:Ct)(M);return Vr(Zt||M,function(Gt,Jt){Zt&&(Gt=M[Jt=Gt]),C(be,Jt,p(Gt,U,ee,Jt,M,me))}),be},ws=function(p){return function(){return p}},pl=function(M,U,ee){for(var le=-1,he=Object(M),me=ee(M),be=me.length;be--;){var Te=me[++le];if(!1===U(he[Te],Te,he))break}return M},Ks=function(p,M){return p&&pl(p,M,Ct)},qs=function(p,M){return function(U,ee){if(null==U)return U;if(!pr(U))return p(U,ee);for(var le=U.length,he=-1,me=Object(U);++he<le&&!1!==ee(me[he],he,me););return U}}(Ks),wn=function(p){return p},Es=function(p){return"function"==typeof p?p:wn},ui=function(p,M){return(Xe(p)?Vr:qs)(p,Es(M))},Yo=ui,Hl=function(p,M){var U=[];return qs(p,function(ee,le,he){M(ee,le,he)&&U.push(ee)}),U};function Dc(p){var M=-1,U=null==p?0:p.length;for(this.__data__=new Ki;++M<U;)this.add(p[M])}Dc.prototype.add=Dc.prototype.push=function(p){return this.__data__.set(p,"__lodash_hash_undefined__"),this},Dc.prototype.has=function(p){return this.__data__.has(p)};var Tc=Dc,Fs=function(p,M){for(var U=-1,ee=null==p?0:p.length;++U<ee;)if(M(p[U],U,p))return!0;return!1},No=function(p,M){return p.has(M)},Xo=function(p,M,U,ee,le,he){var me=1&U,be=p.length,Te=M.length;if(be!=Te&&!(me&&Te>be))return!1;var Ge=he.get(p),at=he.get(M);if(Ge&&at)return Ge==M&&at==p;var Ze=-1,Mt=!0,jt=2&U?new Tc:void 0;for(he.set(p,M),he.set(M,p);++Ze<be;){var xn=p[Ze],Zt=M[Ze];if(ee)var Gt=me?ee(Zt,xn,Ze,M,p,he):ee(xn,Zt,Ze,p,M,he);if(void 0!==Gt){if(Gt)continue;Mt=!1;break}if(jt){if(!Fs(M,function(Jt,Un){if(!No(jt,Un)&&(xn===Jt||le(xn,Jt,U,ee,he)))return jt.push(Un)})){Mt=!1;break}}else if(xn!==Zt&&!le(xn,Zt,U,ee,he)){Mt=!1;break}}return he.delete(p),he.delete(M),Mt},fs=function(p){var M=-1,U=Array(p.size);return p.forEach(function(ee,le){U[++M]=[le,ee]}),U},Ji=function(p){var M=-1,U=Array(p.size);return p.forEach(function(ee){U[++M]=ee}),U},Sa=Fe?Fe.prototype:void 0,Tl=Sa?Sa.valueOf:void 0,Po=Object.prototype.hasOwnProperty,Bs=Object.prototype.hasOwnProperty,ua=function p(M,U,ee,le,he){return M===U||(null==M||null==U||!He(M)&&!He(U)?M!=M&&U!=U:function(p,M,U,ee,le,he){var me=Xe(p),be=Xe(M),Te=me?"[object Array]":dl(p),Ge=be?"[object Array]":dl(M),at="[object Object]"==(Te="[object Arguments]"==Te?"[object Object]":Te),Ze="[object Object]"==(Ge="[object Arguments]"==Ge?"[object Object]":Ge),Mt=Te==Ge;if(Mt&&Qe(p)){if(!Qe(M))return!1;me=!0,at=!1}if(Mt&&!at)return he||(he=new ti),me||Yn(p)?Xo(p,M,U,ee,le,he):function(p,M,U,ee,le,he,me){switch(U){case"[object DataView]":if(p.byteLength!=M.byteLength||p.byteOffset!=M.byteOffset)return!1;p=p.buffer,M=M.buffer;case"[object ArrayBuffer]":return!(p.byteLength!=M.byteLength||!he(new Vl(p),new Vl(M)));case"[object Boolean]":case"[object Date]":case"[object Number]":return w(+p,+M);case"[object Error]":return p.name==M.name&&p.message==M.message;case"[object RegExp]":case"[object String]":return p==M+"";case"[object Map]":var be=fs;case"[object Set]":if(be||(be=Ji),p.size!=M.size&&!(1&ee))return!1;var Ge=me.get(p);if(Ge)return Ge==M;ee|=2,me.set(p,M);var at=Xo(be(p),be(M),ee,le,he,me);return me.delete(p),at;case"[object Symbol]":if(Tl)return Tl.call(p)==Tl.call(M)}return!1}(p,M,Te,U,ee,le,he);if(!(1&U)){var jt=at&&Bs.call(p,"__wrapped__"),xn=Ze&&Bs.call(M,"__wrapped__");if(jt||xn){var Zt=jt?p.value():p,Gt=xn?M.value():M;return he||(he=new ti),le(Zt,Gt,U,ee,he)}}return!!Mt&&(he||(he=new ti),function(p,M,U,ee,le,he){var me=1&U,be=zl(p),Te=be.length;if(Te!=zl(M).length&&!me)return!1;for(var Ge=Te;Ge--;){var at=be[Ge];if(!(me?at in M:Po.call(M,at)))return!1}var Ze=he.get(p),Mt=he.get(M);if(Ze&&Mt)return Ze==M&&Mt==p;var jt=!0;he.set(p,M),he.set(M,p);for(var xn=me;++Ge<Te;){var Zt=p[at=be[Ge]],Gt=M[at];if(ee)var Jt=me?ee(Gt,Zt,at,M,p,he):ee(Zt,Gt,at,p,M,he);if(!(void 0===Jt?Zt===Gt||le(Zt,Gt,U,ee,he):Jt)){jt=!1;break}xn||(xn="constructor"==at)}if(jt&&!xn){var Un=p.constructor,lr=M.constructor;Un==lr||!("constructor"in p)||!("constructor"in M)||"function"==typeof Un&&Un instanceof Un&&"function"==typeof lr&&lr instanceof lr||(jt=!1)}return he.delete(p),he.delete(M),jt}(p,M,U,ee,le,he))}(M,U,ee,le,p,he))},zs=function(p){return p==p&&!Ue(p)},Oi=function(p,M){return function(U){return null!=U&&U[p]===M&&(void 0!==M||p in Object(U))}},Vs=function(p){return"symbol"==typeof p||He(p)&&"[object Symbol]"==Ie(p)},xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bt=/^\w*$/,kt=function(p,M){if(Xe(p))return!1;var U=typeof p;return!("number"!=U&&"symbol"!=U&&"boolean"!=U&&null!=p&&!Vs(p))||bt.test(p)||!xe.test(p)||null!=M&&p in Object(M)};function Xt(p,M){if("function"!=typeof p||null!=M&&"function"!=typeof M)throw new TypeError("Expected a function");var U=function(){var ee=arguments,le=M?M.apply(this,ee):ee[0],he=U.cache;if(he.has(le))return he.get(le);var me=p.apply(this,ee);return U.cache=he.set(le,me)||he,me};return U.cache=new(Xt.Cache||Ki),U}Xt.Cache=Ki;var Xl,M,U,or=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sr=/\\(\\)?/g,qi=(M=Xt(function(p){var M=[];return 46===p.charCodeAt(0)&&M.push(""),p.replace(or,function(U,ee,le,he){M.push(le?he.replace(Sr,"$1"):ee||U)}),M},function(ee){return 500===U.size&&U.clear(),ee}),U=M.cache,M),Ta=function(p,M){for(var U=-1,ee=null==p?0:p.length,le=Array(ee);++U<ee;)le[U]=M(p[U],U,p);return le},uo=Fe?Fe.prototype:void 0,Ua=uo?uo.toString:void 0,Tr=function p(M){if("string"==typeof M)return M;if(Xe(M))return Ta(M,p)+"";if(Vs(M))return Ua?Ua.call(M):"";var U=M+"";return"0"==U&&1/M==-1/0?"-0":U},xi=function(p){return null==p?"":Tr(p)},Oa=function(p,M){return Xe(p)?p:kt(p,M)?[p]:qi(xi(p))},Do=function(p){if("string"==typeof p||Vs(p))return p;var M=p+"";return"0"==M&&1/p==-1/0?"-0":M},js=function(p,M){for(var U=0,ee=(M=Oa(M,p)).length;null!=p&&U<ee;)p=p[Do(M[U++])];return U&&U==ee?p:void 0},Al=function(p,M){return null!=p&&M in Object(p)},Ya=function(p,M,U){for(var ee=-1,le=(M=Oa(M,p)).length,he=!1;++ee<le;){var me=Do(M[ee]);if(!(he=null!=p&&U(p,me)))break;p=p[me]}return he||++ee!=le?he:!!(le=null==p?0:p.length)&&Je(le)&&nn(me,le)&&(Xe(p)||N(p))},Ic=function(p,M){return null!=p&&Ya(p,M,Al)},di=function(p){return function(M){return M?.[p]}},Ko=function(p){return"function"==typeof p?p:null==p?wn:"object"==typeof p?Xe(p)?function(p,M){return kt(p)&&zs(M)?Oi(Do(p),M):function(U){var ee=function(p,M,U){var ee=null==p?void 0:js(p,M);return void 0===ee?void 0:ee}(U,p);return void 0===ee&&ee===M?Ic(U,p):ua(M,ee,3)}}(p[0],p[1]):function(p){var M=function(p){for(var M=Ct(p),U=M.length;U--;){var ee=M[U],le=p[ee];M[U]=[ee,le,zs(le)]}return M}(p);return 1==M.length&&M[0][2]?Oi(M[0][0],M[0][1]):function(U){return U===p||function(p,M,U,ee){var le=U.length,he=le;if(null==p)return!he;for(p=Object(p);le--;){var be=U[le];if(be[2]?be[1]!==p[be[0]]:!(be[0]in p))return!1}for(;++le<he;){var Te=(be=U[le])[0],Ge=p[Te],at=be[1];if(be[2]){if(void 0===Ge&&!(Te in p))return!1}else{var Mt,Ze=new ti;if(!(void 0===Mt?ua(at,Ge,3,ee,Ze):Mt))return!1}}return!0}(U,0,M)}}(p):function(p){return kt(p)?di(Do(p)):function(p){return function(M){return js(M,p)}}(p)}(p)},$l=function(p,M){return(Xe(p)?xr:Hl)(p,Ko(M))},Ro=Object.prototype.hasOwnProperty,uu=function(p,M){return null!=p&&Ro.call(p,M)},gl=function(p,M){return null!=p&&Ya(p,M,uu)},Js=Object.prototype.hasOwnProperty,I=function(p){return void 0===p},pe=function(p,M){var U=-1,ee=pr(p)?Array(p.length):[];return qs(p,function(le,he,me){ee[++U]=M(le,he,me)}),ee},we=function(p,M){return(Xe(p)?Ta:pe)(p,Ko(M))},Le=function(p,M,U,ee){var le=-1,he=null==p?0:p.length;for(ee&&he&&(U=p[++le]);++le<he;)U=M(U,p[le],le,p);return U},Ke=function(p,M,U,ee,le){return le(p,function(he,me,be){U=ee?(ee=!1,he):M(U,he,me,be)}),U},qe=function(p,M,U){var ee=Xe(p)?Le:Ke,le=arguments.length<3;return ee(p,Ko(M),U,le,qs)},_t=di("length"),Dt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),vn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",gn="\\ud83c[\\udffb-\\udfff]",$n="[^\\ud800-\\udfff]",rr="(?:\\ud83c[\\udde6-\\uddff]){2}",Sn="[\\ud800-\\udbff][\\udc00-\\udfff]",_r="(?:"+vn+"|"+gn+")?",wi="[\\ufe0e\\ufe0f]?"+_r+"(?:\\u200d(?:"+[$n,rr,Sn].join("|")+")[\\ufe0e\\ufe0f]?"+_r+")*",Ei="(?:"+[$n+vn+"?",vn,rr,Sn,"[\\ud800-\\udfff]"].join("|")+")",li=RegExp(gn+"(?="+gn+")|"+Ei+wi,"g"),Ja=Fe?Fe.isConcatSpreadable:void 0,io=function(p){return Xe(p)||N(p)||!!(Ja&&p&&p[Ja])},ao=function p(M,U,ee,le,he){var me=-1,be=M.length;for(ee||(ee=io),he||(he=[]);++me<be;){var Te=M[me];U>0&&ee(Te)?U>1?p(Te,U-1,ee,le,he):ja(he,Te):le||(he[he.length]=Te)}return he},yo=function(p,M,U){switch(U.length){case 0:return p.call(M);case 1:return p.call(M,U[0]);case 2:return p.call(M,U[0],U[1]);case 3:return p.call(M,U[0],U[1],U[2])}return p.apply(M,U)},Ao=Math.max,ea=function(p,M,U){return M=Ao(void 0===M?p.length-1:M,0),function(){for(var ee=arguments,le=-1,he=Ao(ee.length-M,0),me=Array(he);++le<he;)me[le]=ee[M+le];le=-1;for(var be=Array(M+1);++le<M;)be[le]=ee[le];return be[M]=U(me),yo(p,this,be)}},Aa=Se?function(p,M){return Se(p,"toString",{configurable:!0,enumerable:!1,value:ws(M),writable:!0})}:wn,du=Date.now,Il=function(p){var M=0,U=0;return function(){var ee=du(),le=16-(ee-U);if(U=ee,le>0){if(++M>=800)return arguments[0]}else M=0;return p.apply(void 0,arguments)}}(Aa),Ss=function(p,M){return Il(ea(p,M,wn),p+"")},jd=function(p,M,U,ee){for(var le=p.length,he=U+(ee?1:-1);ee?he--:++he<le;)if(M(p[he],he,p))return he;return-1},zg=function(p){return p!=p},Vg=function(p,M){return!(null==p||!p.length)&&function(p,M,U){return M==M?function(p,M,U){for(var ee=-1,le=p.length;++ee<le;)if(p[ee]===M)return ee;return-1}(p,M):jd(p,zg,0)}(p,M)>-1},rv=Ui&&1/Ji(new Ui([,-0]))[1]==1/0?function(p){return new Ui(p)}:function(){},Bf=function(p){return He(p)&&pr(p)},Fh=Ss(function(p){return function(p,M,U){var ee=-1,le=Vg,he=p.length,me=!0,be=[],Te=be;if(he>=200){var Ge=rv(p);if(Ge)return Ji(Ge);me=!1,le=No,Te=new Tc}else Te=be;e:for(;++ee<he;){var at=p[ee],Ze=at;if(at=0!==at?at:0,me&&Ze==Ze){for(var Mt=Te.length;Mt--;)if(Te[Mt]===Ze)continue e;be.push(at)}else le(Te,Ze,U)||(Te!==be&&Te.push(Ze),be.push(at))}return be}(ao(p,1,Bf,!0))}),iv=function(p){return null==p?[]:function(p,M){return Ta(M,function(U){return p[U]})}(p,Ct(p))};try{Xl={clone:function(p){return Hu(p,4)},constant:ws,each:Yo,filter:$l,has:gl,isArray:Xe,isEmpty:function(p){if(null==p)return!0;if(pr(p)&&(Xe(p)||"string"==typeof p||"function"==typeof p.splice||Qe(p)||Yn(p)||N(p)))return!p.length;var M=dl(p);if("[object Map]"==M||"[object Set]"==M)return!p.size;if(Ht(p))return!Lr(p).length;for(var U in p)if(Js.call(p,U))return!1;return!0},isFunction:st,isUndefined:I,keys:Ct,map:we,reduce:qe,size:function(p){if(null==p)return 0;if(pr(p))return function(p){return"string"==typeof p||!Xe(p)&&He(p)&&"[object String]"==Ie(p)}(p)?function(p){return function(p){return Dt.test(p)}(p)?function(p){for(var M=li.lastIndex=0;li.test(p);)++M;return M}(p):_t(p)}(p):p.length;var M=dl(p);return"[object Map]"==M||"[object Set]"==M?p.size:Lr(p).length},transform:function(p,M,U){var ee=Xe(p),le=ee||Qe(p)||Yn(p);if(M=Ko(M),null==U){var he=p&&p.constructor;U=le?ee?new he:[]:Ue(p)&&st(he)?Ls(no(p)):{}}return(le?Vr:Ks)(p,function(me,be,Te){return M(U,me,be,Te)}),U},union:Fh,values:iv}}catch{}Xl||(Xl=window._);var cr=Xl,hu=Hi;function Hi(p){this._isDirected=!cr.has(p,"directed")||p.directed,this._isMultigraph=!!cr.has(p,"multigraph")&&p.multigraph,this._isCompound=!!cr.has(p,"compound")&&p.compound,this._label=void 0,this._defaultNodeLabelFn=cr.constant(void 0),this._defaultEdgeLabelFn=cr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function Io(p,M){p[M]?p[M]++:p[M]=1}function Bh(p,M){--p[M]||delete p[M]}function Kl(p,M,U,ee){var le=""+M,he=""+U;if(!p&&le>he){var me=le;le=he,he=me}return le+"\x01"+he+"\x01"+(cr.isUndefined(ee)?"\0":ee)}function zf(p,M){return Kl(p,M.v,M.w,M.name)}Hi.prototype._nodeCount=0,Hi.prototype._edgeCount=0,Hi.prototype.isDirected=function(){return this._isDirected},Hi.prototype.isMultigraph=function(){return this._isMultigraph},Hi.prototype.isCompound=function(){return this._isCompound},Hi.prototype.setGraph=function(p){return this._label=p,this},Hi.prototype.graph=function(){return this._label},Hi.prototype.setDefaultNodeLabel=function(p){return cr.isFunction(p)||(p=cr.constant(p)),this._defaultNodeLabelFn=p,this},Hi.prototype.nodeCount=function(){return this._nodeCount},Hi.prototype.nodes=function(){return cr.keys(this._nodes)},Hi.prototype.sources=function(){var p=this;return cr.filter(this.nodes(),function(M){return cr.isEmpty(p._in[M])})},Hi.prototype.sinks=function(){var p=this;return cr.filter(this.nodes(),function(M){return cr.isEmpty(p._out[M])})},Hi.prototype.setNodes=function(p,M){var U=arguments,ee=this;return cr.each(p,function(le){U.length>1?ee.setNode(le,M):ee.setNode(le)}),this},Hi.prototype.setNode=function(p,M){return cr.has(this._nodes,p)?(arguments.length>1&&(this._nodes[p]=M),this):(this._nodes[p]=arguments.length>1?M:this._defaultNodeLabelFn(p),this._isCompound&&(this._parent[p]="\0",this._children[p]={},this._children["\0"][p]=!0),this._in[p]={},this._preds[p]={},this._out[p]={},this._sucs[p]={},++this._nodeCount,this)},Hi.prototype.node=function(p){return this._nodes[p]},Hi.prototype.hasNode=function(p){return cr.has(this._nodes,p)},Hi.prototype.removeNode=function(p){var M=this;if(cr.has(this._nodes,p)){var U=function(ee){M.removeEdge(M._edgeObjs[ee])};delete this._nodes[p],this._isCompound&&(this._removeFromParentsChildList(p),delete this._parent[p],cr.each(this.children(p),function(ee){M.setParent(ee)}),delete this._children[p]),cr.each(cr.keys(this._in[p]),U),delete this._in[p],delete this._preds[p],cr.each(cr.keys(this._out[p]),U),delete this._out[p],delete this._sucs[p],--this._nodeCount}return this},Hi.prototype.setParent=function(p,M){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(cr.isUndefined(M))M="\0";else{for(var U=M+="";!cr.isUndefined(U);U=this.parent(U))if(U===p)throw new Error("Setting "+M+" as parent of "+p+" would create a cycle");this.setNode(M)}return this.setNode(p),this._removeFromParentsChildList(p),this._parent[p]=M,this._children[M][p]=!0,this},Hi.prototype._removeFromParentsChildList=function(p){delete this._children[this._parent[p]][p]},Hi.prototype.parent=function(p){if(this._isCompound){var M=this._parent[p];if("\0"!==M)return M}},Hi.prototype.children=function(p){if(cr.isUndefined(p)&&(p="\0"),this._isCompound){var M=this._children[p];if(M)return cr.keys(M)}else{if("\0"===p)return this.nodes();if(this.hasNode(p))return[]}},Hi.prototype.predecessors=function(p){var M=this._preds[p];if(M)return cr.keys(M)},Hi.prototype.successors=function(p){var M=this._sucs[p];if(M)return cr.keys(M)},Hi.prototype.neighbors=function(p){var M=this.predecessors(p);if(M)return cr.union(M,this.successors(p))},Hi.prototype.isLeaf=function(p){return 0===(this.isDirected()?this.successors(p):this.neighbors(p)).length},Hi.prototype.filterNodes=function(p){var M=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});M.setGraph(this.graph());var U=this;cr.each(this._nodes,function(he,me){p(me)&&M.setNode(me,he)}),cr.each(this._edgeObjs,function(he){M.hasNode(he.v)&&M.hasNode(he.w)&&M.setEdge(he,U.edge(he))});var ee={};function le(he){var me=U.parent(he);return void 0===me||M.hasNode(me)?(ee[he]=me,me):me in ee?ee[me]:le(me)}return this._isCompound&&cr.each(M.nodes(),function(he){M.setParent(he,le(he))}),M},Hi.prototype.setDefaultEdgeLabel=function(p){return cr.isFunction(p)||(p=cr.constant(p)),this._defaultEdgeLabelFn=p,this},Hi.prototype.edgeCount=function(){return this._edgeCount},Hi.prototype.edges=function(){return cr.values(this._edgeObjs)},Hi.prototype.setPath=function(p,M){var U=this,ee=arguments;return cr.reduce(p,function(le,he){return ee.length>1?U.setEdge(le,he,M):U.setEdge(le,he),he}),this},Hi.prototype.setEdge=function(){var p,M,U,ee,le=!1,he=arguments[0];"object"==typeof he&&null!==he&&"v"in he?(p=he.v,M=he.w,U=he.name,2===arguments.length&&(ee=arguments[1],le=!0)):(p=he,M=arguments[1],U=arguments[3],arguments.length>2&&(ee=arguments[2],le=!0)),p=""+p,M=""+M,cr.isUndefined(U)||(U=""+U);var me=Kl(this._isDirected,p,M,U);if(cr.has(this._edgeLabels,me))return le&&(this._edgeLabels[me]=ee),this;if(!cr.isUndefined(U)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(p),this.setNode(M),this._edgeLabels[me]=le?ee:this._defaultEdgeLabelFn(p,M,U);var be=function Ms(p,M,U,ee){var le=""+M,he=""+U;if(!p&&le>he){var me=le;le=he,he=me}var be={v:le,w:he};return ee&&(be.name=ee),be}(this._isDirected,p,M,U);return p=be.v,M=be.w,Object.freeze(be),this._edgeObjs[me]=be,Io(this._preds[M],p),Io(this._sucs[p],M),this._in[M][me]=be,this._out[p][me]=be,this._edgeCount++,this},Hi.prototype.edge=function(p,M,U){var ee=1===arguments.length?zf(this._isDirected,arguments[0]):Kl(this._isDirected,p,M,U);return this._edgeLabels[ee]},Hi.prototype.hasEdge=function(p,M,U){var ee=1===arguments.length?zf(this._isDirected,arguments[0]):Kl(this._isDirected,p,M,U);return cr.has(this._edgeLabels,ee)},Hi.prototype.removeEdge=function(p,M,U){var ee=1===arguments.length?zf(this._isDirected,arguments[0]):Kl(this._isDirected,p,M,U),le=this._edgeObjs[ee];return le&&(p=le.v,M=le.w,delete this._edgeLabels[ee],delete this._edgeObjs[ee],Bh(this._preds[M],p),Bh(this._sucs[p],M),delete this._in[M][ee],delete this._out[p][ee],this._edgeCount--),this},Hi.prototype.inEdges=function(p,M){var U=this._in[p];if(U){var ee=cr.values(U);return M?cr.filter(ee,function(le){return le.v===M}):ee}},Hi.prototype.outEdges=function(p,M){var U=this._out[p];if(U){var ee=cr.values(U);return M?cr.filter(ee,function(le){return le.w===M}):ee}},Hi.prototype.nodeEdges=function(p,M){var U=this.inEdges(p,M);if(U)return U.concat(this.outEdges(p,M))};var Vf={Graph:hu,version:"2.1.8"},pu={write:function(p){var M={options:{directed:p.isDirected(),multigraph:p.isMultigraph(),compound:p.isCompound()},nodes:Cs(p),edges:ml(p)};return cr.isUndefined(p.graph())||(M.value=cr.clone(p.graph())),M},read:function(p){var M=new hu(p.options).setGraph(p.value);return cr.each(p.nodes,function(U){M.setNode(U.v,U.value),U.parent&&M.setParent(U.v,U.parent)}),cr.each(p.edges,function(U){M.setEdge({v:U.v,w:U.w,name:U.name},U.value)}),M}};function Cs(p){return cr.map(p.nodes(),function(M){var U=p.node(M),ee=p.parent(M),le={v:M};return cr.isUndefined(U)||(le.value=U),cr.isUndefined(ee)||(le.parent=ee),le})}function ml(p){return cr.map(p.edges(),function(M){var U=p.edge(M),ee={v:M.v,w:M.w};return cr.isUndefined(M.name)||(ee.name=M.name),cr.isUndefined(U)||(ee.value=U),ee})}var av=La;function La(){this._arr=[],this._keyIndices={}}La.prototype.size=function(){return this._arr.length},La.prototype.keys=function(){return this._arr.map(function(p){return p.key})},La.prototype.has=function(p){return cr.has(this._keyIndices,p)},La.prototype.priority=function(p){var M=this._keyIndices[p];if(void 0!==M)return this._arr[M].priority},La.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},La.prototype.add=function(p,M){var U=this._keyIndices;if(p=String(p),!cr.has(U,p)){var ee=this._arr,le=ee.length;return U[p]=le,ee.push({key:p,priority:M}),this._decrease(le),!0}return!1},La.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var p=this._arr.pop();return delete this._keyIndices[p.key],this._heapify(0),p.key},La.prototype.decrease=function(p,M){var U=this._keyIndices[p];if(M>this._arr[U].priority)throw new Error("New priority is greater than current priority. Key: "+p+" Old: "+this._arr[U].priority+" New: "+M);this._arr[U].priority=M,this._decrease(U)},La.prototype._heapify=function(p){var M=this._arr,U=2*p,ee=U+1,le=p;U<M.length&&(le=M[U].priority<M[le].priority?U:le,ee<M.length&&(le=M[ee].priority<M[le].priority?ee:le),le!==p&&(this._swap(p,le),this._heapify(le)))},La.prototype._decrease=function(p){for(var M,U=this._arr,ee=U[p].priority;0!==p&&!(U[M=p>>1].priority<ee);)this._swap(p,M),p=M},La.prototype._swap=function(p,M){var U=this._arr,ee=this._keyIndices,le=U[p],he=U[M];U[p]=he,U[M]=le,ee[he.key]=p,ee[le.key]=M};var Gd=function(p,M,U,ee){return function(le,he,me,be){var Te,Ge,at={},Ze=new av,Mt=function(jt){var xn=jt.v!==Te?jt.v:jt.w,Zt=at[xn],Gt=me(jt),Jt=Ge.distance+Gt;if(Gt<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+jt+" Weight: "+Gt);Jt<Zt.distance&&(Zt.distance=Jt,Zt.predecessor=Te,Ze.decrease(xn,Jt))};for(le.nodes().forEach(function(jt){var xn=jt===he?0:Number.POSITIVE_INFINITY;at[jt]={distance:xn},Ze.add(jt,xn)});Ze.size()>0&&(Te=Ze.removeMin(),(Ge=at[Te]).distance!==Number.POSITIVE_INFINITY);)be(Te).forEach(Mt);return at}(p,String(M),U||ql,ee||function(le){return p.outEdges(le)})},ql=cr.constant(1),jf=function(p){var M=0,U=[],ee={},le=[];function he(me){var be=ee[me]={onStack:!0,lowlink:M,index:M++};if(U.push(me),p.successors(me).forEach(function(at){cr.has(ee,at)?ee[at].onStack&&(be.lowlink=Math.min(be.lowlink,ee[at].index)):(he(at),be.lowlink=Math.min(be.lowlink,ee[at].lowlink))}),be.lowlink===be.index){var Te,Ge=[];do{Te=U.pop(),ee[Te].onStack=!1,Ge.push(Te)}while(me!==Te);le.push(Ge)}}return p.nodes().forEach(function(me){cr.has(ee,me)||he(me)}),le},sv=cr.constant(1),Uf=zh;function zh(p){var M={},U={},ee=[];if(cr.each(p.sinks(),function le(he){if(cr.has(U,he))throw new Gf;cr.has(M,he)||(U[he]=!0,M[he]=!0,cr.each(p.predecessors(he),le),delete U[he],ee.push(he))}),cr.size(M)!==p.nodeCount())throw new Gf;return ee}function Gf(){}zh.CycleException=Gf,Gf.prototype=new Error;var lv=function(p,M,U){cr.isArray(M)||(M=[M]);var ee=(p.isDirected()?p.successors:p.neighbors).bind(p),le=[],he={};return cr.each(M,function(me){if(!p.hasNode(me))throw new Error("Graph does not have node: "+me);tr(p,me,"post"===U,he,ee,le)}),le};function tr(p,M,U,ee,le,he){cr.has(ee,M)||(ee[M]=!0,U||he.push(M),cr.each(le(M),function(me){tr(p,me,U,ee,le,he)}),U&&he.push(M))}var na,Lo={Graph:Vf.Graph,json:pu,alg:{components:function(p){var M,U={},ee=[];function le(he){cr.has(U,he)||(U[he]=!0,M.push(he),cr.each(p.successors(he),le),cr.each(p.predecessors(he),le))}return cr.each(p.nodes(),function(he){M=[],le(he),M.length&&ee.push(M)}),ee},dijkstra:Gd,dijkstraAll:function(p,M,U){return cr.transform(p.nodes(),function(ee,le){ee[le]=Gd(p,le,M,U)},{})},findCycles:function(p){return cr.filter(jf(p),function(M){return M.length>1||1===M.length&&p.hasEdge(M[0],M[0])})},floydWarshall:function(p,M,U){return le=M||sv,he=U||function(ee){return p.outEdges(ee)},me={},(be=p.nodes()).forEach(function(Te){me[Te]={},me[Te][Te]={distance:0},be.forEach(function(Ge){Te!==Ge&&(me[Te][Ge]={distance:Number.POSITIVE_INFINITY})}),he(Te).forEach(function(Ge){var at=Ge.v===Te?Ge.w:Ge.v,Ze=le(Ge);me[Te][at]={distance:Ze,predecessor:Te}})}),be.forEach(function(Te){var Ge=me[Te];be.forEach(function(at){var Ze=me[at];be.forEach(function(Mt){var xn=Ge[Mt],Zt=Ze[Mt],Gt=Ze[Te].distance+xn.distance;Gt<Zt.distance&&(Zt.distance=Gt,Zt.predecessor=xn.predecessor)})})}),me;var le,he,me,be},isAcyclic:function(p){try{Uf(p)}catch(M){if(M instanceof Uf.CycleException)return!1;throw M}return!0},postorder:function(p,M){return lv(p,M,"post")},preorder:function(p,M){return lv(p,M,"pre")},prim:function(p,M){var U,ee=new hu,le={},he=new av;function me(Te){var Ge=Te.v===U?Te.w:Te.v,at=he.priority(Ge);if(void 0!==at){var Ze=M(Te);Ze<at&&(le[Ge]=U,he.decrease(Ge,Ze))}}if(0===p.nodeCount())return ee;cr.each(p.nodes(),function(Te){he.add(Te,Number.POSITIVE_INFINITY),ee.setNode(Te)}),he.decrease(p.nodes()[0],0);for(var be=!1;he.size()>0;){if(U=he.removeMin(),cr.has(le,U))ee.setEdge(U,le[U]);else{if(be)throw new Error("Input graph is not connected: "+p);be=!0}p.nodeEdges(U).forEach(me)}return ee},tarjan:jf,topsort:Uf},version:Vf.version};try{na=Lo}catch{}na||(na=window.graphlib);var Yf,ka=na,vu=function(p,M,U){if(!Ue(U))return!1;var ee=typeof M;return!!("number"==ee?pr(U)&&nn(M,U.length):"string"==ee&&M in U)&&w(U[M],p)},Wu=Object.prototype,Ol=Wu.hasOwnProperty,Hd=Ss(function(p,M){p=Object(p);var U=-1,ee=M.length,le=ee>2?M[2]:void 0;for(le&&vu(M[0],M[1],le)&&(ee=1);++U<ee;)for(var he=M[U],me=At(he),be=-1,Te=me.length;++be<Te;){var Ge=me[be],at=p[Ge];(void 0===at||w(at,Wu[Ge])&&!Ol.call(p,Ge))&&(p[Ge]=he[Ge])}return p}),Hg=/^\s+|\s+$/g,ay=/^[-+]0x[0-9a-f]+$/i,cv=/^0b[01]+$/i,ps=/^0o[0-7]+$/i,Zl=parseInt,Ql=function(p){return p?(p=function(p){if("number"==typeof p)return p;if(Vs(p))return NaN;if(Ue(p)){var M="function"==typeof p.valueOf?p.valueOf():p;p=Ue(M)?M+"":M}if("string"!=typeof p)return 0===p?p:+p;p=p.replace(Hg,"");var U=cv.test(p);return U||ps.test(p)?Zl(p.slice(2),U?2:8):ay.test(p)?NaN:+p}(p))===1/0||p===-1/0?17976931348623157e292*(p<0?-1:1):p==p?p:0:0===p?p:0},Wg=Math.max,uv=function(M,U,ee){var le=Object(M);if(!pr(M)){var he=Ko(U);M=Ct(M),U=function(be){return he(le[be],be,le)}}var me=function(p,M,U){var ee=null==p?0:p.length;if(!ee)return-1;var le=null==U?0:function(p){var M=Ql(p),U=M%1;return M==M?U?M-U:M:0}(U);return le<0&&(le=Wg(ee+le,0)),jd(p,Ko(M),le)}(M,U,ee);return me>-1?le[he?M[me]:me]:void 0},dv=function(p){return null!=p&&p.length?ao(p,1):[]},Wd=function(p,M,U){for(var ee=-1,le=p.length;++ee<le;){var he=p[ee],me=M(he);if(null!=me&&(void 0===be?me==me&&!Vs(me):U(me,be)))var be=me,Te=he}return Te},Yd=function(p,M){return p>M},$d=function(p,M,U){(void 0!==U&&!w(p[M],U)||void 0===U&&!(M in p))&&G(p,M,U)},Hh=Function.prototype.toString,hv=Object.prototype.hasOwnProperty,pv=Hh.call(Object),Wh=function(p,M){if(("constructor"!==M||"function"!=typeof p[M])&&"__proto__"!=M)return p[M]},el=function p(M,U,ee,le,he){M!==U&&pl(U,function(me,be){if(he||(he=new ti),Ue(me))!function(p,M,U,ee,le,he,me){var be=Wh(p,U),Te=Wh(M,U),Ge=me.get(Te);if(Ge)$d(p,U,Ge);else{var at=he?he(be,Te,U+"",p,M,me):void 0,Ze=void 0===at;if(Ze){var Mt=Xe(Te),jt=!Mt&&Qe(Te),xn=!Mt&&!jt&&Yn(Te);at=Te,Mt||jt||xn?Xe(be)?at=be:Bf(be)?at=Fn(be):jt?(Ze=!1,at=En(Te,!0)):xn?(Ze=!1,at=Uu(Te,!0)):at=[]:function(p){if(!He(p)||"[object Object]"!=Ie(p))return!1;var M=no(p);if(null===M)return!0;var U=hv.call(M,"constructor")&&M.constructor;return"function"==typeof U&&U instanceof U&&Hh.call(U)==pv}(Te)||N(Te)?(at=be,N(be)?at=function(p){return W(p,At(p))}(be):Ue(be)&&!st(be)||(at=fa(Te))):Ze=!1}Ze&&(me.set(Te,at),le(at,Te,ee,he,me),me.delete(Te)),$d(p,U,at)}}(M,U,be,ee,p,le,he);else{var Te=le?le(Wh(M,be),me,be+"",M,U,he):void 0;void 0===Te&&(Te=me),$d(M,be,Te)}},At)},Na=function(p){return Ss(function(M,U){var ee=-1,le=U.length,he=le>1?U[le-1]:void 0,me=le>2?U[2]:void 0;for(he=p.length>3&&"function"==typeof he?(le--,he):void 0,me&&vu(U[0],U[1],me)&&(he=le<3?void 0:he,le=1),M=Object(M);++ee<le;){var be=U[ee];be&&p(M,be,ee)}return M})}(function(p,M,U){el(p,M,U)}),Wf=function(p,M){return p<M},$h=function(p,M,U,ee){if(!Ue(p))return p;for(var le=-1,he=(M=Oa(M,p)).length,me=he-1,be=p;null!=be&&++le<he;){var Te=Do(M[le]),Ge=U;if("__proto__"===Te||"constructor"===Te||"prototype"===Te)return p;if(le!=me){var at=be[Te];void 0===(Ge=ee?ee(at,Te,be):void 0)&&(Ge=Ue(at)?at:nn(M[le+1])?[]:{})}C(be,Te,Ge),be=be[Te]}return p},Zu=function(p){return Il(ea(p,void 0,dv),p+"")}(function(p,M){return null==p?{}:function(p,M){return function(p,M,U){for(var ee=-1,le=M.length,he={};++ee<le;){var me=M[ee],be=js(p,me);U(0,me)&&$h(he,Oa(me,p),be)}return he}(p,M,function(U,ee){return Ic(p,ee)})}(p,M)}),Qu=Math.ceil,Ju=Math.max,ed=function(p,M){if(p!==M){var U=void 0!==p,ee=null===p,le=p==p,he=Vs(p),me=void 0!==M,be=null===M,Te=M==M,Ge=Vs(M);if(!be&&!Ge&&!he&&p>M||he&&me&&Te&&!be&&!Ge||ee&&me&&Te||!U&&Te||!le)return 1;if(!ee&&!he&&!Ge&&p<M||Ge&&U&&le&&!ee&&!he||be&&U&&le||!me&&le||!Te)return-1}return 0},Xd=Ss(function(p,M){if(null==p)return[];var U=M.length;return U>1&&vu(p,M[0],M[1])?M=[]:U>2&&vu(M[0],M[1],M[2])&&(M=[M[0]]),function(p,M,U){M=M.length?Ta(M,function(he){return Xe(he)?function(me){return js(me,1===he.length?he[0]:he)}:he}):[wn];var ee=-1;return M=Ta(M,Dn(Ko)),function(p,M){var U=p.length;for(p.sort(M);U--;)p[U]=p[U].value;return p}(pe(p,function(he,me,be){return{criteria:Ta(M,function(Te){return Te(he)}),index:++ee,value:he}}),function(he,me){return function(p,M,U){for(var ee=-1,le=p.criteria,he=M.criteria,me=le.length,be=U.length;++ee<me;){var Te=ed(le[ee],he[ee]);if(Te)return ee>=be?Te:Te*("desc"==U[ee]?-1:1)}return p.index-M.index}(he,me,U)})}(p,ao(M,1),[])}),$g=0;try{Yf={cloneDeep:function(p){return Hu(p,5)},constant:ws,defaults:Hd,each:Yo,filter:$l,find:uv,flatten:dv,forEach:ui,forIn:function(p,M){return null==p?p:pl(p,Es(M),At)},has:gl,isUndefined:I,last:function(p){var M=null==p?0:p.length;return M?p[M-1]:void 0},map:we,mapValues:function(p,M){var U={};return M=Ko(M),Ks(p,function(ee,le,he){G(U,le,M(ee,le,he))}),U},max:function(p){return p&&p.length?Wd(p,wn,Yd):void 0},merge:Na,min:function(p){return p&&p.length?Wd(p,wn,Wf):void 0},minBy:function(p,M){return p&&p.length?Wd(p,Ko(M),Wf):void 0},now:function(){return ge.Date.now()},pick:Zu,range:function(M,U,ee){return ee&&"number"!=typeof ee&&vu(M,U,ee)&&(U=ee=void 0),M=Ql(M),void 0===U?(U=M,M=0):U=Ql(U),function(p,M,U,ee){for(var le=-1,he=Ju(Qu((M-p)/(U||1)),0),me=Array(he);he--;)me[++le]=p,p+=U;return me}(M,U,ee=void 0===ee?M<U?1:-1:Ql(ee))},reduce:qe,sortBy:Xd,uniqueId:function(p){var M=++$g;return xi(p)+M},values:iv,zipObject:function(p,M){return function(p,M,U){for(var ee=-1,le=p.length,he=M.length,me={};++ee<le;)U(me,p[ee],ee<he?M[ee]:void 0);return me}(p||[],M||[],C)}}}catch{}Yf||(Yf=window._);var Rt=Yf,qh=yu;function yu(){var p={};p._next=p._prev=p,this._sentinel=p}function Oc(p){p._prev._next=p._next,p._next._prev=p._prev,delete p._next,delete p._prev}function Zh(p,M){if("_next"!==p&&"_prev"!==p)return M}yu.prototype.dequeue=function(){var p=this._sentinel,M=p._prev;if(M!==p)return Oc(M),M},yu.prototype.enqueue=function(p){var M=this._sentinel;p._prev&&p._next&&Oc(p),p._next=M._next,M._next._prev=p,M._next=p,p._prev=M},yu.prototype.toString=function(){for(var p=[],M=this._sentinel,U=M._prev;U!==M;)p.push(JSON.stringify(U,Zh)),U=U._prev;return"["+p.join(", ")+"]"};var $f=ka.Graph,xv=Rt.constant(1);function kc(p,M,U,ee,le){var he=le?[]:void 0;return Rt.forEach(p.inEdges(ee.v),function(me){var be=p.edge(me),Te=p.node(me.v);le&&he.push({v:me.v,w:me.w}),Te.out-=be,td(M,U,Te)}),Rt.forEach(p.outEdges(ee.v),function(me){var be=p.edge(me),Ge=p.node(me.w);Ge.in-=be,td(M,U,Ge)}),p.removeNode(ee.v),he}function td(p,M,U){U.out?U.in?p[U.out-U.in+M].enqueue(U):p[p.length-1].enqueue(U):p[0].enqueue(U)}var Qh=ka.Graph,_o={addDummyNode:_u,simplify:function(p){var M=(new Qh).setGraph(p.graph());return Rt.forEach(p.nodes(),function(U){M.setNode(U,p.node(U))}),Rt.forEach(p.edges(),function(U){var ee=M.edge(U.v,U.w)||{weight:0,minlen:1},le=p.edge(U);M.setEdge(U.v,U.w,{weight:ee.weight+le.weight,minlen:Math.max(ee.minlen,le.minlen)})}),M},asNonCompoundGraph:function(p){var M=new Qh({multigraph:p.isMultigraph()}).setGraph(p.graph());return Rt.forEach(p.nodes(),function(U){p.children(U).length||M.setNode(U,p.node(U))}),Rt.forEach(p.edges(),function(U){M.setEdge(U,p.edge(U))}),M},successorWeights:function(p){var M=Rt.map(p.nodes(),function(U){var ee={};return Rt.forEach(p.outEdges(U),function(le){ee[le.w]=(ee[le.w]||0)+p.edge(le).weight}),ee});return Rt.zipObject(p.nodes(),M)},predecessorWeights:function(p){var M=Rt.map(p.nodes(),function(U){var ee={};return Rt.forEach(p.inEdges(U),function(le){ee[le.v]=(ee[le.v]||0)+p.edge(le).weight}),ee});return Rt.zipObject(p.nodes(),M)},intersectRect:function(p,M){var U,ee,le=p.x,he=p.y,me=M.x-le,be=M.y-he,Te=p.width/2,Ge=p.height/2;if(!me&&!be)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(be)*Te>Math.abs(me)*Ge?(be<0&&(Ge=-Ge),U=Ge*me/be,ee=Ge):(me<0&&(Te=-Te),U=Te,ee=Te*be/me),{x:le+U,y:he+ee}},buildLayerMatrix:function(p){var M=Rt.map(Rt.range(Jh(p)+1),function(){return[]});return Rt.forEach(p.nodes(),function(U){var ee=p.node(U),le=ee.rank;Rt.isUndefined(le)||(M[le][ee.order]=U)}),M},normalizeRanks:function(p){var M=Rt.min(Rt.map(p.nodes(),function(U){return p.node(U).rank}));Rt.forEach(p.nodes(),function(U){var ee=p.node(U);Rt.has(ee,"rank")&&(ee.rank-=M)})},removeEmptyRanks:function(p){var M=Rt.min(Rt.map(p.nodes(),function(he){return p.node(he).rank})),U=[];Rt.forEach(p.nodes(),function(he){var me=p.node(he).rank-M;U[me]||(U[me]=[]),U[me].push(he)});var ee=0,le=p.graph().nodeRankFactor;Rt.forEach(U,function(he,me){Rt.isUndefined(he)&&me%le!=0?--ee:ee&&Rt.forEach(he,function(be){p.node(be).rank+=ee})})},addBorderNode:function(p,M,U,ee){var le={width:0,height:0};return arguments.length>=4&&(le.rank=U,le.order=ee),_u(p,"border",le,M)},maxRank:Jh,partition:function(p,M){var U={lhs:[],rhs:[]};return Rt.forEach(p,function(ee){M(ee)?U.lhs.push(ee):U.rhs.push(ee)}),U},time:function(p,M){var U=Rt.now();try{return M()}finally{console.log(p+" time: "+(Rt.now()-U)+"ms")}},notime:function(p,M){return M()}};function _u(p,M,U,ee){var le;do{le=Rt.uniqueId(ee)}while(p.hasNode(le));return U.dummy=M,p.setNode(le,U),le}function Jh(p){return Rt.max(Rt.map(p.nodes(),function(M){var U=p.node(M).rank;if(!Rt.isUndefined(U))return U}))}var kl=function(p){var M={};Rt.forEach(p.sources(),function U(ee){var le=p.node(ee);if(Rt.has(M,ee))return le.rank;M[ee]=!0;var he=Rt.min(Rt.map(p.outEdges(ee),function(me){return U(me.w)-p.edge(me).minlen}));return he!==Number.POSITIVE_INFINITY&&null!=he||(he=0),le.rank=he})},ec=function(p,M){return p.node(M.w).rank-p.node(M.v).rank-p.edge(M).minlen},tc=ka.Graph,nc=ec,Nc=function(p){var M,U,ee=new tc({directed:!1}),le=p.nodes()[0],he=p.nodeCount();for(ee.setNode(le,{});rc(ee,p)<he;)M=bu(ee,p),U=ee.hasNode(M.v)?nc(p,M):-nc(p,M),Pc(ee,p,U);return ee};function rc(p,M){return Rt.forEach(p.nodes(),function U(ee){Rt.forEach(M.nodeEdges(ee),function(le){var he=le.v,me=ee===he?le.w:he;p.hasNode(me)||nc(M,le)||(p.setNode(me,{}),p.setEdge(ee,me,{}),U(me))})}),p.nodeCount()}function bu(p,M){return Rt.minBy(M.edges(),function(U){if(p.hasNode(U.v)!==p.hasNode(U.w))return nc(M,U)})}function Pc(p,M,U){Rt.forEach(p.nodes(),function(ee){M.node(ee).rank+=U})}var qd=ec,Zd=kl,rd=ka.alg.preorder,ep=ka.alg.postorder,id=_o.simplify,tl=nl;function nl(p){p=id(p),Zd(p);var M,U=Nc(p);for(ic(U),Xf(U,p);M=oo(U);)xu(U,p,M,Kf(U,p,M))}function Xf(p,M){var U=ep(p,p.nodes());U=U.slice(0,U.length-1),Rt.forEach(U,function(ee){var le,he,me,be;he=M,be=(le=p).node(me=ee).parent,le.edge(me,be).cutvalue=tp(le,he,me)})}function tp(p,M,U){var ee=p.node(U).parent,le=!0,he=M.edge(U,ee),me=0;return he||(le=!1,he=M.edge(ee,U)),me=he.weight,Rt.forEach(M.nodeEdges(U),function(be){var at=be.v===U,Ze=at?be.w:be.v;if(Ze!==ee){var Mt=at===le,jt=M.edge(be).weight;if(me+=Mt?jt:-jt,p.hasEdge(U,Ze)){var xn=p.edge(U,Ze).cutvalue;me+=Mt?-xn:xn}}}),me}function ic(p,M){arguments.length<2&&(M=p.nodes()[0]),np(p,{},1,M)}function np(p,M,U,ee,le){var he=U,me=p.node(ee);return M[ee]=!0,Rt.forEach(p.neighbors(ee),function(be){Rt.has(M,be)||(U=np(p,M,U,be,ee))}),me.low=he,me.lim=U++,le?me.parent=le:delete me.parent,U}function oo(p){return Rt.find(p.edges(),function(M){return p.edge(M).cutvalue<0})}function Kf(p,M,U){var ee=U.v,le=U.w;M.hasEdge(ee,le)||(ee=U.w,le=U.v);var he=p.node(ee),me=p.node(le),be=he,Te=!1;he.lim>me.lim&&(be=me,Te=!0);var Ge=Rt.filter(M.edges(),function(at){return Te===rp(0,p.node(at.v),be)&&Te!==rp(0,p.node(at.w),be)});return Rt.minBy(Ge,function(at){return qd(M,at)})}function xu(p,M,U,ee){var me,be,Te,Ge;p.removeEdge(U.v,U.w),p.setEdge(ee.v,ee.w,{}),ic(p),Xf(p,M),be=M,Te=Rt.find((me=p).nodes(),function(at){return!be.node(at).parent}),Ge=(Ge=rd(me,Te)).slice(1),Rt.forEach(Ge,function(at){var Ze=me.node(at).parent,Mt=be.edge(at,Ze),jt=!1;Mt||(Mt=be.edge(Ze,at),jt=!0),be.node(at).rank=be.node(Ze).rank+(jt?Mt.minlen:-Mt.minlen)})}function rp(p,M,U){return U.low<=M.lim&&M.lim<=U.lim}nl.initLowLimValues=ic,nl.initCutValues=Xf,nl.calcCutValue=tp,nl.leaveEdge=oo,nl.enterEdge=Kf,nl.exchangeEdges=xu;var Rc=kl,wu=Rc;var qf_run=function(p){var M=_o.addDummyNode(p,"root",{},"_root"),U=function(me){var be={};function Te(Ge,at){var Ze=me.children(Ge);Ze&&Ze.length&&Rt.forEach(Ze,function(Mt){Te(Mt,at+1)}),be[Ge]=at}return Rt.forEach(me.children(),function(Ge){Te(Ge,1)}),be}(p),ee=Rt.max(Rt.values(U))-1,le=2*ee+1;p.graph().nestingRoot=M,Rt.forEach(p.edges(),function(me){p.edge(me).minlen*=le});var me,he=Rt.reduce((me=p).edges(),function(be,Te){return be+me.edge(Te).weight},0)+1;Rt.forEach(p.children(),function(me){Su(p,M,le,he,ee,U,me)}),p.graph().nodeRankFactor=le};function Su(p,M,U,ee,le,he,me){var be=p.children(me);if(be.length){var Te=_o.addBorderNode(p,"_bt"),Ge=_o.addBorderNode(p,"_bb"),at=p.node(me);p.setParent(Te,me),at.borderTop=Te,p.setParent(Ge,me),at.borderBottom=Ge,Rt.forEach(be,function(Ze){Su(p,M,U,ee,le,he,Ze);var Mt=p.node(Ze),jt=Mt.borderTop?Mt.borderTop:Ze,xn=Mt.borderBottom?Mt.borderBottom:Ze,Zt=Mt.borderTop?ee:2*ee,Gt=jt!==xn?1:le-he[me]+1;p.setEdge(Te,jt,{weight:Zt,minlen:Gt,nestingEdge:!0}),p.setEdge(xn,Ge,{weight:Zt,minlen:Gt,nestingEdge:!0})}),p.parent(me)||p.setEdge(M,Te,{weight:0,minlen:le+he[me]})}else me!==M&&p.setEdge(M,me,{weight:0,minlen:U})}function Ev(p,M,U,ee,le,he){var be=le[M][he-1],Te=_o.addDummyNode(p,"border",{width:0,height:0,rank:he,borderType:M},U);le[M][he]=Te,p.setParent(Te,ee),be&&p.setEdge(be,Te,{weight:1})}function Xg(p){Rt.forEach(p.nodes(),function(M){Kg(p.node(M))}),Rt.forEach(p.edges(),function(M){Kg(p.edge(M))})}function Kg(p){var M=p.width;p.width=p.height,p.height=M}function Sv(p){p.y=-p.y}function Zf(p){var M=p.x;p.x=p.y,p.y=M}var ap=function(p,M){for(var U=0,ee=1;ee<M.length;++ee)U+=op(p,M[ee-1],M[ee]);return U};function op(p,M,U){for(var ee=Rt.zipObject(U,Rt.map(U,function(Ge,at){return at})),le=Rt.flatten(Rt.map(M,function(Ge){return Rt.sortBy(Rt.map(p.outEdges(Ge),function(at){return{pos:ee[at.w],weight:p.edge(at).weight}}),"pos")}),!0),he=1;he<U.length;)he<<=1;var me=2*he-1;he-=1;var be=Rt.map(new Array(me),function(){return 0}),Te=0;return Rt.forEach(le.forEach(function(Ge){var at=Ge.pos+he;be[at]+=Ge.weight;for(var Ze=0;at>0;)at%2&&(Ze+=be[at+1]),be[at=at-1>>1]+=Ge.weight;Te+=Ge.weight*Ze})),Te}function so(p,M,U){for(var ee;M.length&&(ee=Rt.last(M)).i<=U;)M.pop(),p.push(ee.vs),U++;return U}var Qd=function p(M,U,ee,le){var he=M.children(U),me=M.node(U),be=me?me.borderLeft:void 0,Te=me?me.borderRight:void 0,Ge={};be&&(he=Rt.filter(he,function(Zt){return Zt!==be&&Zt!==Te}));var at=function(p,M){return Rt.map(M,function(U){var ee=p.inEdges(U);if(ee.length){var le=Rt.reduce(ee,function(he,me){var be=p.edge(me),Te=p.node(me.v);return{sum:he.sum+be.weight*Te.order,weight:he.weight+be.weight}},{sum:0,weight:0});return{v:U,barycenter:le.sum/le.weight,weight:le.weight}}return{v:U}})}(M,he);Rt.forEach(at,function(Zt){if(M.children(Zt.v).length){var Gt=p(M,Zt.v,ee,le);Ge[Zt.v]=Gt,Rt.has(Gt,"barycenter")&&(Un=Gt,Rt.isUndefined((Jt=Zt).barycenter)?(Jt.barycenter=Un.barycenter,Jt.weight=Un.weight):(Jt.barycenter=(Jt.barycenter*Jt.weight+Un.barycenter*Un.weight)/(Jt.weight+Un.weight),Jt.weight+=Un.weight))}var Jt,Un});var Gt,Ze=function(p,M){var U={};return Rt.forEach(p,function(ee,le){var he=U[ee.v]={indegree:0,in:[],out:[],vs:[ee.v],i:le};Rt.isUndefined(ee.barycenter)||(he.barycenter=ee.barycenter,he.weight=ee.weight)}),Rt.forEach(M.edges(),function(ee){var le=U[ee.v],he=U[ee.w];Rt.isUndefined(le)||Rt.isUndefined(he)||(he.indegree++,le.out.push(U[ee.w]))}),function(ee){var le=[];function he(Te){return function(Ge){var at,Ze,Mt,jt;Ge.merged||(Rt.isUndefined(Ge.barycenter)||Rt.isUndefined(Te.barycenter)||Ge.barycenter>=Te.barycenter)&&(Mt=0,jt=0,(at=Te).weight&&(Mt+=at.barycenter*at.weight,jt+=at.weight),(Ze=Ge).weight&&(Mt+=Ze.barycenter*Ze.weight,jt+=Ze.weight),at.vs=Ze.vs.concat(at.vs),at.barycenter=Mt/jt,at.weight=jt,at.i=Math.min(Ze.i,at.i),Ze.merged=!0)}}function me(Te){return function(Ge){Ge.in.push(Te),0==--Ge.indegree&&ee.push(Ge)}}for(;ee.length;){var be=ee.pop();le.push(be),Rt.forEach(be.in.reverse(),he(be)),Rt.forEach(be.out,me(be))}return Rt.map(Rt.filter(le,function(Te){return!Te.merged}),function(Te){return Rt.pick(Te,["vs","i","barycenter","weight"])})}(Rt.filter(U,function(ee){return!ee.indegree}))}(at,ee);Gt=Ge,Rt.forEach(Ze,function(Jt){Jt.vs=Rt.flatten(Jt.vs.map(function(Un){return Gt[Un]?Gt[Un].vs:Un}),!0)});var Mt=function(p,M){var U=_o.partition(p,function(Ze){return Rt.has(Ze,"barycenter")}),ee=U.lhs,le=Rt.sortBy(U.rhs,function(Ze){return-Ze.i}),he=[],me=0,be=0,Te=0;ee.sort((Ge=!!M,function(Ze,Mt){return Ze.barycenter<Mt.barycenter?-1:Ze.barycenter>Mt.barycenter?1:Ge?Mt.i-Ze.i:Ze.i-Mt.i})),Te=so(he,le,Te),Rt.forEach(ee,function(Ze){Te+=Ze.vs.length,he.push(Ze.vs),me+=Ze.barycenter*Ze.weight,be+=Ze.weight,Te=so(he,le,Te)});var Ge,at={vs:Rt.flatten(he,!0)};return be&&(at.barycenter=me/be,at.weight=be),at}(Ze,le);if(be&&(Mt.vs=Rt.flatten([be,Mt.vs,Te],!0),M.predecessors(be).length)){var jt=M.node(M.predecessors(be)[0]),xn=M.node(M.predecessors(Te)[0]);Rt.has(Mt,"barycenter")||(Mt.barycenter=0,Mt.weight=0),Mt.barycenter=(Mt.barycenter*Mt.weight+jt.order+xn.order)/(Mt.weight+2),Mt.weight+=2}return Mt},Lc=ka.Graph,Qf=function(p,M,U){var ee=function(he){for(var me;he.hasNode(me=Rt.uniqueId("_root")););return me}(p),le=new Lc({compound:!0}).setGraph({root:ee}).setDefaultNodeLabel(function(he){return p.node(he)});return Rt.forEach(p.nodes(),function(he){var me=p.node(he),be=p.parent(he);(me.rank===M||me.minRank<=M&&M<=me.maxRank)&&(le.setNode(he),le.setParent(he,be||ee),Rt.forEach(p[U](he),function(Te){var Ge=Te.v===he?Te.w:Te.v,at=le.edge(Ge,he),Ze=Rt.isUndefined(at)?0:at.weight;le.setEdge(Ge,he,{weight:p.edge(Te).weight+Ze})}),Rt.has(me,"minRank")&&le.setNode(he,{borderLeft:me.borderLeft[M],borderRight:me.borderRight[M]}))}),le},gs=function(p,M,U){var ee,le={};Rt.forEach(U,function(he){for(var me,be,Te=p.parent(he);Te;){if((me=p.parent(Te))?(be=le[me],le[me]=Te):(be=ee,ee=Te),be&&be!==Te)return void M.setEdge(be,Te);Te=me}})},yl=ka.Graph;function ac(p,M,U){return Rt.map(M,function(ee){return Qf(p,ee,U)})}function oc(p,M){var U=new yl;Rt.forEach(p,function(ee){var le=ee.graph().root,he=Qd(ee,le,U,M);Rt.forEach(he.vs,function(me,be){ee.node(me).order=be}),gs(ee,U,he.vs)})}function sd(p,M){Rt.forEach(M,function(U){Rt.forEach(U,function(ee,le){p.node(ee).order=le})})}var qg=ka.Graph;function cd(p,M,U){if(M>U){var ee=M;M=U,U=ee}var le=p[M];le||(p[M]=le={}),le[U]=!0}function ud(p,M,U){if(M>U){var ee=M;M=U,U=ee}return Rt.has(p[M],U)}var Av=_o.normalizeRanks,cp=_o.removeEmptyRanks,Eo=_o,ef=ka.Graph,sc=["nodesep","edgesep","ranksep","marginx","marginy"],Cu={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},up=["acyclicer","ranker","rankdir","align"],tf=["width","height"],dd={width:0,height:0},Bo=["minlen","weight","width","height","labeloffset"],lc={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ho=["labelpos"];function Zo(p,M){return Rt.mapValues(Rt.pick(p,M),Number)}function cc(p){var M={};return Rt.forEach(p,function(U,ee){M[ee.toLowerCase()]=U}),M}var nf=ka.Graph,Iv={graphlib:ka,layout:function(p,M){var U=M&&M.debugTiming?Eo.time:Eo.notime;U("layout",function(){var ee=U("  buildLayoutGraph",function(){return le=p,he=new ef({multigraph:!0,compound:!0}),me=cc(le.graph()),he.setGraph(Rt.merge({},Cu,Zo(me,sc),Rt.pick(me,up))),Rt.forEach(le.nodes(),function(be){var Te=cc(le.node(be));he.setNode(be,Rt.defaults(Zo(Te,tf),dd)),he.setParent(be,le.parent(be))}),Rt.forEach(le.edges(),function(be){var Te=cc(le.edge(be));he.setEdge(be,Rt.merge({},lc,Zo(Te,Bo),Rt.pick(Te,ho)))}),he;var le,he,me});U("  runLayout",function(){var le,he;le=ee,(he=U)("    makeSpaceForEdgeLabels",function(){var me,be;(be=(me=le).graph()).ranksep/=2,Rt.forEach(me.edges(),function(Te){var Ge=me.edge(Te);Ge.minlen*=2,"c"!==Ge.labelpos.toLowerCase()&&("TB"===be.rankdir||"BT"===be.rankdir?Ge.width+=Ge.labeloffset:Ge.height+=Ge.labeloffset)})}),he("    removeSelfEdges",function(){var me;Rt.forEach((me=le).edges(),function(be){if(be.v===be.w){var Te=me.node(be.v);Te.selfEdges||(Te.selfEdges=[]),Te.selfEdges.push({e:be,label:me.edge(be)}),me.removeEdge(be)}})}),he("    acyclic",function(){!function(p){var M="greedy"===p.graph().acyclicer?function(p,M){if(p.nodeCount()<=1)return[];var U=function(le,he){var me=new $f,be=0,Te=0;Rt.forEach(le.nodes(),function(Ze){me.setNode(Ze,{v:Ze,in:0,out:0})}),Rt.forEach(le.edges(),function(Ze){var Mt=me.edge(Ze.v,Ze.w)||0,jt=he(Ze);me.setEdge(Ze.v,Ze.w,Mt+jt),Te=Math.max(Te,me.node(Ze.v).out+=jt),be=Math.max(be,me.node(Ze.w).in+=jt)});var Ge=Rt.range(Te+be+3).map(function(){return new qh}),at=be+1;return Rt.forEach(me.nodes(),function(Ze){td(Ge,at,me.node(Ze))}),{graph:me,buckets:Ge,zeroIdx:at}}(p,M||xv),ee=function(le,he,me){for(var be,Te=[],Ge=he[he.length-1],at=he[0];le.nodeCount();){for(;be=at.dequeue();)kc(le,he,me,be);for(;be=Ge.dequeue();)kc(le,he,me,be);if(le.nodeCount())for(var Ze=he.length-2;Ze>0;--Ze)if(be=he[Ze].dequeue()){Te=Te.concat(kc(le,he,me,be,!0));break}}return Te}(U.graph,U.buckets,U.zeroIdx);return Rt.flatten(Rt.map(ee,function(le){return p.outEdges(le.v,le.w)}),!0)}(p,function(U){return function(ee){return U.edge(ee).weight}}(p)):function(U){var ee=[],le={},he={};return Rt.forEach(U.nodes(),function me(be){Rt.has(he,be)||(he[be]=!0,le[be]=!0,Rt.forEach(U.outEdges(be),function(Te){Rt.has(le,Te.w)?ee.push(Te):me(Te.w)}),delete le[be])}),ee}(p);Rt.forEach(M,function(U){var ee=p.edge(U);p.removeEdge(U),ee.forwardName=U.name,ee.reversed=!0,p.setEdge(U.w,U.v,ee,Rt.uniqueId("rev"))})}(le)}),he("    nestingGraph.run",function(){qf_run(le)}),he("    rank",function(){!function(p){switch(p.graph().ranker){case"network-simplex":default:!function Eu(p){tl(p)}(p);break;case"tight-tree":!function(M){Rc(M),Nc(M)}(p);break;case"longest-path":wu(p)}}(Eo.asNonCompoundGraph(le))}),he("    injectEdgeLabelProxies",function(){var me;Rt.forEach((me=le).edges(),function(be){var Te=me.edge(be);if(Te.width&&Te.height){var Ge=me.node(be.v),at={rank:(me.node(be.w).rank-Ge.rank)/2+Ge.rank,e:be};Eo.addDummyNode(me,"edge-proxy",at,"_ep")}})}),he("    removeEmptyRanks",function(){cp(le)}),he("    nestingGraph.cleanup",function(){!function(p){var M=p.graph();p.removeNode(M.nestingRoot),delete M.nestingRoot,Rt.forEach(p.edges(),function(U){p.edge(U).nestingEdge&&p.removeEdge(U)})}(le)}),he("    normalizeRanks",function(){Av(le)}),he("    assignRankMinMax",function(){var me,be;be=0,Rt.forEach((me=le).nodes(),function(Te){var Ge=me.node(Te);Ge.borderTop&&(Ge.minRank=me.node(Ge.borderTop).rank,Ge.maxRank=me.node(Ge.borderBottom).rank,be=Rt.max(be,Ge.maxRank))}),me.graph().maxRank=be}),he("    removeEdgeLabelProxies",function(){var me;Rt.forEach((me=le).nodes(),function(be){var Te=me.node(be);"edge-proxy"===Te.dummy&&(me.edge(Te.e).labelRank=Te.rank,me.removeNode(be))})}),he("    normalize.run",function(){!function(p){p.graph().dummyChains=[],Rt.forEach(p.edges(),function(M){!function(U,ee){var le,he,me,be=ee.v,Te=U.node(be).rank,Ge=ee.w,at=U.node(Ge).rank,Ze=ee.name,Mt=U.edge(ee),jt=Mt.labelRank;if(at!==Te+1){for(U.removeEdge(ee),me=0,++Te;Te<at;++me,++Te)Mt.points=[],le=_o.addDummyNode(U,"edge",he={width:0,height:0,edgeLabel:Mt,edgeObj:ee,rank:Te},"_d"),Te===jt&&(he.width=Mt.width,he.height=Mt.height,he.dummy="edge-label",he.labelpos=Mt.labelpos),U.setEdge(be,le,{weight:Mt.weight},Ze),0===me&&U.graph().dummyChains.push(le),be=le;U.setEdge(be,Ge,{weight:Mt.weight},Ze)}}(p,M)})}(le)}),he("    parentDummyChains",function(){!function(p){var M=function(U){var ee={},le=0;return Rt.forEach(U.children(),function he(me){var be=le;Rt.forEach(U.children(me),he),ee[me]={low:be,lim:le++}}),ee}(p);Rt.forEach(p.graph().dummyChains,function(U){for(var ee=p.node(U),le=ee.edgeObj,he=function(Ze,Mt,jt,xn){var Zt,Gt,Jt=[],Un=[],lr=Math.min(Mt[jt].low,Mt[xn].low),Bn=Math.max(Mt[jt].lim,Mt[xn].lim);Zt=jt;do{Zt=Ze.parent(Zt),Jt.push(Zt)}while(Zt&&(Mt[Zt].low>lr||Bn>Mt[Zt].lim));for(Gt=Zt,Zt=xn;(Zt=Ze.parent(Zt))!==Gt;)Un.push(Zt);return{path:Jt.concat(Un.reverse()),lca:Gt}}(p,M,le.v,le.w),me=he.path,be=he.lca,Te=0,Ge=me[Te],at=!0;U!==le.w;){if(ee=p.node(U),at){for(;(Ge=me[Te])!==be&&p.node(Ge).maxRank<ee.rank;)Te++;Ge===be&&(at=!1)}if(!at){for(;Te<me.length-1&&p.node(Ge=me[Te+1]).minRank<=ee.rank;)Te++;Ge=me[Te]}p.setParent(U,Ge),U=p.successors(U)[0]}})}(le)}),he("    addBorderSegments",function(){!function(p){Rt.forEach(p.children(),function M(U){var ee=p.children(U),le=p.node(U);if(ee.length&&Rt.forEach(ee,M),Rt.has(le,"minRank")){le.borderLeft=[],le.borderRight=[];for(var he=le.minRank,me=le.maxRank+1;he<me;++he)Ev(p,"borderLeft","_bl",U,le,he),Ev(p,"borderRight","_br",U,le,he)}})}(le)}),he("    order",function(){!function(p){var M=_o.maxRank(p),U=ac(p,Rt.range(1,M+1),"inEdges"),ee=ac(p,Rt.range(M-1,-1,-1),"outEdges"),le=function(p){var M={},U=Rt.filter(p.nodes(),function(be){return!p.children(be).length}),ee=Rt.max(Rt.map(U,function(be){return p.node(be).rank})),le=Rt.map(Rt.range(ee+1),function(){return[]}),me=Rt.sortBy(U,function(be){return p.node(be).rank});return Rt.forEach(me,function he(be){if(!Rt.has(M,be)){M[be]=!0;var Te=p.node(be);le[Te.rank].push(be),Rt.forEach(p.successors(be),he)}}),le}(p);sd(p,le);for(var he,me=Number.POSITIVE_INFINITY,be=0,Te=0;Te<4;++be,++Te){oc(be%2?U:ee,be%4>=2),le=_o.buildLayerMatrix(p);var Ge=ap(p,le);Ge<me&&(Te=0,he=Rt.cloneDeep(le),me=Ge)}sd(p,he)}(le)}),he("    insertSelfEdges",function(){var me,be;be=Eo.buildLayerMatrix(me=le),Rt.forEach(be,function(Te){var Ge=0;Rt.forEach(Te,function(at,Ze){var Mt=me.node(at);Mt.order=Ze+Ge,Rt.forEach(Mt.selfEdges,function(jt){Eo.addDummyNode(me,"selfedge",{width:jt.label.width,height:jt.label.height,rank:Mt.rank,order:Ze+ ++Ge,e:jt.e,label:jt.label},"_se")}),delete Mt.selfEdges})})}),he("    adjustCoordinateSystem",function(){!function(p){var M=p.graph().rankdir.toLowerCase();"lr"!==M&&"rl"!==M||Xg(p)}(le)}),he("    position",function(){!function(p){(function(M){var U=_o.buildLayerMatrix(M),ee=M.graph().ranksep,le=0;Rt.forEach(U,function(he){var me=Rt.max(Rt.map(he,function(be){return M.node(be).height}));Rt.forEach(he,function(be){M.node(be).y=le+me/2}),le+=me+ee})})(p=_o.asNonCompoundGraph(p)),Rt.forEach(function(p){var M,U=_o.buildLayerMatrix(p),ee=Rt.merge(function ld(p,M){var U={};return Rt.reduce(M,function(ee,le){var he=0,me=0,be=ee.length,Te=Rt.last(le);return Rt.forEach(le,function(Ge,at){var Ze=function(jt,xn){if(jt.node(xn).dummy)return Rt.find(jt.predecessors(xn),function(Zt){return jt.node(Zt).dummy})}(p,Ge),Mt=Ze?p.node(Ze).order:be;(Ze||Ge===Te)&&(Rt.forEach(le.slice(me,at+1),function(jt){Rt.forEach(p.predecessors(jt),function(xn){var Zt=p.node(xn),Gt=Zt.order;!(Gt<he||Mt<Gt)||Zt.dummy&&p.node(jt).dummy||cd(U,xn,jt)})}),me=at+1,he=Mt)}),le}),U}(p,U),function Ts(p,M){var U={};function ee(le,he,me,be,Te){var Ge;Rt.forEach(Rt.range(he,me),function(at){p.node(Ge=le[at]).dummy&&Rt.forEach(p.predecessors(Ge),function(Ze){var Mt=p.node(Ze);Mt.dummy&&(Mt.order<be||Mt.order>Te)&&cd(U,Ze,Ge)})})}return Rt.reduce(M,function(le,he){var me,be=-1,Te=0;return Rt.forEach(he,function(Ge,at){if("border"===p.node(Ge).dummy){var Ze=p.predecessors(Ge);Ze.length&&(me=p.node(Ze[0]).order,ee(he,Te,at,be,me),Te=at,be=me)}ee(he,Te,he.length,me,le.length)}),he}),U}(p,U)),le={};Rt.forEach(["u","d"],function(me){M="u"===me?U:Rt.values(U).reverse(),Rt.forEach(["l","r"],function(be){"r"===be&&(M=Rt.map(M,function(Ze){return Rt.values(Ze).reverse()}));var Te=("u"===me?p.predecessors:p.successors).bind(p),Ge=function sy(p,M,U,ee){var le={},he={},me={};return Rt.forEach(M,function(be){Rt.forEach(be,function(Te,Ge){le[Te]=Te,he[Te]=Te,me[Te]=Ge})}),Rt.forEach(M,function(be){var Te=-1;Rt.forEach(be,function(Ge){var at=ee(Ge);if(at.length)for(var Ze=((at=Rt.sortBy(at,function(Zt){return me[Zt]})).length-1)/2,Mt=Math.floor(Ze),jt=Math.ceil(Ze);Mt<=jt;++Mt){var xn=at[Mt];he[Ge]===Ge&&Te<me[xn]&&!ud(U,Ge,xn)&&(he[xn]=Ge,he[Ge]=le[Ge]=le[xn],Te=me[xn])}})}),{root:le,align:he}}(0,M,ee,Te),at=function Mv(p,M,U,ee,le){var he={},me=function(Ge,at,Ze,Mt){var Gt,Jt,Un,jt=new qg,xn=Ge.graph(),Zt=(Gt=xn.nodesep,Jt=xn.edgesep,Un=Mt,function(lr,Bn,Mr){var wr,Br=lr.node(Bn),Jr=lr.node(Mr),Hr=0;if(Hr+=Br.width/2,Rt.has(Br,"labelpos"))switch(Br.labelpos.toLowerCase()){case"l":wr=-Br.width/2;break;case"r":wr=Br.width/2}if(wr&&(Hr+=Un?wr:-wr),wr=0,Hr+=(Br.dummy?Jt:Gt)/2,Hr+=(Jr.dummy?Jt:Gt)/2,Hr+=Jr.width/2,Rt.has(Jr,"labelpos"))switch(Jr.labelpos.toLowerCase()){case"l":wr=Jr.width/2;break;case"r":wr=-Jr.width/2}return wr&&(Hr+=Un?wr:-wr),wr=0,Hr});return Rt.forEach(at,function(Gt){var Jt;Rt.forEach(Gt,function(Un){var lr=Ze[Un];if(jt.setNode(lr),Jt){var Bn=Ze[Jt],Mr=jt.edge(Bn,lr);jt.setEdge(Bn,lr,Math.max(Zt(Ge,Un,Jt),Mr||0))}Jt=Un})}),jt}(p,M,U,le),be=le?"borderLeft":"borderRight";function Te(Ge,at){for(var Ze=me.nodes(),Mt=Ze.pop(),jt={};Mt;)jt[Mt]?Ge(Mt):(jt[Mt]=!0,Ze.push(Mt),Ze=Ze.concat(at(Mt))),Mt=Ze.pop()}return Te(function(Ge){he[Ge]=me.inEdges(Ge).reduce(function(at,Ze){return Math.max(at,he[Ze.v]+me.edge(Ze))},0)},me.predecessors.bind(me)),Te(function(Ge){var at=me.outEdges(Ge).reduce(function(Mt,jt){return Math.min(Mt,he[jt.w]-me.edge(jt))},Number.POSITIVE_INFINITY),Ze=p.node(Ge);at!==Number.POSITIVE_INFINITY&&Ze.borderType!==be&&(he[Ge]=Math.max(he[Ge],at))},me.successors.bind(me)),Rt.forEach(ee,function(Ge){he[Ge]=he[U[Ge]]}),he}(p,M,Ge.root,Ge.align,"r"===be);"r"===be&&(at=Rt.mapValues(at,function(Ze){return-Ze})),le[me+be]=at})});var he=function Fc(p,M){return Rt.minBy(Rt.values(M),function(U){var ee=Number.NEGATIVE_INFINITY,le=Number.POSITIVE_INFINITY;return Rt.forIn(U,function(he,me){var be=p.node(me).width/2;ee=Math.max(he+be,ee),le=Math.min(he-be,le)}),ee-le})}(p,le);return function Cv(p,M){var U=Rt.values(M),ee=Rt.min(U),le=Rt.max(U);Rt.forEach(["u","d"],function(he){Rt.forEach(["l","r"],function(me){var be,Te=he+me,Ge=p[Te];if(Ge!==M){var at=Rt.values(Ge);(be="l"===me?ee-Rt.min(at):le-Rt.max(at))&&(p[Te]=Rt.mapValues(Ge,function(Ze){return Ze+be}))}})})}(le,he),function Dv(p,M){return Rt.mapValues(p.ul,function(U,ee){if(M)return p[M.toLowerCase()][ee];var le=Rt.sortBy(Rt.map(p,ee));return(le[1]+le[2])/2})}(le,p.graph().align)}(p),function(M,U){p.node(U).x=M})}(le)}),he("    positionSelfEdges",function(){var me;Rt.forEach((me=le).nodes(),function(be){var Te=me.node(be);if("selfedge"===Te.dummy){var Ge=me.node(Te.e.v),at=Ge.x+Ge.width/2,Ze=Ge.y,Mt=Te.x-at,jt=Ge.height/2;me.setEdge(Te.e,Te.label),me.removeNode(be),Te.label.points=[{x:at+2*Mt/3,y:Ze-jt},{x:at+5*Mt/6,y:Ze-jt},{x:at+Mt,y:Ze},{x:at+5*Mt/6,y:Ze+jt},{x:at+2*Mt/3,y:Ze+jt}],Te.label.x=Te.x,Te.label.y=Te.y}})}),he("    removeBorderNodes",function(){var me;Rt.forEach((me=le).nodes(),function(be){if(me.children(be).length){var Te=me.node(be),Ge=me.node(Te.borderTop),at=me.node(Te.borderBottom),Ze=me.node(Rt.last(Te.borderLeft)),Mt=me.node(Rt.last(Te.borderRight));Te.width=Math.abs(Mt.x-Ze.x),Te.height=Math.abs(at.y-Ge.y),Te.x=Ze.x+Te.width/2,Te.y=Ge.y+Te.height/2}}),Rt.forEach(me.nodes(),function(be){"border"===me.node(be).dummy&&me.removeNode(be)})}),he("    normalize.undo",function(){!function(p){Rt.forEach(p.graph().dummyChains,function(M){var U,ee=p.node(M),le=ee.edgeLabel;for(p.setEdge(ee.edgeObj,le);ee.dummy;)U=p.successors(M)[0],p.removeNode(M),le.points.push({x:ee.x,y:ee.y}),"edge-label"===ee.dummy&&(le.x=ee.x,le.y=ee.y,le.width=ee.width,le.height=ee.height),ee=p.node(M=U)})}(le)}),he("    fixupEdgeLabelCoords",function(){var me;Rt.forEach((me=le).edges(),function(be){var Te=me.edge(be);if(Rt.has(Te,"x"))switch("l"!==Te.labelpos&&"r"!==Te.labelpos||(Te.width-=Te.labeloffset),Te.labelpos){case"l":Te.x-=Te.width/2+Te.labeloffset;break;case"r":Te.x+=Te.width/2+Te.labeloffset}})}),he("    undoCoordinateSystem",function(){!function(p){var M=p.graph().rankdir.toLowerCase();"bt"!==M&&"rl"!==M||function(U){Rt.forEach(U.nodes(),function(ee){Sv(U.node(ee))}),Rt.forEach(U.edges(),function(ee){var le=U.edge(ee);Rt.forEach(le.points,Sv),Rt.has(le,"y")&&Sv(le)})}(p),"lr"!==M&&"rl"!==M||(function(U){Rt.forEach(U.nodes(),function(ee){Zf(U.node(ee))}),Rt.forEach(U.edges(),function(ee){var le=U.edge(ee);Rt.forEach(le.points,Zf),Rt.has(le,"x")&&Zf(le)})}(p),Xg(p))}(le)}),he("    translateGraph",function(){!function(me){var be=Number.POSITIVE_INFINITY,Te=0,Ge=Number.POSITIVE_INFINITY,at=0,Ze=me.graph(),Mt=Ze.marginx||0,jt=Ze.marginy||0;function xn(Zt){var Gt=Zt.x,Jt=Zt.y,Un=Zt.width,lr=Zt.height;be=Math.min(be,Gt-Un/2),Te=Math.max(Te,Gt+Un/2),Ge=Math.min(Ge,Jt-lr/2),at=Math.max(at,Jt+lr/2)}Rt.forEach(me.nodes(),function(Zt){xn(me.node(Zt))}),Rt.forEach(me.edges(),function(Zt){var Gt=me.edge(Zt);Rt.has(Gt,"x")&&xn(Gt)}),be-=Mt,Ge-=jt,Rt.forEach(me.nodes(),function(Zt){var Gt=me.node(Zt);Gt.x-=be,Gt.y-=Ge}),Rt.forEach(me.edges(),function(Zt){var Gt=me.edge(Zt);Rt.forEach(Gt.points,function(Jt){Jt.x-=be,Jt.y-=Ge}),Rt.has(Gt,"x")&&(Gt.x-=be),Rt.has(Gt,"y")&&(Gt.y-=Ge)}),Ze.width=Te-be+Mt,Ze.height=at-Ge+jt}(le)}),he("    assignNodeIntersects",function(){var me;Rt.forEach((me=le).edges(),function(be){var Te,Ge,at=me.edge(be),Ze=me.node(be.v),Mt=me.node(be.w);at.points?(Te=at.points[0],Ge=at.points[at.points.length-1]):(at.points=[],Te=Mt,Ge=Ze),at.points.unshift(Eo.intersectRect(Ze,Te)),at.points.push(Eo.intersectRect(Mt,Ge))})}),he("    reversePoints",function(){var me;Rt.forEach((me=le).edges(),function(be){var Te=me.edge(be);Te.reversed&&Te.points.reverse()})}),he("    acyclic.undo",function(){!function(p){Rt.forEach(p.edges(),function(M){var U=p.edge(M);if(U.reversed){p.removeEdge(M);var ee=U.forwardName;delete U.reversed,delete U.forwardName,p.setEdge(M.w,M.v,U,ee)}})}(le)})}),U("  updateInputGraph",function(){var le,he;he=ee,Rt.forEach((le=p).nodes(),function(me){var be=le.node(me),Te=he.node(me);be&&(be.x=Te.x,be.y=Te.y,he.children(me).length&&(be.width=Te.width,be.height=Te.height))}),Rt.forEach(le.edges(),function(me){var be=le.edge(me),Te=he.edge(me);be.points=Te.points,Rt.has(Te,"x")&&(be.x=Te.x,be.y=Te.y)}),le.graph().width=he.graph().width,le.graph().height=he.graph().height})})},debug:{debugOrdering:function(p){var M=_o.buildLayerMatrix(p),U=new nf({compound:!0,multigraph:!0}).setGraph({});return Rt.forEach(p.nodes(),function(ee){U.setNode(ee,{label:ee}),U.setParent(ee,"layer"+p.node(ee).rank)}),Rt.forEach(p.edges(),function(ee){U.setEdge(ee.v,ee.w,{},ee.name)}),Rt.forEach(M,function(ee,le){U.setNode("layer"+le,{rank:"same"}),Rt.reduce(ee,function(me,be){return U.setEdge(me,be,{style:"invis"}),be})}),U}},util:{time:_o.time,notime:_o.notime},version:"0.8.5"},ly=Iv.graphlib,Ov=Iv.layout;class kv{constructor(M){this.cardinality=1,this.include=b.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=T.NODE,this.name=M.name,this.attr=M.attr||{},this.inputs=M.inputs,this.path=M.path||[],this.width=M.width,this.height=M.height}}class cy{constructor(){this.nodes={},this.edges=[],this.nodes={},this.edges=[]}}class Jg{constructor(M,U={}){this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=b.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=T.META,this.path=[],this.name=M,this.metaGraph=eh(M,x.META,U)}getFirstChild(){return this.metaGraph.node(this.metaGraph.nodes()[0])}getChildren(){return this.metaGraph.nodes().map(M=>this.metaGraph.node(M))}leaves(){let M,U=[],ee=[this];for(;ee.length;){let le=ee.shift();le.isGroupNode?(M=le.metaGraph,M.nodes().forEach(he=>ee.push(M.node(he)))):U.push(le.name)}return U}}class em{constructor(M,U){this.v=M,this.w=U,this.baseEdgeList=[],this.inbound=null,this.name=null}addBaseEdge(M,U){this.baseEdgeList.push(M)}}function rf(p,M={}){return new Jg(p,M)}function Jf(p,M){return new em(p,M)}function eh(p,M,U){const ee=U||{},le=new ly.Graph(ee);return le.setGraph({name:p,rankdir:ee.rankdir,type:M,align:ee.align}),le}class dp{constructor(M={}){this.graphOptions=M,this.index={},this.graphOptions.compound=!0,this.root=rf(O,this.graphOptions),this.index[O]=this.root}getNodeMap(){return this.index}node(M){return this.index[M]}setNode(M,U){this.index[M]=U}getBridgeGraph(M){const U=this.index[M];if(!U)throw Error("Could not find node in hierarchy: "+M);if(!("metaGraph"in U))return null;const ee=U;if(ee.bridgeGraph)return ee.bridgeGraph;const le=eh(P,x.BRIDGE,this.graphOptions);if(ee.bridgeGraph=le,!U.parentNode||!("metaGraph"in U.parentNode))return le;const he=U.parentNode;return[he.metaGraph,this.getBridgeGraph(he.name)].forEach(me=>{me.edges().filter(be=>be.v===M||be.w===M).forEach(be=>{const Te=be.w===M;me.edge(be).baseEdgeList.forEach(Ge=>{const[at,Ze]=Te?[Ge.w,be.v]:[Ge.v,be.w],Mt=this.getChildName(M,at),jt={v:Te?Ze:Mt,w:Te?Mt:Ze};let xn=le.edge(jt);xn||(xn=Jf(jt.v,jt.w),xn.inbound=Te,le.setEdge(jt.v,jt.w,xn)),xn.addBaseEdge(Ge,this)})})}),le}getChildName(M,U){let ee=this.index[U];for(;ee;){if(ee.parentNode&&ee.parentNode.name===M)return ee.name;ee=ee.parentNode}throw Error("Could not find immediate child for descendant: "+U)}getPredecessors(M){const U=this.index[M];if(!U)throw Error("Could not find node with name: "+M);return this.getOneWayEdges(U,!0)}getSuccessors(M){const U=this.index[M];if(!U)throw Error("Could not find node with name: "+M);return this.getOneWayEdges(U,!1)}getOneWayEdges(M,U){const ee=[];if(!M.parentNode||!M.parentNode.isGroupNode)return ee;const le=M.parentNode,he=le.metaGraph,me=this.getBridgeGraph(le.name);return fp(he,M,U,ee),fp(me,M,U,ee),ee}}function fp(p,M,U,ee){(U?p.inEdges(M.name):p.outEdges(M.name)).forEach(le=>{const he=p.edge(le);ee.push(he)})}class tm{constructor(M){this.hierarchy=M,this.index={},this.hasSubHierarchy={},this.root=new ot(this.hierarchy.root,this.hierarchy.graphOptions),this.index[M.root.name]=this.root,this.buildSubHierarchy(M.root.name),this.root.expanded=!0}getRenderInfoNodes(){return Object.values(this.index)}getSubHierarchy(){return this.hasSubHierarchy}buildSubHierarchy(M){if(M in this.hasSubHierarchy)return;this.hasSubHierarchy[M]=!0;const U=this.index[M];if(U.node.type!==T.META)return;const ee=U,le=ee.node.metaGraph,he=ee.coreGraph;le.nodes().forEach(at=>{const Ze=this.getOrCreateRenderNodeByName(at);he.setNode(at,Ze)}),le.edges().forEach(at=>{const Ze=le.edge(at),Mt=new _e(Ze);he.setEdge(at.v,at.w,Mt)});const me=ee.node.parentNode;if(!me)return;const be=this.getRenderNodeByName(me.name),Te=(at,...Ze)=>Ze.concat([at?"IN":"OUT"]).join("~~"),Ge=this.hierarchy.getBridgeGraph(M);Ge.edges().forEach(at=>{const Ze=Ge.edge(at),Mt=!!le.node(at.w),[jt,xn]=Mt?[at.w,at.v]:[at.v,at.w],Zt=Mr=>be.coreGraph.edge(Mt?{v:Mr,w:M}:{v:M,w:Mr});let Gt=Zt(xn);Gt||(Gt=Zt(Te(Mt,xn,me.name)));const Jt=Te(Mt,M),Un=Te(Mt,xn,M);let lr=he.node(Un);if(!lr){let Mr=he.node(Jt);Mr||(Mr=new th({name:Jt,type:T.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:b.UNSPECIFIED,inbound:Mt,attr:{}}),this.index[Jt]=Mr,he.setNode(Jt,Mr)),lr=new th({name:Un,type:T.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:b.UNSPECIFIED,inbound:Mt,attr:{}}),this.index[Un]=lr,he.setNode(Un,lr),he.setParent(Un,Jt),Mr.node.cardinality++}const Bn=new _e(Ze);Bn.adjoiningMetaEdge=Gt,Mt?he.setEdge(Un,jt,Bn):he.setEdge(jt,Un,Bn)})}getOrCreateRenderNodeByName(M){if(!M)return null;if(M in this.index)return this.index[M];const U=this.getNodeByName(M);return U?(this.index[M]=U.isGroupNode?new ot(U,this.hierarchy.graphOptions):new th(U),this.index[M]):null}getRenderNodeByName(M){return this.index[M]}getNodeByName(M){return this.hierarchy.node(M)}}class th{constructor(M){this.node=M,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=M.width||0,this.height=M.height||0,this.displayName=M.name,this.attr=M.attr}}class _e{constructor(M){this.metaEdge=M,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]}}class ot extends th{constructor(M,U){super(M);const ee=M.metaGraph.graph();U.compound=!0,this.coreGraph=eh(ee.name,x.CORE,U)}}function Tt(p,M){p.node.isGroupNode&&function(U,ee){const le=q(ee);U.coreGraph.nodes().map(he=>U.coreGraph.node(he)).forEach(he=>{var me,be,Te,Ge,at,Ze;const{height:Mt,width:jt}=he;switch(he.node.type){case T.NODE:Object.assign(he,le.nodeSize.node),he.height=Mt||le.nodeSize.node.height,he.width=jt||le.nodeSize.node.width;break;case T.BRIDGE:Object.assign(he,le.nodeSize.bridge);break;case T.META:he.expanded?Tt(he,ee):(Object.assign(he,le.nodeSize.meta),he.height=le.nodeSize.meta.height,he.width=le.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+he.node.type)}he.expanded||function(Zt,Gt=!1){Zt.coreBox.width=Zt.width,Zt.coreBox.height=Zt.height,Gt||(Zt.width=Math.max(Zt.coreBox.width,3*`${Zt.displayName}`.length))}(he,ee&&(0===he.node.type&&!(null===(be=null===(me=ee?.nodeSize)||void 0===me?void 0:me.meta)||void 0===be||!be.width)||1===he.node.type&&(!(null===(Ge=null===(Te=ee?.nodeSize)||void 0===Te?void 0:Te.node)||void 0===Ge||!Ge.width)||!!he.attr.width)||2===he.node.type&&!(null===(Ze=null===(at=ee?.nodeSize)||void 0===at?void 0:at.bridge)||void 0===Ze||!Ze.width)))})}(p,M),p.node.type===T.META&&function(U,ee){const le=q(ee),he=le.subScene.meta;Object.assign(U,he);const{nodeSep:me,rankSep:be,edgeSep:Te,align:Ge}=le.graph.meta;Object.assign(U.coreBox,function(jt,xn){const{ranksep:Zt,nodesep:Gt,edgesep:Jt,align:Un}=xn;Object.assign(jt.graph(),{ranksep:Zt,nodesep:Gt,edgesep:Jt,align:Un});const lr=[];if(jt.nodes().forEach(Jr=>{jt.node(Jr).node.type!==T.BRIDGE&&lr.push(Jr)}),!lr.length)return{width:0,height:0};Ov(jt);let Bn=1/0,Mr=1/0,wr=-1/0,Br=-1/0;return lr.forEach(Jr=>{const Hr=jt.node(Jr),Pa=.5*Hr.width,ni=Hr.x-Pa,eo=Hr.x+Pa;Bn=ni<Bn?ni:Bn,wr=eo>wr?eo:wr;const ba=.5*Hr.height,Bi=Hr.y-ba,$a=Hr.y+ba;Mr=Bi<Mr?Bi:Mr,Br=$a>Br?$a:Br}),jt.edges().forEach(Jr=>{const Hr=jt.edge(Jr),Pa=jt.node(Hr.metaEdge.v),ni=jt.node(Hr.metaEdge.w);if(3===Hr.points.length&&function(Bi){let $a=un(Bi[0],Bi[1]);for(let Ga=1;Ga<Bi.length-1;Ga++){const po=un(Bi[Ga],Bi[Ga+1]);if(Math.abs(po-$a)>1)return!1;$a=po}return!0}(Hr.points)){if(null!=Pa){const Bi=Pa.expanded?Pa.x:Cn(Pa);Hr.points[0].x=Bi}if(null!=ni){const Bi=ni.expanded?ni.x:Cn(ni);Hr.points[2].x=Bi}Hr.points=[Hr.points[0],Hr.points[1]]}null!=ni&&(Hr.points[Hr.points.length-1]=ln(Hr.points[Hr.points.length-2],ni)),null!=Pa&&(Hr.points[0]=ln(Hr.points[1],Pa)),Hr.points.forEach(Bi=>{Bn=Bi.x<Bn?Bi.x:Bn,wr=Bi.x>wr?Bi.x:wr,Mr=Bi.y<Mr?Bi.y:Mr,Br=Bi.y>Br?Bi.y:Br})}),jt.nodes().forEach(Jr=>{const Hr=jt.node(Jr);Hr.x-=Bn,Hr.y-=Mr}),jt.edges().forEach(Jr=>{jt.edge(Jr).points.forEach(Hr=>{Hr.x-=Bn,Hr.y-=Mr})}),{width:wr-Bn,height:Br-Mr}}(U.coreGraph,{nodesep:me,ranksep:be,edgesep:Te,align:Ge}));let Ze=0;U.coreGraph.nodeCount()>0&&Ze++;const Mt=Ze<=1?0:Ze;U.coreBox.width+=Mt+Mt,U.coreBox.height=he.labelHeight+U.coreBox.height,U.width=U.coreBox.width+he.paddingLeft+he.paddingRight,U.height=U.paddingTop+U.coreBox.height+U.paddingBottom}(p,M)}function un(p,M){return 180*Math.atan((M.y-p.y)/(M.x-p.x))/Math.PI}function Cn(p){return p.expanded?p.x:p.x-p.width/2+0+p.coreBox.width/2}function ln(p,M){const U=M.expanded?M.x:Cn(M),ee=M.y,le=p.x-U,he=p.y-ee;let me,be,Te=M.expanded?M.width:M.coreBox.width,Ge=M.expanded?M.height:M.coreBox.height;return Math.abs(he)*Te/2>Math.abs(le)*Ge/2?(he<0&&(Ge=-Ge),me=0===he?0:Ge/2*le/he,be=Ge/2):(le<0&&(Te=-Te),me=Te/2,be=0===le?0:Te/2*he/le),{x:U+me,y:ee+be}}function mn(p,M,U){var ee,le,he,me;const be=p.nodes.filter((Ze,Mt,jt)=>jt.findIndex(xn=>xn.id===Ze.id)!==Mt).map(Ze=>Ze.id);if(be.length)throw new Error(`Duplicated ids found: ${be.join(", ")}`);const Te=function(Ze){const Mt={nodes:[]},jt=Ze.compound,xn=Object.keys(jt||{}),Zt=new Map,Gt=(Un,lr=[])=>{if(Zt.has(Un))return Zt.get(Un);for(let Bn=0;Bn<xn.length;Bn++){let Mr=xn[Bn];if(jt&&-1!==jt[Mr].indexOf(Un))return lr.unshift(Mr),Gt(Mr,lr)}return 0===lr.length&&Zt.set(Un,lr),lr};return Ze.nodes.forEach(Un=>{const lr=Un.id,Bn=[...Gt(lr),lr];let Mr=(Un=>Ze.edges.filter(lr=>lr.w===Un).map(lr=>({name:lr.v})))(lr);Mt.nodes.push({name:lr,path:Bn,inputs:Mr,width:Un.width,height:Un.height,attr:Object.assign({},Un)})}),Mt}(p),Ge=function(Ze,Mt){const jt=(Zt,Gt)=>{for(let Jt of Gt.values())if(Jt.includes(Zt))return!0;return!1},xn=(Zt,Gt=[])=>{if(0===Object.keys(Zt).length)return[...new Set(Gt)];const Jt=new Map(Object.keys(Zt).map(lr=>[lr,Zt[lr]])),Un={};for(let[lr,Bn]of Jt)jt(lr,Jt)?Un[lr]=Bn:Gt=Gt.concat(lr,Bn);return xn(Un,Gt)};return xn(Ze).filter(Zt=>Mt.includes(Zt))}(p.compound||{},M?.expanded||[]),at=(Mt={rankDirection:(null===(le=null===(ee=U?.graph)||void 0===ee?void 0:ee.meta)||void 0===le?void 0:le.rankDir)||M?.rankDirection||R.graph.meta.rankDir,align:(null===(me=null===(he=U?.graph)||void 0===he?void 0:he.meta)||void 0===me?void 0:me.align)||R.graph.meta.align},jt=function uy(p,M){const{rankDirection:U,align:ee}=M,le=new dp({rankdir:U,align:ee});return he=le,me=p,Object.keys(me.nodes).forEach(be=>{const Te=me.nodes[be],Ge=Te.path;let at=he.root;at.depth=Math.max(Ge.length,at.depth);for(let Ze=0;Ze<Ge.length&&(at.depth=Math.max(at.depth,Ge.length-Ze),at.cardinality+=Te.cardinality,Ze!==Ge.length-1);Ze++){const Mt=Ge[Ze];let jt=he.node(Mt);jt||(jt=rf(Mt,he.graphOptions),jt.path=Te.path.slice(0,Ze+1),jt.parentNode=at,he.setNode(Mt,jt),at.metaGraph.setNode(Mt,jt)),at=jt}he.setNode(Te.name,Te),Te.parentNode=at,at.metaGraph.setNode(Te.name,Te)}),function(he,me){const be=he.getNodeMap();let Te=[],Ge=[];const at=(Ze,Mt)=>{let jt=0;for(;Ze;)Mt[jt++]=Ze.name,Ze=Ze.parentNode;return jt-1};me.edges.forEach(Ze=>{Te=[],Ge=[];let Mt=at(me.nodes[Ze.v],Te),jt=at(me.nodes[Ze.w],Ge);for(;Te[Mt]===Ge[jt];)if(Mt--,jt--,Mt<0||jt<0)throw Error("No difference found between ancestor paths.");const xn=be[Te[Mt+1]],Zt=Te[Mt],Gt=Ge[jt];let Jt=xn.metaGraph.edge(Zt,Gt);Jt||(Jt=Jf(Zt,Gt),xn.metaGraph.setEdge(Zt,Gt,Jt)),Jt.addBaseEdge(Ze,he)})}(le,p),le;var he,me}(function Qg(p){const M=new cy;return p.nodes.map(U=>new kv(U)).forEach(U=>{M.nodes[U.name]=U,U.inputs.forEach(ee=>{var he,me;(me=ee).name!==(he=U).name&&M.edges.push(Object.assign(Object.assign({},me.attr),{v:me.name,w:he.name}))})}),M}(Te),Mt),new tm(jt));var Mt,jt;return function(Ze,Mt){Mt.forEach(jt=>{const xn=Ze.getRenderInfoNodes().find(Jt=>Jt.displayName===jt);let Zt=xn&&xn.node&&xn.node.name||"";const Gt=Ze.getRenderNodeByName(Zt);if(!Gt)throw new Error(`No nodes found: ${Zt}`);Gt.expanded=!0,Ze.buildSubHierarchy(Zt)})}(at,Ge),Tt(at.root,U),Zn(at.root)}function jn(p,M=!1){const U=JSON.parse(JSON.stringify(p)),ee={nodes:[U],edges:[...U.edges]};return U.nodes.forEach(function le(he){(0===he.type||1===he.type)&&ee.nodes.push(he),0===he.type&&(ee.edges=ee.edges.concat(he.edges)),Array.isArray(he.nodes)&&he.nodes.forEach(le)}),M&&ee.nodes.forEach(le=>{const he=ee.nodes.find(me=>me.id===le.parentNodeName);if(he){const be=he.y-he.height/2+he.labelHeight+he.paddingTop;he.id!==O&&(le.x+=he.x-he.width/2+he.paddingLeft,le.y+=be),0===le.type&&le.edges.forEach(Te=>{Te.points.forEach(Ge=>{Ge.x+=le.x-le.width/2+le.paddingLeft,Ge.y+=le.y-le.height/2+le.labelHeight+le.paddingTop})})}}),ee}function Xn(p,M,U,ee){var le,he;let me=[];const be=(null===(le=U.find(Ze=>Ze.id===p))||void 0===le?void 0:le.path)||[],Te=(null===(he=U.find(Ze=>Ze.id===M))||void 0===he?void 0:he.path)||[],Ge=[O,...be].slice(0,be.length).reverse(),at=[O,...Te].slice(0,Te.length);return Ge.forEach(Ze=>{const Mt=U.find(jt=>jt.id===Ze);me=me.concat(Mt.edges.filter(jt=>jt.baseEdgeList.some(xn=>xn.v===(ee?.v||p)&&xn.w===(ee?.w||M))))}),at.filter(Ze=>!Ge.includes(Ze)).forEach(Ze=>{const Mt=U.find(jt=>jt.id===Ze);me=me.concat(Mt.edges.filter(jt=>jt.baseEdgeList.some(xn=>xn.v===(ee?.v||p)&&xn.w===(ee?.w||M))))}),me}function Zn(p){const M=p.coreGraph.nodes().map(ee=>p.coreGraph.node(ee));return Object.assign(Object.assign({},Wn(p)),{expanded:p.expanded,nodes:p.expanded?(U=M,U.map(ee=>ee.node.type===T.META?Zn(ee):Wn(ee))):[],edges:p.expanded?nr(p):[]});var U}function Wn(p){return{id:p.node.name,name:p.node.name,type:p.node.type,cardinality:p.node.cardinality,attr:p.attr,parentNodeName:p.node.parentNode?p.node.parentNode.name:null,coreBox:Object.assign({},p.coreBox),x:p.x,y:p.y,width:p.width,height:p.height,radius:p.radius,labelHeight:p.labelHeight,labelOffset:p.labelOffset,outboxWidth:p.outboxWidth,paddingLeft:p.paddingLeft,paddingTop:p.paddingTop,paddingRight:p.paddingRight,paddingBottom:p.paddingBottom,path:p.node.path}}function nr(p){return p.coreGraph.edges().map(M=>({renderInfoEdge:p.coreGraph.edge(M),edge:M})).filter(({renderInfoEdge:M})=>M.metaEdge).map(({edge:M,renderInfoEdge:U})=>{const ee=function(le,he){const me=he.points.map(be=>Object.assign({},be));if(he.adjoiningMetaEdge){const be=he.adjoiningMetaEdge.points,Te=he.metaEdge.inbound,Ge=Te?be[be.length-1]:be[0],at=me[Te?0:me.length-1],xn=Ge.y-(le.y-le.height/2),Gt=-(le.paddingTop+le.labelHeight);at.x=Ge.x-(le.x-le.width/2)-le.paddingLeft,at.y=xn+Gt}return me}(p,U);return{adjoiningEdge:U.adjoiningMetaEdge?{w:U.adjoiningMetaEdge.metaEdge.w,v:U.adjoiningMetaEdge.metaEdge.v}:null,inbound:U.metaEdge.inbound,w:M.w,v:M.v,points:ee,weight:U.weight,baseEdgeList:U.metaEdge.baseEdgeList,parentNodeName:p.node.name}})}},5278:(qt,z,j)=>{"use strict";j.r(z),j.d(z,{ARRAY_TYPE:()=>q,EPSILON:()=>R,RANDOM:()=>B,equals:()=>b,setMatrixArrayType:()=>O,toRadian:()=>T});var R=1e-6,q=typeof Float32Array<"u"?Float32Array:Array,B=Math.random;function O(x){q=x}var P=Math.PI/180;function T(x){return x*P}function b(x,m){return Math.abs(x-m)<=R*Math.max(1,Math.abs(x),Math.abs(m))}Math.hypot||(Math.hypot=function(){for(var x=0,m=arguments.length;m--;)x+=arguments[m]*arguments[m];return Math.sqrt(x)})},8793:(qt,z,j)=>{"use strict";j.r(z),j.d(z,{glMatrix:()=>b,mat2:()=>R,mat2d:()=>q,mat3:()=>qn,mat4:()=>B,quat:()=>P,quat2:()=>T,vec2:()=>Js,vec3:()=>Lr,vec4:()=>O});var R={};j.r(R),j.d(R,{LDU:()=>ne,add:()=>se,adjoint:()=>k,clone:()=>m,copy:()=>_,create:()=>x,determinant:()=>L,equals:()=>Fe,exactEquals:()=>ge,frob:()=>ae,fromRotation:()=>X,fromScaling:()=>Z,fromValues:()=>S,identity:()=>g,invert:()=>A,mul:()=>oe,multiply:()=>ie,multiplyScalar:()=>Ae,multiplyScalarAndAdd:()=>ze,rotate:()=>te,scale:()=>$,set:()=>w,str:()=>Y,sub:()=>ce,subtract:()=>ve,transpose:()=>E});var q={};j.r(q),j.d(q,{add:()=>nt,clone:()=>re,copy:()=>ye,create:()=>H,determinant:()=>st,equals:()=>je,exactEquals:()=>kn,frob:()=>Ve,fromRotation:()=>dt,fromScaling:()=>De,fromTranslation:()=>Be,fromValues:()=>Ie,identity:()=>Ce,invert:()=>pt,mul:()=>Hn,multiply:()=>Ne,multiplyScalar:()=>Bt,multiplyScalarAndAdd:()=>pn,rotate:()=>lt,scale:()=>gt,set:()=>Ue,str:()=>vt,sub:()=>Cr,subtract:()=>wt,translate:()=>$e});var B={};j.r(B),j.d(B,{add:()=>Yn,adjoint:()=>Pn,clone:()=>Ur,copy:()=>pi,create:()=>Me,determinant:()=>br,equals:()=>Ln,exactEquals:()=>Ht,frob:()=>Ir,fromQuat:()=>Vt,fromQuat2:()=>W,fromRotation:()=>Vr,fromRotationTranslation:()=>C,fromRotationTranslationScale:()=>it,fromRotationTranslationScaleOrigin:()=>rt,fromScaling:()=>ti,fromTranslation:()=>Ar,fromValues:()=>bi,fromXRotation:()=>Se,fromYRotation:()=>G,fromZRotation:()=>V,frustum:()=>N,getRotation:()=>We,getScaling:()=>He,getTranslation:()=>fe,identity:()=>Xi,invert:()=>hn,lookAt:()=>yn,mul:()=>Vn,multiply:()=>Dr,multiplyScalar:()=>Gr,multiplyScalarAndAdd:()=>Pr,ortho:()=>Je,orthoNO:()=>nn,orthoZO:()=>Wt,perspective:()=>Ye,perspectiveFromFieldOfView:()=>Et,perspectiveNO:()=>Xe,perspectiveZO:()=>Qe,rotate:()=>Qr,rotateX:()=>Ti,rotateY:()=>Ki,rotateZ:()=>xa,scale:()=>ei,set:()=>ii,str:()=>Rn,sub:()=>cn,subtract:()=>er,targetTo:()=>Dn,translate:()=>kr,transpose:()=>ji});var O={};j.r(O),j.d(O,{add:()=>ht,ceil:()=>Fn,clone:()=>Ct,copy:()=>Pe,create:()=>pr,cross:()=>Co,dist:()=>Vl,distance:()=>ja,div:()=>Bd,divide:()=>En,dot:()=>au,equals:()=>us,exactEquals:()=>Ii,floor:()=>xr,forEach:()=>jl,fromValues:()=>Oe,inverse:()=>zl,len:()=>Mc,length:()=>Bl,lerp:()=>Ui,max:()=>Fr,min:()=>fr,mul:()=>ju,multiply:()=>on,negate:()=>xo,normalize:()=>iu,random:()=>zu,round:()=>Ai,scale:()=>ca,scaleAndAdd:()=>wa,set:()=>Ot,sqrDist:()=>xs,sqrLen:()=>ou,squaredDistance:()=>no,squaredLength:()=>ko,str:()=>Lf,sub:()=>dl,subtract:()=>At,transformMat4:()=>Rf,transformQuat:()=>Vu,zero:()=>vr});var P={};j.r(P),j.d(P,{add:()=>Yo,calculateW:()=>Gu,clone:()=>qs,conjugate:()=>Vd,copy:()=>Es,create:()=>fl,dot:()=>Wl,equals:()=>Sa,exactEquals:()=>Ji,exp:()=>zd,fromEuler:()=>pl,fromMat3:()=>ws,fromValues:()=>wn,getAngle:()=>wo,getAxisAngle:()=>Uu,identity:()=>Xr,invert:()=>Hu,len:()=>Fs,length:()=>Tc,lerp:()=>Dc,ln:()=>Dl,mul:()=>Hl,multiply:()=>ds,normalize:()=>fs,pow:()=>Gl,random:()=>Ea,rotateX:()=>Ls,rotateY:()=>fa,rotateZ:()=>Cc,rotationTo:()=>Tl,scale:()=>$o,set:()=>ui,setAxes:()=>Po,setAxisAngle:()=>Ul,slerp:()=>hl,sqlerp:()=>su,sqrLen:()=>Xo,squaredLength:()=>No,str:()=>Ks});var T={};j.r(T),j.d(T,{add:()=>Oa,clone:()=>Bs,conjugate:()=>lu,copy:()=>Ac,create:()=>hs,dot:()=>Al,equals:()=>gl,exactEquals:()=>uu,fromMat4:()=>Oi,fromRotation:()=>Zs,fromRotationTranslation:()=>Yl,fromRotationTranslationValues:()=>ua,fromTranslation:()=>zs,fromValues:()=>vl,getDual:()=>kt,getReal:()=>bt,getTranslation:()=>or,identity:()=>Vs,invert:()=>Ic,len:()=>cu,length:()=>di,lerp:()=>Ya,mul:()=>js,multiply:()=>Do,normalize:()=>$l,rotateAroundAxis:()=>xi,rotateByQuatAppend:()=>Ua,rotateByQuatPrepend:()=>Tr,rotateX:()=>qi,rotateY:()=>Ta,rotateZ:()=>uo,scale:()=>To,set:()=>xe,setDual:()=>_n,setReal:()=>Xt,sqrLen:()=>Ko,squaredLength:()=>Qs,str:()=>Ro,translate:()=>Sr});var b=j(5278);function x(){var f=new b.ARRAY_TYPE(4);return b.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0),f[0]=1,f[3]=1,f}function m(f){var I=new b.ARRAY_TYPE(4);return I[0]=f[0],I[1]=f[1],I[2]=f[2],I[3]=f[3],I}function _(f,I){return f[0]=I[0],f[1]=I[1],f[2]=I[2],f[3]=I[3],f}function g(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=1,f}function S(f,I,pe,we){var Le=new b.ARRAY_TYPE(4);return Le[0]=f,Le[1]=I,Le[2]=pe,Le[3]=we,Le}function w(f,I,pe,we,Le){return f[0]=I,f[1]=pe,f[2]=we,f[3]=Le,f}function E(f,I){if(f===I){var pe=I[1];f[1]=I[2],f[2]=pe}else f[0]=I[0],f[1]=I[2],f[2]=I[1],f[3]=I[3];return f}function A(f,I){var pe=I[0],we=I[1],Le=I[2],Ke=I[3],qe=pe*Ke-Le*we;return qe?(f[0]=Ke*(qe=1/qe),f[1]=-we*qe,f[2]=-Le*qe,f[3]=pe*qe,f):null}function k(f,I){var pe=I[0];return f[0]=I[3],f[1]=-I[1],f[2]=-I[2],f[3]=pe,f}function L(f){return f[0]*f[3]-f[2]*f[1]}function ie(f,I,pe){var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=pe[0],_t=pe[1],Dt=pe[2],Kt=pe[3];return f[0]=we*ft+Ke*_t,f[1]=Le*ft+qe*_t,f[2]=we*Dt+Ke*Kt,f[3]=Le*Dt+qe*Kt,f}function te(f,I,pe){var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=Math.sin(pe),_t=Math.cos(pe);return f[0]=we*_t+Ke*ft,f[1]=Le*_t+qe*ft,f[2]=we*-ft+Ke*_t,f[3]=Le*-ft+qe*_t,f}function $(f,I,pe){var Le=I[1],Ke=I[2],qe=I[3],ft=pe[0],_t=pe[1];return f[0]=I[0]*ft,f[1]=Le*ft,f[2]=Ke*_t,f[3]=qe*_t,f}function X(f,I){var pe=Math.sin(I),we=Math.cos(I);return f[0]=we,f[1]=pe,f[2]=-pe,f[3]=we,f}function Z(f,I){return f[0]=I[0],f[1]=0,f[2]=0,f[3]=I[1],f}function Y(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"}function ae(f){return Math.hypot(f[0],f[1],f[2],f[3])}function ne(f,I,pe,we){return f[2]=we[2]/we[0],pe[0]=we[0],pe[1]=we[1],pe[3]=we[3]-f[2]*pe[1],[f,I,pe]}function se(f,I,pe){return f[0]=I[0]+pe[0],f[1]=I[1]+pe[1],f[2]=I[2]+pe[2],f[3]=I[3]+pe[3],f}function ve(f,I,pe){return f[0]=I[0]-pe[0],f[1]=I[1]-pe[1],f[2]=I[2]-pe[2],f[3]=I[3]-pe[3],f}function ge(f,I){return f[0]===I[0]&&f[1]===I[1]&&f[2]===I[2]&&f[3]===I[3]}function Fe(f,I){var pe=f[0],we=f[1],Le=f[2],Ke=f[3],qe=I[0],ft=I[1],_t=I[2],Dt=I[3];return Math.abs(pe-qe)<=b.EPSILON*Math.max(1,Math.abs(pe),Math.abs(qe))&&Math.abs(we-ft)<=b.EPSILON*Math.max(1,Math.abs(we),Math.abs(ft))&&Math.abs(Le-_t)<=b.EPSILON*Math.max(1,Math.abs(Le),Math.abs(_t))&&Math.abs(Ke-Dt)<=b.EPSILON*Math.max(1,Math.abs(Ke),Math.abs(Dt))}function Ae(f,I,pe){return f[0]=I[0]*pe,f[1]=I[1]*pe,f[2]=I[2]*pe,f[3]=I[3]*pe,f}function ze(f,I,pe,we){return f[0]=I[0]+pe[0]*we,f[1]=I[1]+pe[1]*we,f[2]=I[2]+pe[2]*we,f[3]=I[3]+pe[3]*we,f}var oe=ie,ce=ve;function H(){var f=new b.ARRAY_TYPE(6);return b.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0),f[0]=1,f[3]=1,f}function re(f){var I=new b.ARRAY_TYPE(6);return I[0]=f[0],I[1]=f[1],I[2]=f[2],I[3]=f[3],I[4]=f[4],I[5]=f[5],I}function ye(f,I){return f[0]=I[0],f[1]=I[1],f[2]=I[2],f[3]=I[3],f[4]=I[4],f[5]=I[5],f}function Ce(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=1,f[4]=0,f[5]=0,f}function Ie(f,I,pe,we,Le,Ke){var qe=new b.ARRAY_TYPE(6);return qe[0]=f,qe[1]=I,qe[2]=pe,qe[3]=we,qe[4]=Le,qe[5]=Ke,qe}function Ue(f,I,pe,we,Le,Ke,qe){return f[0]=I,f[1]=pe,f[2]=we,f[3]=Le,f[4]=Ke,f[5]=qe,f}function pt(f,I){var pe=I[0],we=I[1],Le=I[2],Ke=I[3],qe=I[4],ft=I[5],_t=pe*Ke-we*Le;return _t?(f[0]=Ke*(_t=1/_t),f[1]=-we*_t,f[2]=-Le*_t,f[3]=pe*_t,f[4]=(Le*ft-Ke*qe)*_t,f[5]=(we*qe-pe*ft)*_t,f):null}function st(f){return f[0]*f[3]-f[1]*f[2]}function Ne(f,I,pe){var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=I[4],_t=I[5],Dt=pe[0],Kt=pe[1],dn=pe[2],vn=pe[3],gn=pe[4],$n=pe[5];return f[0]=we*Dt+Ke*Kt,f[1]=Le*Dt+qe*Kt,f[2]=we*dn+Ke*vn,f[3]=Le*dn+qe*vn,f[4]=we*gn+Ke*$n+ft,f[5]=Le*gn+qe*$n+_t,f}function lt(f,I,pe){var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=I[4],_t=I[5],Dt=Math.sin(pe),Kt=Math.cos(pe);return f[0]=we*Kt+Ke*Dt,f[1]=Le*Kt+qe*Dt,f[2]=we*-Dt+Ke*Kt,f[3]=Le*-Dt+qe*Kt,f[4]=ft,f[5]=_t,f}function gt(f,I,pe){var Le=I[1],Ke=I[2],qe=I[3],ft=I[4],_t=I[5],Dt=pe[0],Kt=pe[1];return f[0]=I[0]*Dt,f[1]=Le*Dt,f[2]=Ke*Kt,f[3]=qe*Kt,f[4]=ft,f[5]=_t,f}function $e(f,I,pe){var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=I[4],_t=I[5],Dt=pe[0],Kt=pe[1];return f[0]=we,f[1]=Le,f[2]=Ke,f[3]=qe,f[4]=we*Dt+Ke*Kt+ft,f[5]=Le*Dt+qe*Kt+_t,f}function dt(f,I){var pe=Math.sin(I),we=Math.cos(I);return f[0]=we,f[1]=pe,f[2]=-pe,f[3]=we,f[4]=0,f[5]=0,f}function De(f,I){return f[0]=I[0],f[1]=0,f[2]=0,f[3]=I[1],f[4]=0,f[5]=0,f}function Be(f,I){return f[0]=1,f[1]=0,f[2]=0,f[3]=1,f[4]=I[0],f[5]=I[1],f}function vt(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"}function Ve(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)}function nt(f,I,pe){return f[0]=I[0]+pe[0],f[1]=I[1]+pe[1],f[2]=I[2]+pe[2],f[3]=I[3]+pe[3],f[4]=I[4]+pe[4],f[5]=I[5]+pe[5],f}function wt(f,I,pe){return f[0]=I[0]-pe[0],f[1]=I[1]-pe[1],f[2]=I[2]-pe[2],f[3]=I[3]-pe[3],f[4]=I[4]-pe[4],f[5]=I[5]-pe[5],f}function Bt(f,I,pe){return f[0]=I[0]*pe,f[1]=I[1]*pe,f[2]=I[2]*pe,f[3]=I[3]*pe,f[4]=I[4]*pe,f[5]=I[5]*pe,f}function pn(f,I,pe,we){return f[0]=I[0]+pe[0]*we,f[1]=I[1]+pe[1]*we,f[2]=I[2]+pe[2]*we,f[3]=I[3]+pe[3]*we,f[4]=I[4]+pe[4]*we,f[5]=I[5]+pe[5]*we,f}function kn(f,I){return f[0]===I[0]&&f[1]===I[1]&&f[2]===I[2]&&f[3]===I[3]&&f[4]===I[4]&&f[5]===I[5]}function je(f,I){var pe=f[0],we=f[1],Le=f[2],Ke=f[3],qe=f[4],ft=f[5],_t=I[0],Dt=I[1],Kt=I[2],dn=I[3],vn=I[4],gn=I[5];return Math.abs(pe-_t)<=b.EPSILON*Math.max(1,Math.abs(pe),Math.abs(_t))&&Math.abs(we-Dt)<=b.EPSILON*Math.max(1,Math.abs(we),Math.abs(Dt))&&Math.abs(Le-Kt)<=b.EPSILON*Math.max(1,Math.abs(Le),Math.abs(Kt))&&Math.abs(Ke-dn)<=b.EPSILON*Math.max(1,Math.abs(Ke),Math.abs(dn))&&Math.abs(qe-vn)<=b.EPSILON*Math.max(1,Math.abs(qe),Math.abs(vn))&&Math.abs(ft-gn)<=b.EPSILON*Math.max(1,Math.abs(ft),Math.abs(gn))}var Hn=Ne,Cr=wt,qn=j(7543);function Me(){var f=new b.ARRAY_TYPE(16);return b.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0),f[0]=1,f[5]=1,f[10]=1,f[15]=1,f}function Ur(f){var I=new b.ARRAY_TYPE(16);return I[0]=f[0],I[1]=f[1],I[2]=f[2],I[3]=f[3],I[4]=f[4],I[5]=f[5],I[6]=f[6],I[7]=f[7],I[8]=f[8],I[9]=f[9],I[10]=f[10],I[11]=f[11],I[12]=f[12],I[13]=f[13],I[14]=f[14],I[15]=f[15],I}function pi(f,I){return f[0]=I[0],f[1]=I[1],f[2]=I[2],f[3]=I[3],f[4]=I[4],f[5]=I[5],f[6]=I[6],f[7]=I[7],f[8]=I[8],f[9]=I[9],f[10]=I[10],f[11]=I[11],f[12]=I[12],f[13]=I[13],f[14]=I[14],f[15]=I[15],f}function bi(f,I,pe,we,Le,Ke,qe,ft,_t,Dt,Kt,dn,vn,gn,$n,rr){var Sn=new b.ARRAY_TYPE(16);return Sn[0]=f,Sn[1]=I,Sn[2]=pe,Sn[3]=we,Sn[4]=Le,Sn[5]=Ke,Sn[6]=qe,Sn[7]=ft,Sn[8]=_t,Sn[9]=Dt,Sn[10]=Kt,Sn[11]=dn,Sn[12]=vn,Sn[13]=gn,Sn[14]=$n,Sn[15]=rr,Sn}function ii(f,I,pe,we,Le,Ke,qe,ft,_t,Dt,Kt,dn,vn,gn,$n,rr,Sn){return f[0]=I,f[1]=pe,f[2]=we,f[3]=Le,f[4]=Ke,f[5]=qe,f[6]=ft,f[7]=_t,f[8]=Dt,f[9]=Kt,f[10]=dn,f[11]=vn,f[12]=gn,f[13]=$n,f[14]=rr,f[15]=Sn,f}function Xi(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function ji(f,I){if(f===I){var pe=I[1],we=I[2],Le=I[3],Ke=I[6],qe=I[7],ft=I[11];f[1]=I[4],f[2]=I[8],f[3]=I[12],f[4]=pe,f[6]=I[9],f[7]=I[13],f[8]=we,f[9]=Ke,f[11]=I[14],f[12]=Le,f[13]=qe,f[14]=ft}else f[0]=I[0],f[1]=I[4],f[2]=I[8],f[3]=I[12],f[4]=I[1],f[5]=I[5],f[6]=I[9],f[7]=I[13],f[8]=I[2],f[9]=I[6],f[10]=I[10],f[11]=I[14],f[12]=I[3],f[13]=I[7],f[14]=I[11],f[15]=I[15];return f}function hn(f,I){var pe=I[0],we=I[1],Le=I[2],Ke=I[3],qe=I[4],ft=I[5],_t=I[6],Dt=I[7],Kt=I[8],dn=I[9],vn=I[10],gn=I[11],$n=I[12],rr=I[13],Sn=I[14],_r=I[15],wi=pe*ft-we*qe,Ei=pe*_t-Le*qe,li=pe*Dt-Ke*qe,Yr=we*_t-Le*ft,ai=we*Dt-Ke*ft,fo=Le*Dt-Ke*_t,ro=Kt*rr-dn*$n,Ja=Kt*Sn-vn*$n,io=Kt*_r-gn*$n,ao=dn*Sn-vn*rr,yo=dn*_r-gn*rr,Ao=vn*_r-gn*Sn,ea=wi*Ao-Ei*yo+li*ao+Yr*io-ai*Ja+fo*ro;return ea?(f[0]=(ft*Ao-_t*yo+Dt*ao)*(ea=1/ea),f[1]=(Le*yo-we*Ao-Ke*ao)*ea,f[2]=(rr*fo-Sn*ai+_r*Yr)*ea,f[3]=(vn*ai-dn*fo-gn*Yr)*ea,f[4]=(_t*io-qe*Ao-Dt*Ja)*ea,f[5]=(pe*Ao-Le*io+Ke*Ja)*ea,f[6]=(Sn*li-$n*fo-_r*Ei)*ea,f[7]=(Kt*fo-vn*li+gn*Ei)*ea,f[8]=(qe*yo-ft*io+Dt*ro)*ea,f[9]=(we*io-pe*yo-Ke*ro)*ea,f[10]=($n*ai-rr*li+_r*wi)*ea,f[11]=(dn*li-Kt*ai-gn*wi)*ea,f[12]=(ft*Ja-qe*ao-_t*ro)*ea,f[13]=(pe*ao-we*Ja+Le*ro)*ea,f[14]=(rr*Ei-$n*Yr-Sn*wi)*ea,f[15]=(Kt*Yr-dn*Ei+vn*wi)*ea,f):null}function Pn(f,I){var pe=I[0],we=I[1],Le=I[2],Ke=I[3],qe=I[4],ft=I[5],_t=I[6],Dt=I[7],Kt=I[8],dn=I[9],vn=I[10],gn=I[11],$n=I[12],rr=I[13],Sn=I[14],_r=I[15];return f[0]=ft*(vn*_r-gn*Sn)-dn*(_t*_r-Dt*Sn)+rr*(_t*gn-Dt*vn),f[1]=-(we*(vn*_r-gn*Sn)-dn*(Le*_r-Ke*Sn)+rr*(Le*gn-Ke*vn)),f[2]=we*(_t*_r-Dt*Sn)-ft*(Le*_r-Ke*Sn)+rr*(Le*Dt-Ke*_t),f[3]=-(we*(_t*gn-Dt*vn)-ft*(Le*gn-Ke*vn)+dn*(Le*Dt-Ke*_t)),f[4]=-(qe*(vn*_r-gn*Sn)-Kt*(_t*_r-Dt*Sn)+$n*(_t*gn-Dt*vn)),f[5]=pe*(vn*_r-gn*Sn)-Kt*(Le*_r-Ke*Sn)+$n*(Le*gn-Ke*vn),f[6]=-(pe*(_t*_r-Dt*Sn)-qe*(Le*_r-Ke*Sn)+$n*(Le*Dt-Ke*_t)),f[7]=pe*(_t*gn-Dt*vn)-qe*(Le*gn-Ke*vn)+Kt*(Le*Dt-Ke*_t),f[8]=qe*(dn*_r-gn*rr)-Kt*(ft*_r-Dt*rr)+$n*(ft*gn-Dt*dn),f[9]=-(pe*(dn*_r-gn*rr)-Kt*(we*_r-Ke*rr)+$n*(we*gn-Ke*dn)),f[10]=pe*(ft*_r-Dt*rr)-qe*(we*_r-Ke*rr)+$n*(we*Dt-Ke*ft),f[11]=-(pe*(ft*gn-Dt*dn)-qe*(we*gn-Ke*dn)+Kt*(we*Dt-Ke*ft)),f[12]=-(qe*(dn*Sn-vn*rr)-Kt*(ft*Sn-_t*rr)+$n*(ft*vn-_t*dn)),f[13]=pe*(dn*Sn-vn*rr)-Kt*(we*Sn-Le*rr)+$n*(we*vn-Le*dn),f[14]=-(pe*(ft*Sn-_t*rr)-qe*(we*Sn-Le*rr)+$n*(we*_t-Le*ft)),f[15]=pe*(ft*vn-_t*dn)-qe*(we*vn-Le*dn)+Kt*(we*_t-Le*ft),f}function br(f){var I=f[0],pe=f[1],we=f[2],Le=f[3],Ke=f[4],qe=f[5],ft=f[6],_t=f[7],Dt=f[8],Kt=f[9],dn=f[10],vn=f[11],gn=f[12],$n=f[13],rr=f[14],Sn=f[15];return(I*qe-pe*Ke)*(dn*Sn-vn*rr)-(I*ft-we*Ke)*(Kt*Sn-vn*$n)+(I*_t-Le*Ke)*(Kt*rr-dn*$n)+(pe*ft-we*qe)*(Dt*Sn-vn*gn)-(pe*_t-Le*qe)*(Dt*rr-dn*gn)+(we*_t-Le*ft)*(Dt*$n-Kt*gn)}function Dr(f,I,pe){var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=I[4],_t=I[5],Dt=I[6],Kt=I[7],dn=I[8],vn=I[9],gn=I[10],$n=I[11],rr=I[12],Sn=I[13],_r=I[14],wi=I[15],Ei=pe[0],li=pe[1],Yr=pe[2],ai=pe[3];return f[0]=Ei*we+li*ft+Yr*dn+ai*rr,f[1]=Ei*Le+li*_t+Yr*vn+ai*Sn,f[2]=Ei*Ke+li*Dt+Yr*gn+ai*_r,f[3]=Ei*qe+li*Kt+Yr*$n+ai*wi,f[4]=(Ei=pe[4])*we+(li=pe[5])*ft+(Yr=pe[6])*dn+(ai=pe[7])*rr,f[5]=Ei*Le+li*_t+Yr*vn+ai*Sn,f[6]=Ei*Ke+li*Dt+Yr*gn+ai*_r,f[7]=Ei*qe+li*Kt+Yr*$n+ai*wi,f[8]=(Ei=pe[8])*we+(li=pe[9])*ft+(Yr=pe[10])*dn+(ai=pe[11])*rr,f[9]=Ei*Le+li*_t+Yr*vn+ai*Sn,f[10]=Ei*Ke+li*Dt+Yr*gn+ai*_r,f[11]=Ei*qe+li*Kt+Yr*$n+ai*wi,f[12]=(Ei=pe[12])*we+(li=pe[13])*ft+(Yr=pe[14])*dn+(ai=pe[15])*rr,f[13]=Ei*Le+li*_t+Yr*vn+ai*Sn,f[14]=Ei*Ke+li*Dt+Yr*gn+ai*_r,f[15]=Ei*qe+li*Kt+Yr*$n+ai*wi,f}function kr(f,I,pe){var qe,ft,_t,Dt,Kt,dn,vn,gn,$n,rr,Sn,_r,we=pe[0],Le=pe[1],Ke=pe[2];return I===f?(f[12]=I[0]*we+I[4]*Le+I[8]*Ke+I[12],f[13]=I[1]*we+I[5]*Le+I[9]*Ke+I[13],f[14]=I[2]*we+I[6]*Le+I[10]*Ke+I[14],f[15]=I[3]*we+I[7]*Le+I[11]*Ke+I[15]):(ft=I[1],_t=I[2],Dt=I[3],Kt=I[4],dn=I[5],vn=I[6],gn=I[7],$n=I[8],rr=I[9],Sn=I[10],_r=I[11],f[0]=qe=I[0],f[1]=ft,f[2]=_t,f[3]=Dt,f[4]=Kt,f[5]=dn,f[6]=vn,f[7]=gn,f[8]=$n,f[9]=rr,f[10]=Sn,f[11]=_r,f[12]=qe*we+Kt*Le+$n*Ke+I[12],f[13]=ft*we+dn*Le+rr*Ke+I[13],f[14]=_t*we+vn*Le+Sn*Ke+I[14],f[15]=Dt*we+gn*Le+_r*Ke+I[15]),f}function ei(f,I,pe){var we=pe[0],Le=pe[1],Ke=pe[2];return f[0]=I[0]*we,f[1]=I[1]*we,f[2]=I[2]*we,f[3]=I[3]*we,f[4]=I[4]*Le,f[5]=I[5]*Le,f[6]=I[6]*Le,f[7]=I[7]*Le,f[8]=I[8]*Ke,f[9]=I[9]*Ke,f[10]=I[10]*Ke,f[11]=I[11]*Ke,f[12]=I[12],f[13]=I[13],f[14]=I[14],f[15]=I[15],f}function Qr(f,I,pe,we){var _t,Dt,Kt,dn,vn,gn,$n,rr,Sn,_r,wi,Ei,li,Yr,ai,fo,ro,Ja,io,ao,yo,Ao,ea,Aa,Le=we[0],Ke=we[1],qe=we[2],ft=Math.hypot(Le,Ke,qe);return ft<b.EPSILON?null:(Le*=ft=1/ft,Ke*=ft,qe*=ft,_t=Math.sin(pe),Dt=Math.cos(pe),vn=I[1],gn=I[2],$n=I[3],Sn=I[5],_r=I[6],wi=I[7],li=I[9],Yr=I[10],ai=I[11],io=Le*Ke*(Kt=1-Dt)-qe*_t,ao=Ke*Ke*Kt+Dt,yo=qe*Ke*Kt+Le*_t,Ao=Le*qe*Kt+Ke*_t,ea=Ke*qe*Kt-Le*_t,Aa=qe*qe*Kt+Dt,f[0]=(dn=I[0])*(fo=Le*Le*Kt+Dt)+(rr=I[4])*(ro=Ke*Le*Kt+qe*_t)+(Ei=I[8])*(Ja=qe*Le*Kt-Ke*_t),f[1]=vn*fo+Sn*ro+li*Ja,f[2]=gn*fo+_r*ro+Yr*Ja,f[3]=$n*fo+wi*ro+ai*Ja,f[4]=dn*io+rr*ao+Ei*yo,f[5]=vn*io+Sn*ao+li*yo,f[6]=gn*io+_r*ao+Yr*yo,f[7]=$n*io+wi*ao+ai*yo,f[8]=dn*Ao+rr*ea+Ei*Aa,f[9]=vn*Ao+Sn*ea+li*Aa,f[10]=gn*Ao+_r*ea+Yr*Aa,f[11]=$n*Ao+wi*ea+ai*Aa,I!==f&&(f[12]=I[12],f[13]=I[13],f[14]=I[14],f[15]=I[15]),f)}function Ti(f,I,pe){var we=Math.sin(pe),Le=Math.cos(pe),Ke=I[4],qe=I[5],ft=I[6],_t=I[7],Dt=I[8],Kt=I[9],dn=I[10],vn=I[11];return I!==f&&(f[0]=I[0],f[1]=I[1],f[2]=I[2],f[3]=I[3],f[12]=I[12],f[13]=I[13],f[14]=I[14],f[15]=I[15]),f[4]=Ke*Le+Dt*we,f[5]=qe*Le+Kt*we,f[6]=ft*Le+dn*we,f[7]=_t*Le+vn*we,f[8]=Dt*Le-Ke*we,f[9]=Kt*Le-qe*we,f[10]=dn*Le-ft*we,f[11]=vn*Le-_t*we,f}function Ki(f,I,pe){var we=Math.sin(pe),Le=Math.cos(pe),Ke=I[0],qe=I[1],ft=I[2],_t=I[3],Dt=I[8],Kt=I[9],dn=I[10],vn=I[11];return I!==f&&(f[4]=I[4],f[5]=I[5],f[6]=I[6],f[7]=I[7],f[12]=I[12],f[13]=I[13],f[14]=I[14],f[15]=I[15]),f[0]=Ke*Le-Dt*we,f[1]=qe*Le-Kt*we,f[2]=ft*Le-dn*we,f[3]=_t*Le-vn*we,f[8]=Ke*we+Dt*Le,f[9]=qe*we+Kt*Le,f[10]=ft*we+dn*Le,f[11]=_t*we+vn*Le,f}function xa(f,I,pe){var we=Math.sin(pe),Le=Math.cos(pe),Ke=I[0],qe=I[1],ft=I[2],_t=I[3],Dt=I[4],Kt=I[5],dn=I[6],vn=I[7];return I!==f&&(f[8]=I[8],f[9]=I[9],f[10]=I[10],f[11]=I[11],f[12]=I[12],f[13]=I[13],f[14]=I[14],f[15]=I[15]),f[0]=Ke*Le+Dt*we,f[1]=qe*Le+Kt*we,f[2]=ft*Le+dn*we,f[3]=_t*Le+vn*we,f[4]=Dt*Le-Ke*we,f[5]=Kt*Le-qe*we,f[6]=dn*Le-ft*we,f[7]=vn*Le-_t*we,f}function Ar(f,I){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=I[0],f[13]=I[1],f[14]=I[2],f[15]=1,f}function ti(f,I){return f[0]=I[0],f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=I[1],f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=I[2],f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function Vr(f,I,pe){var ft,_t,Dt,we=pe[0],Le=pe[1],Ke=pe[2],qe=Math.hypot(we,Le,Ke);return qe<b.EPSILON?null:(we*=qe=1/qe,Le*=qe,Ke*=qe,ft=Math.sin(I),_t=Math.cos(I),f[0]=we*we*(Dt=1-_t)+_t,f[1]=Le*we*Dt+Ke*ft,f[2]=Ke*we*Dt-Le*ft,f[3]=0,f[4]=we*Le*Dt-Ke*ft,f[5]=Le*Le*Dt+_t,f[6]=Ke*Le*Dt+we*ft,f[7]=0,f[8]=we*Ke*Dt+Le*ft,f[9]=Le*Ke*Dt-we*ft,f[10]=Ke*Ke*Dt+_t,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f)}function Se(f,I){var pe=Math.sin(I),we=Math.cos(I);return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=we,f[6]=pe,f[7]=0,f[8]=0,f[9]=-pe,f[10]=we,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function G(f,I){var pe=Math.sin(I),we=Math.cos(I);return f[0]=we,f[1]=0,f[2]=-pe,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=pe,f[9]=0,f[10]=we,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function V(f,I){var pe=Math.sin(I),we=Math.cos(I);return f[0]=we,f[1]=pe,f[2]=0,f[3]=0,f[4]=-pe,f[5]=we,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function C(f,I,pe){var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=we+we,_t=Le+Le,Dt=Ke+Ke,Kt=we*ft,dn=we*_t,vn=we*Dt,gn=Le*_t,$n=Le*Dt,rr=Ke*Dt,Sn=qe*ft,_r=qe*_t,wi=qe*Dt;return f[0]=1-(gn+rr),f[1]=dn+wi,f[2]=vn-_r,f[3]=0,f[4]=dn-wi,f[5]=1-(Kt+rr),f[6]=$n+Sn,f[7]=0,f[8]=vn+_r,f[9]=$n-Sn,f[10]=1-(Kt+gn),f[11]=0,f[12]=pe[0],f[13]=pe[1],f[14]=pe[2],f[15]=1,f}function W(f,I){var pe=new b.ARRAY_TYPE(3),we=-I[0],Le=-I[1],Ke=-I[2],qe=I[3],ft=I[4],_t=I[5],Dt=I[6],Kt=I[7],dn=we*we+Le*Le+Ke*Ke+qe*qe;return dn>0?(pe[0]=2*(ft*qe+Kt*we+_t*Ke-Dt*Le)/dn,pe[1]=2*(_t*qe+Kt*Le+Dt*we-ft*Ke)/dn,pe[2]=2*(Dt*qe+Kt*Ke+ft*Le-_t*we)/dn):(pe[0]=2*(ft*qe+Kt*we+_t*Ke-Dt*Le),pe[1]=2*(_t*qe+Kt*Le+Dt*we-ft*Ke),pe[2]=2*(Dt*qe+Kt*Ke+ft*Le-_t*we)),C(f,I,pe),f}function fe(f,I){return f[0]=I[12],f[1]=I[13],f[2]=I[14],f}function He(f,I){var Ke=I[4],qe=I[5],ft=I[6],_t=I[8],Dt=I[9],Kt=I[10];return f[0]=Math.hypot(I[0],I[1],I[2]),f[1]=Math.hypot(Ke,qe,ft),f[2]=Math.hypot(_t,Dt,Kt),f}function We(f,I){var pe=new b.ARRAY_TYPE(3);He(pe,I);var we=1/pe[0],Le=1/pe[1],Ke=1/pe[2],qe=I[0]*we,ft=I[1]*Le,_t=I[2]*Ke,Dt=I[4]*we,Kt=I[5]*Le,dn=I[6]*Ke,vn=I[8]*we,gn=I[9]*Le,$n=I[10]*Ke,rr=qe+Kt+$n,Sn=0;return rr>0?(Sn=2*Math.sqrt(rr+1),f[3]=.25*Sn,f[0]=(dn-gn)/Sn,f[1]=(vn-_t)/Sn,f[2]=(ft-Dt)/Sn):qe>Kt&&qe>$n?(Sn=2*Math.sqrt(1+qe-Kt-$n),f[3]=(dn-gn)/Sn,f[0]=.25*Sn,f[1]=(ft+Dt)/Sn,f[2]=(vn+_t)/Sn):Kt>$n?(Sn=2*Math.sqrt(1+Kt-qe-$n),f[3]=(vn-_t)/Sn,f[0]=(ft+Dt)/Sn,f[1]=.25*Sn,f[2]=(dn+gn)/Sn):(Sn=2*Math.sqrt(1+$n-qe-Kt),f[3]=(ft-Dt)/Sn,f[0]=(vn+_t)/Sn,f[1]=(dn+gn)/Sn,f[2]=.25*Sn),f}function it(f,I,pe,we){var Le=I[0],Ke=I[1],qe=I[2],ft=I[3],_t=Le+Le,Dt=Ke+Ke,Kt=qe+qe,dn=Le*_t,vn=Le*Dt,gn=Le*Kt,$n=Ke*Dt,rr=Ke*Kt,Sn=qe*Kt,_r=ft*_t,wi=ft*Dt,Ei=ft*Kt,li=we[0],Yr=we[1],ai=we[2];return f[0]=(1-($n+Sn))*li,f[1]=(vn+Ei)*li,f[2]=(gn-wi)*li,f[3]=0,f[4]=(vn-Ei)*Yr,f[5]=(1-(dn+Sn))*Yr,f[6]=(rr+_r)*Yr,f[7]=0,f[8]=(gn+wi)*ai,f[9]=(rr-_r)*ai,f[10]=(1-(dn+$n))*ai,f[11]=0,f[12]=pe[0],f[13]=pe[1],f[14]=pe[2],f[15]=1,f}function rt(f,I,pe,we,Le){var Ke=I[0],qe=I[1],ft=I[2],_t=I[3],Dt=Ke+Ke,Kt=qe+qe,dn=ft+ft,vn=Ke*Dt,gn=Ke*Kt,$n=Ke*dn,rr=qe*Kt,Sn=qe*dn,_r=ft*dn,wi=_t*Dt,Ei=_t*Kt,li=_t*dn,Yr=we[0],ai=we[1],fo=we[2],ro=Le[0],Ja=Le[1],io=Le[2],ao=(1-(rr+_r))*Yr,yo=(gn+li)*Yr,Ao=($n-Ei)*Yr,ea=(gn-li)*ai,Aa=(1-(vn+_r))*ai,du=(Sn+wi)*ai,Il=($n+Ei)*fo,Ss=(Sn-wi)*fo,jd=(1-(vn+rr))*fo;return f[0]=ao,f[1]=yo,f[2]=Ao,f[3]=0,f[4]=ea,f[5]=Aa,f[6]=du,f[7]=0,f[8]=Il,f[9]=Ss,f[10]=jd,f[11]=0,f[12]=pe[0]+ro-(ao*ro+ea*Ja+Il*io),f[13]=pe[1]+Ja-(yo*ro+Aa*Ja+Ss*io),f[14]=pe[2]+io-(Ao*ro+du*Ja+jd*io),f[15]=1,f}function Vt(f,I){var pe=I[0],we=I[1],Le=I[2],Ke=I[3],qe=pe+pe,ft=we+we,_t=Le+Le,Dt=pe*qe,Kt=we*qe,dn=we*ft,vn=Le*qe,gn=Le*ft,$n=Le*_t,rr=Ke*qe,Sn=Ke*ft,_r=Ke*_t;return f[0]=1-dn-$n,f[1]=Kt+_r,f[2]=vn-Sn,f[3]=0,f[4]=Kt-_r,f[5]=1-Dt-$n,f[6]=gn+rr,f[7]=0,f[8]=vn+Sn,f[9]=gn-rr,f[10]=1-Dt-dn,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function N(f,I,pe,we,Le,Ke,qe){var ft=1/(pe-I),_t=1/(Le-we),Dt=1/(Ke-qe);return f[0]=2*Ke*ft,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=2*Ke*_t,f[6]=0,f[7]=0,f[8]=(pe+I)*ft,f[9]=(Le+we)*_t,f[10]=(qe+Ke)*Dt,f[11]=-1,f[12]=0,f[13]=0,f[14]=qe*Ke*2*Dt,f[15]=0,f}function Xe(f,I,pe,we,Le){var qe,Ke=1/Math.tan(I/2);return f[0]=Ke/pe,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=Ke,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=-1,f[12]=0,f[13]=0,f[15]=0,null!=Le&&Le!==1/0?(f[10]=(Le+we)*(qe=1/(we-Le)),f[14]=2*Le*we*qe):(f[10]=-1,f[14]=-2*we),f}var Ye=Xe;function Qe(f,I,pe,we,Le){var qe,Ke=1/Math.tan(I/2);return f[0]=Ke/pe,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=Ke,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=-1,f[12]=0,f[13]=0,f[15]=0,null!=Le&&Le!==1/0?(f[10]=Le*(qe=1/(we-Le)),f[14]=Le*we*qe):(f[10]=-1,f[14]=-we),f}function Et(f,I,pe,we){var Le=Math.tan(I.upDegrees*Math.PI/180),Ke=Math.tan(I.downDegrees*Math.PI/180),qe=Math.tan(I.leftDegrees*Math.PI/180),ft=Math.tan(I.rightDegrees*Math.PI/180),_t=2/(qe+ft),Dt=2/(Le+Ke);return f[0]=_t,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=Dt,f[6]=0,f[7]=0,f[8]=-(qe-ft)*_t*.5,f[9]=(Le-Ke)*Dt*.5,f[10]=we/(pe-we),f[11]=-1,f[12]=0,f[13]=0,f[14]=we*pe/(pe-we),f[15]=0,f}function nn(f,I,pe,we,Le,Ke,qe){var ft=1/(I-pe),_t=1/(we-Le),Dt=1/(Ke-qe);return f[0]=-2*ft,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=-2*_t,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=2*Dt,f[11]=0,f[12]=(I+pe)*ft,f[13]=(Le+we)*_t,f[14]=(qe+Ke)*Dt,f[15]=1,f}var Je=nn;function Wt(f,I,pe,we,Le,Ke,qe){var ft=1/(I-pe),_t=1/(we-Le),Dt=1/(Ke-qe);return f[0]=-2*ft,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=-2*_t,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=Dt,f[11]=0,f[12]=(I+pe)*ft,f[13]=(Le+we)*_t,f[14]=Ke*Dt,f[15]=1,f}function yn(f,I,pe,we){var Le,Ke,qe,ft,_t,Dt,Kt,dn,vn,gn,$n=I[0],rr=I[1],Sn=I[2],_r=we[0],wi=we[1],Ei=we[2],li=pe[0],Yr=pe[1],ai=pe[2];return Math.abs($n-li)<b.EPSILON&&Math.abs(rr-Yr)<b.EPSILON&&Math.abs(Sn-ai)<b.EPSILON?Xi(f):(Kt=$n-li,dn=rr-Yr,vn=Sn-ai,Le=wi*(vn*=gn=1/Math.hypot(Kt,dn,vn))-Ei*(dn*=gn),Ke=Ei*(Kt*=gn)-_r*vn,qe=_r*dn-wi*Kt,(gn=Math.hypot(Le,Ke,qe))?(Le*=gn=1/gn,Ke*=gn,qe*=gn):(Le=0,Ke=0,qe=0),ft=dn*qe-vn*Ke,_t=vn*Le-Kt*qe,Dt=Kt*Ke-dn*Le,(gn=Math.hypot(ft,_t,Dt))?(ft*=gn=1/gn,_t*=gn,Dt*=gn):(ft=0,_t=0,Dt=0),f[0]=Le,f[1]=ft,f[2]=Kt,f[3]=0,f[4]=Ke,f[5]=_t,f[6]=dn,f[7]=0,f[8]=qe,f[9]=Dt,f[10]=vn,f[11]=0,f[12]=-(Le*$n+Ke*rr+qe*Sn),f[13]=-(ft*$n+_t*rr+Dt*Sn),f[14]=-(Kt*$n+dn*rr+vn*Sn),f[15]=1,f)}function Dn(f,I,pe,we){var Le=I[0],Ke=I[1],qe=I[2],ft=we[0],_t=we[1],Dt=we[2],Kt=Le-pe[0],dn=Ke-pe[1],vn=qe-pe[2],gn=Kt*Kt+dn*dn+vn*vn;gn>0&&(Kt*=gn=1/Math.sqrt(gn),dn*=gn,vn*=gn);var $n=_t*vn-Dt*dn,rr=Dt*Kt-ft*vn,Sn=ft*dn-_t*Kt;return(gn=$n*$n+rr*rr+Sn*Sn)>0&&($n*=gn=1/Math.sqrt(gn),rr*=gn,Sn*=gn),f[0]=$n,f[1]=rr,f[2]=Sn,f[3]=0,f[4]=dn*Sn-vn*rr,f[5]=vn*$n-Kt*Sn,f[6]=Kt*rr-dn*$n,f[7]=0,f[8]=Kt,f[9]=dn,f[10]=vn,f[11]=0,f[12]=Le,f[13]=Ke,f[14]=qe,f[15]=1,f}function Rn(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"}function Ir(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])}function Yn(f,I,pe){return f[0]=I[0]+pe[0],f[1]=I[1]+pe[1],f[2]=I[2]+pe[2],f[3]=I[3]+pe[3],f[4]=I[4]+pe[4],f[5]=I[5]+pe[5],f[6]=I[6]+pe[6],f[7]=I[7]+pe[7],f[8]=I[8]+pe[8],f[9]=I[9]+pe[9],f[10]=I[10]+pe[10],f[11]=I[11]+pe[11],f[12]=I[12]+pe[12],f[13]=I[13]+pe[13],f[14]=I[14]+pe[14],f[15]=I[15]+pe[15],f}function er(f,I,pe){return f[0]=I[0]-pe[0],f[1]=I[1]-pe[1],f[2]=I[2]-pe[2],f[3]=I[3]-pe[3],f[4]=I[4]-pe[4],f[5]=I[5]-pe[5],f[6]=I[6]-pe[6],f[7]=I[7]-pe[7],f[8]=I[8]-pe[8],f[9]=I[9]-pe[9],f[10]=I[10]-pe[10],f[11]=I[11]-pe[11],f[12]=I[12]-pe[12],f[13]=I[13]-pe[13],f[14]=I[14]-pe[14],f[15]=I[15]-pe[15],f}function Gr(f,I,pe){return f[0]=I[0]*pe,f[1]=I[1]*pe,f[2]=I[2]*pe,f[3]=I[3]*pe,f[4]=I[4]*pe,f[5]=I[5]*pe,f[6]=I[6]*pe,f[7]=I[7]*pe,f[8]=I[8]*pe,f[9]=I[9]*pe,f[10]=I[10]*pe,f[11]=I[11]*pe,f[12]=I[12]*pe,f[13]=I[13]*pe,f[14]=I[14]*pe,f[15]=I[15]*pe,f}function Pr(f,I,pe,we){return f[0]=I[0]+pe[0]*we,f[1]=I[1]+pe[1]*we,f[2]=I[2]+pe[2]*we,f[3]=I[3]+pe[3]*we,f[4]=I[4]+pe[4]*we,f[5]=I[5]+pe[5]*we,f[6]=I[6]+pe[6]*we,f[7]=I[7]+pe[7]*we,f[8]=I[8]+pe[8]*we,f[9]=I[9]+pe[9]*we,f[10]=I[10]+pe[10]*we,f[11]=I[11]+pe[11]*we,f[12]=I[12]+pe[12]*we,f[13]=I[13]+pe[13]*we,f[14]=I[14]+pe[14]*we,f[15]=I[15]+pe[15]*we,f}function Ht(f,I){return f[0]===I[0]&&f[1]===I[1]&&f[2]===I[2]&&f[3]===I[3]&&f[4]===I[4]&&f[5]===I[5]&&f[6]===I[6]&&f[7]===I[7]&&f[8]===I[8]&&f[9]===I[9]&&f[10]===I[10]&&f[11]===I[11]&&f[12]===I[12]&&f[13]===I[13]&&f[14]===I[14]&&f[15]===I[15]}function Ln(f,I){var pe=f[0],we=f[1],Le=f[2],Ke=f[3],qe=f[4],ft=f[5],_t=f[6],Dt=f[7],Kt=f[8],dn=f[9],vn=f[10],gn=f[11],$n=f[12],rr=f[13],Sn=f[14],_r=f[15],wi=I[0],Ei=I[1],li=I[2],Yr=I[3],ai=I[4],fo=I[5],ro=I[6],Ja=I[7],io=I[8],ao=I[9],yo=I[10],Ao=I[11],ea=I[12],Aa=I[13],du=I[14],Il=I[15];return Math.abs(pe-wi)<=b.EPSILON*Math.max(1,Math.abs(pe),Math.abs(wi))&&Math.abs(we-Ei)<=b.EPSILON*Math.max(1,Math.abs(we),Math.abs(Ei))&&Math.abs(Le-li)<=b.EPSILON*Math.max(1,Math.abs(Le),Math.abs(li))&&Math.abs(Ke-Yr)<=b.EPSILON*Math.max(1,Math.abs(Ke),Math.abs(Yr))&&Math.abs(qe-ai)<=b.EPSILON*Math.max(1,Math.abs(qe),Math.abs(ai))&&Math.abs(ft-fo)<=b.EPSILON*Math.max(1,Math.abs(ft),Math.abs(fo))&&Math.abs(_t-ro)<=b.EPSILON*Math.max(1,Math.abs(_t),Math.abs(ro))&&Math.abs(Dt-Ja)<=b.EPSILON*Math.max(1,Math.abs(Dt),Math.abs(Ja))&&Math.abs(Kt-io)<=b.EPSILON*Math.max(1,Math.abs(Kt),Math.abs(io))&&Math.abs(dn-ao)<=b.EPSILON*Math.max(1,Math.abs(dn),Math.abs(ao))&&Math.abs(vn-yo)<=b.EPSILON*Math.max(1,Math.abs(vn),Math.abs(yo))&&Math.abs(gn-Ao)<=b.EPSILON*Math.max(1,Math.abs(gn),Math.abs(Ao))&&Math.abs($n-ea)<=b.EPSILON*Math.max(1,Math.abs($n),Math.abs(ea))&&Math.abs(rr-Aa)<=b.EPSILON*Math.max(1,Math.abs(rr),Math.abs(Aa))&&Math.abs(Sn-du)<=b.EPSILON*Math.max(1,Math.abs(Sn),Math.abs(du))&&Math.abs(_r-Il)<=b.EPSILON*Math.max(1,Math.abs(_r),Math.abs(Il))}var Vn=Dr,cn=er,Lr=j(3454);function pr(){var f=new b.ARRAY_TYPE(4);return b.ARRAY_TYPE!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0),f}function Ct(f){var I=new b.ARRAY_TYPE(4);return I[0]=f[0],I[1]=f[1],I[2]=f[2],I[3]=f[3],I}function Oe(f,I,pe,we){var Le=new b.ARRAY_TYPE(4);return Le[0]=f,Le[1]=I,Le[2]=pe,Le[3]=we,Le}function Pe(f,I){return f[0]=I[0],f[1]=I[1],f[2]=I[2],f[3]=I[3],f}function Ot(f,I,pe,we,Le){return f[0]=I,f[1]=pe,f[2]=we,f[3]=Le,f}function ht(f,I,pe){return f[0]=I[0]+pe[0],f[1]=I[1]+pe[1],f[2]=I[2]+pe[2],f[3]=I[3]+pe[3],f}function At(f,I,pe){return f[0]=I[0]-pe[0],f[1]=I[1]-pe[1],f[2]=I[2]-pe[2],f[3]=I[3]-pe[3],f}function on(f,I,pe){return f[0]=I[0]*pe[0],f[1]=I[1]*pe[1],f[2]=I[2]*pe[2],f[3]=I[3]*pe[3],f}function En(f,I,pe){return f[0]=I[0]/pe[0],f[1]=I[1]/pe[1],f[2]=I[2]/pe[2],f[3]=I[3]/pe[3],f}function Fn(f,I){return f[0]=Math.ceil(I[0]),f[1]=Math.ceil(I[1]),f[2]=Math.ceil(I[2]),f[3]=Math.ceil(I[3]),f}function xr(f,I){return f[0]=Math.floor(I[0]),f[1]=Math.floor(I[1]),f[2]=Math.floor(I[2]),f[3]=Math.floor(I[3]),f}function fr(f,I,pe){return f[0]=Math.min(I[0],pe[0]),f[1]=Math.min(I[1],pe[1]),f[2]=Math.min(I[2],pe[2]),f[3]=Math.min(I[3],pe[3]),f}function Fr(f,I,pe){return f[0]=Math.max(I[0],pe[0]),f[1]=Math.max(I[1],pe[1]),f[2]=Math.max(I[2],pe[2]),f[3]=Math.max(I[3],pe[3]),f}function Ai(f,I){return f[0]=Math.round(I[0]),f[1]=Math.round(I[1]),f[2]=Math.round(I[2]),f[3]=Math.round(I[3]),f}function ca(f,I,pe){return f[0]=I[0]*pe,f[1]=I[1]*pe,f[2]=I[2]*pe,f[3]=I[3]*pe,f}function wa(f,I,pe,we){return f[0]=I[0]+pe[0]*we,f[1]=I[1]+pe[1]*we,f[2]=I[2]+pe[2]*we,f[3]=I[3]+pe[3]*we,f}function ja(f,I){return Math.hypot(I[0]-f[0],I[1]-f[1],I[2]-f[2],I[3]-f[3])}function no(f,I){var pe=I[0]-f[0],we=I[1]-f[1],Le=I[2]-f[2],Ke=I[3]-f[3];return pe*pe+we*we+Le*Le+Ke*Ke}function Bl(f){return Math.hypot(f[0],f[1],f[2],f[3])}function ko(f){var I=f[0],pe=f[1],we=f[2],Le=f[3];return I*I+pe*pe+we*we+Le*Le}function xo(f,I){return f[0]=-I[0],f[1]=-I[1],f[2]=-I[2],f[3]=-I[3],f}function zl(f,I){return f[0]=1/I[0],f[1]=1/I[1],f[2]=1/I[2],f[3]=1/I[3],f}function iu(f,I){var pe=I[0],we=I[1],Le=I[2],Ke=I[3],qe=pe*pe+we*we+Le*Le+Ke*Ke;return qe>0&&(qe=1/Math.sqrt(qe)),f[0]=pe*qe,f[1]=we*qe,f[2]=Le*qe,f[3]=Ke*qe,f}function au(f,I){return f[0]*I[0]+f[1]*I[1]+f[2]*I[2]+f[3]*I[3]}function Co(f,I,pe,we){var Le=pe[0]*we[1]-pe[1]*we[0],Ke=pe[0]*we[2]-pe[2]*we[0],qe=pe[0]*we[3]-pe[3]*we[0],ft=pe[1]*we[2]-pe[2]*we[1],_t=pe[1]*we[3]-pe[3]*we[1],Dt=pe[2]*we[3]-pe[3]*we[2],Kt=I[0],dn=I[1],vn=I[2],gn=I[3];return f[0]=dn*Dt-vn*_t+gn*ft,f[1]=-Kt*Dt+vn*qe-gn*Ke,f[2]=Kt*_t-dn*qe+gn*Le,f[3]=-Kt*ft+dn*Ke-vn*Le,f}function Ui(f,I,pe,we){var Le=I[0],Ke=I[1],qe=I[2],ft=I[3];return f[0]=Le+we*(pe[0]-Le),f[1]=Ke+we*(pe[1]-Ke),f[2]=qe+we*(pe[2]-qe),f[3]=ft+we*(pe[3]-ft),f}function zu(f,I){var pe,we,Le,Ke,qe,ft;I=I||1;do{qe=(pe=2*b.RANDOM()-1)*pe+(we=2*b.RANDOM()-1)*we}while(qe>=1);do{ft=(Le=2*b.RANDOM()-1)*Le+(Ke=2*b.RANDOM()-1)*Ke}while(ft>=1);var _t=Math.sqrt((1-qe)/ft);return f[0]=I*pe,f[1]=I*we,f[2]=I*Le*_t,f[3]=I*Ke*_t,f}function Rf(f,I,pe){var we=I[0],Le=I[1],Ke=I[2],qe=I[3];return f[0]=pe[0]*we+pe[4]*Le+pe[8]*Ke+pe[12]*qe,f[1]=pe[1]*we+pe[5]*Le+pe[9]*Ke+pe[13]*qe,f[2]=pe[2]*we+pe[6]*Le+pe[10]*Ke+pe[14]*qe,f[3]=pe[3]*we+pe[7]*Le+pe[11]*Ke+pe[15]*qe,f}function Vu(f,I,pe){var we=I[0],Le=I[1],Ke=I[2],qe=pe[0],ft=pe[1],_t=pe[2],Dt=pe[3],Kt=Dt*we+ft*Ke-_t*Le,dn=Dt*Le+_t*we-qe*Ke,vn=Dt*Ke+qe*Le-ft*we,gn=-qe*we-ft*Le-_t*Ke;return f[0]=Kt*Dt+gn*-qe+dn*-_t-vn*-ft,f[1]=dn*Dt+gn*-ft+vn*-qe-Kt*-_t,f[2]=vn*Dt+gn*-_t+Kt*-ft-dn*-qe,f[3]=I[3],f}function vr(f){return f[0]=0,f[1]=0,f[2]=0,f[3]=0,f}function Lf(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"}function Ii(f,I){return f[0]===I[0]&&f[1]===I[1]&&f[2]===I[2]&&f[3]===I[3]}function us(f,I){var pe=f[0],we=f[1],Le=f[2],Ke=f[3],qe=I[0],ft=I[1],_t=I[2],Dt=I[3];return Math.abs(pe-qe)<=b.EPSILON*Math.max(1,Math.abs(pe),Math.abs(qe))&&Math.abs(we-ft)<=b.EPSILON*Math.max(1,Math.abs(we),Math.abs(ft))&&Math.abs(Le-_t)<=b.EPSILON*Math.max(1,Math.abs(Le),Math.abs(_t))&&Math.abs(Ke-Dt)<=b.EPSILON*Math.max(1,Math.abs(Ke),Math.abs(Dt))}var f,dl=At,ju=on,Bd=En,Vl=ja,xs=no,Mc=Bl,ou=ko,jl=(f=pr(),function(I,pe,we,Le,Ke,qe){var ft,_t;for(pe||(pe=4),we||(we=0),_t=Le?Math.min(Le*pe+we,I.length):I.length,ft=we;ft<_t;ft+=pe)f[0]=I[ft],f[1]=I[ft+1],f[2]=I[ft+2],f[3]=I[ft+3],Ke(f,f,qe),I[ft]=f[0],I[ft+1]=f[1],I[ft+2]=f[2],I[ft+3]=f[3];return I});function fl(){var f=new b.ARRAY_TYPE(4);return b.ARRAY_TYPE!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0),f[3]=1,f}function Xr(f){return f[0]=0,f[1]=0,f[2]=0,f[3]=1,f}function Ul(f,I,pe){pe*=.5;var we=Math.sin(pe);return f[0]=we*I[0],f[1]=we*I[1],f[2]=we*I[2],f[3]=Math.cos(pe),f}function Uu(f,I){var pe=2*Math.acos(I[3]),we=Math.sin(pe/2);return we>b.EPSILON?(f[0]=I[0]/we,f[1]=I[1]/we,f[2]=I[2]/we):(f[0]=1,f[1]=0,f[2]=0),pe}function wo(f,I){var pe=Wl(f,I);return Math.acos(2*pe*pe-1)}function ds(f,I,pe){var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=pe[0],_t=pe[1],Dt=pe[2],Kt=pe[3];return f[0]=we*Kt+qe*ft+Le*Dt-Ke*_t,f[1]=Le*Kt+qe*_t+Ke*ft-we*Dt,f[2]=Ke*Kt+qe*Dt+we*_t-Le*ft,f[3]=qe*Kt-we*ft-Le*_t-Ke*Dt,f}function Ls(f,I,pe){pe*=.5;var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=Math.sin(pe),_t=Math.cos(pe);return f[0]=we*_t+qe*ft,f[1]=Le*_t+Ke*ft,f[2]=Ke*_t-Le*ft,f[3]=qe*_t-we*ft,f}function fa(f,I,pe){pe*=.5;var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=Math.sin(pe),_t=Math.cos(pe);return f[0]=we*_t-Ke*ft,f[1]=Le*_t+qe*ft,f[2]=Ke*_t+we*ft,f[3]=qe*_t-Le*ft,f}function Cc(f,I,pe){pe*=.5;var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=Math.sin(pe),_t=Math.cos(pe);return f[0]=we*_t+Le*ft,f[1]=Le*_t-we*ft,f[2]=Ke*_t+qe*ft,f[3]=qe*_t-Ke*ft,f}function Gu(f,I){var pe=I[0],we=I[1],Le=I[2];return f[0]=pe,f[1]=we,f[2]=Le,f[3]=Math.sqrt(Math.abs(1-pe*pe-we*we-Le*Le)),f}function zd(f,I){var pe=I[0],we=I[1],Le=I[2],Ke=I[3],qe=Math.sqrt(pe*pe+we*we+Le*Le),ft=Math.exp(Ke),_t=qe>0?ft*Math.sin(qe)/qe:0;return f[0]=pe*_t,f[1]=we*_t,f[2]=Le*_t,f[3]=ft*Math.cos(qe),f}function Dl(f,I){var pe=I[0],we=I[1],Le=I[2],Ke=I[3],qe=Math.sqrt(pe*pe+we*we+Le*Le),ft=qe>0?Math.atan2(qe,Ke)/qe:0;return f[0]=pe*ft,f[1]=we*ft,f[2]=Le*ft,f[3]=.5*Math.log(pe*pe+we*we+Le*Le+Ke*Ke),f}function Gl(f,I,pe){return Dl(f,I),$o(f,f,pe),zd(f,f),f}function hl(f,I,pe,we){var vn,gn,$n,rr,Sn,Le=I[0],Ke=I[1],qe=I[2],ft=I[3],_t=pe[0],Dt=pe[1],Kt=pe[2],dn=pe[3];return(gn=Le*_t+Ke*Dt+qe*Kt+ft*dn)<0&&(gn=-gn,_t=-_t,Dt=-Dt,Kt=-Kt,dn=-dn),1-gn>b.EPSILON?(vn=Math.acos(gn),$n=Math.sin(vn),rr=Math.sin((1-we)*vn)/$n,Sn=Math.sin(we*vn)/$n):(rr=1-we,Sn=we),f[0]=rr*Le+Sn*_t,f[1]=rr*Ke+Sn*Dt,f[2]=rr*qe+Sn*Kt,f[3]=rr*ft+Sn*dn,f}function Ea(f){var I=b.RANDOM(),pe=b.RANDOM(),we=b.RANDOM(),Le=Math.sqrt(1-I),Ke=Math.sqrt(I);return f[0]=Le*Math.sin(2*Math.PI*pe),f[1]=Le*Math.cos(2*Math.PI*pe),f[2]=Ke*Math.sin(2*Math.PI*we),f[3]=Ke*Math.cos(2*Math.PI*we),f}function Hu(f,I){var pe=I[0],we=I[1],Le=I[2],Ke=I[3],qe=pe*pe+we*we+Le*Le+Ke*Ke,ft=qe?1/qe:0;return f[0]=-pe*ft,f[1]=-we*ft,f[2]=-Le*ft,f[3]=Ke*ft,f}function Vd(f,I){return f[0]=-I[0],f[1]=-I[1],f[2]=-I[2],f[3]=I[3],f}function ws(f,I){var we,pe=I[0]+I[4]+I[8];if(pe>0)we=Math.sqrt(pe+1),f[3]=.5*we,f[0]=(I[5]-I[7])*(we=.5/we),f[1]=(I[6]-I[2])*we,f[2]=(I[1]-I[3])*we;else{var Le=0;I[4]>I[0]&&(Le=1),I[8]>I[3*Le+Le]&&(Le=2);var Ke=(Le+1)%3,qe=(Le+2)%3;we=Math.sqrt(I[3*Le+Le]-I[3*Ke+Ke]-I[3*qe+qe]+1),f[Le]=.5*we,f[3]=(I[3*Ke+qe]-I[3*qe+Ke])*(we=.5/we),f[Ke]=(I[3*Ke+Le]+I[3*Le+Ke])*we,f[qe]=(I[3*qe+Le]+I[3*Le+qe])*we}return f}function pl(f,I,pe,we){var Le=.5*Math.PI/180;I*=Le,pe*=Le,we*=Le;var Ke=Math.sin(I),qe=Math.cos(I),ft=Math.sin(pe),_t=Math.cos(pe),Dt=Math.sin(we),Kt=Math.cos(we);return f[0]=Ke*_t*Kt-qe*ft*Dt,f[1]=qe*ft*Kt+Ke*_t*Dt,f[2]=qe*_t*Dt-Ke*ft*Kt,f[3]=qe*_t*Kt+Ke*ft*Dt,f}function Ks(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"}var qs=Ct,wn=Oe,Es=Pe,ui=Ot,Yo=ht,Hl=ds,$o=ca,Wl=au,Dc=Ui,Tc=Bl,Fs=Tc,No=ko,Xo=No,fs=iu,Ji=Ii,Sa=us,Tl=function(){var f=Lr.create(),I=Lr.fromValues(1,0,0),pe=Lr.fromValues(0,1,0);return function(we,Le,Ke){var qe=Lr.dot(Le,Ke);return qe<-.999999?(Lr.cross(f,I,Le),Lr.len(f)<1e-6&&Lr.cross(f,pe,Le),Lr.normalize(f,f),Ul(we,f,Math.PI),we):qe>.999999?(we[0]=0,we[1]=0,we[2]=0,we[3]=1,we):(Lr.cross(f,Le,Ke),we[0]=f[0],we[1]=f[1],we[2]=f[2],we[3]=1+qe,fs(we,we))}}(),su=function(){var f=fl(),I=fl();return function(pe,we,Le,Ke,qe,ft){return hl(f,we,qe,ft),hl(I,Le,Ke,ft),hl(pe,f,I,2*ft*(1-ft)),pe}}(),Po=function(){var f=qn.create();return function(I,pe,we,Le){return f[0]=we[0],f[3]=we[1],f[6]=we[2],f[1]=Le[0],f[4]=Le[1],f[7]=Le[2],f[2]=-pe[0],f[5]=-pe[1],f[8]=-pe[2],fs(I,ws(I,f))}}();function hs(){var f=new b.ARRAY_TYPE(8);return b.ARRAY_TYPE!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0),f[3]=1,f}function Bs(f){var I=new b.ARRAY_TYPE(8);return I[0]=f[0],I[1]=f[1],I[2]=f[2],I[3]=f[3],I[4]=f[4],I[5]=f[5],I[6]=f[6],I[7]=f[7],I}function vl(f,I,pe,we,Le,Ke,qe,ft){var _t=new b.ARRAY_TYPE(8);return _t[0]=f,_t[1]=I,_t[2]=pe,_t[3]=we,_t[4]=Le,_t[5]=Ke,_t[6]=qe,_t[7]=ft,_t}function ua(f,I,pe,we,Le,Ke,qe){var ft=new b.ARRAY_TYPE(8);ft[0]=f,ft[1]=I,ft[2]=pe,ft[3]=we;var _t=.5*Le,Dt=.5*Ke,Kt=.5*qe;return ft[4]=_t*we+Dt*pe-Kt*I,ft[5]=Dt*we+Kt*f-_t*pe,ft[6]=Kt*we+_t*I-Dt*f,ft[7]=-_t*f-Dt*I-Kt*pe,ft}function Yl(f,I,pe){var we=.5*pe[0],Le=.5*pe[1],Ke=.5*pe[2],qe=I[0],ft=I[1],_t=I[2],Dt=I[3];return f[0]=qe,f[1]=ft,f[2]=_t,f[3]=Dt,f[4]=we*Dt+Le*_t-Ke*ft,f[5]=Le*Dt+Ke*qe-we*_t,f[6]=Ke*Dt+we*ft-Le*qe,f[7]=-we*qe-Le*ft-Ke*_t,f}function zs(f,I){return f[0]=0,f[1]=0,f[2]=0,f[3]=1,f[4]=.5*I[0],f[5]=.5*I[1],f[6]=.5*I[2],f[7]=0,f}function Zs(f,I){return f[0]=I[0],f[1]=I[1],f[2]=I[2],f[3]=I[3],f[4]=0,f[5]=0,f[6]=0,f[7]=0,f}function Oi(f,I){var pe=fl();We(pe,I);var we=new b.ARRAY_TYPE(3);return fe(we,I),Yl(f,pe,we),f}function Ac(f,I){return f[0]=I[0],f[1]=I[1],f[2]=I[2],f[3]=I[3],f[4]=I[4],f[5]=I[5],f[6]=I[6],f[7]=I[7],f}function Vs(f){return f[0]=0,f[1]=0,f[2]=0,f[3]=1,f[4]=0,f[5]=0,f[6]=0,f[7]=0,f}function xe(f,I,pe,we,Le,Ke,qe,ft,_t){return f[0]=I,f[1]=pe,f[2]=we,f[3]=Le,f[4]=Ke,f[5]=qe,f[6]=ft,f[7]=_t,f}var bt=Es;function kt(f,I){return f[0]=I[4],f[1]=I[5],f[2]=I[6],f[3]=I[7],f}var Xt=Es;function _n(f,I){return f[4]=I[0],f[5]=I[1],f[6]=I[2],f[7]=I[3],f}function or(f,I){var pe=I[4],we=I[5],Le=I[6],Ke=I[7],qe=-I[0],ft=-I[1],_t=-I[2],Dt=I[3];return f[0]=2*(pe*Dt+Ke*qe+we*_t-Le*ft),f[1]=2*(we*Dt+Ke*ft+Le*qe-pe*_t),f[2]=2*(Le*Dt+Ke*_t+pe*ft-we*qe),f}function Sr(f,I,pe){var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=.5*pe[0],_t=.5*pe[1],Dt=.5*pe[2],Kt=I[4],dn=I[5],vn=I[6],gn=I[7];return f[0]=we,f[1]=Le,f[2]=Ke,f[3]=qe,f[4]=qe*ft+Le*Dt-Ke*_t+Kt,f[5]=qe*_t+Ke*ft-we*Dt+dn,f[6]=qe*Dt+we*_t-Le*ft+vn,f[7]=-we*ft-Le*_t-Ke*Dt+gn,f}function qi(f,I,pe){var we=-I[0],Le=-I[1],Ke=-I[2],qe=I[3],ft=I[4],_t=I[5],Dt=I[6],Kt=I[7],dn=ft*qe+Kt*we+_t*Ke-Dt*Le,vn=_t*qe+Kt*Le+Dt*we-ft*Ke,gn=Dt*qe+Kt*Ke+ft*Le-_t*we,$n=Kt*qe-ft*we-_t*Le-Dt*Ke;return Ls(f,I,pe),f[4]=dn*(qe=f[3])+$n*(we=f[0])+vn*(Ke=f[2])-gn*(Le=f[1]),f[5]=vn*qe+$n*Le+gn*we-dn*Ke,f[6]=gn*qe+$n*Ke+dn*Le-vn*we,f[7]=$n*qe-dn*we-vn*Le-gn*Ke,f}function Ta(f,I,pe){var we=-I[0],Le=-I[1],Ke=-I[2],qe=I[3],ft=I[4],_t=I[5],Dt=I[6],Kt=I[7],dn=ft*qe+Kt*we+_t*Ke-Dt*Le,vn=_t*qe+Kt*Le+Dt*we-ft*Ke,gn=Dt*qe+Kt*Ke+ft*Le-_t*we,$n=Kt*qe-ft*we-_t*Le-Dt*Ke;return fa(f,I,pe),f[4]=dn*(qe=f[3])+$n*(we=f[0])+vn*(Ke=f[2])-gn*(Le=f[1]),f[5]=vn*qe+$n*Le+gn*we-dn*Ke,f[6]=gn*qe+$n*Ke+dn*Le-vn*we,f[7]=$n*qe-dn*we-vn*Le-gn*Ke,f}function uo(f,I,pe){var we=-I[0],Le=-I[1],Ke=-I[2],qe=I[3],ft=I[4],_t=I[5],Dt=I[6],Kt=I[7],dn=ft*qe+Kt*we+_t*Ke-Dt*Le,vn=_t*qe+Kt*Le+Dt*we-ft*Ke,gn=Dt*qe+Kt*Ke+ft*Le-_t*we,$n=Kt*qe-ft*we-_t*Le-Dt*Ke;return Cc(f,I,pe),f[4]=dn*(qe=f[3])+$n*(we=f[0])+vn*(Ke=f[2])-gn*(Le=f[1]),f[5]=vn*qe+$n*Le+gn*we-dn*Ke,f[6]=gn*qe+$n*Ke+dn*Le-vn*we,f[7]=$n*qe-dn*we-vn*Le-gn*Ke,f}function Ua(f,I,pe){var we=pe[0],Le=pe[1],Ke=pe[2],qe=pe[3],ft=I[0],_t=I[1],Dt=I[2],Kt=I[3];return f[0]=ft*qe+Kt*we+_t*Ke-Dt*Le,f[1]=_t*qe+Kt*Le+Dt*we-ft*Ke,f[2]=Dt*qe+Kt*Ke+ft*Le-_t*we,f[3]=Kt*qe-ft*we-_t*Le-Dt*Ke,f[4]=(ft=I[4])*qe+(Kt=I[7])*we+(_t=I[5])*Ke-(Dt=I[6])*Le,f[5]=_t*qe+Kt*Le+Dt*we-ft*Ke,f[6]=Dt*qe+Kt*Ke+ft*Le-_t*we,f[7]=Kt*qe-ft*we-_t*Le-Dt*Ke,f}function Tr(f,I,pe){var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=pe[0],_t=pe[1],Dt=pe[2],Kt=pe[3];return f[0]=we*Kt+qe*ft+Le*Dt-Ke*_t,f[1]=Le*Kt+qe*_t+Ke*ft-we*Dt,f[2]=Ke*Kt+qe*Dt+we*_t-Le*ft,f[3]=qe*Kt-we*ft-Le*_t-Ke*Dt,f[4]=we*(Kt=pe[7])+qe*(ft=pe[4])+Le*(Dt=pe[6])-Ke*(_t=pe[5]),f[5]=Le*Kt+qe*_t+Ke*ft-we*Dt,f[6]=Ke*Kt+qe*Dt+we*_t-Le*ft,f[7]=qe*Kt-we*ft-Le*_t-Ke*Dt,f}function xi(f,I,pe,we){if(Math.abs(we)<b.EPSILON)return Ac(f,I);var Le=Math.hypot(pe[0],pe[1],pe[2]);we*=.5;var Ke=Math.sin(we),qe=Ke*pe[0]/Le,ft=Ke*pe[1]/Le,_t=Ke*pe[2]/Le,Dt=Math.cos(we),Kt=I[0],dn=I[1],vn=I[2],gn=I[3];f[0]=Kt*Dt+gn*qe+dn*_t-vn*ft,f[1]=dn*Dt+gn*ft+vn*qe-Kt*_t,f[2]=vn*Dt+gn*_t+Kt*ft-dn*qe,f[3]=gn*Dt-Kt*qe-dn*ft-vn*_t;var $n=I[4],rr=I[5],Sn=I[6],_r=I[7];return f[4]=$n*Dt+_r*qe+rr*_t-Sn*ft,f[5]=rr*Dt+_r*ft+Sn*qe-$n*_t,f[6]=Sn*Dt+_r*_t+$n*ft-rr*qe,f[7]=_r*Dt-$n*qe-rr*ft-Sn*_t,f}function Oa(f,I,pe){return f[0]=I[0]+pe[0],f[1]=I[1]+pe[1],f[2]=I[2]+pe[2],f[3]=I[3]+pe[3],f[4]=I[4]+pe[4],f[5]=I[5]+pe[5],f[6]=I[6]+pe[6],f[7]=I[7]+pe[7],f}function Do(f,I,pe){var we=I[0],Le=I[1],Ke=I[2],qe=I[3],ft=pe[4],_t=pe[5],Dt=pe[6],Kt=pe[7],dn=I[4],vn=I[5],gn=I[6],$n=I[7],rr=pe[0],Sn=pe[1],_r=pe[2],wi=pe[3];return f[0]=we*wi+qe*rr+Le*_r-Ke*Sn,f[1]=Le*wi+qe*Sn+Ke*rr-we*_r,f[2]=Ke*wi+qe*_r+we*Sn-Le*rr,f[3]=qe*wi-we*rr-Le*Sn-Ke*_r,f[4]=we*Kt+qe*ft+Le*Dt-Ke*_t+dn*wi+$n*rr+vn*_r-gn*Sn,f[5]=Le*Kt+qe*_t+Ke*ft-we*Dt+vn*wi+$n*Sn+gn*rr-dn*_r,f[6]=Ke*Kt+qe*Dt+we*_t-Le*ft+gn*wi+$n*_r+dn*Sn-vn*rr,f[7]=qe*Kt-we*ft-Le*_t-Ke*Dt+$n*wi-dn*rr-vn*Sn-gn*_r,f}var js=Do;function To(f,I,pe){return f[0]=I[0]*pe,f[1]=I[1]*pe,f[2]=I[2]*pe,f[3]=I[3]*pe,f[4]=I[4]*pe,f[5]=I[5]*pe,f[6]=I[6]*pe,f[7]=I[7]*pe,f}var Al=Wl;function Ya(f,I,pe,we){var Le=1-we;return Al(I,pe)<0&&(we=-we),f[0]=I[0]*Le+pe[0]*we,f[1]=I[1]*Le+pe[1]*we,f[2]=I[2]*Le+pe[2]*we,f[3]=I[3]*Le+pe[3]*we,f[4]=I[4]*Le+pe[4]*we,f[5]=I[5]*Le+pe[5]*we,f[6]=I[6]*Le+pe[6]*we,f[7]=I[7]*Le+pe[7]*we,f}function Ic(f,I){var pe=Qs(I);return f[0]=-I[0]/pe,f[1]=-I[1]/pe,f[2]=-I[2]/pe,f[3]=I[3]/pe,f[4]=-I[4]/pe,f[5]=-I[5]/pe,f[6]=-I[6]/pe,f[7]=I[7]/pe,f}function lu(f,I){return f[0]=-I[0],f[1]=-I[1],f[2]=-I[2],f[3]=I[3],f[4]=-I[4],f[5]=-I[5],f[6]=-I[6],f[7]=I[7],f}var di=Tc,cu=di,Qs=No,Ko=Qs;function $l(f,I){var pe=Qs(I);if(pe>0){pe=Math.sqrt(pe);var we=I[0]/pe,Le=I[1]/pe,Ke=I[2]/pe,qe=I[3]/pe,ft=I[4],_t=I[5],Dt=I[6],Kt=I[7],dn=we*ft+Le*_t+Ke*Dt+qe*Kt;f[0]=we,f[1]=Le,f[2]=Ke,f[3]=qe,f[4]=(ft-we*dn)/pe,f[5]=(_t-Le*dn)/pe,f[6]=(Dt-Ke*dn)/pe,f[7]=(Kt-qe*dn)/pe}return f}function Ro(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"}function uu(f,I){return f[0]===I[0]&&f[1]===I[1]&&f[2]===I[2]&&f[3]===I[3]&&f[4]===I[4]&&f[5]===I[5]&&f[6]===I[6]&&f[7]===I[7]}function gl(f,I){var pe=f[0],we=f[1],Le=f[2],Ke=f[3],qe=f[4],ft=f[5],_t=f[6],Dt=f[7],Kt=I[0],dn=I[1],vn=I[2],gn=I[3],$n=I[4],rr=I[5],Sn=I[6],_r=I[7];return Math.abs(pe-Kt)<=b.EPSILON*Math.max(1,Math.abs(pe),Math.abs(Kt))&&Math.abs(we-dn)<=b.EPSILON*Math.max(1,Math.abs(we),Math.abs(dn))&&Math.abs(Le-vn)<=b.EPSILON*Math.max(1,Math.abs(Le),Math.abs(vn))&&Math.abs(Ke-gn)<=b.EPSILON*Math.max(1,Math.abs(Ke),Math.abs(gn))&&Math.abs(qe-$n)<=b.EPSILON*Math.max(1,Math.abs(qe),Math.abs($n))&&Math.abs(ft-rr)<=b.EPSILON*Math.max(1,Math.abs(ft),Math.abs(rr))&&Math.abs(_t-Sn)<=b.EPSILON*Math.max(1,Math.abs(_t),Math.abs(Sn))&&Math.abs(Dt-_r)<=b.EPSILON*Math.max(1,Math.abs(Dt),Math.abs(_r))}var Js=j(8235)},7543:(qt,z,j)=>{"use strict";j.r(z),j.d(z,{add:()=>se,adjoint:()=>g,clone:()=>O,copy:()=>P,create:()=>q,determinant:()=>S,equals:()=>ze,exactEquals:()=>Ae,frob:()=>ne,fromMat2d:()=>$,fromMat4:()=>B,fromQuat:()=>X,fromRotation:()=>ie,fromScaling:()=>te,fromTranslation:()=>L,fromValues:()=>T,identity:()=>x,invert:()=>_,mul:()=>oe,multiply:()=>w,multiplyScalar:()=>ge,multiplyScalarAndAdd:()=>Fe,normalFromMat4:()=>Z,projection:()=>Y,rotate:()=>A,scale:()=>k,set:()=>b,str:()=>ae,sub:()=>ce,subtract:()=>ve,translate:()=>E,transpose:()=>m});var R=j(5278);function q(){var H=new R.ARRAY_TYPE(9);return R.ARRAY_TYPE!=Float32Array&&(H[1]=0,H[2]=0,H[3]=0,H[5]=0,H[6]=0,H[7]=0),H[0]=1,H[4]=1,H[8]=1,H}function B(H,re){return H[0]=re[0],H[1]=re[1],H[2]=re[2],H[3]=re[4],H[4]=re[5],H[5]=re[6],H[6]=re[8],H[7]=re[9],H[8]=re[10],H}function O(H){var re=new R.ARRAY_TYPE(9);return re[0]=H[0],re[1]=H[1],re[2]=H[2],re[3]=H[3],re[4]=H[4],re[5]=H[5],re[6]=H[6],re[7]=H[7],re[8]=H[8],re}function P(H,re){return H[0]=re[0],H[1]=re[1],H[2]=re[2],H[3]=re[3],H[4]=re[4],H[5]=re[5],H[6]=re[6],H[7]=re[7],H[8]=re[8],H}function T(H,re,ye,Ce,Ie,Ue,pt,st,Ne){var lt=new R.ARRAY_TYPE(9);return lt[0]=H,lt[1]=re,lt[2]=ye,lt[3]=Ce,lt[4]=Ie,lt[5]=Ue,lt[6]=pt,lt[7]=st,lt[8]=Ne,lt}function b(H,re,ye,Ce,Ie,Ue,pt,st,Ne,lt){return H[0]=re,H[1]=ye,H[2]=Ce,H[3]=Ie,H[4]=Ue,H[5]=pt,H[6]=st,H[7]=Ne,H[8]=lt,H}function x(H){return H[0]=1,H[1]=0,H[2]=0,H[3]=0,H[4]=1,H[5]=0,H[6]=0,H[7]=0,H[8]=1,H}function m(H,re){if(H===re){var ye=re[1],Ce=re[2],Ie=re[5];H[1]=re[3],H[2]=re[6],H[3]=ye,H[5]=re[7],H[6]=Ce,H[7]=Ie}else H[0]=re[0],H[1]=re[3],H[2]=re[6],H[3]=re[1],H[4]=re[4],H[5]=re[7],H[6]=re[2],H[7]=re[5],H[8]=re[8];return H}function _(H,re){var ye=re[0],Ce=re[1],Ie=re[2],Ue=re[3],pt=re[4],st=re[5],Ne=re[6],lt=re[7],gt=re[8],$e=gt*pt-st*lt,dt=-gt*Ue+st*Ne,De=lt*Ue-pt*Ne,Be=ye*$e+Ce*dt+Ie*De;return Be?(H[0]=$e*(Be=1/Be),H[1]=(-gt*Ce+Ie*lt)*Be,H[2]=(st*Ce-Ie*pt)*Be,H[3]=dt*Be,H[4]=(gt*ye-Ie*Ne)*Be,H[5]=(-st*ye+Ie*Ue)*Be,H[6]=De*Be,H[7]=(-lt*ye+Ce*Ne)*Be,H[8]=(pt*ye-Ce*Ue)*Be,H):null}function g(H,re){var ye=re[0],Ce=re[1],Ie=re[2],Ue=re[3],pt=re[4],st=re[5],Ne=re[6],lt=re[7],gt=re[8];return H[0]=pt*gt-st*lt,H[1]=Ie*lt-Ce*gt,H[2]=Ce*st-Ie*pt,H[3]=st*Ne-Ue*gt,H[4]=ye*gt-Ie*Ne,H[5]=Ie*Ue-ye*st,H[6]=Ue*lt-pt*Ne,H[7]=Ce*Ne-ye*lt,H[8]=ye*pt-Ce*Ue,H}function S(H){var Ie=H[3],Ue=H[4],pt=H[5],st=H[6],Ne=H[7],lt=H[8];return H[0]*(lt*Ue-pt*Ne)+H[1]*(-lt*Ie+pt*st)+H[2]*(Ne*Ie-Ue*st)}function w(H,re,ye){var Ce=re[0],Ie=re[1],Ue=re[2],pt=re[3],st=re[4],Ne=re[5],lt=re[6],gt=re[7],$e=re[8],dt=ye[0],De=ye[1],Be=ye[2],vt=ye[3],Ve=ye[4],nt=ye[5],wt=ye[6],Bt=ye[7],pn=ye[8];return H[0]=dt*Ce+De*pt+Be*lt,H[1]=dt*Ie+De*st+Be*gt,H[2]=dt*Ue+De*Ne+Be*$e,H[3]=vt*Ce+Ve*pt+nt*lt,H[4]=vt*Ie+Ve*st+nt*gt,H[5]=vt*Ue+Ve*Ne+nt*$e,H[6]=wt*Ce+Bt*pt+pn*lt,H[7]=wt*Ie+Bt*st+pn*gt,H[8]=wt*Ue+Bt*Ne+pn*$e,H}function E(H,re,ye){var Ce=re[0],Ie=re[1],Ue=re[2],pt=re[3],st=re[4],Ne=re[5],lt=re[6],gt=re[7],$e=re[8],dt=ye[0],De=ye[1];return H[0]=Ce,H[1]=Ie,H[2]=Ue,H[3]=pt,H[4]=st,H[5]=Ne,H[6]=dt*Ce+De*pt+lt,H[7]=dt*Ie+De*st+gt,H[8]=dt*Ue+De*Ne+$e,H}function A(H,re,ye){var Ce=re[0],Ie=re[1],Ue=re[2],pt=re[3],st=re[4],Ne=re[5],lt=re[6],gt=re[7],$e=re[8],dt=Math.sin(ye),De=Math.cos(ye);return H[0]=De*Ce+dt*pt,H[1]=De*Ie+dt*st,H[2]=De*Ue+dt*Ne,H[3]=De*pt-dt*Ce,H[4]=De*st-dt*Ie,H[5]=De*Ne-dt*Ue,H[6]=lt,H[7]=gt,H[8]=$e,H}function k(H,re,ye){var Ce=ye[0],Ie=ye[1];return H[0]=Ce*re[0],H[1]=Ce*re[1],H[2]=Ce*re[2],H[3]=Ie*re[3],H[4]=Ie*re[4],H[5]=Ie*re[5],H[6]=re[6],H[7]=re[7],H[8]=re[8],H}function L(H,re){return H[0]=1,H[1]=0,H[2]=0,H[3]=0,H[4]=1,H[5]=0,H[6]=re[0],H[7]=re[1],H[8]=1,H}function ie(H,re){var ye=Math.sin(re),Ce=Math.cos(re);return H[0]=Ce,H[1]=ye,H[2]=0,H[3]=-ye,H[4]=Ce,H[5]=0,H[6]=0,H[7]=0,H[8]=1,H}function te(H,re){return H[0]=re[0],H[1]=0,H[2]=0,H[3]=0,H[4]=re[1],H[5]=0,H[6]=0,H[7]=0,H[8]=1,H}function $(H,re){return H[0]=re[0],H[1]=re[1],H[2]=0,H[3]=re[2],H[4]=re[3],H[5]=0,H[6]=re[4],H[7]=re[5],H[8]=1,H}function X(H,re){var ye=re[0],Ce=re[1],Ie=re[2],Ue=re[3],pt=ye+ye,st=Ce+Ce,Ne=Ie+Ie,lt=ye*pt,gt=Ce*pt,$e=Ce*st,dt=Ie*pt,De=Ie*st,Be=Ie*Ne,vt=Ue*pt,Ve=Ue*st,nt=Ue*Ne;return H[0]=1-$e-Be,H[3]=gt-nt,H[6]=dt+Ve,H[1]=gt+nt,H[4]=1-lt-Be,H[7]=De-vt,H[2]=dt-Ve,H[5]=De+vt,H[8]=1-lt-$e,H}function Z(H,re){var ye=re[0],Ce=re[1],Ie=re[2],Ue=re[3],pt=re[4],st=re[5],Ne=re[6],lt=re[7],gt=re[8],$e=re[9],dt=re[10],De=re[11],Be=re[12],vt=re[13],Ve=re[14],nt=re[15],wt=ye*st-Ce*pt,Bt=ye*Ne-Ie*pt,pn=ye*lt-Ue*pt,kn=Ce*Ne-Ie*st,je=Ce*lt-Ue*st,Hn=Ie*lt-Ue*Ne,Cr=gt*vt-$e*Be,qn=gt*Ve-dt*Be,Me=gt*nt-De*Be,Ur=$e*Ve-dt*vt,pi=$e*nt-De*vt,bi=dt*nt-De*Ve,ii=wt*bi-Bt*pi+pn*Ur+kn*Me-je*qn+Hn*Cr;return ii?(H[0]=(st*bi-Ne*pi+lt*Ur)*(ii=1/ii),H[1]=(Ne*Me-pt*bi-lt*qn)*ii,H[2]=(pt*pi-st*Me+lt*Cr)*ii,H[3]=(Ie*pi-Ce*bi-Ue*Ur)*ii,H[4]=(ye*bi-Ie*Me+Ue*qn)*ii,H[5]=(Ce*Me-ye*pi-Ue*Cr)*ii,H[6]=(vt*Hn-Ve*je+nt*kn)*ii,H[7]=(Ve*pn-Be*Hn-nt*Bt)*ii,H[8]=(Be*je-vt*pn+nt*wt)*ii,H):null}function Y(H,re,ye){return H[0]=2/re,H[1]=0,H[2]=0,H[3]=0,H[4]=-2/ye,H[5]=0,H[6]=-1,H[7]=1,H[8]=1,H}function ae(H){return"mat3("+H[0]+", "+H[1]+", "+H[2]+", "+H[3]+", "+H[4]+", "+H[5]+", "+H[6]+", "+H[7]+", "+H[8]+")"}function ne(H){return Math.hypot(H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],H[8])}function se(H,re,ye){return H[0]=re[0]+ye[0],H[1]=re[1]+ye[1],H[2]=re[2]+ye[2],H[3]=re[3]+ye[3],H[4]=re[4]+ye[4],H[5]=re[5]+ye[5],H[6]=re[6]+ye[6],H[7]=re[7]+ye[7],H[8]=re[8]+ye[8],H}function ve(H,re,ye){return H[0]=re[0]-ye[0],H[1]=re[1]-ye[1],H[2]=re[2]-ye[2],H[3]=re[3]-ye[3],H[4]=re[4]-ye[4],H[5]=re[5]-ye[5],H[6]=re[6]-ye[6],H[7]=re[7]-ye[7],H[8]=re[8]-ye[8],H}function ge(H,re,ye){return H[0]=re[0]*ye,H[1]=re[1]*ye,H[2]=re[2]*ye,H[3]=re[3]*ye,H[4]=re[4]*ye,H[5]=re[5]*ye,H[6]=re[6]*ye,H[7]=re[7]*ye,H[8]=re[8]*ye,H}function Fe(H,re,ye,Ce){return H[0]=re[0]+ye[0]*Ce,H[1]=re[1]+ye[1]*Ce,H[2]=re[2]+ye[2]*Ce,H[3]=re[3]+ye[3]*Ce,H[4]=re[4]+ye[4]*Ce,H[5]=re[5]+ye[5]*Ce,H[6]=re[6]+ye[6]*Ce,H[7]=re[7]+ye[7]*Ce,H[8]=re[8]+ye[8]*Ce,H}function Ae(H,re){return H[0]===re[0]&&H[1]===re[1]&&H[2]===re[2]&&H[3]===re[3]&&H[4]===re[4]&&H[5]===re[5]&&H[6]===re[6]&&H[7]===re[7]&&H[8]===re[8]}function ze(H,re){var ye=H[0],Ce=H[1],Ie=H[2],Ue=H[3],pt=H[4],st=H[5],Ne=H[6],lt=H[7],gt=H[8],$e=re[0],dt=re[1],De=re[2],Be=re[3],vt=re[4],Ve=re[5],nt=re[6],wt=re[7],Bt=re[8];return Math.abs(ye-$e)<=R.EPSILON*Math.max(1,Math.abs(ye),Math.abs($e))&&Math.abs(Ce-dt)<=R.EPSILON*Math.max(1,Math.abs(Ce),Math.abs(dt))&&Math.abs(Ie-De)<=R.EPSILON*Math.max(1,Math.abs(Ie),Math.abs(De))&&Math.abs(Ue-Be)<=R.EPSILON*Math.max(1,Math.abs(Ue),Math.abs(Be))&&Math.abs(pt-vt)<=R.EPSILON*Math.max(1,Math.abs(pt),Math.abs(vt))&&Math.abs(st-Ve)<=R.EPSILON*Math.max(1,Math.abs(st),Math.abs(Ve))&&Math.abs(Ne-nt)<=R.EPSILON*Math.max(1,Math.abs(Ne),Math.abs(nt))&&Math.abs(lt-wt)<=R.EPSILON*Math.max(1,Math.abs(lt),Math.abs(wt))&&Math.abs(gt-Bt)<=R.EPSILON*Math.max(1,Math.abs(gt),Math.abs(Bt))}var oe=w,ce=ve},8235:(qt,z,j)=>{"use strict";j.r(z),j.d(z,{add:()=>b,angle:()=>H,ceil:()=>g,clone:()=>B,copy:()=>P,create:()=>q,cross:()=>se,dist:()=>lt,distance:()=>ie,div:()=>Ne,divide:()=>_,dot:()=>ne,equals:()=>Ie,exactEquals:()=>Ce,floor:()=>S,forEach:()=>dt,fromValues:()=>O,inverse:()=>Y,len:()=>Ue,length:()=>$,lerp:()=>ve,max:()=>E,min:()=>w,mul:()=>st,multiply:()=>m,negate:()=>Z,normalize:()=>ae,random:()=>ge,rotate:()=>ce,round:()=>A,scale:()=>k,scaleAndAdd:()=>L,set:()=>T,sqrDist:()=>gt,sqrLen:()=>$e,squaredDistance:()=>te,squaredLength:()=>X,str:()=>ye,sub:()=>pt,subtract:()=>x,transformMat2:()=>Fe,transformMat2d:()=>Ae,transformMat3:()=>ze,transformMat4:()=>oe,zero:()=>re});var R=j(5278);function q(){var De=new R.ARRAY_TYPE(2);return R.ARRAY_TYPE!=Float32Array&&(De[0]=0,De[1]=0),De}function B(De){var Be=new R.ARRAY_TYPE(2);return Be[0]=De[0],Be[1]=De[1],Be}function O(De,Be){var vt=new R.ARRAY_TYPE(2);return vt[0]=De,vt[1]=Be,vt}function P(De,Be){return De[0]=Be[0],De[1]=Be[1],De}function T(De,Be,vt){return De[0]=Be,De[1]=vt,De}function b(De,Be,vt){return De[0]=Be[0]+vt[0],De[1]=Be[1]+vt[1],De}function x(De,Be,vt){return De[0]=Be[0]-vt[0],De[1]=Be[1]-vt[1],De}function m(De,Be,vt){return De[0]=Be[0]*vt[0],De[1]=Be[1]*vt[1],De}function _(De,Be,vt){return De[0]=Be[0]/vt[0],De[1]=Be[1]/vt[1],De}function g(De,Be){return De[0]=Math.ceil(Be[0]),De[1]=Math.ceil(Be[1]),De}function S(De,Be){return De[0]=Math.floor(Be[0]),De[1]=Math.floor(Be[1]),De}function w(De,Be,vt){return De[0]=Math.min(Be[0],vt[0]),De[1]=Math.min(Be[1],vt[1]),De}function E(De,Be,vt){return De[0]=Math.max(Be[0],vt[0]),De[1]=Math.max(Be[1],vt[1]),De}function A(De,Be){return De[0]=Math.round(Be[0]),De[1]=Math.round(Be[1]),De}function k(De,Be,vt){return De[0]=Be[0]*vt,De[1]=Be[1]*vt,De}function L(De,Be,vt,Ve){return De[0]=Be[0]+vt[0]*Ve,De[1]=Be[1]+vt[1]*Ve,De}function ie(De,Be){return Math.hypot(Be[0]-De[0],Be[1]-De[1])}function te(De,Be){var vt=Be[0]-De[0],Ve=Be[1]-De[1];return vt*vt+Ve*Ve}function $(De){return Math.hypot(De[0],De[1])}function X(De){var Be=De[0],vt=De[1];return Be*Be+vt*vt}function Z(De,Be){return De[0]=-Be[0],De[1]=-Be[1],De}function Y(De,Be){return De[0]=1/Be[0],De[1]=1/Be[1],De}function ae(De,Be){var vt=Be[0],Ve=Be[1],nt=vt*vt+Ve*Ve;return nt>0&&(nt=1/Math.sqrt(nt)),De[0]=Be[0]*nt,De[1]=Be[1]*nt,De}function ne(De,Be){return De[0]*Be[0]+De[1]*Be[1]}function se(De,Be,vt){var Ve=Be[0]*vt[1]-Be[1]*vt[0];return De[0]=De[1]=0,De[2]=Ve,De}function ve(De,Be,vt,Ve){var nt=Be[0],wt=Be[1];return De[0]=nt+Ve*(vt[0]-nt),De[1]=wt+Ve*(vt[1]-wt),De}function ge(De,Be){Be=Be||1;var vt=2*R.RANDOM()*Math.PI;return De[0]=Math.cos(vt)*Be,De[1]=Math.sin(vt)*Be,De}function Fe(De,Be,vt){var Ve=Be[0],nt=Be[1];return De[0]=vt[0]*Ve+vt[2]*nt,De[1]=vt[1]*Ve+vt[3]*nt,De}function Ae(De,Be,vt){var Ve=Be[0],nt=Be[1];return De[0]=vt[0]*Ve+vt[2]*nt+vt[4],De[1]=vt[1]*Ve+vt[3]*nt+vt[5],De}function ze(De,Be,vt){var Ve=Be[0],nt=Be[1];return De[0]=vt[0]*Ve+vt[3]*nt+vt[6],De[1]=vt[1]*Ve+vt[4]*nt+vt[7],De}function oe(De,Be,vt){var Ve=Be[0],nt=Be[1];return De[0]=vt[0]*Ve+vt[4]*nt+vt[12],De[1]=vt[1]*Ve+vt[5]*nt+vt[13],De}function ce(De,Be,vt,Ve){var nt=Be[0]-vt[0],wt=Be[1]-vt[1],Bt=Math.sin(Ve),pn=Math.cos(Ve);return De[0]=nt*pn-wt*Bt+vt[0],De[1]=nt*Bt+wt*pn+vt[1],De}function H(De,Be){var vt=De[0],Ve=De[1],nt=Be[0],wt=Be[1],Bt=Math.sqrt(vt*vt+Ve*Ve)*Math.sqrt(nt*nt+wt*wt);return Math.acos(Math.min(Math.max(Bt&&(vt*nt+Ve*wt)/Bt,-1),1))}function re(De){return De[0]=0,De[1]=0,De}function ye(De){return"vec2("+De[0]+", "+De[1]+")"}function Ce(De,Be){return De[0]===Be[0]&&De[1]===Be[1]}function Ie(De,Be){var vt=De[0],Ve=De[1],nt=Be[0],wt=Be[1];return Math.abs(vt-nt)<=R.EPSILON*Math.max(1,Math.abs(vt),Math.abs(nt))&&Math.abs(Ve-wt)<=R.EPSILON*Math.max(1,Math.abs(Ve),Math.abs(wt))}var De,Ue=$,pt=x,st=m,Ne=_,lt=ie,gt=te,$e=X,dt=(De=q(),function(Be,vt,Ve,nt,wt,Bt){var pn,kn;for(vt||(vt=2),Ve||(Ve=0),kn=nt?Math.min(nt*vt+Ve,Be.length):Be.length,pn=Ve;pn<kn;pn+=vt)De[0]=Be[pn],De[1]=Be[pn+1],wt(De,De,Bt),Be[pn]=De[0],Be[pn+1]=De[1];return Be})},3454:(qt,z,j)=>{"use strict";j.r(z),j.d(z,{add:()=>x,angle:()=>Ce,bezier:()=>Fe,ceil:()=>S,clone:()=>B,copy:()=>T,create:()=>q,cross:()=>se,dist:()=>$e,distance:()=>te,div:()=>gt,divide:()=>g,dot:()=>ne,equals:()=>st,exactEquals:()=>pt,floor:()=>w,forEach:()=>vt,fromValues:()=>P,hermite:()=>ge,inverse:()=>Y,len:()=>De,length:()=>O,lerp:()=>ve,max:()=>A,min:()=>E,mul:()=>lt,multiply:()=>_,negate:()=>Z,normalize:()=>ae,random:()=>Ae,rotateX:()=>H,rotateY:()=>re,rotateZ:()=>ye,round:()=>k,scale:()=>L,scaleAndAdd:()=>ie,set:()=>b,sqrDist:()=>dt,sqrLen:()=>Be,squaredDistance:()=>$,squaredLength:()=>X,str:()=>Ue,sub:()=>Ne,subtract:()=>m,transformMat3:()=>oe,transformMat4:()=>ze,transformQuat:()=>ce,zero:()=>Ie});var R=j(5278);function q(){var Ve=new R.ARRAY_TYPE(3);return R.ARRAY_TYPE!=Float32Array&&(Ve[0]=0,Ve[1]=0,Ve[2]=0),Ve}function B(Ve){var nt=new R.ARRAY_TYPE(3);return nt[0]=Ve[0],nt[1]=Ve[1],nt[2]=Ve[2],nt}function O(Ve){return Math.hypot(Ve[0],Ve[1],Ve[2])}function P(Ve,nt,wt){var Bt=new R.ARRAY_TYPE(3);return Bt[0]=Ve,Bt[1]=nt,Bt[2]=wt,Bt}function T(Ve,nt){return Ve[0]=nt[0],Ve[1]=nt[1],Ve[2]=nt[2],Ve}function b(Ve,nt,wt,Bt){return Ve[0]=nt,Ve[1]=wt,Ve[2]=Bt,Ve}function x(Ve,nt,wt){return Ve[0]=nt[0]+wt[0],Ve[1]=nt[1]+wt[1],Ve[2]=nt[2]+wt[2],Ve}function m(Ve,nt,wt){return Ve[0]=nt[0]-wt[0],Ve[1]=nt[1]-wt[1],Ve[2]=nt[2]-wt[2],Ve}function _(Ve,nt,wt){return Ve[0]=nt[0]*wt[0],Ve[1]=nt[1]*wt[1],Ve[2]=nt[2]*wt[2],Ve}function g(Ve,nt,wt){return Ve[0]=nt[0]/wt[0],Ve[1]=nt[1]/wt[1],Ve[2]=nt[2]/wt[2],Ve}function S(Ve,nt){return Ve[0]=Math.ceil(nt[0]),Ve[1]=Math.ceil(nt[1]),Ve[2]=Math.ceil(nt[2]),Ve}function w(Ve,nt){return Ve[0]=Math.floor(nt[0]),Ve[1]=Math.floor(nt[1]),Ve[2]=Math.floor(nt[2]),Ve}function E(Ve,nt,wt){return Ve[0]=Math.min(nt[0],wt[0]),Ve[1]=Math.min(nt[1],wt[1]),Ve[2]=Math.min(nt[2],wt[2]),Ve}function A(Ve,nt,wt){return Ve[0]=Math.max(nt[0],wt[0]),Ve[1]=Math.max(nt[1],wt[1]),Ve[2]=Math.max(nt[2],wt[2]),Ve}function k(Ve,nt){return Ve[0]=Math.round(nt[0]),Ve[1]=Math.round(nt[1]),Ve[2]=Math.round(nt[2]),Ve}function L(Ve,nt,wt){return Ve[0]=nt[0]*wt,Ve[1]=nt[1]*wt,Ve[2]=nt[2]*wt,Ve}function ie(Ve,nt,wt,Bt){return Ve[0]=nt[0]+wt[0]*Bt,Ve[1]=nt[1]+wt[1]*Bt,Ve[2]=nt[2]+wt[2]*Bt,Ve}function te(Ve,nt){return Math.hypot(nt[0]-Ve[0],nt[1]-Ve[1],nt[2]-Ve[2])}function $(Ve,nt){var wt=nt[0]-Ve[0],Bt=nt[1]-Ve[1],pn=nt[2]-Ve[2];return wt*wt+Bt*Bt+pn*pn}function X(Ve){var nt=Ve[0],wt=Ve[1],Bt=Ve[2];return nt*nt+wt*wt+Bt*Bt}function Z(Ve,nt){return Ve[0]=-nt[0],Ve[1]=-nt[1],Ve[2]=-nt[2],Ve}function Y(Ve,nt){return Ve[0]=1/nt[0],Ve[1]=1/nt[1],Ve[2]=1/nt[2],Ve}function ae(Ve,nt){var wt=nt[0],Bt=nt[1],pn=nt[2],kn=wt*wt+Bt*Bt+pn*pn;return kn>0&&(kn=1/Math.sqrt(kn)),Ve[0]=nt[0]*kn,Ve[1]=nt[1]*kn,Ve[2]=nt[2]*kn,Ve}function ne(Ve,nt){return Ve[0]*nt[0]+Ve[1]*nt[1]+Ve[2]*nt[2]}function se(Ve,nt,wt){var Bt=nt[0],pn=nt[1],kn=nt[2],je=wt[0],Hn=wt[1],Cr=wt[2];return Ve[0]=pn*Cr-kn*Hn,Ve[1]=kn*je-Bt*Cr,Ve[2]=Bt*Hn-pn*je,Ve}function ve(Ve,nt,wt,Bt){var pn=nt[0],kn=nt[1],je=nt[2];return Ve[0]=pn+Bt*(wt[0]-pn),Ve[1]=kn+Bt*(wt[1]-kn),Ve[2]=je+Bt*(wt[2]-je),Ve}function ge(Ve,nt,wt,Bt,pn,kn){var je=kn*kn,Hn=je*(2*kn-3)+1,Cr=je*(kn-2)+kn,qn=je*(kn-1),Me=je*(3-2*kn);return Ve[0]=nt[0]*Hn+wt[0]*Cr+Bt[0]*qn+pn[0]*Me,Ve[1]=nt[1]*Hn+wt[1]*Cr+Bt[1]*qn+pn[1]*Me,Ve[2]=nt[2]*Hn+wt[2]*Cr+Bt[2]*qn+pn[2]*Me,Ve}function Fe(Ve,nt,wt,Bt,pn,kn){var je=1-kn,Hn=je*je,Cr=kn*kn,qn=Hn*je,Me=3*kn*Hn,Ur=3*Cr*je,pi=Cr*kn;return Ve[0]=nt[0]*qn+wt[0]*Me+Bt[0]*Ur+pn[0]*pi,Ve[1]=nt[1]*qn+wt[1]*Me+Bt[1]*Ur+pn[1]*pi,Ve[2]=nt[2]*qn+wt[2]*Me+Bt[2]*Ur+pn[2]*pi,Ve}function Ae(Ve,nt){nt=nt||1;var wt=2*R.RANDOM()*Math.PI,Bt=2*R.RANDOM()-1,pn=Math.sqrt(1-Bt*Bt)*nt;return Ve[0]=Math.cos(wt)*pn,Ve[1]=Math.sin(wt)*pn,Ve[2]=Bt*nt,Ve}function ze(Ve,nt,wt){var Bt=nt[0],pn=nt[1],kn=nt[2],je=wt[3]*Bt+wt[7]*pn+wt[11]*kn+wt[15];return Ve[0]=(wt[0]*Bt+wt[4]*pn+wt[8]*kn+wt[12])/(je=je||1),Ve[1]=(wt[1]*Bt+wt[5]*pn+wt[9]*kn+wt[13])/je,Ve[2]=(wt[2]*Bt+wt[6]*pn+wt[10]*kn+wt[14])/je,Ve}function oe(Ve,nt,wt){var Bt=nt[0],pn=nt[1],kn=nt[2];return Ve[0]=Bt*wt[0]+pn*wt[3]+kn*wt[6],Ve[1]=Bt*wt[1]+pn*wt[4]+kn*wt[7],Ve[2]=Bt*wt[2]+pn*wt[5]+kn*wt[8],Ve}function ce(Ve,nt,wt){var Bt=wt[0],pn=wt[1],kn=wt[2],Hn=nt[0],Cr=nt[1],qn=nt[2],Me=pn*qn-kn*Cr,Ur=kn*Hn-Bt*qn,pi=Bt*Cr-pn*Hn,bi=pn*pi-kn*Ur,ii=kn*Me-Bt*pi,Xi=Bt*Ur-pn*Me,ji=2*wt[3];return Ur*=ji,pi*=ji,ii*=2,Xi*=2,Ve[0]=Hn+(Me*=ji)+(bi*=2),Ve[1]=Cr+Ur+ii,Ve[2]=qn+pi+Xi,Ve}function H(Ve,nt,wt,Bt){var pn=[],kn=[];return pn[0]=nt[0]-wt[0],pn[1]=nt[1]-wt[1],pn[2]=nt[2]-wt[2],kn[0]=pn[0],kn[1]=pn[1]*Math.cos(Bt)-pn[2]*Math.sin(Bt),kn[2]=pn[1]*Math.sin(Bt)+pn[2]*Math.cos(Bt),Ve[0]=kn[0]+wt[0],Ve[1]=kn[1]+wt[1],Ve[2]=kn[2]+wt[2],Ve}function re(Ve,nt,wt,Bt){var pn=[],kn=[];return pn[0]=nt[0]-wt[0],pn[1]=nt[1]-wt[1],pn[2]=nt[2]-wt[2],kn[0]=pn[2]*Math.sin(Bt)+pn[0]*Math.cos(Bt),kn[1]=pn[1],kn[2]=pn[2]*Math.cos(Bt)-pn[0]*Math.sin(Bt),Ve[0]=kn[0]+wt[0],Ve[1]=kn[1]+wt[1],Ve[2]=kn[2]+wt[2],Ve}function ye(Ve,nt,wt,Bt){var pn=[],kn=[];return pn[0]=nt[0]-wt[0],pn[1]=nt[1]-wt[1],pn[2]=nt[2]-wt[2],kn[0]=pn[0]*Math.cos(Bt)-pn[1]*Math.sin(Bt),kn[1]=pn[0]*Math.sin(Bt)+pn[1]*Math.cos(Bt),kn[2]=pn[2],Ve[0]=kn[0]+wt[0],Ve[1]=kn[1]+wt[1],Ve[2]=kn[2]+wt[2],Ve}function Ce(Ve,nt){var wt=Ve[0],Bt=Ve[1],pn=Ve[2],kn=nt[0],je=nt[1],Hn=nt[2],Me=Math.sqrt(wt*wt+Bt*Bt+pn*pn)*Math.sqrt(kn*kn+je*je+Hn*Hn),Ur=Me&&ne(Ve,nt)/Me;return Math.acos(Math.min(Math.max(Ur,-1),1))}function Ie(Ve){return Ve[0]=0,Ve[1]=0,Ve[2]=0,Ve}function Ue(Ve){return"vec3("+Ve[0]+", "+Ve[1]+", "+Ve[2]+")"}function pt(Ve,nt){return Ve[0]===nt[0]&&Ve[1]===nt[1]&&Ve[2]===nt[2]}function st(Ve,nt){var wt=Ve[0],Bt=Ve[1],pn=Ve[2],kn=nt[0],je=nt[1],Hn=nt[2];return Math.abs(wt-kn)<=R.EPSILON*Math.max(1,Math.abs(wt),Math.abs(kn))&&Math.abs(Bt-je)<=R.EPSILON*Math.max(1,Math.abs(Bt),Math.abs(je))&&Math.abs(pn-Hn)<=R.EPSILON*Math.max(1,Math.abs(pn),Math.abs(Hn))}var Ve,Ne=m,lt=_,gt=g,$e=te,dt=$,De=O,Be=X,vt=(Ve=q(),function(nt,wt,Bt,pn,kn,je){var Hn,Cr;for(wt||(wt=3),Bt||(Bt=0),Cr=pn?Math.min(pn*wt+Bt,nt.length):nt.length,Hn=Bt;Hn<Cr;Hn+=wt)Ve[0]=nt[Hn],Ve[1]=nt[Hn+1],Ve[2]=nt[Hn+2],kn(Ve,Ve,je),nt[Hn]=Ve[0],nt[Hn+1]=Ve[1],nt[Hn+2]=Ve[2];return nt})},4586:qt=>{var z=[],j=[],R="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function q(O,P){if(P=P||{},void 0===O)throw new Error(R);var m,T=!0===P.prepend?"prepend":"append",b=void 0!==P.container?P.container:document.querySelector("head"),x=z.indexOf(b);return-1===x&&(x=z.push(b)-1,j[x]={}),void 0!==j[x]&&void 0!==j[x][T]?m=j[x][T]:(m=j[x][T]=function B(){var O=document.createElement("style");return O.setAttribute("type","text/css"),O}(),"prepend"===T?b.insertBefore(m,b.childNodes[0]):b.appendChild(m)),65279===O.charCodeAt(0)&&(O=O.substr(1,O.length)),m.styleSheet?m.styleSheet.cssText+=O:m.textContent+=O,m}qt.exports=q,qt.exports.insertCss=q},443:(qt,z,j)=>{var R=j(2119);qt.exports=R.Symbol},3337:(qt,z,j)=>{var R=j(443),q=j(1318),B=j(2902),T=R?R.toStringTag:void 0;qt.exports=function b(x){return null==x?void 0===x?"[object Undefined]":"[object Null]":T&&T in Object(x)?q(x):B(x)}},1083:(qt,z,j)=>{var R=j(3337),q=j(6231),B=j(2671),ge={};ge["[object Float32Array]"]=ge["[object Float64Array]"]=ge["[object Int8Array]"]=ge["[object Int16Array]"]=ge["[object Int32Array]"]=ge["[object Uint8Array]"]=ge["[object Uint8ClampedArray]"]=ge["[object Uint16Array]"]=ge["[object Uint32Array]"]=!0,ge["[object Arguments]"]=ge["[object Array]"]=ge["[object ArrayBuffer]"]=ge["[object Boolean]"]=ge["[object DataView]"]=ge["[object Date]"]=ge["[object Error]"]=ge["[object Function]"]=ge["[object Map]"]=ge["[object Number]"]=ge["[object Object]"]=ge["[object RegExp]"]=ge["[object Set]"]=ge["[object String]"]=ge["[object WeakMap]"]=!1,qt.exports=function Fe(Ae){return B(Ae)&&q(Ae.length)&&!!ge[R(Ae)]}},5647:qt=>{qt.exports=function z(j){return function(R){return j(R)}}},9122:qt=>{var z="object"==typeof global&&global&&global.Object===Object&&global;qt.exports=z},9519:(qt,z,j)=>{var q=j(9385)(Object.getPrototypeOf,Object);qt.exports=q},1318:(qt,z,j)=>{var R=j(443),q=Object.prototype,B=q.hasOwnProperty,O=q.toString,P=R?R.toStringTag:void 0;qt.exports=function T(b){var x=B.call(b,P),m=b[P];try{b[P]=void 0;var _=!0}catch{}var g=O.call(b);return _&&(x?b[P]=m:delete b[P]),g}},3597:(qt,z,j)=>{qt=j.nmd(qt);var R=j(9122),q=z&&!z.nodeType&&z,B=q&&qt&&!qt.nodeType&&qt,P=B&&B.exports===q&&R.process,T=function(){try{return B&&B.require&&B.require("util").types||P&&P.binding&&P.binding("util")}catch{}}();qt.exports=T},2902:qt=>{var j=Object.prototype.toString;qt.exports=function R(q){return j.call(q)}},9385:qt=>{qt.exports=function z(j,R){return function(q){return j(R(q))}}},2119:(qt,z,j)=>{var R=j(9122),q="object"==typeof self&&self&&self.Object===Object&&self,B=R||q||Function("return this")();qt.exports=B},1503:qt=>{qt.exports=Array.isArray},6231:qt=>{qt.exports=function j(R){return"number"==typeof R&&R>-1&&R%1==0&&R<=9007199254740991}},9138:(qt,z,j)=>{var R=j(3337),q=j(2671);qt.exports=function O(P){return"number"==typeof P||q(P)&&"[object Number]"==R(P)}},2671:qt=>{qt.exports=function z(j){return null!=j&&"object"==typeof j}},7614:(qt,z,j)=>{var R=j(3337),q=j(9519),B=j(2671),b=Function.prototype.toString,x=Object.prototype.hasOwnProperty,m=b.call(Object);qt.exports=function _(g){if(!B(g)||"[object Object]"!=R(g))return!1;var S=q(g);if(null===S)return!0;var w=x.call(S,"constructor")&&S.constructor;return"function"==typeof w&&w instanceof w&&b.call(w)==m}},8159:(qt,z,j)=>{var R=j(1083),q=j(5647),B=j(3597),O=B&&B.isTypedArray,P=O?q(O):R;qt.exports=P},6380:(qt,z,j)=>{"use strict";j.r(z),j.d(z,{AbstractMatrix:()=>Ne,CHO:()=>ti,CholeskyDecomposition:()=>ti,EVD:()=>ei,EigenvalueDecomposition:()=>ei,LU:()=>qn,LuDecomposition:()=>qn,Matrix:()=>$e,MatrixColumnSelectionView:()=>Be,MatrixColumnView:()=>De,MatrixFlipColumnView:()=>vt,MatrixFlipRowView:()=>Ve,MatrixRowSelectionView:()=>wt,MatrixRowView:()=>nt,MatrixSelectionView:()=>Bt,MatrixSubView:()=>pn,MatrixTransposeView:()=>kn,NIPALS:()=>Vr,Nipals:()=>Vr,QR:()=>Ur,QrDecomposition:()=>Ur,SVD:()=>pi,SingularValueDecomposition:()=>pi,WrapperMatrix1D:()=>je,WrapperMatrix2D:()=>Hn,correlation:()=>kr,covariance:()=>Dr,default:()=>$e,determinant:()=>Xi,inverse:()=>bi,linearDependencies:()=>Pn,pseudoInverse:()=>br,solve:()=>ii,wrap:()=>Cr});const R=Object.prototype.toString;function q(Se){return R.call(Se).endsWith("Array]")}function P(Se){var V,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!q(Se))throw new TypeError("input must be an array");if(0===Se.length)throw new TypeError("input must not be empty");if(void 0!==G.output){if(!q(G.output))throw new TypeError("output option must be an array if specified");V=G.output}else V=new Array(Se.length);var C=function O(Se){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!q(Se))throw new TypeError("input must be an array");if(0===Se.length)throw new TypeError("input must not be empty");var V=G.fromIndex,C=void 0===V?0:V,W=G.toIndex,fe=void 0===W?Se.length:W;if(C<0||C>=Se.length||!Number.isInteger(C))throw new Error("fromIndex must be a positive integer smaller than length");if(fe<=C||fe>Se.length||!Number.isInteger(fe))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var He=Se[C],We=C+1;We<fe;We++)Se[We]<He&&(He=Se[We]);return He}(Se),W=function B(Se){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!q(Se))throw new TypeError("input must be an array");if(0===Se.length)throw new TypeError("input must not be empty");var V=G.fromIndex,C=void 0===V?0:V,W=G.toIndex,fe=void 0===W?Se.length:W;if(C<0||C>=Se.length||!Number.isInteger(C))throw new Error("fromIndex must be a positive integer smaller than length");if(fe<=C||fe>Se.length||!Number.isInteger(fe))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var He=Se[C],We=C+1;We<fe;We++)Se[We]>He&&(He=Se[We]);return He}(Se);if(C===W)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var fe=G.min,He=void 0===fe?G.autoMinMax?C:0:fe,We=G.max,it=void 0===We?G.autoMinMax?W:1:We;if(He>=it)throw new RangeError("min option must be smaller than max option");for(var rt=(it-He)/(W-C),Vt=0;Vt<Se.length;Vt++)V[Vt]=(Se[Vt]-C)*rt+He;return V}const T=" ".repeat(2),b=" ".repeat(4);function m(Se,G={}){const{maxRows:V=15,maxColumns:C=10,maxNumSize:W=8,padMinus:fe="auto"}=G;return`${Se.constructor.name} {\n${T}[\n${b}${function _(Se,G,V,C,W){const{rows:fe,columns:He}=Se,We=Math.min(fe,G),it=Math.min(He,V),rt=[];if("auto"===W){W=!1;e:for(let Vt=0;Vt<We;Vt++)for(let N=0;N<it;N++)if(Se.get(Vt,N)<0){W=!0;break e}}for(let Vt=0;Vt<We;Vt++){let N=[];for(let Xe=0;Xe<it;Xe++)N.push(g(Se.get(Vt,Xe),C,W));rt.push(`${N.join(" ")}`)}return it!==He&&(rt[rt.length-1]+=` ... ${He-V} more columns`),We!==fe&&rt.push(`... ${fe-G} more rows`),rt.join(`\n${b}`)}(Se,V,C,W,fe)}\n${T}]\n${T}rows: ${Se.rows}\n${T}columns: ${Se.columns}\n}`}function g(Se,G,V){return(Se>=0&&V?` ${S(Se,G-1)}`:S(Se,G)).padEnd(G)}function S(Se,G){let V=Se.toString();if(V.length<=G)return V;let C=Se.toFixed(G);if(C.length>G&&(C=Se.toFixed(Math.max(0,G-(C.length-G)))),C.length<=G&&!C.startsWith("0.000")&&!C.startsWith("-0.000"))return C;let W=Se.toExponential(G);return W.length>G&&(W=Se.toExponential(Math.max(0,G-(W.length-G)))),W.slice(0)}function E(Se,G,V){if(G<0||G>(V?Se.rows:Se.rows-1))throw new RangeError("Row index out of range")}function A(Se,G,V){if(G<0||G>(V?Se.columns:Se.columns-1))throw new RangeError("Column index out of range")}function k(Se,G){if(G.to1DArray&&(G=G.to1DArray()),G.length!==Se.columns)throw new RangeError("vector size must be the same as the number of columns");return G}function L(Se,G){if(G.to1DArray&&(G=G.to1DArray()),G.length!==Se.rows)throw new RangeError("vector size must be the same as the number of rows");return G}function ie(Se,G){if(!q(G))throw new TypeError("row indices must be an array");for(let V=0;V<G.length;V++)if(G[V]<0||G[V]>=Se.rows)throw new RangeError("row indices are out of range")}function te(Se,G){if(!q(G))throw new TypeError("column indices must be an array");for(let V=0;V<G.length;V++)if(G[V]<0||G[V]>=Se.columns)throw new RangeError("column indices are out of range")}function $(Se,G,V,C,W){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(Z("startRow",G),Z("endRow",V),Z("startColumn",C),Z("endColumn",W),G>V||C>W||G<0||G>=Se.rows||V<0||V>=Se.rows||C<0||C>=Se.columns||W<0||W>=Se.columns)throw new RangeError("Submatrix indices are out of range")}function X(Se,G=0){let V=[];for(let C=0;C<Se;C++)V.push(G);return V}function Z(Se,G){if("number"!=typeof G)throw new TypeError(`${Se} must be a number`)}function Y(Se){if(Se.isEmpty())throw new Error("Empty matrix has no elements to index")}class Ne{static from1DArray(G,V,C){if(G*V!==C.length)throw new RangeError("data length does not match given dimensions");let fe=new $e(G,V);for(let He=0;He<G;He++)for(let We=0;We<V;We++)fe.set(He,We,C[He*V+We]);return fe}static rowVector(G){let V=new $e(1,G.length);for(let C=0;C<G.length;C++)V.set(0,C,G[C]);return V}static columnVector(G){let V=new $e(G.length,1);for(let C=0;C<G.length;C++)V.set(C,0,G[C]);return V}static zeros(G,V){return new $e(G,V)}static ones(G,V){return new $e(G,V).fill(1)}static rand(G,V,C={}){if("object"!=typeof C)throw new TypeError("options must be an object");const{random:W=Math.random}=C;let fe=new $e(G,V);for(let He=0;He<G;He++)for(let We=0;We<V;We++)fe.set(He,We,W());return fe}static randInt(G,V,C={}){if("object"!=typeof C)throw new TypeError("options must be an object");const{min:W=0,max:fe=1e3,random:He=Math.random}=C;if(!Number.isInteger(W))throw new TypeError("min must be an integer");if(!Number.isInteger(fe))throw new TypeError("max must be an integer");if(W>=fe)throw new RangeError("min must be smaller than max");let We=fe-W,it=new $e(G,V);for(let rt=0;rt<G;rt++)for(let Vt=0;Vt<V;Vt++){let N=W+Math.round(He()*We);it.set(rt,Vt,N)}return it}static eye(G,V,C){void 0===V&&(V=G),void 0===C&&(C=1);let W=Math.min(G,V),fe=this.zeros(G,V);for(let He=0;He<W;He++)fe.set(He,He,C);return fe}static diag(G,V,C){let W=G.length;void 0===V&&(V=W),void 0===C&&(C=V);let fe=Math.min(W,V,C),He=this.zeros(V,C);for(let We=0;We<fe;We++)He.set(We,We,G[We]);return He}static min(G,V){G=this.checkMatrix(G),V=this.checkMatrix(V);let C=G.rows,W=G.columns,fe=new $e(C,W);for(let He=0;He<C;He++)for(let We=0;We<W;We++)fe.set(He,We,Math.min(G.get(He,We),V.get(He,We)));return fe}static max(G,V){G=this.checkMatrix(G),V=this.checkMatrix(V);let C=G.rows,W=G.columns,fe=new this(C,W);for(let He=0;He<C;He++)for(let We=0;We<W;We++)fe.set(He,We,Math.max(G.get(He,We),V.get(He,We)));return fe}static checkMatrix(G){return Ne.isMatrix(G)?G:new $e(G)}static isMatrix(G){return null!=G&&"Matrix"===G.klass}get size(){return this.rows*this.columns}apply(G){if("function"!=typeof G)throw new TypeError("callback must be a function");for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)G.call(this,V,C);return this}to1DArray(){let G=[];for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)G.push(this.get(V,C));return G}to2DArray(){let G=[];for(let V=0;V<this.rows;V++){G.push([]);for(let C=0;C<this.columns;C++)G[V].push(this.get(V,C))}return G}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let G=0;G<this.rows;G++)for(let V=0;V<=G;V++)if(this.get(G,V)!==this.get(V,G))return!1;return!0}return!1}isEchelonForm(){let G=0,V=0,C=-1,W=!0,fe=!1;for(;G<this.rows&&W;){for(V=0,fe=!1;V<this.columns&&!1===fe;)0===this.get(G,V)?V++:1===this.get(G,V)&&V>C?(fe=!0,C=V):(W=!1,fe=!0);G++}return W}isReducedEchelonForm(){let G=0,V=0,C=-1,W=!0,fe=!1;for(;G<this.rows&&W;){for(V=0,fe=!1;V<this.columns&&!1===fe;)0===this.get(G,V)?V++:1===this.get(G,V)&&V>C?(fe=!0,C=V):(W=!1,fe=!0);for(let He=V+1;He<this.rows;He++)0!==this.get(G,He)&&(W=!1);G++}return W}echelonForm(){let G=this.clone(),V=0,C=0;for(;V<G.rows&&C<G.columns;){let W=V;for(let fe=V;fe<G.rows;fe++)G.get(fe,C)>G.get(W,C)&&(W=fe);if(0===G.get(W,C))C++;else{G.swapRows(V,W);let fe=G.get(V,C);for(let He=C;He<G.columns;He++)G.set(V,He,G.get(V,He)/fe);for(let He=V+1;He<G.rows;He++){let We=G.get(He,C)/G.get(V,C);G.set(He,C,0);for(let it=C+1;it<G.columns;it++)G.set(He,it,G.get(He,it)-G.get(V,it)*We)}V++,C++}}return G}reducedEchelonForm(){let G=this.echelonForm(),V=G.columns,C=G.rows,W=C-1;for(;W>=0;)if(0===G.maxRow(W))W--;else{let fe=0,He=!1;for(;fe<C&&!1===He;)1===G.get(W,fe)?He=!0:fe++;for(let We=0;We<W;We++){let it=G.get(We,fe);for(let rt=fe;rt<V;rt++){let Vt=G.get(We,rt)-it*G.get(W,rt);G.set(We,rt,Vt)}}W--}return G}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(G={}){if("object"!=typeof G)throw new TypeError("options must be an object");const{rows:V=1,columns:C=1}=G;if(!Number.isInteger(V)||V<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(C)||C<=0)throw new TypeError("columns must be a positive integer");let W=new $e(this.rows*V,this.columns*C);for(let fe=0;fe<V;fe++)for(let He=0;He<C;He++)W.setSubMatrix(this,this.rows*fe,this.columns*He);return W}fill(G){for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)this.set(V,C,G);return this}neg(){return this.mulS(-1)}getRow(G){E(this,G);let V=[];for(let C=0;C<this.columns;C++)V.push(this.get(G,C));return V}getRowVector(G){return $e.rowVector(this.getRow(G))}setRow(G,V){E(this,G),V=k(this,V);for(let C=0;C<this.columns;C++)this.set(G,C,V[C]);return this}swapRows(G,V){E(this,G),E(this,V);for(let C=0;C<this.columns;C++){let W=this.get(G,C);this.set(G,C,this.get(V,C)),this.set(V,C,W)}return this}getColumn(G){A(this,G);let V=[];for(let C=0;C<this.rows;C++)V.push(this.get(C,G));return V}getColumnVector(G){return $e.columnVector(this.getColumn(G))}setColumn(G,V){A(this,G),V=L(this,V);for(let C=0;C<this.rows;C++)this.set(C,G,V[C]);return this}swapColumns(G,V){A(this,G),A(this,V);for(let C=0;C<this.rows;C++){let W=this.get(C,G);this.set(C,G,this.get(C,V)),this.set(C,V,W)}return this}addRowVector(G){G=k(this,G);for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)this.set(V,C,this.get(V,C)+G[C]);return this}subRowVector(G){G=k(this,G);for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)this.set(V,C,this.get(V,C)-G[C]);return this}mulRowVector(G){G=k(this,G);for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)this.set(V,C,this.get(V,C)*G[C]);return this}divRowVector(G){G=k(this,G);for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)this.set(V,C,this.get(V,C)/G[C]);return this}addColumnVector(G){G=L(this,G);for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)this.set(V,C,this.get(V,C)+G[V]);return this}subColumnVector(G){G=L(this,G);for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)this.set(V,C,this.get(V,C)-G[V]);return this}mulColumnVector(G){G=L(this,G);for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)this.set(V,C,this.get(V,C)*G[V]);return this}divColumnVector(G){G=L(this,G);for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)this.set(V,C,this.get(V,C)/G[V]);return this}mulRow(G,V){E(this,G);for(let C=0;C<this.columns;C++)this.set(G,C,this.get(G,C)*V);return this}mulColumn(G,V){A(this,G);for(let C=0;C<this.rows;C++)this.set(C,G,this.get(C,G)*V);return this}max(G){if(this.isEmpty())return NaN;switch(G){case"row":{const V=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.get(C,W)>V[C]&&(V[C]=this.get(C,W));return V}case"column":{const V=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.get(C,W)>V[W]&&(V[W]=this.get(C,W));return V}case void 0:{let V=this.get(0,0);for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.get(C,W)>V&&(V=this.get(C,W));return V}default:throw new Error(`invalid option: ${G}`)}}maxIndex(){Y(this);let G=this.get(0,0),V=[0,0];for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.get(C,W)>G&&(G=this.get(C,W),V[0]=C,V[1]=W);return V}min(G){if(this.isEmpty())return NaN;switch(G){case"row":{const V=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.get(C,W)<V[C]&&(V[C]=this.get(C,W));return V}case"column":{const V=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.get(C,W)<V[W]&&(V[W]=this.get(C,W));return V}case void 0:{let V=this.get(0,0);for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.get(C,W)<V&&(V=this.get(C,W));return V}default:throw new Error(`invalid option: ${G}`)}}minIndex(){Y(this);let G=this.get(0,0),V=[0,0];for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.get(C,W)<G&&(G=this.get(C,W),V[0]=C,V[1]=W);return V}maxRow(G){if(E(this,G),this.isEmpty())return NaN;let V=this.get(G,0);for(let C=1;C<this.columns;C++)this.get(G,C)>V&&(V=this.get(G,C));return V}maxRowIndex(G){E(this,G),Y(this);let V=this.get(G,0),C=[G,0];for(let W=1;W<this.columns;W++)this.get(G,W)>V&&(V=this.get(G,W),C[1]=W);return C}minRow(G){if(E(this,G),this.isEmpty())return NaN;let V=this.get(G,0);for(let C=1;C<this.columns;C++)this.get(G,C)<V&&(V=this.get(G,C));return V}minRowIndex(G){E(this,G),Y(this);let V=this.get(G,0),C=[G,0];for(let W=1;W<this.columns;W++)this.get(G,W)<V&&(V=this.get(G,W),C[1]=W);return C}maxColumn(G){if(A(this,G),this.isEmpty())return NaN;let V=this.get(0,G);for(let C=1;C<this.rows;C++)this.get(C,G)>V&&(V=this.get(C,G));return V}maxColumnIndex(G){A(this,G),Y(this);let V=this.get(0,G),C=[0,G];for(let W=1;W<this.rows;W++)this.get(W,G)>V&&(V=this.get(W,G),C[0]=W);return C}minColumn(G){if(A(this,G),this.isEmpty())return NaN;let V=this.get(0,G);for(let C=1;C<this.rows;C++)this.get(C,G)<V&&(V=this.get(C,G));return V}minColumnIndex(G){A(this,G),Y(this);let V=this.get(0,G),C=[0,G];for(let W=1;W<this.rows;W++)this.get(W,G)<V&&(V=this.get(W,G),C[0]=W);return C}diag(){let G=Math.min(this.rows,this.columns),V=[];for(let C=0;C<G;C++)V.push(this.get(C,C));return V}norm(G="frobenius"){let V=0;if("max"===G)return this.max();if("frobenius"===G){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)V+=this.get(C,W)*this.get(C,W);return Math.sqrt(V)}throw new RangeError(`unknown norm type: ${G}`)}cumulativeSum(){let G=0;for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)G+=this.get(V,C),this.set(V,C,G);return this}dot(G){Ne.isMatrix(G)&&(G=G.to1DArray());let V=this.to1DArray();if(V.length!==G.length)throw new RangeError("vectors do not have the same size");let C=0;for(let W=0;W<V.length;W++)C+=V[W]*G[W];return C}mmul(G){G=$e.checkMatrix(G);let V=this.rows,C=this.columns,W=G.columns,fe=new $e(V,W),He=new Float64Array(C);for(let We=0;We<W;We++){for(let it=0;it<C;it++)He[it]=G.get(it,We);for(let it=0;it<V;it++){let rt=0;for(let Vt=0;Vt<C;Vt++)rt+=this.get(it,Vt)*He[Vt];fe.set(it,We,rt)}}return fe}strassen2x2(G){G=$e.checkMatrix(G);let V=new $e(2,2);const C=this.get(0,0),W=G.get(0,0),fe=this.get(0,1),He=G.get(0,1),We=this.get(1,0),it=G.get(1,0),rt=this.get(1,1),Vt=G.get(1,1),N=(C+rt)*(W+Vt),Xe=(We+rt)*W,Ye=C*(He-Vt),Qe=rt*(it-W),Et=(C+fe)*Vt,yn=Ye+Et,Dn=Xe+Qe,Rn=N-Xe+Ye+(We-C)*(W+He);return V.set(0,0,N+Qe-Et+(fe-rt)*(it+Vt)),V.set(0,1,yn),V.set(1,0,Dn),V.set(1,1,Rn),V}strassen3x3(G){G=$e.checkMatrix(G);let V=new $e(3,3);const C=this.get(0,0),W=this.get(0,1),fe=this.get(0,2),He=this.get(1,0),We=this.get(1,1),it=this.get(1,2),rt=this.get(2,0),Vt=this.get(2,1),N=this.get(2,2),Xe=G.get(0,0),Ye=G.get(0,1),Qe=G.get(0,2),Et=G.get(1,0),nn=G.get(1,1),Je=G.get(1,2),Wt=G.get(2,0),yn=G.get(2,1),Dn=G.get(2,2),Ir=(C-He)*(-Ye+nn),er=(-C+He+We)*(Xe-Ye+nn),Gr=(He+We)*(-Xe+Ye),Pr=C*Xe,Ht=(-C+rt+Vt)*(Xe-Qe+Je),Ln=(-C+rt)*(Qe-Je),Vn=(rt+Vt)*(-Xe+Qe),pr=(-fe+Vt+N)*(nn+Wt-yn),Ct=(fe-N)*(nn-yn),Oe=fe*Wt,Pe=(Vt+N)*(-Wt+yn),Ot=(-fe+We+it)*(Je+Wt-Dn),ht=(fe-it)*(Je-Dn),At=(We+it)*(-Wt+Dn),Ai=(C+W+fe-He-We-Vt-N)*nn+er+Gr+Pr+pr+Oe+Pe,ca=Pr+Ht+Vn+(C+W+fe-We-it-rt-Vt)*Je+Oe+Ot+At,wa=Ir+We*(-Xe+Ye+Et-nn-Je-Wt+Dn)+er+Pr+Oe+Ot+ht,ja=Ir+er+Gr+Pr+it*yn,no=Oe+Ot+ht+At+He*Qe,Bl=Pr+Ht+Ln+Vt*(-Xe+Qe+Et-nn-Je-Wt+yn)+pr+Ct+Oe,ko=pr+Ct+Oe+Pe+rt*Ye,xo=Pr+Ht+Ln+Vn+N*Dn;return V.set(0,0,Pr+Oe+W*Et),V.set(0,1,Ai),V.set(0,2,ca),V.set(1,0,wa),V.set(1,1,ja),V.set(1,2,no),V.set(2,0,Bl),V.set(2,1,ko),V.set(2,2,xo),V}mmulStrassen(G){G=$e.checkMatrix(G);let V=this.clone(),C=V.rows,W=V.columns,fe=G.rows,He=G.columns;function We(N,Xe,Ye){if(N.rows===Xe&&N.columns===Ye)return N;{let nn=Ne.zeros(Xe,Ye);return nn=nn.setSubMatrix(N,0,0),nn}}W!==fe&&console.warn(`Multiplying ${C} x ${W} and ${fe} x ${He} matrix: dimensions do not match.`);let it=Math.max(C,fe),rt=Math.max(W,He);return V=We(V,it,rt),function Vt(N,Xe,Ye,Qe){if(Ye<=512||Qe<=512)return N.mmul(Xe);Ye%2==1&&Qe%2==1?(N=We(N,Ye+1,Qe+1),Xe=We(Xe,Ye+1,Qe+1)):Ye%2==1?(N=We(N,Ye+1,Qe),Xe=We(Xe,Ye+1,Qe)):Qe%2==1&&(N=We(N,Ye,Qe+1),Xe=We(Xe,Ye,Qe+1));let Et=parseInt(N.rows/2,10),nn=parseInt(N.columns/2,10),Je=N.subMatrix(0,Et-1,0,nn-1),Wt=Xe.subMatrix(0,Et-1,0,nn-1),yn=N.subMatrix(0,Et-1,nn,N.columns-1),Dn=Xe.subMatrix(0,Et-1,nn,Xe.columns-1),Rn=N.subMatrix(Et,N.rows-1,0,nn-1),Ir=Xe.subMatrix(Et,Xe.rows-1,0,nn-1),Yn=N.subMatrix(Et,N.rows-1,nn,N.columns-1),er=Xe.subMatrix(Et,Xe.rows-1,nn,Xe.columns-1),Gr=Vt(Ne.add(Je,Yn),Ne.add(Wt,er),Et,nn),Pr=Vt(Ne.add(Rn,Yn),Wt,Et,nn),Ht=Vt(Je,Ne.sub(Dn,er),Et,nn),Ln=Vt(Yn,Ne.sub(Ir,Wt),Et,nn),Vn=Vt(Ne.add(Je,yn),er,Et,nn),cn=Vt(Ne.sub(Rn,Je),Ne.add(Wt,Dn),Et,nn),Lr=Vt(Ne.sub(yn,Yn),Ne.add(Ir,er),Et,nn),pr=Ne.add(Gr,Ln);pr.sub(Vn),pr.add(Lr);let Ct=Ne.add(Ht,Vn),Oe=Ne.add(Pr,Ln),Pe=Ne.sub(Gr,Pr);Pe.add(Ht),Pe.add(cn);let Ot=Ne.zeros(2*pr.rows,2*pr.columns);return Ot=Ot.setSubMatrix(pr,0,0),Ot=Ot.setSubMatrix(Ct,pr.rows,0),Ot=Ot.setSubMatrix(Oe,0,pr.columns),Ot=Ot.setSubMatrix(Pe,pr.rows,pr.columns),Ot.subMatrix(0,Ye-1,0,Qe-1)}(V,G=We(G,it,rt),it,rt)}scaleRows(G={}){if("object"!=typeof G)throw new TypeError("options must be an object");const{min:V=0,max:C=1}=G;if(!Number.isFinite(V))throw new TypeError("min must be a number");if(!Number.isFinite(C))throw new TypeError("max must be a number");if(V>=C)throw new RangeError("min must be smaller than max");let W=new $e(this.rows,this.columns);for(let fe=0;fe<this.rows;fe++){const He=this.getRow(fe);He.length>0&&P(He,{min:V,max:C,output:He}),W.setRow(fe,He)}return W}scaleColumns(G={}){if("object"!=typeof G)throw new TypeError("options must be an object");const{min:V=0,max:C=1}=G;if(!Number.isFinite(V))throw new TypeError("min must be a number");if(!Number.isFinite(C))throw new TypeError("max must be a number");if(V>=C)throw new RangeError("min must be smaller than max");let W=new $e(this.rows,this.columns);for(let fe=0;fe<this.columns;fe++){const He=this.getColumn(fe);He.length&&P(He,{min:V,max:C,output:He}),W.setColumn(fe,He)}return W}flipRows(){const G=Math.ceil(this.columns/2);for(let V=0;V<this.rows;V++)for(let C=0;C<G;C++){let W=this.get(V,C),fe=this.get(V,this.columns-1-C);this.set(V,C,fe),this.set(V,this.columns-1-C,W)}return this}flipColumns(){const G=Math.ceil(this.rows/2);for(let V=0;V<this.columns;V++)for(let C=0;C<G;C++){let W=this.get(C,V),fe=this.get(this.rows-1-C,V);this.set(C,V,fe),this.set(this.rows-1-C,V,W)}return this}kroneckerProduct(G){G=$e.checkMatrix(G);let V=this.rows,C=this.columns,W=G.rows,fe=G.columns,He=new $e(V*W,C*fe);for(let We=0;We<V;We++)for(let it=0;it<C;it++)for(let rt=0;rt<W;rt++)for(let Vt=0;Vt<fe;Vt++)He.set(W*We+rt,fe*it+Vt,this.get(We,it)*G.get(rt,Vt));return He}kroneckerSum(G){if(G=$e.checkMatrix(G),!this.isSquare()||!G.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let V=this.rows,C=G.rows,W=this.kroneckerProduct($e.eye(C,C)),fe=$e.eye(V,V).kroneckerProduct(G);return W.add(fe)}transpose(){let G=new $e(this.columns,this.rows);for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)G.set(C,V,this.get(V,C));return G}sortRows(G=lt){for(let V=0;V<this.rows;V++)this.setRow(V,this.getRow(V).sort(G));return this}sortColumns(G=lt){for(let V=0;V<this.columns;V++)this.setColumn(V,this.getColumn(V).sort(G));return this}subMatrix(G,V,C,W){$(this,G,V,C,W);let fe=new $e(V-G+1,W-C+1);for(let He=G;He<=V;He++)for(let We=C;We<=W;We++)fe.set(He-G,We-C,this.get(He,We));return fe}subMatrixRow(G,V,C){if(void 0===V&&(V=0),void 0===C&&(C=this.columns-1),V>C||V<0||V>=this.columns||C<0||C>=this.columns)throw new RangeError("Argument out of range");let W=new $e(G.length,C-V+1);for(let fe=0;fe<G.length;fe++)for(let He=V;He<=C;He++){if(G[fe]<0||G[fe]>=this.rows)throw new RangeError(`Row index out of range: ${G[fe]}`);W.set(fe,He-V,this.get(G[fe],He))}return W}subMatrixColumn(G,V,C){if(void 0===V&&(V=0),void 0===C&&(C=this.rows-1),V>C||V<0||V>=this.rows||C<0||C>=this.rows)throw new RangeError("Argument out of range");let W=new $e(C-V+1,G.length);for(let fe=0;fe<G.length;fe++)for(let He=V;He<=C;He++){if(G[fe]<0||G[fe]>=this.columns)throw new RangeError(`Column index out of range: ${G[fe]}`);W.set(He-V,fe,this.get(He,G[fe]))}return W}setSubMatrix(G,V,C){if((G=$e.checkMatrix(G)).isEmpty())return this;$(this,V,V+G.rows-1,C,C+G.columns-1);for(let He=0;He<G.rows;He++)for(let We=0;We<G.columns;We++)this.set(V+He,C+We,G.get(He,We));return this}selection(G,V){ie(this,G),te(this,V);let C=new $e(G.length,V.length);for(let W=0;W<G.length;W++){let fe=G[W];for(let He=0;He<V.length;He++)C.set(W,He,this.get(fe,V[He]))}return C}trace(){let G=Math.min(this.rows,this.columns),V=0;for(let C=0;C<G;C++)V+=this.get(C,C);return V}clone(){let G=new $e(this.rows,this.columns);for(let V=0;V<this.rows;V++)for(let C=0;C<this.columns;C++)G.set(V,C,this.get(V,C));return G}sum(G){switch(G){case"row":return function ae(Se){let G=X(Se.rows);for(let V=0;V<Se.rows;++V)for(let C=0;C<Se.columns;++C)G[V]+=Se.get(V,C);return G}(this);case"column":return function ne(Se){let G=X(Se.columns);for(let V=0;V<Se.rows;++V)for(let C=0;C<Se.columns;++C)G[C]+=Se.get(V,C);return G}(this);case void 0:return function se(Se){let G=0;for(let V=0;V<Se.rows;V++)for(let C=0;C<Se.columns;C++)G+=Se.get(V,C);return G}(this);default:throw new Error(`invalid option: ${G}`)}}product(G){switch(G){case"row":return function ve(Se){let G=X(Se.rows,1);for(let V=0;V<Se.rows;++V)for(let C=0;C<Se.columns;++C)G[V]*=Se.get(V,C);return G}(this);case"column":return function ge(Se){let G=X(Se.columns,1);for(let V=0;V<Se.rows;++V)for(let C=0;C<Se.columns;++C)G[C]*=Se.get(V,C);return G}(this);case void 0:return function Fe(Se){let G=1;for(let V=0;V<Se.rows;V++)for(let C=0;C<Se.columns;C++)G*=Se.get(V,C);return G}(this);default:throw new Error(`invalid option: ${G}`)}}mean(G){const V=this.sum(G);switch(G){case"row":for(let C=0;C<this.rows;C++)V[C]/=this.columns;return V;case"column":for(let C=0;C<this.columns;C++)V[C]/=this.rows;return V;case void 0:return V/this.size;default:throw new Error(`invalid option: ${G}`)}}variance(G,V={}){if("object"==typeof G&&(V=G,G=void 0),"object"!=typeof V)throw new TypeError("options must be an object");const{unbiased:C=!0,mean:W=this.mean(G)}=V;if("boolean"!=typeof C)throw new TypeError("unbiased must be a boolean");switch(G){case"row":if(!q(W))throw new TypeError("mean must be an array");return function Ae(Se,G,V){const C=Se.rows,W=Se.columns,fe=[];for(let He=0;He<C;He++){let We=0,it=0,rt=0;for(let Vt=0;Vt<W;Vt++)rt=Se.get(He,Vt)-V[He],We+=rt,it+=rt*rt;fe.push(G?(it-We*We/W)/(W-1):(it-We*We/W)/W)}return fe}(this,C,W);case"column":if(!q(W))throw new TypeError("mean must be an array");return function ze(Se,G,V){const C=Se.rows,W=Se.columns,fe=[];for(let He=0;He<W;He++){let We=0,it=0,rt=0;for(let Vt=0;Vt<C;Vt++)rt=Se.get(Vt,He)-V[He],We+=rt,it+=rt*rt;fe.push(G?(it-We*We/C)/(C-1):(it-We*We/C)/C)}return fe}(this,C,W);case void 0:if("number"!=typeof W)throw new TypeError("mean must be a number");return function oe(Se,G,V){const C=Se.rows,W=Se.columns,fe=C*W;let He=0,We=0,it=0;for(let rt=0;rt<C;rt++)for(let Vt=0;Vt<W;Vt++)it=Se.get(rt,Vt)-V,He+=it,We+=it*it;return G?(We-He*He/fe)/(fe-1):(We-He*He/fe)/fe}(this,C,W);default:throw new Error(`invalid option: ${G}`)}}standardDeviation(G,V){"object"==typeof G&&(V=G,G=void 0);const C=this.variance(G,V);if(void 0===G)return Math.sqrt(C);for(let W=0;W<C.length;W++)C[W]=Math.sqrt(C[W]);return C}center(G,V={}){if("object"==typeof G&&(V=G,G=void 0),"object"!=typeof V)throw new TypeError("options must be an object");const{center:C=this.mean(G)}=V;switch(G){case"row":if(!q(C))throw new TypeError("center must be an array");return function ce(Se,G){for(let V=0;V<Se.rows;V++)for(let C=0;C<Se.columns;C++)Se.set(V,C,Se.get(V,C)-G[V])}(this,C),this;case"column":if(!q(C))throw new TypeError("center must be an array");return function H(Se,G){for(let V=0;V<Se.rows;V++)for(let C=0;C<Se.columns;C++)Se.set(V,C,Se.get(V,C)-G[C])}(this,C),this;case void 0:if("number"!=typeof C)throw new TypeError("center must be a number");return function re(Se,G){for(let V=0;V<Se.rows;V++)for(let C=0;C<Se.columns;C++)Se.set(V,C,Se.get(V,C)-G)}(this,C),this;default:throw new Error(`invalid option: ${G}`)}}scale(G,V={}){if("object"==typeof G&&(V=G,G=void 0),"object"!=typeof V)throw new TypeError("options must be an object");let C=V.scale;switch(G){case"row":if(void 0===C)C=function ye(Se){const G=[];for(let V=0;V<Se.rows;V++){let C=0;for(let W=0;W<Se.columns;W++)C+=Math.pow(Se.get(V,W),2)/(Se.columns-1);G.push(Math.sqrt(C))}return G}(this);else if(!q(C))throw new TypeError("scale must be an array");return function Ce(Se,G){for(let V=0;V<Se.rows;V++)for(let C=0;C<Se.columns;C++)Se.set(V,C,Se.get(V,C)/G[V])}(this,C),this;case"column":if(void 0===C)C=function Ie(Se){const G=[];for(let V=0;V<Se.columns;V++){let C=0;for(let W=0;W<Se.rows;W++)C+=Math.pow(Se.get(W,V),2)/(Se.rows-1);G.push(Math.sqrt(C))}return G}(this);else if(!q(C))throw new TypeError("scale must be an array");return function Ue(Se,G){for(let V=0;V<Se.rows;V++)for(let C=0;C<Se.columns;C++)Se.set(V,C,Se.get(V,C)/G[C])}(this,C),this;case void 0:if(void 0===C)C=function pt(Se){const G=Se.size-1;let V=0;for(let C=0;C<Se.columns;C++)for(let W=0;W<Se.rows;W++)V+=Math.pow(Se.get(W,C),2)/G;return Math.sqrt(V)}(this);else if("number"!=typeof C)throw new TypeError("scale must be a number");return function st(Se,G){for(let V=0;V<Se.rows;V++)for(let C=0;C<Se.columns;C++)Se.set(V,C,Se.get(V,C)/G)}(this,C),this;default:throw new Error(`invalid option: ${G}`)}}toString(G){return m(this,G)}}function lt(Se,G){return Se-G}Ne.prototype.klass="Matrix",typeof Symbol<"u"&&(Ne.prototype[Symbol.for("nodejs.util.inspect.custom")]=function x(){return m(this)}),Ne.random=Ne.rand,Ne.randomInt=Ne.randInt,Ne.diagonal=Ne.diag,Ne.prototype.diagonal=Ne.prototype.diag,Ne.identity=Ne.eye,Ne.prototype.negate=Ne.prototype.neg,Ne.prototype.tensorProduct=Ne.prototype.kroneckerProduct;class $e extends Ne{constructor(G,V){if(super(),$e.isMatrix(G))return G.clone();if(Number.isInteger(G)&&G>=0){if(this.data=[],!(Number.isInteger(V)&&V>=0))throw new TypeError("nColumns must be a positive integer");for(let C=0;C<G;C++)this.data.push(new Float64Array(V))}else{if(!q(G))throw new TypeError("First argument must be a positive number or an array");{const C=G;if("number"!=typeof(V=(G=C.length)?C[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let W=0;W<G;W++){if(C[W].length!==V)throw new RangeError("Inconsistent array dimensions");if(!C[W].every(G=>"number"==typeof G))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(C[W]))}}}this.rows=G,this.columns=V}set(G,V,C){return this.data[G][V]=C,this}get(G,V){return this.data[G][V]}removeRow(G){return E(this,G),this.data.splice(G,1),this.rows-=1,this}addRow(G,V){return void 0===V&&(V=G,G=this.rows),E(this,G,!0),V=Float64Array.from(k(this,V)),this.data.splice(G,0,V),this.rows+=1,this}removeColumn(G){A(this,G);for(let V=0;V<this.rows;V++){const C=new Float64Array(this.columns-1);for(let W=0;W<G;W++)C[W]=this.data[V][W];for(let W=G+1;W<this.columns;W++)C[W-1]=this.data[V][W];this.data[V]=C}return this.columns-=1,this}addColumn(G,V){typeof V>"u"&&(V=G,G=this.columns),A(this,G,!0),V=L(this,V);for(let C=0;C<this.rows;C++){const W=new Float64Array(this.columns+1);let fe=0;for(;fe<G;fe++)W[fe]=this.data[C][fe];for(W[fe++]=V[C];fe<this.columns+1;fe++)W[fe]=this.data[C][fe-1];this.data[C]=W}return this.columns+=1,this}}!function w(Se,G){Se.prototype.add=function(C){return"number"==typeof C?this.addS(C):this.addM(C)},Se.prototype.addS=function(C){for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)+C);return this},Se.prototype.addM=function(C){if(C=G.checkMatrix(C),this.rows!==C.rows||this.columns!==C.columns)throw new RangeError("Matrices dimensions must be equal");for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)+C.get(W,fe));return this},Se.add=function(C,W){return new G(C).add(W)},Se.prototype.sub=function(C){return"number"==typeof C?this.subS(C):this.subM(C)},Se.prototype.subS=function(C){for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)-C);return this},Se.prototype.subM=function(C){if(C=G.checkMatrix(C),this.rows!==C.rows||this.columns!==C.columns)throw new RangeError("Matrices dimensions must be equal");for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)-C.get(W,fe));return this},Se.sub=function(C,W){return new G(C).sub(W)},Se.prototype.subtract=Se.prototype.sub,Se.prototype.subtractS=Se.prototype.subS,Se.prototype.subtractM=Se.prototype.subM,Se.subtract=Se.sub,Se.prototype.mul=function(C){return"number"==typeof C?this.mulS(C):this.mulM(C)},Se.prototype.mulS=function(C){for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)*C);return this},Se.prototype.mulM=function(C){if(C=G.checkMatrix(C),this.rows!==C.rows||this.columns!==C.columns)throw new RangeError("Matrices dimensions must be equal");for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)*C.get(W,fe));return this},Se.mul=function(C,W){return new G(C).mul(W)},Se.prototype.multiply=Se.prototype.mul,Se.prototype.multiplyS=Se.prototype.mulS,Se.prototype.multiplyM=Se.prototype.mulM,Se.multiply=Se.mul,Se.prototype.div=function(C){return"number"==typeof C?this.divS(C):this.divM(C)},Se.prototype.divS=function(C){for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)/C);return this},Se.prototype.divM=function(C){if(C=G.checkMatrix(C),this.rows!==C.rows||this.columns!==C.columns)throw new RangeError("Matrices dimensions must be equal");for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)/C.get(W,fe));return this},Se.div=function(C,W){return new G(C).div(W)},Se.prototype.divide=Se.prototype.div,Se.prototype.divideS=Se.prototype.divS,Se.prototype.divideM=Se.prototype.divM,Se.divide=Se.div,Se.prototype.mod=function(C){return"number"==typeof C?this.modS(C):this.modM(C)},Se.prototype.modS=function(C){for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)%C);return this},Se.prototype.modM=function(C){if(C=G.checkMatrix(C),this.rows!==C.rows||this.columns!==C.columns)throw new RangeError("Matrices dimensions must be equal");for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)%C.get(W,fe));return this},Se.mod=function(C,W){return new G(C).mod(W)},Se.prototype.modulus=Se.prototype.mod,Se.prototype.modulusS=Se.prototype.modS,Se.prototype.modulusM=Se.prototype.modM,Se.modulus=Se.mod,Se.prototype.and=function(C){return"number"==typeof C?this.andS(C):this.andM(C)},Se.prototype.andS=function(C){for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)&C);return this},Se.prototype.andM=function(C){if(C=G.checkMatrix(C),this.rows!==C.rows||this.columns!==C.columns)throw new RangeError("Matrices dimensions must be equal");for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)&C.get(W,fe));return this},Se.and=function(C,W){return new G(C).and(W)},Se.prototype.or=function(C){return"number"==typeof C?this.orS(C):this.orM(C)},Se.prototype.orS=function(C){for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)|C);return this},Se.prototype.orM=function(C){if(C=G.checkMatrix(C),this.rows!==C.rows||this.columns!==C.columns)throw new RangeError("Matrices dimensions must be equal");for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)|C.get(W,fe));return this},Se.or=function(C,W){return new G(C).or(W)},Se.prototype.xor=function(C){return"number"==typeof C?this.xorS(C):this.xorM(C)},Se.prototype.xorS=function(C){for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)^C);return this},Se.prototype.xorM=function(C){if(C=G.checkMatrix(C),this.rows!==C.rows||this.columns!==C.columns)throw new RangeError("Matrices dimensions must be equal");for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)^C.get(W,fe));return this},Se.xor=function(C,W){return new G(C).xor(W)},Se.prototype.leftShift=function(C){return"number"==typeof C?this.leftShiftS(C):this.leftShiftM(C)},Se.prototype.leftShiftS=function(C){for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)<<C);return this},Se.prototype.leftShiftM=function(C){if(C=G.checkMatrix(C),this.rows!==C.rows||this.columns!==C.columns)throw new RangeError("Matrices dimensions must be equal");for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)<<C.get(W,fe));return this},Se.leftShift=function(C,W){return new G(C).leftShift(W)},Se.prototype.signPropagatingRightShift=function(C){return"number"==typeof C?this.signPropagatingRightShiftS(C):this.signPropagatingRightShiftM(C)},Se.prototype.signPropagatingRightShiftS=function(C){for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)>>C);return this},Se.prototype.signPropagatingRightShiftM=function(C){if(C=G.checkMatrix(C),this.rows!==C.rows||this.columns!==C.columns)throw new RangeError("Matrices dimensions must be equal");for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)>>C.get(W,fe));return this},Se.signPropagatingRightShift=function(C,W){return new G(C).signPropagatingRightShift(W)},Se.prototype.rightShift=function(C){return"number"==typeof C?this.rightShiftS(C):this.rightShiftM(C)},Se.prototype.rightShiftS=function(C){for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)>>>C);return this},Se.prototype.rightShiftM=function(C){if(C=G.checkMatrix(C),this.rows!==C.rows||this.columns!==C.columns)throw new RangeError("Matrices dimensions must be equal");for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,this.get(W,fe)>>>C.get(W,fe));return this},Se.rightShift=function(C,W){return new G(C).rightShift(W)},Se.prototype.zeroFillRightShift=Se.prototype.rightShift,Se.prototype.zeroFillRightShiftS=Se.prototype.rightShiftS,Se.prototype.zeroFillRightShiftM=Se.prototype.rightShiftM,Se.zeroFillRightShift=Se.rightShift,Se.prototype.not=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,~this.get(C,W));return this},Se.not=function(C){return new G(C).not()},Se.prototype.abs=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.abs(this.get(C,W)));return this},Se.abs=function(C){return new G(C).abs()},Se.prototype.acos=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.acos(this.get(C,W)));return this},Se.acos=function(C){return new G(C).acos()},Se.prototype.acosh=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.acosh(this.get(C,W)));return this},Se.acosh=function(C){return new G(C).acosh()},Se.prototype.asin=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.asin(this.get(C,W)));return this},Se.asin=function(C){return new G(C).asin()},Se.prototype.asinh=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.asinh(this.get(C,W)));return this},Se.asinh=function(C){return new G(C).asinh()},Se.prototype.atan=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.atan(this.get(C,W)));return this},Se.atan=function(C){return new G(C).atan()},Se.prototype.atanh=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.atanh(this.get(C,W)));return this},Se.atanh=function(C){return new G(C).atanh()},Se.prototype.cbrt=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.cbrt(this.get(C,W)));return this},Se.cbrt=function(C){return new G(C).cbrt()},Se.prototype.ceil=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.ceil(this.get(C,W)));return this},Se.ceil=function(C){return new G(C).ceil()},Se.prototype.clz32=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.clz32(this.get(C,W)));return this},Se.clz32=function(C){return new G(C).clz32()},Se.prototype.cos=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.cos(this.get(C,W)));return this},Se.cos=function(C){return new G(C).cos()},Se.prototype.cosh=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.cosh(this.get(C,W)));return this},Se.cosh=function(C){return new G(C).cosh()},Se.prototype.exp=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.exp(this.get(C,W)));return this},Se.exp=function(C){return new G(C).exp()},Se.prototype.expm1=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.expm1(this.get(C,W)));return this},Se.expm1=function(C){return new G(C).expm1()},Se.prototype.floor=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.floor(this.get(C,W)));return this},Se.floor=function(C){return new G(C).floor()},Se.prototype.fround=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.fround(this.get(C,W)));return this},Se.fround=function(C){return new G(C).fround()},Se.prototype.log=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.log(this.get(C,W)));return this},Se.log=function(C){return new G(C).log()},Se.prototype.log1p=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.log1p(this.get(C,W)));return this},Se.log1p=function(C){return new G(C).log1p()},Se.prototype.log10=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.log10(this.get(C,W)));return this},Se.log10=function(C){return new G(C).log10()},Se.prototype.log2=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.log2(this.get(C,W)));return this},Se.log2=function(C){return new G(C).log2()},Se.prototype.round=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.round(this.get(C,W)));return this},Se.round=function(C){return new G(C).round()},Se.prototype.sign=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.sign(this.get(C,W)));return this},Se.sign=function(C){return new G(C).sign()},Se.prototype.sin=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.sin(this.get(C,W)));return this},Se.sin=function(C){return new G(C).sin()},Se.prototype.sinh=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.sinh(this.get(C,W)));return this},Se.sinh=function(C){return new G(C).sinh()},Se.prototype.sqrt=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.sqrt(this.get(C,W)));return this},Se.sqrt=function(C){return new G(C).sqrt()},Se.prototype.tan=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.tan(this.get(C,W)));return this},Se.tan=function(C){return new G(C).tan()},Se.prototype.tanh=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.tanh(this.get(C,W)));return this},Se.tanh=function(C){return new G(C).tanh()},Se.prototype.trunc=function(){for(let C=0;C<this.rows;C++)for(let W=0;W<this.columns;W++)this.set(C,W,Math.trunc(this.get(C,W)));return this},Se.trunc=function(C){return new G(C).trunc()},Se.pow=function(C,W){return new G(C).pow(W)},Se.prototype.pow=function(C){return"number"==typeof C?this.powS(C):this.powM(C)},Se.prototype.powS=function(C){for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,Math.pow(this.get(W,fe),C));return this},Se.prototype.powM=function(C){if(C=G.checkMatrix(C),this.rows!==C.rows||this.columns!==C.columns)throw new RangeError("Matrices dimensions must be equal");for(let W=0;W<this.rows;W++)for(let fe=0;fe<this.columns;fe++)this.set(W,fe,Math.pow(this.get(W,fe),C.get(W,fe)));return this}}(Ne,$e);class dt extends Ne{constructor(G,V,C){super(),this.matrix=G,this.rows=V,this.columns=C}}class De extends dt{constructor(G,V){A(G,V),super(G,G.rows,1),this.column=V}set(G,V,C){return this.matrix.set(G,this.column,C),this}get(G){return this.matrix.get(G,this.column)}}class Be extends dt{constructor(G,V){te(G,V),super(G,G.rows,V.length),this.columnIndices=V}set(G,V,C){return this.matrix.set(G,this.columnIndices[V],C),this}get(G,V){return this.matrix.get(G,this.columnIndices[V])}}class vt extends dt{constructor(G){super(G,G.rows,G.columns)}set(G,V,C){return this.matrix.set(G,this.columns-V-1,C),this}get(G,V){return this.matrix.get(G,this.columns-V-1)}}class Ve extends dt{constructor(G){super(G,G.rows,G.columns)}set(G,V,C){return this.matrix.set(this.rows-G-1,V,C),this}get(G,V){return this.matrix.get(this.rows-G-1,V)}}class nt extends dt{constructor(G,V){E(G,V),super(G,1,G.columns),this.row=V}set(G,V,C){return this.matrix.set(this.row,V,C),this}get(G,V){return this.matrix.get(this.row,V)}}class wt extends dt{constructor(G,V){ie(G,V),super(G,V.length,G.columns),this.rowIndices=V}set(G,V,C){return this.matrix.set(this.rowIndices[G],V,C),this}get(G,V){return this.matrix.get(this.rowIndices[G],V)}}class Bt extends dt{constructor(G,V,C){ie(G,V),te(G,C),super(G,V.length,C.length),this.rowIndices=V,this.columnIndices=C}set(G,V,C){return this.matrix.set(this.rowIndices[G],this.columnIndices[V],C),this}get(G,V){return this.matrix.get(this.rowIndices[G],this.columnIndices[V])}}class pn extends dt{constructor(G,V,C,W,fe){$(G,V,C,W,fe),super(G,C-V+1,fe-W+1),this.startRow=V,this.startColumn=W}set(G,V,C){return this.matrix.set(this.startRow+G,this.startColumn+V,C),this}get(G,V){return this.matrix.get(this.startRow+G,this.startColumn+V)}}class kn extends dt{constructor(G){super(G,G.columns,G.rows)}set(G,V,C){return this.matrix.set(V,G,C),this}get(G,V){return this.matrix.get(V,G)}}class je extends Ne{constructor(G,V={}){const{rows:C=1}=V;if(G.length%C!=0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=C,this.columns=G.length/C,this.data=G}set(G,V,C){let W=this._calculateIndex(G,V);return this.data[W]=C,this}get(G,V){let C=this._calculateIndex(G,V);return this.data[C]}_calculateIndex(G,V){return G*this.columns+V}}class Hn extends Ne{constructor(G){super(),this.data=G,this.rows=G.length,this.columns=G[0].length}set(G,V,C){return this.data[G][V]=C,this}get(G,V){return this.data[G][V]}}function Cr(Se,G){if(q(Se))return Se[0]&&q(Se[0])?new Hn(Se):new je(Se,G);throw new Error("the argument is not an array")}class qn{constructor(G){let We,it,rt,Vt,N,Xe,Ye,Qe,Et,V=(G=Hn.checkMatrix(G)).clone(),C=V.rows,W=V.columns,fe=new Float64Array(C),He=1;for(We=0;We<C;We++)fe[We]=We;for(Qe=new Float64Array(C),it=0;it<W;it++){for(We=0;We<C;We++)Qe[We]=V.get(We,it);for(We=0;We<C;We++){for(Et=Math.min(We,it),N=0,rt=0;rt<Et;rt++)N+=V.get(We,rt)*Qe[rt];Qe[We]-=N,V.set(We,it,Qe[We])}for(Vt=it,We=it+1;We<C;We++)Math.abs(Qe[We])>Math.abs(Qe[Vt])&&(Vt=We);if(Vt!==it){for(rt=0;rt<W;rt++)Xe=V.get(Vt,rt),V.set(Vt,rt,V.get(it,rt)),V.set(it,rt,Xe);Ye=fe[Vt],fe[Vt]=fe[it],fe[it]=Ye,He=-He}if(it<C&&0!==V.get(it,it))for(We=it+1;We<C;We++)V.set(We,it,V.get(We,it)/V.get(it,it))}this.LU=V,this.pivotVector=fe,this.pivotSign=He}isSingular(){let G=this.LU,V=G.columns;for(let C=0;C<V;C++)if(0===G.get(C,C))return!0;return!1}solve(G){G=$e.checkMatrix(G);let V=this.LU;if(V.rows!==G.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let We,it,rt,W=G.columns,fe=G.subMatrixRow(this.pivotVector,0,W-1),He=V.columns;for(rt=0;rt<He;rt++)for(We=rt+1;We<He;We++)for(it=0;it<W;it++)fe.set(We,it,fe.get(We,it)-fe.get(rt,it)*V.get(We,rt));for(rt=He-1;rt>=0;rt--){for(it=0;it<W;it++)fe.set(rt,it,fe.get(rt,it)/V.get(rt,rt));for(We=0;We<rt;We++)for(it=0;it<W;it++)fe.set(We,it,fe.get(We,it)-fe.get(rt,it)*V.get(We,rt))}return fe}get determinant(){let G=this.LU;if(!G.isSquare())throw new Error("Matrix must be square");let V=this.pivotSign,C=G.columns;for(let W=0;W<C;W++)V*=G.get(W,W);return V}get lowerTriangularMatrix(){let G=this.LU,V=G.rows,C=G.columns,W=new $e(V,C);for(let fe=0;fe<V;fe++)for(let He=0;He<C;He++)W.set(fe,He,fe>He?G.get(fe,He):fe===He?1:0);return W}get upperTriangularMatrix(){let G=this.LU,V=G.rows,C=G.columns,W=new $e(V,C);for(let fe=0;fe<V;fe++)for(let He=0;He<C;He++)W.set(fe,He,fe<=He?G.get(fe,He):0);return W}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function Me(Se,G){let V=0;return Math.abs(Se)>Math.abs(G)?(V=G/Se,Math.abs(Se)*Math.sqrt(1+V*V)):0!==G?(V=Se/G,Math.abs(G)*Math.sqrt(1+V*V)):0}class Ur{constructor(G){let He,We,it,rt,V=(G=Hn.checkMatrix(G)).clone(),C=G.rows,W=G.columns,fe=new Float64Array(W);for(it=0;it<W;it++){let Vt=0;for(He=it;He<C;He++)Vt=Me(Vt,V.get(He,it));if(0!==Vt){for(V.get(it,it)<0&&(Vt=-Vt),He=it;He<C;He++)V.set(He,it,V.get(He,it)/Vt);for(V.set(it,it,V.get(it,it)+1),We=it+1;We<W;We++){for(rt=0,He=it;He<C;He++)rt+=V.get(He,it)*V.get(He,We);for(rt=-rt/V.get(it,it),He=it;He<C;He++)V.set(He,We,V.get(He,We)+rt*V.get(He,it))}}fe[it]=-Vt}this.QR=V,this.Rdiag=fe}solve(G){G=$e.checkMatrix(G);let V=this.QR,C=V.rows;if(G.rows!==C)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let We,it,rt,Vt,W=G.columns,fe=G.clone(),He=V.columns;for(rt=0;rt<He;rt++)for(it=0;it<W;it++){for(Vt=0,We=rt;We<C;We++)Vt+=V.get(We,rt)*fe.get(We,it);for(Vt=-Vt/V.get(rt,rt),We=rt;We<C;We++)fe.set(We,it,fe.get(We,it)+Vt*V.get(We,rt))}for(rt=He-1;rt>=0;rt--){for(it=0;it<W;it++)fe.set(rt,it,fe.get(rt,it)/this.Rdiag[rt]);for(We=0;We<rt;We++)for(it=0;it<W;it++)fe.set(We,it,fe.get(We,it)-fe.get(rt,it)*V.get(We,rt))}return fe.subMatrix(0,He-1,0,W-1)}isFullRank(){let G=this.QR.columns;for(let V=0;V<G;V++)if(0===this.Rdiag[V])return!1;return!0}get upperTriangularMatrix(){let W,fe,G=this.QR,V=G.columns,C=new $e(V,V);for(W=0;W<V;W++)for(fe=0;fe<V;fe++)C.set(W,fe,W<fe?G.get(W,fe):W===fe?this.Rdiag[W]:0);return C}get orthogonalMatrix(){let fe,He,We,it,G=this.QR,V=G.rows,C=G.columns,W=new $e(V,C);for(We=C-1;We>=0;We--){for(fe=0;fe<V;fe++)W.set(fe,We,0);for(W.set(We,We,1),He=We;He<C;He++)if(0!==G.get(We,We)){for(it=0,fe=We;fe<V;fe++)it+=G.get(fe,We)*W.get(fe,He);for(it=-it/G.get(We,We),fe=We;fe<V;fe++)W.set(fe,He,W.get(fe,He)+it*G.get(fe,We))}}return W}}class pi{constructor(G,V={}){if((G=Hn.checkMatrix(G)).isEmpty())throw new Error("Matrix must be non-empty");let C=G.rows,W=G.columns;const{computeLeftSingularVectors:fe=!0,computeRightSingularVectors:He=!0,autoTranspose:We=!1}=V;let N,it=Boolean(fe),rt=Boolean(He),Vt=!1;if(C<W)if(We){N=G.transpose(),C=N.rows,W=N.columns,Vt=!0;let Ht=it;it=rt,rt=Ht}else N=G.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else N=G.clone();let Xe=Math.min(C,W),Ye=Math.min(C+1,W),Qe=new Float64Array(Ye),Et=new $e(C,Xe),nn=new $e(W,W),Je=new Float64Array(W),Wt=new Float64Array(C),yn=new Float64Array(Ye);for(let Ht=0;Ht<Ye;Ht++)yn[Ht]=Ht;let Dn=Math.min(C-1,W),Rn=Math.max(0,Math.min(W-2,C)),Ir=Math.max(Dn,Rn);for(let Ht=0;Ht<Ir;Ht++){if(Ht<Dn){Qe[Ht]=0;for(let Ln=Ht;Ln<C;Ln++)Qe[Ht]=Me(Qe[Ht],N.get(Ln,Ht));if(0!==Qe[Ht]){N.get(Ht,Ht)<0&&(Qe[Ht]=-Qe[Ht]);for(let Ln=Ht;Ln<C;Ln++)N.set(Ln,Ht,N.get(Ln,Ht)/Qe[Ht]);N.set(Ht,Ht,N.get(Ht,Ht)+1)}Qe[Ht]=-Qe[Ht]}for(let Ln=Ht+1;Ln<W;Ln++){if(Ht<Dn&&0!==Qe[Ht]){let Vn=0;for(let cn=Ht;cn<C;cn++)Vn+=N.get(cn,Ht)*N.get(cn,Ln);Vn=-Vn/N.get(Ht,Ht);for(let cn=Ht;cn<C;cn++)N.set(cn,Ln,N.get(cn,Ln)+Vn*N.get(cn,Ht))}Je[Ln]=N.get(Ht,Ln)}if(it&&Ht<Dn)for(let Ln=Ht;Ln<C;Ln++)Et.set(Ln,Ht,N.get(Ln,Ht));if(Ht<Rn){Je[Ht]=0;for(let Ln=Ht+1;Ln<W;Ln++)Je[Ht]=Me(Je[Ht],Je[Ln]);if(0!==Je[Ht]){Je[Ht+1]<0&&(Je[Ht]=0-Je[Ht]);for(let Ln=Ht+1;Ln<W;Ln++)Je[Ln]/=Je[Ht];Je[Ht+1]+=1}if(Je[Ht]=-Je[Ht],Ht+1<C&&0!==Je[Ht]){for(let Ln=Ht+1;Ln<C;Ln++)Wt[Ln]=0;for(let Ln=Ht+1;Ln<C;Ln++)for(let Vn=Ht+1;Vn<W;Vn++)Wt[Ln]+=Je[Vn]*N.get(Ln,Vn);for(let Ln=Ht+1;Ln<W;Ln++){let Vn=-Je[Ln]/Je[Ht+1];for(let cn=Ht+1;cn<C;cn++)N.set(cn,Ln,N.get(cn,Ln)+Vn*Wt[cn])}}if(rt)for(let Ln=Ht+1;Ln<W;Ln++)nn.set(Ln,Ht,Je[Ln])}}let Yn=Math.min(W,C+1);if(Dn<W&&(Qe[Dn]=N.get(Dn,Dn)),C<Yn&&(Qe[Yn-1]=0),Rn+1<Yn&&(Je[Rn]=N.get(Rn,Yn-1)),Je[Yn-1]=0,it){for(let Ht=Dn;Ht<Xe;Ht++){for(let Ln=0;Ln<C;Ln++)Et.set(Ln,Ht,0);Et.set(Ht,Ht,1)}for(let Ht=Dn-1;Ht>=0;Ht--)if(0!==Qe[Ht]){for(let Ln=Ht+1;Ln<Xe;Ln++){let Vn=0;for(let cn=Ht;cn<C;cn++)Vn+=Et.get(cn,Ht)*Et.get(cn,Ln);Vn=-Vn/Et.get(Ht,Ht);for(let cn=Ht;cn<C;cn++)Et.set(cn,Ln,Et.get(cn,Ln)+Vn*Et.get(cn,Ht))}for(let Ln=Ht;Ln<C;Ln++)Et.set(Ln,Ht,-Et.get(Ln,Ht));Et.set(Ht,Ht,1+Et.get(Ht,Ht));for(let Ln=0;Ln<Ht-1;Ln++)Et.set(Ln,Ht,0)}else{for(let Ln=0;Ln<C;Ln++)Et.set(Ln,Ht,0);Et.set(Ht,Ht,1)}}if(rt)for(let Ht=W-1;Ht>=0;Ht--){if(Ht<Rn&&0!==Je[Ht])for(let Ln=Ht+1;Ln<W;Ln++){let Vn=0;for(let cn=Ht+1;cn<W;cn++)Vn+=nn.get(cn,Ht)*nn.get(cn,Ln);Vn=-Vn/nn.get(Ht+1,Ht);for(let cn=Ht+1;cn<W;cn++)nn.set(cn,Ln,nn.get(cn,Ln)+Vn*nn.get(cn,Ht))}for(let Ln=0;Ln<W;Ln++)nn.set(Ln,Ht,0);nn.set(Ht,Ht,1)}let er=Yn-1,Gr=0,Pr=Number.EPSILON;for(;Yn>0;){let Ht,Ln;for(Ht=Yn-2;Ht>=-1&&-1!==Ht;Ht--){const Vn=Number.MIN_VALUE+Pr*Math.abs(Qe[Ht]+Math.abs(Qe[Ht+1]));if(Math.abs(Je[Ht])<=Vn||Number.isNaN(Je[Ht])){Je[Ht]=0;break}}if(Ht===Yn-2)Ln=4;else{let Vn;for(Vn=Yn-1;Vn>=Ht&&Vn!==Ht;Vn--){let cn=(Vn!==Yn?Math.abs(Je[Vn]):0)+(Vn!==Ht+1?Math.abs(Je[Vn-1]):0);if(Math.abs(Qe[Vn])<=Pr*cn){Qe[Vn]=0;break}}Vn===Ht?Ln=3:Vn===Yn-1?Ln=1:(Ln=2,Ht=Vn)}switch(Ht++,Ln){case 1:{let Vn=Je[Yn-2];Je[Yn-2]=0;for(let cn=Yn-2;cn>=Ht;cn--){let Lr=Me(Qe[cn],Vn),pr=Qe[cn]/Lr,Ct=Vn/Lr;if(Qe[cn]=Lr,cn!==Ht&&(Vn=-Ct*Je[cn-1],Je[cn-1]=pr*Je[cn-1]),rt)for(let Oe=0;Oe<W;Oe++)Lr=pr*nn.get(Oe,cn)+Ct*nn.get(Oe,Yn-1),nn.set(Oe,Yn-1,-Ct*nn.get(Oe,cn)+pr*nn.get(Oe,Yn-1)),nn.set(Oe,cn,Lr)}break}case 2:{let Vn=Je[Ht-1];Je[Ht-1]=0;for(let cn=Ht;cn<Yn;cn++){let Lr=Me(Qe[cn],Vn),pr=Qe[cn]/Lr,Ct=Vn/Lr;if(Qe[cn]=Lr,Vn=-Ct*Je[cn],Je[cn]=pr*Je[cn],it)for(let Oe=0;Oe<C;Oe++)Lr=pr*Et.get(Oe,cn)+Ct*Et.get(Oe,Ht-1),Et.set(Oe,Ht-1,-Ct*Et.get(Oe,cn)+pr*Et.get(Oe,Ht-1)),Et.set(Oe,cn,Lr)}break}case 3:{const Vn=Math.max(Math.abs(Qe[Yn-1]),Math.abs(Qe[Yn-2]),Math.abs(Je[Yn-2]),Math.abs(Qe[Ht]),Math.abs(Je[Ht])),cn=Qe[Yn-1]/Vn,Lr=Qe[Yn-2]/Vn,pr=Je[Yn-2]/Vn,Ct=Qe[Ht]/Vn,Oe=Je[Ht]/Vn,Pe=((Lr+cn)*(Lr-cn)+pr*pr)/2,Ot=cn*pr*(cn*pr);let ht=0;(0!==Pe||0!==Ot)&&(ht=Pe<0?0-Math.sqrt(Pe*Pe+Ot):Math.sqrt(Pe*Pe+Ot),ht=Ot/(Pe+ht));let At=(Ct+cn)*(Ct-cn)+ht,on=Ct*Oe;for(let En=Ht;En<Yn-1;En++){let Fn=Me(At,on);0===Fn&&(Fn=Number.MIN_VALUE);let xr=At/Fn,fr=on/Fn;if(En!==Ht&&(Je[En-1]=Fn),At=xr*Qe[En]+fr*Je[En],Je[En]=xr*Je[En]-fr*Qe[En],on=fr*Qe[En+1],Qe[En+1]=xr*Qe[En+1],rt)for(let Fr=0;Fr<W;Fr++)Fn=xr*nn.get(Fr,En)+fr*nn.get(Fr,En+1),nn.set(Fr,En+1,-fr*nn.get(Fr,En)+xr*nn.get(Fr,En+1)),nn.set(Fr,En,Fn);if(Fn=Me(At,on),0===Fn&&(Fn=Number.MIN_VALUE),xr=At/Fn,fr=on/Fn,Qe[En]=Fn,At=xr*Je[En]+fr*Qe[En+1],Qe[En+1]=-fr*Je[En]+xr*Qe[En+1],on=fr*Je[En+1],Je[En+1]=xr*Je[En+1],it&&En<C-1)for(let Fr=0;Fr<C;Fr++)Fn=xr*Et.get(Fr,En)+fr*Et.get(Fr,En+1),Et.set(Fr,En+1,-fr*Et.get(Fr,En)+xr*Et.get(Fr,En+1)),Et.set(Fr,En,Fn)}Je[Yn-2]=At,Gr+=1;break}case 4:if(Qe[Ht]<=0&&(Qe[Ht]=Qe[Ht]<0?-Qe[Ht]:0,rt))for(let Vn=0;Vn<=er;Vn++)nn.set(Vn,Ht,-nn.get(Vn,Ht));for(;Ht<er&&!(Qe[Ht]>=Qe[Ht+1]);){let Vn=Qe[Ht];if(Qe[Ht]=Qe[Ht+1],Qe[Ht+1]=Vn,rt&&Ht<W-1)for(let cn=0;cn<W;cn++)Vn=nn.get(cn,Ht+1),nn.set(cn,Ht+1,nn.get(cn,Ht)),nn.set(cn,Ht,Vn);if(it&&Ht<C-1)for(let cn=0;cn<C;cn++)Vn=Et.get(cn,Ht+1),Et.set(cn,Ht+1,Et.get(cn,Ht)),Et.set(cn,Ht,Vn);Ht++}Gr=0,Yn--}}if(Vt){let Ht=nn;nn=Et,Et=Ht}this.m=C,this.n=W,this.s=Qe,this.U=Et,this.V=nn}solve(G){let V=G,C=this.threshold,W=this.s.length,fe=$e.zeros(W,W);for(let Xe=0;Xe<W;Xe++)Math.abs(this.s[Xe])<=C?fe.set(Xe,Xe,0):fe.set(Xe,Xe,1/this.s[Xe]);let He=this.U,We=this.rightSingularVectors,it=We.mmul(fe),rt=We.rows,Vt=He.rows,N=$e.zeros(rt,Vt);for(let Xe=0;Xe<rt;Xe++)for(let Ye=0;Ye<Vt;Ye++){let Qe=0;for(let Et=0;Et<W;Et++)Qe+=it.get(Xe,Et)*He.get(Ye,Et);N.set(Xe,Ye,Qe)}return N.mmul(V)}solveForDiagonal(G){return this.solve($e.diag(G))}inverse(){let G=this.V,V=this.threshold,C=G.rows,W=G.columns,fe=new $e(C,this.s.length);for(let Vt=0;Vt<C;Vt++)for(let N=0;N<W;N++)Math.abs(this.s[N])>V&&fe.set(Vt,N,G.get(Vt,N)/this.s[N]);let He=this.U,We=He.rows,it=He.columns,rt=new $e(C,We);for(let Vt=0;Vt<C;Vt++)for(let N=0;N<We;N++){let Xe=0;for(let Ye=0;Ye<it;Ye++)Xe+=fe.get(Vt,Ye)*He.get(N,Ye);rt.set(Vt,N,Xe)}return rt}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let G=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,V=0,C=this.s;for(let W=0,fe=C.length;W<fe;W++)C[W]>G&&V++;return V}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return $e.diag(this.s)}}function bi(Se,G=!1){return Se=Hn.checkMatrix(Se),G?new pi(Se).inverse():ii(Se,$e.eye(Se.rows))}function ii(Se,G,V=!1){return Se=Hn.checkMatrix(Se),G=Hn.checkMatrix(G),V?new pi(Se).solve(G):Se.isSquare()?new qn(Se).solve(G):new Ur(Se).solve(G)}function Xi(Se){if((Se=$e.checkMatrix(Se)).isSquare()){if(0===Se.columns)return 1;let G,V,C,W;if(2===Se.columns)return G=Se.get(0,0),V=Se.get(0,1),C=Se.get(1,0),W=Se.get(1,1),G*W-V*C;if(3===Se.columns){let fe,He,We;return fe=new Bt(Se,[1,2],[1,2]),He=new Bt(Se,[1,2],[0,2]),We=new Bt(Se,[1,2],[0,1]),G=Se.get(0,0),V=Se.get(0,1),C=Se.get(0,2),G*Xi(fe)-V*Xi(He)+C*Xi(We)}return new qn(Se).determinant}throw Error("determinant can only be calculated for a square matrix")}function ji(Se,G){let V=[];for(let C=0;C<Se;C++)C!==G&&V.push(C);return V}function hn(Se,G,V,C=1e-9,W=1e-9){if(Se>W)return new Array(G.rows+1).fill(0);{let fe=G.addRow(V,[0]);for(let He=0;He<fe.rows;He++)Math.abs(fe.get(He,0))<C&&fe.set(He,0,0);return fe.to1DArray()}}function Pn(Se,G={}){const{thresholdValue:V=1e-9,thresholdError:C=1e-9}=G;let W=(Se=$e.checkMatrix(Se)).rows,fe=new $e(W,W);for(let He=0;He<W;He++){let We=$e.columnVector(Se.getRow(He)),it=Se.subMatrixRow(ji(W,He)).transpose(),Vt=new pi(it).solve(We),N=$e.sub(We,it.mmul(Vt)).abs().max();fe.setRow(He,hn(N,Vt,He,V,C))}return fe}function br(Se,G=Number.EPSILON){if((Se=$e.checkMatrix(Se)).isEmpty())return Se.transpose();let V=new pi(Se,{autoTranspose:!0}),C=V.leftSingularVectors,W=V.rightSingularVectors,fe=V.diagonal;for(let He=0;He<fe.length;He++)fe[He]=Math.abs(fe[He])>G?1/fe[He]:0;return W.mmul($e.diag(fe).mmul(C.transpose()))}function Dr(Se,G=Se,V={}){Se=new $e(Se);let C=!1;if("object"!=typeof G||$e.isMatrix(G)||q(G)?G=new $e(G):(V=G,G=Se,C=!0),Se.rows!==G.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:W=!0}=V;W&&(Se=Se.center("column"),C||(G=G.center("column")));const fe=Se.transpose().mmul(G);for(let He=0;He<fe.rows;He++)for(let We=0;We<fe.columns;We++)fe.set(He,We,fe.get(He,We)*(1/(Se.rows-1)));return fe}function kr(Se,G=Se,V={}){Se=new $e(Se);let C=!1;if("object"!=typeof G||$e.isMatrix(G)||q(G)?G=new $e(G):(V=G,G=Se,C=!0),Se.rows!==G.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:W=!0,scale:fe=!0}=V;W&&(Se.center("column"),C||G.center("column")),fe&&(Se.scale("column"),C||G.scale("column"));const He=Se.standardDeviation("column",{unbiased:!0}),We=C?He:G.standardDeviation("column",{unbiased:!0}),it=Se.transpose().mmul(G);for(let rt=0;rt<it.rows;rt++)for(let Vt=0;Vt<it.columns;Vt++)it.set(rt,Vt,it.get(rt,Vt)*(1/(He[rt]*We[Vt]))*(1/(Se.rows-1)));return it}class ei{constructor(G,V={}){const{assumeSymmetric:C=!1}=V;if(!(G=Hn.checkMatrix(G)).isSquare())throw new Error("Matrix is not a square matrix");if(G.isEmpty())throw new Error("Matrix must be non-empty");let rt,Vt,W=G.columns,fe=new $e(W,W),He=new Float64Array(W),We=new Float64Array(W),it=G,N=!1;if(N=!!C||G.isSymmetric(),N){for(rt=0;rt<W;rt++)for(Vt=0;Vt<W;Vt++)fe.set(rt,Vt,it.get(rt,Vt));(function Qr(Se,G,V,C){let W,fe,He,We,it,rt,Vt,N;for(it=0;it<Se;it++)V[it]=C.get(Se-1,it);for(We=Se-1;We>0;We--){for(N=0,He=0,rt=0;rt<We;rt++)N+=Math.abs(V[rt]);if(0===N)for(G[We]=V[We-1],it=0;it<We;it++)V[it]=C.get(We-1,it),C.set(We,it,0),C.set(it,We,0);else{for(rt=0;rt<We;rt++)V[rt]/=N,He+=V[rt]*V[rt];for(W=V[We-1],fe=Math.sqrt(He),W>0&&(fe=-fe),G[We]=N*fe,He-=W*fe,V[We-1]=W-fe,it=0;it<We;it++)G[it]=0;for(it=0;it<We;it++){for(W=V[it],C.set(it,We,W),fe=G[it]+C.get(it,it)*W,rt=it+1;rt<=We-1;rt++)fe+=C.get(rt,it)*V[rt],G[rt]+=C.get(rt,it)*W;G[it]=fe}for(W=0,it=0;it<We;it++)G[it]/=He,W+=G[it]*V[it];for(Vt=W/(He+He),it=0;it<We;it++)G[it]-=Vt*V[it];for(it=0;it<We;it++){for(W=V[it],fe=G[it],rt=it;rt<=We-1;rt++)C.set(rt,it,C.get(rt,it)-(W*G[rt]+fe*V[rt]));V[it]=C.get(We-1,it),C.set(We,it,0)}}V[We]=He}for(We=0;We<Se-1;We++){if(C.set(Se-1,We,C.get(We,We)),C.set(We,We,1),He=V[We+1],0!==He){for(rt=0;rt<=We;rt++)V[rt]=C.get(rt,We+1)/He;for(it=0;it<=We;it++){for(fe=0,rt=0;rt<=We;rt++)fe+=C.get(rt,We+1)*C.get(rt,it);for(rt=0;rt<=We;rt++)C.set(rt,it,C.get(rt,it)-fe*V[rt])}}for(rt=0;rt<=We;rt++)C.set(rt,We+1,0)}for(it=0;it<Se;it++)V[it]=C.get(Se-1,it),C.set(Se-1,it,0);C.set(Se-1,Se-1,1),G[0]=0})(W,We,He,fe),function Ti(Se,G,V,C){let W,fe,He,We,it,rt,Vt,N,Xe,Ye,Qe,Et,nn,Je,Wt,yn,Dn;for(He=1;He<Se;He++)G[He-1]=G[He];G[Se-1]=0;let Rn=0,Ir=0,Yn=Number.EPSILON;for(rt=0;rt<Se;rt++){for(Ir=Math.max(Ir,Math.abs(V[rt])+Math.abs(G[rt])),Vt=rt;Vt<Se&&!(Math.abs(G[Vt])<=Yn*Ir);)Vt++;if(Vt>rt){Dn=0;do{for(Dn+=1,W=V[rt],N=(V[rt+1]-W)/(2*G[rt]),Xe=Me(N,1),N<0&&(Xe=-Xe),V[rt]=G[rt]/(N+Xe),V[rt+1]=G[rt]*(N+Xe),Ye=V[rt+1],fe=W-V[rt],He=rt+2;He<Se;He++)V[He]-=fe;for(Rn+=fe,N=V[Vt],Qe=1,Et=Qe,nn=Qe,Je=G[rt+1],Wt=0,yn=0,He=Vt-1;He>=rt;He--)for(nn=Et,Et=Qe,yn=Wt,W=Qe*G[He],fe=Qe*N,Xe=Me(N,G[He]),G[He+1]=Wt*Xe,Wt=G[He]/Xe,Qe=N/Xe,N=Qe*V[He]-Wt*W,V[He+1]=fe+Wt*(Qe*W+Wt*V[He]),it=0;it<Se;it++)fe=C.get(it,He+1),C.set(it,He+1,Wt*C.get(it,He)+Qe*fe),C.set(it,He,Qe*C.get(it,He)-Wt*fe);N=-Wt*yn*nn*Je*G[rt]/Ye,G[rt]=Wt*N,V[rt]=Qe*N}while(Math.abs(G[rt])>Yn*Ir)}V[rt]=V[rt]+Rn,G[rt]=0}for(He=0;He<Se-1;He++){for(it=He,N=V[He],We=He+1;We<Se;We++)V[We]<N&&(it=We,N=V[We]);if(it!==He)for(V[it]=V[He],V[He]=N,We=0;We<Se;We++)N=C.get(We,He),C.set(We,He,C.get(We,it)),C.set(We,it,N)}}(W,We,He,fe)}else{let Xe=new $e(W,W),Ye=new Float64Array(W);for(Vt=0;Vt<W;Vt++)for(rt=0;rt<W;rt++)Xe.set(rt,Vt,it.get(rt,Vt));(function Ki(Se,G,V,C){let He,We,it,rt,Vt,N,Xe,fe=Se-1;for(N=1;N<=fe-1;N++){for(Xe=0,rt=N;rt<=fe;rt++)Xe+=Math.abs(G.get(rt,N-1));if(0!==Xe){for(it=0,rt=fe;rt>=N;rt--)V[rt]=G.get(rt,N-1)/Xe,it+=V[rt]*V[rt];for(We=Math.sqrt(it),V[N]>0&&(We=-We),it-=V[N]*We,V[N]=V[N]-We,Vt=N;Vt<Se;Vt++){for(He=0,rt=fe;rt>=N;rt--)He+=V[rt]*G.get(rt,Vt);for(He/=it,rt=N;rt<=fe;rt++)G.set(rt,Vt,G.get(rt,Vt)-He*V[rt])}for(rt=0;rt<=fe;rt++){for(He=0,Vt=fe;Vt>=N;Vt--)He+=V[Vt]*G.get(rt,Vt);for(He/=it,Vt=N;Vt<=fe;Vt++)G.set(rt,Vt,G.get(rt,Vt)-He*V[Vt])}V[N]=Xe*V[N],G.set(N,N-1,Xe*We)}}for(rt=0;rt<Se;rt++)for(Vt=0;Vt<Se;Vt++)C.set(rt,Vt,rt===Vt?1:0);for(N=fe-1;N>=1;N--)if(0!==G.get(N,N-1)){for(rt=N+1;rt<=fe;rt++)V[rt]=G.get(rt,N-1);for(Vt=N;Vt<=fe;Vt++){for(We=0,rt=N;rt<=fe;rt++)We+=V[rt]*C.get(rt,Vt);for(We=We/V[N]/G.get(N,N-1),rt=N;rt<=fe;rt++)C.set(rt,Vt,C.get(rt,Vt)+We*V[rt])}}})(W,Xe,Ye,fe),function xa(Se,G,V,C,W){let Je,Wt,yn,Dn,Rn,Ir,Yn,er,Gr,Pr,Ht,Ln,Vn,cn,Lr,fe=Se-1,We=Se-1,it=Number.EPSILON,rt=0,Vt=0,N=0,Xe=0,Ye=0,Qe=0,Et=0,nn=0;for(Je=0;Je<Se;Je++)for((Je<0||Je>We)&&(V[Je]=W.get(Je,Je),G[Je]=0),Wt=Math.max(Je-1,0);Wt<Se;Wt++)Vt+=Math.abs(W.get(Je,Wt));for(;fe>=0;){for(Dn=fe;Dn>0&&(Qe=Math.abs(W.get(Dn-1,Dn-1))+Math.abs(W.get(Dn,Dn)),0===Qe&&(Qe=Vt),!(Math.abs(W.get(Dn,Dn-1))<it*Qe));)Dn--;if(Dn===fe)W.set(fe,fe,W.get(fe,fe)+rt),V[fe]=W.get(fe,fe),G[fe]=0,fe--,nn=0;else if(Dn===fe-1){if(Yn=W.get(fe,fe-1)*W.get(fe-1,fe),N=(W.get(fe-1,fe-1)-W.get(fe,fe))/2,Xe=N*N+Yn,Et=Math.sqrt(Math.abs(Xe)),W.set(fe,fe,W.get(fe,fe)+rt),W.set(fe-1,fe-1,W.get(fe-1,fe-1)+rt),er=W.get(fe,fe),Xe>=0){for(Et=N>=0?N+Et:N-Et,V[fe-1]=er+Et,V[fe]=V[fe-1],0!==Et&&(V[fe]=er-Yn/Et),G[fe-1]=0,G[fe]=0,er=W.get(fe,fe-1),Qe=Math.abs(er)+Math.abs(Et),N=er/Qe,Xe=Et/Qe,Ye=Math.sqrt(N*N+Xe*Xe),N/=Ye,Xe/=Ye,Wt=fe-1;Wt<Se;Wt++)Et=W.get(fe-1,Wt),W.set(fe-1,Wt,Xe*Et+N*W.get(fe,Wt)),W.set(fe,Wt,Xe*W.get(fe,Wt)-N*Et);for(Je=0;Je<=fe;Je++)Et=W.get(Je,fe-1),W.set(Je,fe-1,Xe*Et+N*W.get(Je,fe)),W.set(Je,fe,Xe*W.get(Je,fe)-N*Et);for(Je=0;Je<=We;Je++)Et=C.get(Je,fe-1),C.set(Je,fe-1,Xe*Et+N*C.get(Je,fe)),C.set(Je,fe,Xe*C.get(Je,fe)-N*Et)}else V[fe-1]=er+N,V[fe]=er+N,G[fe-1]=Et,G[fe]=-Et;fe-=2,nn=0}else{if(er=W.get(fe,fe),Gr=0,Yn=0,Dn<fe&&(Gr=W.get(fe-1,fe-1),Yn=W.get(fe,fe-1)*W.get(fe-1,fe)),10===nn){for(rt+=er,Je=0;Je<=fe;Je++)W.set(Je,Je,W.get(Je,Je)-er);Qe=Math.abs(W.get(fe,fe-1))+Math.abs(W.get(fe-1,fe-2)),er=Gr=.75*Qe,Yn=-.4375*Qe*Qe}if(30===nn&&(Qe=(Gr-er)/2,Qe=Qe*Qe+Yn,Qe>0)){for(Qe=Math.sqrt(Qe),Gr<er&&(Qe=-Qe),Qe=er-Yn/((Gr-er)/2+Qe),Je=0;Je<=fe;Je++)W.set(Je,Je,W.get(Je,Je)-Qe);rt+=Qe,er=Gr=Yn=.964}for(nn+=1,Rn=fe-2;Rn>=Dn&&(Et=W.get(Rn,Rn),Ye=er-Et,Qe=Gr-Et,N=(Ye*Qe-Yn)/W.get(Rn+1,Rn)+W.get(Rn,Rn+1),Xe=W.get(Rn+1,Rn+1)-Et-Ye-Qe,Ye=W.get(Rn+2,Rn+1),Qe=Math.abs(N)+Math.abs(Xe)+Math.abs(Ye),N/=Qe,Xe/=Qe,Ye/=Qe,!(Rn===Dn||Math.abs(W.get(Rn,Rn-1))*(Math.abs(Xe)+Math.abs(Ye))<it*(Math.abs(N)*(Math.abs(W.get(Rn-1,Rn-1))+Math.abs(Et)+Math.abs(W.get(Rn+1,Rn+1))))));)Rn--;for(Je=Rn+2;Je<=fe;Je++)W.set(Je,Je-2,0),Je>Rn+2&&W.set(Je,Je-3,0);for(yn=Rn;yn<=fe-1&&(cn=yn!==fe-1,yn!==Rn&&(N=W.get(yn,yn-1),Xe=W.get(yn+1,yn-1),Ye=cn?W.get(yn+2,yn-1):0,er=Math.abs(N)+Math.abs(Xe)+Math.abs(Ye),0!==er&&(N/=er,Xe/=er,Ye/=er)),0!==er);yn++)if(Qe=Math.sqrt(N*N+Xe*Xe+Ye*Ye),N<0&&(Qe=-Qe),0!==Qe){for(yn!==Rn?W.set(yn,yn-1,-Qe*er):Dn!==Rn&&W.set(yn,yn-1,-W.get(yn,yn-1)),N+=Qe,er=N/Qe,Gr=Xe/Qe,Et=Ye/Qe,Xe/=N,Ye/=N,Wt=yn;Wt<Se;Wt++)N=W.get(yn,Wt)+Xe*W.get(yn+1,Wt),cn&&(N+=Ye*W.get(yn+2,Wt),W.set(yn+2,Wt,W.get(yn+2,Wt)-N*Et)),W.set(yn,Wt,W.get(yn,Wt)-N*er),W.set(yn+1,Wt,W.get(yn+1,Wt)-N*Gr);for(Je=0;Je<=Math.min(fe,yn+3);Je++)N=er*W.get(Je,yn)+Gr*W.get(Je,yn+1),cn&&(N+=Et*W.get(Je,yn+2),W.set(Je,yn+2,W.get(Je,yn+2)-N*Ye)),W.set(Je,yn,W.get(Je,yn)-N),W.set(Je,yn+1,W.get(Je,yn+1)-N*Xe);for(Je=0;Je<=We;Je++)N=er*C.get(Je,yn)+Gr*C.get(Je,yn+1),cn&&(N+=Et*C.get(Je,yn+2),C.set(Je,yn+2,C.get(Je,yn+2)-N*Ye)),C.set(Je,yn,C.get(Je,yn)-N),C.set(Je,yn+1,C.get(Je,yn+1)-N*Xe)}}}if(0!==Vt){for(fe=Se-1;fe>=0;fe--)if(N=V[fe],Xe=G[fe],0===Xe)for(Dn=fe,W.set(fe,fe,1),Je=fe-1;Je>=0;Je--){for(Yn=W.get(Je,Je)-N,Ye=0,Wt=Dn;Wt<=fe;Wt++)Ye+=W.get(Je,Wt)*W.get(Wt,fe);if(G[Je]<0)Et=Yn,Qe=Ye;else if(Dn=Je,0===G[Je]?W.set(Je,fe,0!==Yn?-Ye/Yn:-Ye/(it*Vt)):(er=W.get(Je,Je+1),Gr=W.get(Je+1,Je),Xe=(V[Je]-N)*(V[Je]-N)+G[Je]*G[Je],Ir=(er*Qe-Et*Ye)/Xe,W.set(Je,fe,Ir),W.set(Je+1,fe,Math.abs(er)>Math.abs(Et)?(-Ye-Yn*Ir)/er:(-Qe-Gr*Ir)/Et)),Ir=Math.abs(W.get(Je,fe)),it*Ir*Ir>1)for(Wt=Je;Wt<=fe;Wt++)W.set(Wt,fe,W.get(Wt,fe)/Ir)}else if(Xe<0)for(Dn=fe-1,Math.abs(W.get(fe,fe-1))>Math.abs(W.get(fe-1,fe))?(W.set(fe-1,fe-1,Xe/W.get(fe,fe-1)),W.set(fe-1,fe,-(W.get(fe,fe)-N)/W.get(fe,fe-1))):(Lr=Ar(0,-W.get(fe-1,fe),W.get(fe-1,fe-1)-N,Xe),W.set(fe-1,fe-1,Lr[0]),W.set(fe-1,fe,Lr[1])),W.set(fe,fe-1,0),W.set(fe,fe,1),Je=fe-2;Je>=0;Je--){for(Pr=0,Ht=0,Wt=Dn;Wt<=fe;Wt++)Pr+=W.get(Je,Wt)*W.get(Wt,fe-1),Ht+=W.get(Je,Wt)*W.get(Wt,fe);if(Yn=W.get(Je,Je)-N,G[Je]<0)Et=Yn,Ye=Pr,Qe=Ht;else if(Dn=Je,0===G[Je]?(Lr=Ar(-Pr,-Ht,Yn,Xe),W.set(Je,fe-1,Lr[0]),W.set(Je,fe,Lr[1])):(er=W.get(Je,Je+1),Gr=W.get(Je+1,Je),Ln=(V[Je]-N)*(V[Je]-N)+G[Je]*G[Je]-Xe*Xe,Vn=2*(V[Je]-N)*Xe,0===Ln&&0===Vn&&(Ln=it*Vt*(Math.abs(Yn)+Math.abs(Xe)+Math.abs(er)+Math.abs(Gr)+Math.abs(Et))),Lr=Ar(er*Ye-Et*Pr+Xe*Ht,er*Qe-Et*Ht-Xe*Pr,Ln,Vn),W.set(Je,fe-1,Lr[0]),W.set(Je,fe,Lr[1]),Math.abs(er)>Math.abs(Et)+Math.abs(Xe)?(W.set(Je+1,fe-1,(-Pr-Yn*W.get(Je,fe-1)+Xe*W.get(Je,fe))/er),W.set(Je+1,fe,(-Ht-Yn*W.get(Je,fe)-Xe*W.get(Je,fe-1))/er)):(Lr=Ar(-Ye-Gr*W.get(Je,fe-1),-Qe-Gr*W.get(Je,fe),Et,Xe),W.set(Je+1,fe-1,Lr[0]),W.set(Je+1,fe,Lr[1]))),Ir=Math.max(Math.abs(W.get(Je,fe-1)),Math.abs(W.get(Je,fe))),it*Ir*Ir>1)for(Wt=Je;Wt<=fe;Wt++)W.set(Wt,fe-1,W.get(Wt,fe-1)/Ir),W.set(Wt,fe,W.get(Wt,fe)/Ir)}for(Je=0;Je<Se;Je++)if(Je<0||Je>We)for(Wt=Je;Wt<Se;Wt++)C.set(Je,Wt,W.get(Je,Wt));for(Wt=Se-1;Wt>=0;Wt--)for(Je=0;Je<=We;Je++){for(Et=0,yn=0;yn<=Math.min(Wt,We);yn++)Et+=C.get(Je,yn)*W.get(yn,Wt);C.set(Je,Wt,Et)}}}(W,We,He,fe,Xe)}this.n=W,this.e=We,this.d=He,this.V=fe}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let fe,He,G=this.n,V=this.e,C=this.d,W=new $e(G,G);for(fe=0;fe<G;fe++){for(He=0;He<G;He++)W.set(fe,He,0);W.set(fe,fe,C[fe]),V[fe]>0?W.set(fe,fe+1,V[fe]):V[fe]<0&&W.set(fe,fe-1,V[fe])}return W}}function Ar(Se,G,V,C){let W,fe;return Math.abs(V)>Math.abs(C)?(W=C/V,fe=V+W*C,[(Se+W*G)/fe,(G-W*Se)/fe]):(W=V/C,fe=C+W*V,[(W*Se+G)/fe,(W*G-Se)/fe])}class ti{constructor(G){if(!(G=Hn.checkMatrix(G)).isSymmetric())throw new Error("Matrix is not symmetric");let He,We,it,V=G,C=V.rows,W=new $e(C,C),fe=!0;for(We=0;We<C;We++){let rt=0;for(it=0;it<We;it++){let Vt=0;for(He=0;He<it;He++)Vt+=W.get(it,He)*W.get(We,He);Vt=(V.get(We,it)-Vt)/W.get(it,it),W.set(We,it,Vt),rt+=Vt*Vt}for(rt=V.get(We,We)-rt,fe&=rt>0,W.set(We,We,Math.sqrt(Math.max(rt,0))),it=We+1;it<C;it++)W.set(We,it,0)}this.L=W,this.positiveDefinite=Boolean(fe)}isPositiveDefinite(){return this.positiveDefinite}solve(G){G=Hn.checkMatrix(G);let V=this.L,C=V.rows;if(G.rows!==C)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let He,We,it,W=G.columns,fe=G.clone();for(it=0;it<C;it++)for(We=0;We<W;We++){for(He=0;He<it;He++)fe.set(it,We,fe.get(it,We)-fe.get(He,We)*V.get(it,He));fe.set(it,We,fe.get(it,We)/V.get(it,it))}for(it=C-1;it>=0;it--)for(We=0;We<W;We++){for(He=it+1;He<C;He++)fe.set(it,We,fe.get(it,We)-fe.get(He,We)*V.get(He,it));fe.set(it,We,fe.get(it,We)/V.get(it,it))}return fe}get lowerTriangularMatrix(){return this.L}}class Vr{constructor(G,V={}){G=Hn.checkMatrix(G);let{Y:C}=V;const{scaleScores:W=!1,maxIterations:fe=1e3,terminationCriteria:He=1e-10}=V;let We;if(C){if(C=q(C)&&"number"==typeof C[0]?$e.columnVector(C):Hn.checkMatrix(C),C.rows!==G.rows)throw new Error("Y should have the same number of rows as X");We=C.getColumnVector(0)}else We=G.getColumnVector(0);let rt,Vt,N,Xe,it=1;for(let Ye=0;Ye<fe&&it>He;Ye++)N=G.transpose().mmul(We).div(We.transpose().mmul(We).get(0,0)),N=N.div(N.norm()),rt=G.mmul(N).div(N.transpose().mmul(N).get(0,0)),Ye>0&&(it=rt.clone().sub(Xe).pow(2).sum()),Xe=rt.clone(),C?(Vt=C.transpose().mmul(rt).div(rt.transpose().mmul(rt).get(0,0)),Vt=Vt.div(Vt.norm()),We=C.mmul(Vt).div(Vt.transpose().mmul(Vt).get(0,0))):We=rt;if(C){let Ye=G.transpose().mmul(rt).div(rt.transpose().mmul(rt).get(0,0));Ye=Ye.div(Ye.norm());let Qe=G.clone().sub(rt.clone().mmul(Ye.transpose())),Et=We.transpose().mmul(rt).div(rt.transpose().mmul(rt).get(0,0)),nn=C.clone().sub(rt.clone().mulS(Et.get(0,0)).mmul(Vt.transpose()));this.t=rt,this.p=Ye.transpose(),this.w=N.transpose(),this.q=Vt,this.u=We,this.s=rt.transpose().mmul(rt),this.xResidual=Qe,this.yResidual=nn,this.betas=Et}else this.w=N.transpose(),this.s=rt.transpose().mmul(rt).sqrt(),this.t=W?rt.clone().div(this.s.get(0,0)):rt,this.xResidual=G.sub(rt.mmul(N.transpose()))}}},2366:function(qt){qt.exports=function(){"use strict";var z=function(_e){return _e instanceof Uint8Array||_e instanceof Uint16Array||_e instanceof Uint32Array||_e instanceof Int8Array||_e instanceof Int16Array||_e instanceof Int32Array||_e instanceof Float32Array||_e instanceof Float64Array||_e instanceof Uint8ClampedArray},j=function(_e,ot){for(var Tt=Object.keys(ot),un=0;un<Tt.length;++un)_e[Tt[un]]=ot[Tt[un]];return _e},R="\n";function q(_e){return typeof atob<"u"?atob(_e):"base64:"+_e}function B(_e){var ot=new Error("(regl) "+_e);throw console.error(ot),ot}function O(_e,ot){_e||B(ot)}function P(_e){return _e?": "+_e:""}function x(_e,ot){switch(ot){case"number":return"number"==typeof _e;case"object":return"object"==typeof _e;case"string":return"string"==typeof _e;case"boolean":return"boolean"==typeof _e;case"function":return"function"==typeof _e;case"undefined":return typeof _e>"u";case"symbol":return"symbol"==typeof _e}}function g(_e,ot,Tt){ot.indexOf(_e)<0&&B("invalid value"+P(Tt)+". must be one of: "+ot)}var S=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function E(_e,ot){for(_e+="";_e.length<ot;)_e=" "+_e;return _e}function A(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function k(_e,ot){this.number=_e,this.line=ot,this.errors=[]}function L(_e,ot,Tt){this.file=_e,this.line=ot,this.message=Tt}function ie(){var _e=new Error,ot=(_e.stack||_e).toString(),Tt=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(ot);if(Tt)return Tt[1];var un=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(ot);return un?un[1]:"unknown"}function te(){var _e=new Error,ot=(_e.stack||_e).toString(),Tt=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(ot);if(Tt)return Tt[1];var un=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(ot);return un?un[1]:"unknown"}function $(_e,ot){var Tt=_e.split("\n"),un=1,Cn=0,ln={unknown:new A,0:new A};ln.unknown.name=ln[0].name=ot||ie(),ln.unknown.lines.push(new k(0,""));for(var mn=0;mn<Tt.length;++mn){var jn=Tt[mn],Xn=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(jn);if(Xn)switch(Xn[1]){case"line":var Zn=/(\d+)(\s+\d+)?/.exec(Xn[2]);Zn&&(un=0|Zn[1],Zn[2]&&((Cn=0|Zn[2])in ln||(ln[Cn]=new A)));break;case"define":var Wn=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Xn[2]);Wn&&(ln[Cn].name=Wn[1]?q(Wn[2]):Wn[2])}ln[Cn].lines.push(new k(un++,jn))}return Object.keys(ln).forEach(function(nr){var p=ln[nr];p.lines.forEach(function(M){p.index[M.number]=M})}),ln}function ne(_e){_e._commandRef=ie()}function ve(_e,ot){var Tt=te();B(_e+" in command "+(ot||ie())+("unknown"===Tt?"":" called from "+Tt))}function Ae(_e,ot,Tt,un){x(_e,ot)||ve("invalid parameter type"+P(Tt)+". expected "+ot+", got "+typeof _e,un||ie())}var ce=33071,H=9728,re=9984,ye=9985,Ce=9986,Ie=9987,$e=5126,dt=32819,De=32820,Be=33635,vt=34042,nt={};function wt(_e,ot){return _e===De||_e===dt||_e===Be?2:_e===vt?4:nt[_e]*ot}function Bt(_e){return!(_e&_e-1||!_e)}nt[5120]=nt[5121]=1,nt[5122]=nt[5123]=nt[36193]=nt[Be]=nt[dt]=nt[De]=2,nt[5124]=nt[5125]=nt[$e]=nt[vt]=4;var je=j(O,{optional:function ze(_e){_e()},raise:B,commandRaise:ve,command:function ge(_e,ot,Tt){_e||ve(ot,Tt||ie())},parameter:function T(_e,ot,Tt){_e in ot||B("unknown parameter ("+_e+")"+P(Tt)+". possible values: "+Object.keys(ot).join())},commandParameter:function Fe(_e,ot,Tt,un){_e in ot||ve("unknown parameter ("+_e+")"+P(Tt)+". possible values: "+Object.keys(ot).join(),un||ie())},constructor:function w(_e){Object.keys(_e).forEach(function(ot){S.indexOf(ot)<0&&B('invalid regl constructor argument "'+ot+'". must be one of '+S)})},type:function m(_e,ot,Tt){x(_e,ot)||B("invalid parameter type"+P(Tt)+". expected "+ot+", got "+typeof _e)},commandType:Ae,isTypedArray:function b(_e,ot){z(_e)||B("invalid parameter type"+P(ot)+". must be a typed array")},nni:function _(_e,ot){_e>=0&&(0|_e)===_e||B("invalid parameter type, ("+_e+")"+P(ot)+". must be a nonnegative integer")},oneOf:g,shaderError:function Y(_e,ot,Tt,un,Cn){if(!_e.getShaderParameter(ot,_e.COMPILE_STATUS)){var ln=_e.getShaderInfoLog(ot),mn=un===_e.FRAGMENT_SHADER?"fragment":"vertex";Ae(Tt,"string",mn+" shader source must be a string",Cn);var jn=$(Tt,Cn),Xn=function X(_e){var ot=[];return _e.split("\n").forEach(function(Tt){if(!(Tt.length<5)){var un=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Tt);un?ot.push(new L(0|un[1],0|un[2],un[3].trim())):Tt.length>0&&ot.push(new L("unknown",0,Tt))}}),ot}(ln);(function Z(_e,ot){ot.forEach(function(Tt){var un=_e[Tt.file];if(un){var Cn=un.index[Tt.line];if(Cn)return Cn.errors.push(Tt),void(un.hasErrors=!0)}_e.unknown.hasErrors=!0,_e.unknown.lines[0].errors.push(Tt)})})(jn,Xn),Object.keys(jn).forEach(function(Zn){var Wn=jn[Zn];if(Wn.hasErrors){var nr=[""],p=[""];M("file number "+Zn+": "+Wn.name+"\n","color:red;text-decoration:underline;font-weight:bold"),Wn.lines.forEach(function(U){if(U.errors.length>0){M(E(U.number,4)+"|  ","background-color:yellow; font-weight:bold"),M(U.line+R,"color:red; background-color:yellow; font-weight:bold");var ee=0;U.errors.forEach(function(le){var he=le.message,me=/^\s*'(.*)'\s*:\s*(.*)$/.exec(he);if(me){var be=me[1];"assign"===(he=me[2],be)&&(be="="),ee=Math.max(U.line.indexOf(be,ee),0)}else ee=0;M(E("| ",6)),M(E("^^^",ee+3)+R,"font-weight:bold"),M(E("| ",6)),M(he+R,"font-weight:bold")}),M(E("| ",6)+R)}else M(E(U.number,4)+"|  "),M(U.line+R,"color:red")}),typeof document<"u"&&!window.chrome?(p[0]=nr.join("%c"),console.log.apply(console,p)):console.log(nr.join(""))}function M(U,ee){nr.push(U),p.push(ee||"")}}),O.raise("Error compiling "+mn+" shader, "+jn[0].name)}},linkError:function ae(_e,ot,Tt,un,Cn){if(!_e.getProgramParameter(ot,_e.LINK_STATUS)){var ln=_e.getProgramInfoLog(ot),mn=$(Tt,Cn),Xn='Error linking program with vertex shader, "'+$(un,Cn)[0].name+'", and fragment shader "'+mn[0].name+'"';typeof document<"u"?console.log("%c"+Xn+R+"%c"+ln,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Xn+R+ln),O.raise(Xn)}},callSite:te,saveCommandRef:ne,saveDrawInfo:function se(_e,ot,Tt,un){function Cn(Xn){return Xn?un.id(Xn):0}function ln(Xn,Zn){Object.keys(Zn).forEach(function(Wn){Xn[un.id(Wn)]=!0})}ne(_e),_e._fragId=Cn(_e.static.frag),_e._vertId=Cn(_e.static.vert);var mn=_e._uniformSet={};ln(mn,ot.static),ln(mn,ot.dynamic);var jn=_e._attributeSet={};ln(jn,Tt.static),ln(jn,Tt.dynamic),_e._hasCount="count"in _e.static||"count"in _e.dynamic||"elements"in _e.static||"elements"in _e.dynamic},framebufferFormat:function oe(_e,ot,Tt){_e.texture?g(_e.texture._texture.internalformat,ot,"unsupported texture format for attachment"):g(_e.renderbuffer._renderbuffer.format,Tt,"unsupported renderbuffer format for attachment")},guessCommand:ie,texture2D:function pn(_e,ot,Tt){var un,Cn=ot.width,ln=ot.height,mn=ot.channels;O(Cn>0&&Cn<=Tt.maxTextureSize&&ln>0&&ln<=Tt.maxTextureSize,"invalid texture shape"),(_e.wrapS!==ce||_e.wrapT!==ce)&&O(Bt(Cn)&&Bt(ln),"incompatible wrap mode for texture, both width and height must be power of 2"),1===ot.mipmask?1!==Cn&&1!==ln&&O(_e.minFilter!==re&&_e.minFilter!==Ce&&_e.minFilter!==ye&&_e.minFilter!==Ie,"min filter requires mipmap"):(O(Bt(Cn)&&Bt(ln),"texture must be a square power of 2 to support mipmapping"),O(ot.mipmask===(Cn<<1)-1,"missing or incomplete mipmap data")),ot.type===$e&&(Tt.extensions.indexOf("oes_texture_float_linear")<0&&O(_e.minFilter===H&&_e.magFilter===H,"filter not supported, must enable oes_texture_float_linear"),O(!_e.genMipmaps,"mipmap generation not supported with float textures"));var jn=ot.images;for(un=0;un<16;++un)if(jn[un]){var Xn=Cn>>un,Zn=ln>>un;O(ot.mipmask&1<<un,"missing mipmap data");var Wn=jn[un];if(O(Wn.width===Xn&&Wn.height===Zn,"invalid shape for mip images"),O(Wn.format===ot.format&&Wn.internalformat===ot.internalformat&&Wn.type===ot.type,"incompatible type for mip image"),!Wn.compressed&&Wn.data){var nr=Math.ceil(wt(Wn.type,mn)*Xn/Wn.unpackAlignment)*Wn.unpackAlignment;O(Wn.data.byteLength===nr*Zn,"invalid data for image, buffer size is inconsistent with image format")}}else _e.genMipmaps||O(0==(ot.mipmask&1<<un),"extra mipmap data");ot.compressed&&O(!_e.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function kn(_e,ot,Tt,un){var Cn=_e.width,ln=_e.height,mn=_e.channels;O(Cn>0&&Cn<=un.maxTextureSize&&ln>0&&ln<=un.maxTextureSize,"invalid texture shape"),O(Cn===ln,"cube map must be square"),O(ot.wrapS===ce&&ot.wrapT===ce,"wrap mode not supported by cube map");for(var jn=0;jn<Tt.length;++jn){var Xn=Tt[jn];O(Xn.width===Cn&&Xn.height===ln,"inconsistent cube map face shape"),ot.genMipmaps&&(O(!Xn.compressed,"can not generate mipmap for compressed textures"),O(1===Xn.mipmask,"can not specify mipmaps and generate mipmaps"));for(var Zn=Xn.images,Wn=0;Wn<16;++Wn){var nr=Zn[Wn];if(nr){var p=Cn>>Wn,M=ln>>Wn;O(Xn.mipmask&1<<Wn,"missing mipmap data"),O(nr.width===p&&nr.height===M,"invalid shape for mip images"),O(nr.format===_e.format&&nr.internalformat===_e.internalformat&&nr.type===_e.type,"incompatible type for mip image"),nr.compressed||nr.data&&O(nr.data.byteLength===p*M*Math.max(wt(nr.type,mn),nr.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format")}}}}}),Hn=0,Cr=0,qn=5,Me=6;function Ur(_e,ot){this.id=Hn++,this.type=_e,this.data=ot}function pi(_e){return _e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function bi(_e){if(0===_e.length)return[];var ot=_e.charAt(0),Tt=_e.charAt(_e.length-1);if(_e.length>1&&ot===Tt&&('"'===ot||"'"===ot))return['"'+pi(_e.substr(1,_e.length-2))+'"'];var un=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(_e);if(un)return bi(_e.substr(0,un.index)).concat(bi(un[1])).concat(bi(_e.substr(un.index+un[0].length)));var Cn=_e.split(".");if(1===Cn.length)return['"'+pi(_e)+'"'];for(var ln=[],mn=0;mn<Cn.length;++mn)ln=ln.concat(bi(Cn[mn]));return ln}function ii(_e){return"["+bi(_e).join("][")+"]"}var Pn={DynamicVariable:Ur,define:function Xi(_e,ot){return new Ur(_e,ii(ot+""))},isDynamic:function ji(_e){return"function"==typeof _e&&!_e._reglType||_e instanceof Ur},unbox:function hn(_e,ot){return"function"==typeof _e?new Ur(Cr,_e):"number"==typeof _e||"boolean"==typeof _e?new Ur(qn,_e):Array.isArray(_e)?new Ur(Me,_e.map((Tt,un)=>hn(Tt,ot+"["+un+"]"))):_e instanceof Ur?_e:void je(!1,"invalid option type in uniform "+ot)},accessor:ii},br={next:"function"==typeof requestAnimationFrame?function(_e){return requestAnimationFrame(_e)}:function(_e){return setTimeout(_e,16)},cancel:"function"==typeof cancelAnimationFrame?function(_e){return cancelAnimationFrame(_e)}:clearTimeout},Dr=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function xa(_e){return"string"==typeof _e?_e.split():(je(Array.isArray(_e),"invalid extension array"),_e)}function Ar(_e){return"string"==typeof _e?(je(typeof document<"u","not supported outside of DOM"),document.querySelector(_e)):_e}function ti(_e){var Tt,un,Cn,ln,ot=_e||{},mn={},jn=[],Xn=[],Zn=typeof window>"u"?1:window.devicePixelRatio,Wn=!1,nr=function(U){U&&je.raise(U)},p=function(){};if("string"==typeof ot?(je(typeof document<"u","selector queries only supported in DOM enviroments"),Tt=document.querySelector(ot),je(Tt,"invalid query string for element")):"object"==typeof ot?function Ti(_e){return"string"==typeof _e.nodeName&&"function"==typeof _e.appendChild&&"function"==typeof _e.getBoundingClientRect}(ot)?Tt=ot:function Ki(_e){return"function"==typeof _e.drawArrays||"function"==typeof _e.drawElements}(ot)?Cn=(ln=ot).canvas:(je.constructor(ot),"gl"in ot?ln=ot.gl:"canvas"in ot?Cn=Ar(ot.canvas):"container"in ot&&(un=Ar(ot.container)),"attributes"in ot&&je.type(mn=ot.attributes,"object","invalid context attributes"),"extensions"in ot&&(jn=xa(ot.extensions)),"optionalExtensions"in ot&&(Xn=xa(ot.optionalExtensions)),"onDone"in ot&&(je.type(ot.onDone,"function","invalid or missing onDone callback"),nr=ot.onDone),"profile"in ot&&(Wn=!!ot.profile),"pixelRatio"in ot&&je((Zn=+ot.pixelRatio)>0,"invalid pixel ratio")):je.raise("invalid arguments to regl"),Tt&&("canvas"===Tt.nodeName.toLowerCase()?Cn=Tt:un=Tt),!ln){if(!Cn){je(typeof document<"u","must manually specify webgl context outside of DOM environments");var M=function ei(_e,ot,Tt){var ln,un=document.createElement("canvas");function Cn(){var jn=window.innerWidth,Xn=window.innerHeight;if(_e!==document.body){var Zn=_e.getBoundingClientRect();jn=Zn.right-Zn.left,Xn=Zn.bottom-Zn.top}un.width=Tt*jn,un.height=Tt*Xn,j(un.style,{width:jn+"px",height:Xn+"px"})}return j(un.style,{border:0,margin:0,padding:0,top:0,left:0}),_e.appendChild(un),_e===document.body&&(un.style.position="absolute",j(_e.style,{margin:0,padding:0})),_e!==document.body&&"function"==typeof ResizeObserver?(ln=new ResizeObserver(function(){setTimeout(Cn)})).observe(_e):window.addEventListener("resize",Cn,!1),Cn(),{canvas:un,onDestroy:function mn(){ln?ln.disconnect():window.removeEventListener("resize",Cn),_e.removeChild(un)}}}(un||document.body,0,Zn);if(!M)return null;Cn=M.canvas,p=M.onDestroy}void 0===mn.premultipliedAlpha&&(mn.premultipliedAlpha=!0),ln=function Qr(_e,ot){function Tt(un){try{return _e.getContext(un,ot)}catch{return null}}return Tt("webgl")||Tt("experimental-webgl")||Tt("webgl-experimental")}(Cn,mn)}return ln?{gl:ln,canvas:Cn,container:un,extensions:jn,optionalExtensions:Xn,pixelRatio:Zn,profile:Wn,onDone:nr,onDestroy:p}:(p(),nr("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Se(_e,ot){for(var Tt=Array(_e),un=0;un<_e;++un)Tt[un]=ot(un);return Tt}var G=5120,V=5121,C=5122,W=5123,fe=5124,He=5125,We=5126;function rt(_e){var ot,Tt;return ot=(_e>65535)<<4,ot|=Tt=((_e>>>=ot)>255)<<3,ot|=Tt=((_e>>>=Tt)>15)<<2,(ot|=Tt=((_e>>>=Tt)>3)<<1)|(_e>>>=Tt)>>1}function Vt(){var _e=Se(8,function(){return[]});function ot(ln){var mn=function it(_e){for(var ot=16;ot<=1<<28;ot*=16)if(_e<=ot)return ot;return 0}(ln),jn=_e[rt(mn)>>2];return jn.length>0?jn.pop():new ArrayBuffer(mn)}function Tt(ln){_e[rt(ln.byteLength)>>2].push(ln)}return{alloc:ot,free:Tt,allocType:function un(ln,mn){var jn=null;switch(ln){case G:jn=new Int8Array(ot(mn),0,mn);break;case V:jn=new Uint8Array(ot(mn),0,mn);break;case C:jn=new Int16Array(ot(2*mn),0,mn);break;case W:jn=new Uint16Array(ot(2*mn),0,mn);break;case fe:jn=new Int32Array(ot(4*mn),0,mn);break;case He:jn=new Uint32Array(ot(4*mn),0,mn);break;case We:jn=new Float32Array(ot(4*mn),0,mn);break;default:return null}return jn.length!==mn?jn.subarray(0,mn):jn},freeType:function Cn(ln){Tt(ln.buffer)}}}var N=Vt();N.zero=Vt();var fr=6408,Bl=function(_e,ot){var Tt=1;ot.ext_texture_filter_anisotropic&&(Tt=_e.getParameter(34047));var un=1,Cn=1;ot.webgl_draw_buffers&&(un=_e.getParameter(34852),Cn=_e.getParameter(36063));var ln=!!ot.oes_texture_float;if(ln){var mn=_e.createTexture();_e.bindTexture(3553,mn),_e.texImage2D(3553,0,fr,1,1,0,fr,5126,null);var jn=_e.createFramebuffer();if(_e.bindFramebuffer(36160,jn),_e.framebufferTexture2D(36160,36064,3553,mn,0),_e.bindTexture(3553,null),36053!==_e.checkFramebufferStatus(36160))ln=!1;else{_e.viewport(0,0,1,1),_e.clearColor(1,0,0,1),_e.clear(16384);var Xn=N.allocType(5126,4);_e.readPixels(0,0,1,1,fr,5126,Xn),_e.getError()?ln=!1:(_e.deleteFramebuffer(jn),_e.deleteTexture(mn),ln=1===Xn[0]),N.freeType(Xn)}}var Wn=!0;if(!(typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)))){var nr=_e.createTexture(),p=N.allocType(5121,36);_e.activeTexture(33984),_e.bindTexture(34067,nr),_e.texImage2D(34069,0,fr,3,3,0,fr,5121,p),N.freeType(p),_e.bindTexture(34067,null),_e.deleteTexture(nr),Wn=!_e.getError()}return{colorBits:[_e.getParameter(3410),_e.getParameter(3411),_e.getParameter(3412),_e.getParameter(3413)],depthBits:_e.getParameter(3414),stencilBits:_e.getParameter(3415),subpixelBits:_e.getParameter(3408),extensions:Object.keys(ot).filter(function(M){return!!ot[M]}),maxAnisotropic:Tt,maxDrawbuffers:un,maxColorAttachments:Cn,pointSizeDims:_e.getParameter(33901),lineWidthDims:_e.getParameter(33902),maxViewportDims:_e.getParameter(3386),maxCombinedTextureUnits:_e.getParameter(35661),maxCubeMapSize:_e.getParameter(34076),maxRenderbufferSize:_e.getParameter(34024),maxTextureUnits:_e.getParameter(34930),maxTextureSize:_e.getParameter(3379),maxAttributes:_e.getParameter(34921),maxVertexUniforms:_e.getParameter(36347),maxVertexTextureUnits:_e.getParameter(35660),maxVaryingVectors:_e.getParameter(36348),maxFragmentUniforms:_e.getParameter(36349),glsl:_e.getParameter(35724),renderer:_e.getParameter(7937),vendor:_e.getParameter(7936),version:_e.getParameter(7938),readFloat:ln,npotTextureCube:Wn}};function ko(_e){return!!_e&&"object"==typeof _e&&Array.isArray(_e.shape)&&Array.isArray(_e.stride)&&"number"==typeof _e.offset&&_e.shape.length===_e.stride.length&&(Array.isArray(_e.data)||z(_e.data))}var xo=function(_e){return Object.keys(_e).map(function(ot){return _e[ot]})},zl={shape:function Rf(_e){for(var ot=[],Tt=_e;Tt.length;Tt=Tt[0])ot.push(Tt.length);return ot},flatten:function zu(_e,ot,Tt,un){var Cn=1;if(ot.length)for(var ln=0;ln<ot.length;++ln)Cn*=ot[ln];else Cn=0;var mn=un||N.allocType(Tt,Cn);switch(ot.length){case 0:break;case 1:!function iu(_e,ot,Tt){for(var un=0;un<ot;++un)Tt[un]=_e[un]}(_e,ot[0],mn);break;case 2:!function au(_e,ot,Tt,un){for(var Cn=0,ln=0;ln<ot;++ln)for(var mn=_e[ln],jn=0;jn<Tt;++jn)un[Cn++]=mn[jn]}(_e,ot[0],ot[1],mn);break;case 3:Co(_e,ot[0],ot[1],ot[2],mn,0);break;default:Ui(_e,ot,0,mn,0)}return mn}};function Co(_e,ot,Tt,un,Cn,ln){for(var mn=ln,jn=0;jn<ot;++jn)for(var Xn=_e[jn],Zn=0;Zn<Tt;++Zn)for(var Wn=Xn[Zn],nr=0;nr<un;++nr)Cn[mn++]=Wn[nr]}function Ui(_e,ot,Tt,un,Cn){for(var ln=1,mn=Tt+1;mn<ot.length;++mn)ln*=ot[mn];var jn=ot[Tt];if(ot.length-Tt==4){var Xn=ot[Tt+1],Zn=ot[Tt+2],Wn=ot[Tt+3];for(mn=0;mn<jn;++mn)Co(_e[mn],Xn,Zn,Wn,un,Cn),Cn+=ln}else for(mn=0;mn<jn;++mn)Ui(_e[mn],ot,Tt+1,un,Cn),Cn+=ln}var Vu={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},xs={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},jl={dynamic:35048,stream:35040,static:35044},fl=zl.flatten,Xr=zl.shape,Ul=35044,Uu=35040,wo=5121,ds=5126,Ls=[];function fa(_e){return 0|Vu[Object.prototype.toString.call(_e)]}function Cc(_e,ot){for(var Tt=0;Tt<ot.length;++Tt)_e[Tt]=ot[Tt]}function Gu(_e,ot,Tt,un,Cn,ln,mn){for(var jn=0,Xn=0;Xn<Tt;++Xn)for(var Zn=0;Zn<un;++Zn)_e[jn++]=ot[Cn*Xn+ln*Zn+mn]}Ls[5120]=1,Ls[5122]=2,Ls[5124]=4,Ls[5121]=1,Ls[5123]=2,Ls[5125]=4,Ls[5126]=4;var ws={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},pl=0,Ks=1,qs=4,wn=5120,Es=5121,ui=5122,Yo=5123,Hl=5124,$o=5125,Wl=34963,Dc=35040,Tc=35044;var No=new Float32Array(1),Xo=new Uint32Array(No.buffer),fs=5123;function Ji(_e){for(var ot=N.allocType(fs,_e.length),Tt=0;Tt<_e.length;++Tt)if(isNaN(_e[Tt]))ot[Tt]=65535;else if(_e[Tt]===1/0)ot[Tt]=31744;else if(_e[Tt]===-1/0)ot[Tt]=64512;else{No[0]=_e[Tt];var un=Xo[0],Cn=un>>>31<<15,ln=(un<<1>>>24)-127,mn=un>>13&1023;ot[Tt]=ln<-24?Cn:ln<-14?Cn+(mn+1024>>-14-ln):ln>15?Cn+31744:Cn+(ln+15<<10)+mn}return ot}function Sa(_e){return Array.isArray(_e)||z(_e)}var Tl=function(_e){return!(_e&_e-1||!_e)},su=34467,Po=3553,hs=34067,Bs=34069,vl=6408,ua=6406,Yl=6407,zs=6409,Zs=6410,Oi=32854,Ac=32855,Vs=36194,xe=32819,bt=32820,kt=33635,Xt=34042,_n=6402,or=34041,Sr=35904,qi=35906,Ta=36193,uo=33776,Ua=33777,Tr=33778,xi=33779,Oa=35986,Do=35987,js=34798,To=35840,Al=35841,Ya=35842,Ic=35843,lu=36196,di=5121,cu=5123,Qs=5125,Ko=5126,$l=10242,Ro=10243,uu=10497,gl=33071,Js=33648,f=10240,I=10241,pe=9728,we=9729,Le=9984,Ke=9985,qe=9986,ft=9987,_t=33170,Dt=4352,Kt=4353,dn=4354,vn=34046,gn=3317,$n=37440,rr=37441,Sn=37443,_r=37444,wi=33984,Ei=[Le,qe,Ke,ft],li=[0,zs,Zs,Yl,vl],Yr={};function ai(_e){return"[object "+_e+"]"}Yr[zs]=Yr[ua]=Yr[_n]=1,Yr[or]=Yr[Zs]=2,Yr[Yl]=Yr[Sr]=3,Yr[vl]=Yr[qi]=4;var fo=ai("HTMLCanvasElement"),ro=ai("OffscreenCanvas"),Ja=ai("CanvasRenderingContext2D"),io=ai("ImageBitmap"),ao=ai("HTMLImageElement"),yo=ai("HTMLVideoElement"),Ao=Object.keys(Vu).concat([fo,ro,Ja,io,ao,yo]),ea=[];ea[di]=1,ea[Ko]=4,ea[Ta]=2,ea[cu]=2,ea[Qs]=4;var Aa=[];function du(_e){return Array.isArray(_e)&&(0===_e.length||"number"==typeof _e[0])}function Il(_e){return!!Array.isArray(_e)&&!(0===_e.length||!Sa(_e[0]))}function Ss(_e){return Object.prototype.toString.call(_e)}function jd(_e){return Ss(_e)===fo}function zg(_e){return Ss(_e)===ro}function Ff(_e){if(!_e)return!1;var ot=Ss(_e);return Ao.indexOf(ot)>=0||du(_e)||Il(_e)||ko(_e)}function rv(_e){return 0|Vu[Object.prototype.toString.call(_e)]}function Bf(_e,ot){return N.allocType(_e.type===Ta?Ko:_e.type,ot)}function Fh(_e,ot){_e.type===Ta?(_e.data=Ji(ot),N.freeType(ot)):_e.data=ot}function Xl(_e,ot,Tt,un,Cn,ln){var mn;if(mn=typeof Aa[_e]<"u"?Aa[_e]:Yr[_e]*ea[ot],ln&&(mn*=6),Cn){for(var jn=0,Xn=Tt;Xn>=1;)jn+=mn*Xn*Xn,Xn/=2;return jn}return mn*Tt*un}function iv(_e,ot,Tt,un,Cn,ln,mn){var jn={"don't care":Dt,"dont care":Dt,nice:dn,fast:Kt},Xn={repeat:uu,clamp:gl,mirror:Js},Zn={nearest:pe,linear:we},Wn=j({mipmap:ft,"nearest mipmap nearest":Le,"linear mipmap nearest":Ke,"nearest mipmap linear":qe,"linear mipmap linear":ft},Zn),nr={none:0,browser:_r},p={uint8:di,rgba4:xe,rgb565:kt,"rgb5 a1":bt},M={alpha:ua,luminance:zs,"luminance alpha":Zs,rgb:Yl,rgba:vl,rgba4:Oi,"rgb5 a1":Ac,rgb565:Vs},U={};ot.ext_srgb&&(M.srgb=Sr,M.srgba=qi),ot.oes_texture_float&&(p.float32=p.float=Ko),ot.oes_texture_half_float&&(p.float16=p["half float"]=Ta),ot.webgl_depth_texture&&(j(M,{depth:_n,"depth stencil":or}),j(p,{uint16:cu,uint32:Qs,"depth stencil":Xt})),ot.webgl_compressed_texture_s3tc&&j(U,{"rgb s3tc dxt1":uo,"rgba s3tc dxt1":Ua,"rgba s3tc dxt3":Tr,"rgba s3tc dxt5":xi}),ot.webgl_compressed_texture_atc&&j(U,{"rgb atc":Oa,"rgba atc explicit alpha":Do,"rgba atc interpolated alpha":js}),ot.webgl_compressed_texture_pvrtc&&j(U,{"rgb pvrtc 4bppv1":To,"rgb pvrtc 2bppv1":Al,"rgba pvrtc 4bppv1":Ya,"rgba pvrtc 2bppv1":Ic}),ot.webgl_compressed_texture_etc1&&(U["rgb etc1"]=lu);var ee=Array.prototype.slice.call(_e.getParameter(su));Object.keys(U).forEach(function(St){var fn=U[St];ee.indexOf(fn)>=0&&(M[St]=fn)});var le=Object.keys(M);Tt.textureFormats=le;var he=[];Object.keys(M).forEach(function(St){he[M[St]]=St});var me=[];Object.keys(p).forEach(function(St){me[p[St]]=St});var be=[];Object.keys(Zn).forEach(function(St){be[Zn[St]]=St});var Te=[];Object.keys(Wn).forEach(function(St){Te[Wn[St]]=St});var Ge=[];Object.keys(Xn).forEach(function(St){Ge[Xn[St]]=St});var at=le.reduce(function(St,fn){var sn=M[fn];return St[sn]=sn===zs||sn===ua||sn===zs||sn===Zs||sn===_n||sn===or||ot.ext_srgb&&(sn===Sr||sn===qi)?sn:sn===Ac||fn.indexOf("rgba")>=0?vl:Yl,St},{});function Ze(){this.internalformat=vl,this.format=vl,this.type=di,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=_r,this.width=0,this.height=0,this.channels=0}function Mt(St,fn){St.internalformat=fn.internalformat,St.format=fn.format,St.type=fn.type,St.compressed=fn.compressed,St.premultiplyAlpha=fn.premultiplyAlpha,St.flipY=fn.flipY,St.unpackAlignment=fn.unpackAlignment,St.colorSpace=fn.colorSpace,St.width=fn.width,St.height=fn.height,St.channels=fn.channels}function jt(St,fn){if("object"==typeof fn&&fn){if("premultiplyAlpha"in fn&&(je.type(fn.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),St.premultiplyAlpha=fn.premultiplyAlpha),"flipY"in fn&&(je.type(fn.flipY,"boolean","invalid texture flip"),St.flipY=fn.flipY),"alignment"in fn&&(je.oneOf(fn.alignment,[1,2,4,8],"invalid texture unpack alignment"),St.unpackAlignment=fn.alignment),"colorSpace"in fn&&(je.parameter(fn.colorSpace,nr,"invalid colorSpace"),St.colorSpace=nr[fn.colorSpace]),"type"in fn){var sn=fn.type;je(ot.oes_texture_float||!("float"===sn||"float32"===sn),"you must enable the OES_texture_float extension in order to use floating point textures."),je(ot.oes_texture_half_float||!("half float"===sn||"float16"===sn),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),je(ot.webgl_depth_texture||!("uint16"===sn||"uint32"===sn||"depth stencil"===sn),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),je.parameter(sn,p,"invalid texture type"),St.type=p[sn]}var yr=St.width,Di=St.height,yt=St.channels,et=!1;"shape"in fn?(je(Array.isArray(fn.shape)&&fn.shape.length>=2,"shape must be an array"),yr=fn.shape[0],Di=fn.shape[1],3===fn.shape.length&&(je((yt=fn.shape[2])>0&&yt<=4,"invalid number of channels"),et=!0),je(yr>=0&&yr<=Tt.maxTextureSize,"invalid width"),je(Di>=0&&Di<=Tt.maxTextureSize,"invalid height")):("radius"in fn&&(yr=Di=fn.radius,je(yr>=0&&yr<=Tt.maxTextureSize,"invalid radius")),"width"in fn&&je((yr=fn.width)>=0&&yr<=Tt.maxTextureSize,"invalid width"),"height"in fn&&je((Di=fn.height)>=0&&Di<=Tt.maxTextureSize,"invalid height"),"channels"in fn&&(je((yt=fn.channels)>0&&yt<=4,"invalid number of channels"),et=!0)),St.width=0|yr,St.height=0|Di,St.channels=0|yt;var Lt=!1;if("format"in fn){var en=fn.format;je(ot.webgl_depth_texture||!("depth"===en||"depth stencil"===en),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),je.parameter(en,M,"invalid texture format");var tn=St.internalformat=M[en];St.format=at[tn],en in p&&("type"in fn||(St.type=p[en])),en in U&&(St.compressed=!0),Lt=!0}!et&&Lt?St.channels=Yr[St.format]:et&&!Lt?St.channels!==li[St.format]&&(St.format=St.internalformat=li[St.channels]):Lt&&et&&je(St.channels===Yr[St.format],"number of channels inconsistent with specified format")}}function xn(St){_e.pixelStorei($n,St.flipY),_e.pixelStorei(rr,St.premultiplyAlpha),_e.pixelStorei(Sn,St.colorSpace),_e.pixelStorei(gn,St.unpackAlignment)}function Zt(){Ze.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Gt(St,fn){var sn=null;if(Ff(fn)?sn=fn:fn&&(je.type(fn,"object","invalid pixel data type"),jt(St,fn),"x"in fn&&(St.xOffset=0|fn.x),"y"in fn&&(St.yOffset=0|fn.y),Ff(fn.data)&&(sn=fn.data)),je(!St.compressed||sn instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),fn.copy){je(!sn,"can not specify copy and data field for the same texture");var yr=Cn.viewportWidth,Di=Cn.viewportHeight;St.width=St.width||yr-St.xOffset,St.height=St.height||Di-St.yOffset,St.needsCopy=!0,je(St.xOffset>=0&&St.xOffset<yr&&St.yOffset>=0&&St.yOffset<Di&&St.width>0&&St.width<=yr&&St.height>0&&St.height<=Di,"copy texture read out of bounds")}else if(sn){if(z(sn))St.channels=St.channels||4,St.data=sn,!("type"in fn)&&St.type===di&&(St.type=rv(sn));else if(du(sn))St.channels=St.channels||4,function jg(_e,ot){var Tt=ot.length;switch(_e.type){case di:case cu:case Qs:case Ko:var un=N.allocType(_e.type,Tt);un.set(ot),_e.data=un;break;case Ta:_e.data=Ji(ot);break;default:je.raise("unsupported texture type, must specify a typed array")}}(St,sn),St.alignment=1,St.needsFree=!0;else if(ko(sn)){var yt=sn.data;!Array.isArray(yt)&&St.type===di&&(St.type=rv(yt));var en,tn,zt,Ft,Yt,mt,et=sn.shape,Lt=sn.stride;3===et.length?(zt=et[2],mt=Lt[2]):(je(2===et.length,"invalid ndarray pixel data, must be 2 or 3D"),zt=1,mt=1),en=et[0],tn=et[1],Ft=Lt[0],Yt=Lt[1],St.alignment=1,St.width=en,St.height=tn,St.channels=zt,St.format=St.internalformat=li[zt],St.needsFree=!0,function Ug(_e,ot,Tt,un,Cn,ln){for(var mn=_e.width,jn=_e.height,Xn=_e.channels,Wn=Bf(_e,mn*jn*Xn),nr=0,p=0;p<jn;++p)for(var M=0;M<mn;++M)for(var U=0;U<Xn;++U)Wn[nr++]=ot[Tt*M+un*p+Cn*U+ln];Fh(_e,Wn)}(St,yt,Ft,Yt,mt,sn.offset)}else if(jd(sn)||zg(sn)||function iy(_e){return Ss(_e)===Ja}(sn))St.element=jd(sn)||zg(sn)?sn:sn.canvas,St.width=St.element.width,St.height=St.element.height,St.channels=4;else if(function fu(_e){return Ss(_e)===io}(sn))St.element=sn,St.width=sn.width,St.height=sn.height,St.channels=4;else if(function Vg(_e){return Ss(_e)===ao}(sn))St.element=sn,St.width=sn.naturalWidth,St.height=sn.naturalHeight,St.channels=4;else if(function qo(_e){return Ss(_e)===yo}(sn))St.element=sn,St.width=sn.videoWidth,St.height=sn.videoHeight,St.channels=4;else if(Il(sn)){var Pt=St.width||sn[0].length,ut=St.height||sn.length,Qt=St.channels;Qt=Sa(sn[0][0])?Qt||sn[0][0].length:Qt||1;for(var rn=zl.shape(sn),An=1,Nn=0;Nn<rn.length;++Nn)An*=rn[Nn];var bn=Bf(St,An);zl.flatten(sn,rn,"",bn),Fh(St,bn),St.alignment=1,St.width=Pt,St.height=ut,St.channels=Qt,St.format=St.internalformat=li[Qt],St.needsFree=!0}}else St.width=St.width||1,St.height=St.height||1,St.channels=St.channels||4;St.type===Ko?je(Tt.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):St.type===Ta&&je(Tt.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Jt(St,fn,sn){var yr=St.element,Di=St.data,yt=St.internalformat,et=St.format,Lt=St.type,en=St.width,tn=St.height;xn(St),yr?_e.texImage2D(fn,sn,et,et,Lt,yr):St.compressed?_e.compressedTexImage2D(fn,sn,yt,en,tn,0,Di):St.needsCopy?(un(),_e.copyTexImage2D(fn,sn,et,St.xOffset,St.yOffset,en,tn,0)):_e.texImage2D(fn,sn,et,en,tn,0,et,Lt,Di||null)}function Un(St,fn,sn,yr,Di){var yt=St.element,et=St.data,Lt=St.internalformat,en=St.format,tn=St.type,zt=St.width,Ft=St.height;xn(St),yt?_e.texSubImage2D(fn,Di,sn,yr,en,tn,yt):St.compressed?_e.compressedTexSubImage2D(fn,Di,sn,yr,Lt,zt,Ft,et):St.needsCopy?(un(),_e.copyTexSubImage2D(fn,Di,sn,yr,St.xOffset,St.yOffset,zt,Ft)):_e.texSubImage2D(fn,Di,sn,yr,zt,Ft,en,tn,et)}var lr=[];function Bn(){return lr.pop()||new Zt}function Mr(St){St.needsFree&&N.freeType(St.data),Zt.call(St),lr.push(St)}function wr(){Ze.call(this),this.genMipmaps=!1,this.mipmapHint=Dt,this.mipmask=0,this.images=Array(16)}function Br(St,fn,sn){var yr=St.images[0]=Bn();St.mipmask=1,yr.width=St.width=fn,yr.height=St.height=sn,yr.channels=St.channels=4}function Jr(St,fn){var sn=null;if(Ff(fn))Mt(sn=St.images[0]=Bn(),St),Gt(sn,fn),St.mipmask=1;else if(jt(St,fn),Array.isArray(fn.mipmap))for(var yr=fn.mipmap,Di=0;Di<yr.length;++Di)Mt(sn=St.images[Di]=Bn(),St),sn.width>>=Di,sn.height>>=Di,Gt(sn,yr[Di]),St.mipmask|=1<<Di;else Mt(sn=St.images[0]=Bn(),St),Gt(sn,fn),St.mipmask=1;Mt(St,St.images[0]),St.compressed&&(St.internalformat===uo||St.internalformat===Ua||St.internalformat===Tr||St.internalformat===xi)&&je(St.width%4==0&&St.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Hr(St,fn){for(var sn=St.images,yr=0;yr<sn.length;++yr){if(!sn[yr])return;Jt(sn[yr],fn,yr)}}var Pa=[];function ni(){var St=Pa.pop()||new wr;Ze.call(St),St.mipmask=0;for(var fn=0;fn<16;++fn)St.images[fn]=null;return St}function eo(St){for(var fn=St.images,sn=0;sn<fn.length;++sn)fn[sn]&&Mr(fn[sn]),fn[sn]=null;Pa.push(St)}function ba(){this.minFilter=pe,this.magFilter=pe,this.wrapS=gl,this.wrapT=gl,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Dt}function Bi(St,fn){if("min"in fn){var sn=fn.min;je.parameter(sn,Wn),St.minFilter=Wn[sn],Ei.indexOf(St.minFilter)>=0&&!("faces"in fn)&&(St.genMipmaps=!0)}if("mag"in fn){var yr=fn.mag;je.parameter(yr,Zn),St.magFilter=Zn[yr]}var Di=St.wrapS,yt=St.wrapT;if("wrap"in fn){var et=fn.wrap;"string"==typeof et?(je.parameter(et,Xn),Di=yt=Xn[et]):Array.isArray(et)&&(je.parameter(et[0],Xn),je.parameter(et[1],Xn),Di=Xn[et[0]],yt=Xn[et[1]])}else{if("wrapS"in fn){var Lt=fn.wrapS;je.parameter(Lt,Xn),Di=Xn[Lt]}if("wrapT"in fn){var en=fn.wrapT;je.parameter(en,Xn),yt=Xn[en]}}if(St.wrapS=Di,St.wrapT=yt,"anisotropic"in fn){var tn=fn.anisotropic;je("number"==typeof tn&&tn>=1&&tn<=Tt.maxAnisotropic,"aniso samples must be between 1 and "),St.anisotropic=fn.anisotropic}if("mipmap"in fn){var zt=!1;switch(typeof fn.mipmap){case"string":je.parameter(fn.mipmap,jn,"invalid mipmap hint"),St.mipmapHint=jn[fn.mipmap],St.genMipmaps=!0,zt=!0;break;case"boolean":zt=St.genMipmaps=fn.mipmap;break;case"object":je(Array.isArray(fn.mipmap),"invalid mipmap type"),St.genMipmaps=!1,zt=!0;break;default:je.raise("invalid mipmap type")}zt&&!("min"in fn)&&(St.minFilter=Le)}}function $a(St,fn){_e.texParameteri(fn,I,St.minFilter),_e.texParameteri(fn,f,St.magFilter),_e.texParameteri(fn,$l,St.wrapS),_e.texParameteri(fn,Ro,St.wrapT),ot.ext_texture_filter_anisotropic&&_e.texParameteri(fn,vn,St.anisotropic),St.genMipmaps&&(_e.hint(_t,St.mipmapHint),_e.generateMipmap(fn))}var Ga=0,po={},Qo=Tt.maxTextureUnits,Xa=Array(Qo).map(function(){return null});function vi(St){Ze.call(this),this.mipmask=0,this.internalformat=vl,this.id=Ga++,this.refCount=1,this.target=St,this.texture=_e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ba,mn.profile&&(this.stats={size:0})}function Jo(St){_e.activeTexture(wi),_e.bindTexture(St.target,St.texture)}function oa(){var St=Xa[0];St?_e.bindTexture(St.target,St.texture):_e.bindTexture(Po,null)}function zr(St){var fn=St.texture;je(fn,"must not double destroy texture");var sn=St.unit,yr=St.target;sn>=0&&(_e.activeTexture(wi+sn),_e.bindTexture(yr,null),Xa[sn]=null),_e.deleteTexture(fn),St.texture=null,St.params=null,St.pixels=null,St.refCount=0,delete po[St.id],ln.textureCount--}return j(vi.prototype,{bind:function(){var St=this;St.bindCount+=1;var fn=St.unit;if(fn<0){for(var sn=0;sn<Qo;++sn){var yr=Xa[sn];if(yr){if(yr.bindCount>0)continue;yr.unit=-1}Xa[sn]=St,fn=sn;break}fn>=Qo&&je.raise("insufficient number of texture units"),mn.profile&&ln.maxTextureUnits<fn+1&&(ln.maxTextureUnits=fn+1),St.unit=fn,_e.activeTexture(wi+fn),_e.bindTexture(St.target,St.texture)}return fn},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&zr(this)}}),mn.profile&&(ln.getTotalTextureSize=function(){var St=0;return Object.keys(po).forEach(function(fn){St+=po[fn].stats.size}),St}),{create2D:function Ci(St,fn){var sn=new vi(Po);function yr(et,Lt){var en=sn.texInfo;ba.call(en);var tn=ni();return"number"==typeof et?Br(tn,0|et,"number"==typeof Lt?0|Lt:0|et):et?(je.type(et,"object","invalid arguments to regl.texture"),Bi(en,et),Jr(tn,et)):Br(tn,1,1),en.genMipmaps&&(tn.mipmask=(tn.width<<1)-1),sn.mipmask=tn.mipmask,Mt(sn,tn),je.texture2D(en,tn,Tt),sn.internalformat=tn.internalformat,yr.width=tn.width,yr.height=tn.height,Jo(sn),Hr(tn,Po),$a(en,Po),oa(),eo(tn),mn.profile&&(sn.stats.size=Xl(sn.internalformat,sn.type,tn.width,tn.height,en.genMipmaps,!1)),yr.format=he[sn.internalformat],yr.type=me[sn.type],yr.mag=be[en.magFilter],yr.min=Te[en.minFilter],yr.wrapS=Ge[en.wrapS],yr.wrapT=Ge[en.wrapT],yr}return po[sn.id]=sn,ln.textureCount++,yr(St,fn),yr.subimage=function Di(et,Lt,en,tn){je(!!et,"must specify image data");var zt=0|Lt,Ft=0|en,Yt=0|tn,mt=Bn();return Mt(mt,sn),mt.width=0,mt.height=0,Gt(mt,et),mt.width=mt.width||(sn.width>>Yt)-zt,mt.height=mt.height||(sn.height>>Yt)-Ft,je(sn.type===mt.type&&sn.format===mt.format&&sn.internalformat===mt.internalformat,"incompatible format for texture.subimage"),je(zt>=0&&Ft>=0&&zt+mt.width<=sn.width&&Ft+mt.height<=sn.height,"texture.subimage write out of bounds"),je(sn.mipmask&1<<Yt,"missing mipmap data"),je(mt.data||mt.element||mt.needsCopy,"missing image data"),Jo(sn),Un(mt,Po,zt,Ft,Yt),oa(),Mr(mt),yr},yr.resize=function yt(et,Lt){var en=0|et,tn=0|Lt||en;if(en===sn.width&&tn===sn.height)return yr;yr.width=sn.width=en,yr.height=sn.height=tn,Jo(sn);for(var zt=0;sn.mipmask>>zt;++zt){var Ft=en>>zt,Yt=tn>>zt;if(!Ft||!Yt)break;_e.texImage2D(Po,zt,sn.format,Ft,Yt,0,sn.format,sn.type,null)}return oa(),mn.profile&&(sn.stats.size=Xl(sn.internalformat,sn.type,en,tn,!1,!1)),yr},yr._reglType="texture2d",yr._texture=sn,mn.profile&&(yr.stats=sn.stats),yr.destroy=function(){sn.decRef()},yr},createCube:function ki(St,fn,sn,yr,Di,yt){var et=new vi(hs);po[et.id]=et,ln.cubeCount++;var Lt=new Array(6);function en(Ft,Yt,mt,Pt,ut,Qt){var rn,An=et.texInfo;for(ba.call(An),rn=0;rn<6;++rn)Lt[rn]=ni();if("number"!=typeof Ft&&Ft)if("object"==typeof Ft)if(Yt)Jr(Lt[0],Ft),Jr(Lt[1],Yt),Jr(Lt[2],mt),Jr(Lt[3],Pt),Jr(Lt[4],ut),Jr(Lt[5],Qt);else if(Bi(An,Ft),jt(et,Ft),"faces"in Ft){var bn=Ft.faces;for(je(Array.isArray(bn)&&6===bn.length,"cube faces must be a length 6 array"),rn=0;rn<6;++rn)je("object"==typeof bn[rn]&&!!bn[rn],"invalid input for cube map face"),Mt(Lt[rn],et),Jr(Lt[rn],bn[rn])}else for(rn=0;rn<6;++rn)Jr(Lt[rn],Ft);else je.raise("invalid arguments to cube map");else{var Nn=0|Ft||1;for(rn=0;rn<6;++rn)Br(Lt[rn],Nn,Nn)}for(Mt(et,Lt[0]),Tt.npotTextureCube||je(Tl(et.width)&&Tl(et.height),"your browser does not support non power or two texture dimensions"),et.mipmask=An.genMipmaps?(Lt[0].width<<1)-1:Lt[0].mipmask,je.textureCube(et,An,Lt,Tt),et.internalformat=Lt[0].internalformat,en.width=Lt[0].width,en.height=Lt[0].height,Jo(et),rn=0;rn<6;++rn)Hr(Lt[rn],Bs+rn);for($a(An,hs),oa(),mn.profile&&(et.stats.size=Xl(et.internalformat,et.type,en.width,en.height,An.genMipmaps,!0)),en.format=he[et.internalformat],en.type=me[et.type],en.mag=be[An.magFilter],en.min=Te[An.minFilter],en.wrapS=Ge[An.wrapS],en.wrapT=Ge[An.wrapT],rn=0;rn<6;++rn)eo(Lt[rn]);return en}return en(St,fn,sn,yr,Di,yt),en.subimage=function tn(Ft,Yt,mt,Pt,ut){je(!!Yt,"must specify image data"),je("number"==typeof Ft&&Ft===(0|Ft)&&Ft>=0&&Ft<6,"invalid face");var Qt=0|mt,rn=0|Pt,An=0|ut,Nn=Bn();return Mt(Nn,et),Nn.width=0,Nn.height=0,Gt(Nn,Yt),Nn.width=Nn.width||(et.width>>An)-Qt,Nn.height=Nn.height||(et.height>>An)-rn,je(et.type===Nn.type&&et.format===Nn.format&&et.internalformat===Nn.internalformat,"incompatible format for texture.subimage"),je(Qt>=0&&rn>=0&&Qt+Nn.width<=et.width&&rn+Nn.height<=et.height,"texture.subimage write out of bounds"),je(et.mipmask&1<<An,"missing mipmap data"),je(Nn.data||Nn.element||Nn.needsCopy,"missing image data"),Jo(et),Un(Nn,Bs+Ft,Qt,rn,An),oa(),Mr(Nn),en},en.resize=function zt(Ft){var Yt=0|Ft;if(Yt!==et.width){en.width=et.width=Yt,en.height=et.height=Yt,Jo(et);for(var mt=0;mt<6;++mt)for(var Pt=0;et.mipmask>>Pt;++Pt)_e.texImage2D(Bs+mt,Pt,et.format,Yt>>Pt,Yt>>Pt,0,et.format,et.type,null);return oa(),mn.profile&&(et.stats.size=Xl(et.internalformat,et.type,en.width,en.height,!1,!0)),en}},en._reglType="textureCube",en._texture=et,mn.profile&&(en.stats=et.stats),en.destroy=function(){et.decRef()},en},clear:function lo(){for(var St=0;St<Qo;++St)_e.activeTexture(wi+St),_e.bindTexture(Po,null),Xa[St]=null;xo(po).forEach(zr),ln.cubeCount=0,ln.textureCount=0},getTexture:function(St){return null},restore:function uc(){for(var St=0;St<Qo;++St){var fn=Xa[St];fn&&(fn.bindCount=0,fn.unit=-1,Xa[St]=null)}xo(po).forEach(function(sn){sn.texture=_e.createTexture(),_e.bindTexture(sn.target,sn.texture);for(var yr=0;yr<32;++yr)if(sn.mipmask&1<<yr)if(sn.target===Po)_e.texImage2D(Po,yr,sn.internalformat,sn.width>>yr,sn.height>>yr,0,sn.internalformat,sn.type,null);else for(var Di=0;Di<6;++Di)_e.texImage2D(Bs+Di,yr,sn.internalformat,sn.width>>yr,sn.height>>yr,0,sn.internalformat,sn.type,null);$a(sn.texInfo,sn.target)})},refresh:function af(){for(var St=0;St<Qo;++St){var fn=Xa[St];fn&&(fn.bindCount=0,fn.unit=-1,Xa[St]=null),_e.activeTexture(wi+St),_e.bindTexture(Po,null),_e.bindTexture(hs,null)}}}}Aa[Oi]=2,Aa[Ac]=2,Aa[Vs]=2,Aa[or]=4,Aa[uo]=.5,Aa[Ua]=.5,Aa[Tr]=1,Aa[xi]=1,Aa[Oa]=.5,Aa[Do]=1,Aa[js]=1,Aa[To]=.5,Aa[Al]=.25,Aa[Ya]=.5,Aa[Ic]=.25,Aa[lu]=.5;var cr=36161,hu=32854,ml=[];function Ud(_e,ot,Tt){return ml[_e]*ot*Tt}ml[hu]=2,ml[32855]=2,ml[36194]=2,ml[33189]=2,ml[36168]=1,ml[34041]=4,ml[35907]=4,ml[34836]=16,ml[34842]=8,ml[34843]=6;var av=function(_e,ot,Tt,un,Cn){var ln={rgba4:hu,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};ot.ext_srgb&&(ln.srgba=35907),ot.ext_color_buffer_half_float&&(ln.rgba16f=34842,ln.rgb16f=34843),ot.webgl_color_buffer_float&&(ln.rgba32f=34836);var mn=[];Object.keys(ln).forEach(function(M){mn[ln[M]]=M});var jn=0,Xn={};function Zn(M){this.id=jn++,this.refCount=1,this.renderbuffer=M,this.format=hu,this.width=0,this.height=0,Cn.profile&&(this.stats={size:0})}function Wn(M){var U=M.renderbuffer;je(U,"must not double destroy renderbuffer"),_e.bindRenderbuffer(cr,null),_e.deleteRenderbuffer(U),M.renderbuffer=null,M.refCount=0,delete Xn[M.id],un.renderbufferCount--}return Zn.prototype.decRef=function(){--this.refCount<=0&&Wn(this)},Cn.profile&&(un.getTotalRenderbufferSize=function(){var M=0;return Object.keys(Xn).forEach(function(U){M+=Xn[U].stats.size}),M}),{create:function nr(M,U){var ee=new Zn(_e.createRenderbuffer());function le(me,be){var Te=0,Ge=0,at=hu;if("object"==typeof me&&me){var Ze=me;if("shape"in Ze){var Mt=Ze.shape;je(Array.isArray(Mt)&&Mt.length>=2,"invalid renderbuffer shape"),Te=0|Mt[0],Ge=0|Mt[1]}else"radius"in Ze&&(Te=Ge=0|Ze.radius),"width"in Ze&&(Te=0|Ze.width),"height"in Ze&&(Ge=0|Ze.height);"format"in Ze&&(je.parameter(Ze.format,ln,"invalid renderbuffer format"),at=ln[Ze.format])}else"number"==typeof me?(Te=0|me,Ge="number"==typeof be?0|be:Te):me?je.raise("invalid arguments to renderbuffer constructor"):Te=Ge=1;if(je(Te>0&&Ge>0&&Te<=Tt.maxRenderbufferSize&&Ge<=Tt.maxRenderbufferSize,"invalid renderbuffer size"),Te!==ee.width||Ge!==ee.height||at!==ee.format)return le.width=ee.width=Te,le.height=ee.height=Ge,ee.format=at,_e.bindRenderbuffer(cr,ee.renderbuffer),_e.renderbufferStorage(cr,at,Te,Ge),je(0===_e.getError(),"invalid render buffer format"),Cn.profile&&(ee.stats.size=Ud(ee.format,ee.width,ee.height)),le.format=mn[ee.format],le}return Xn[ee.id]=ee,un.renderbufferCount++,le(M,U),le.resize=function he(me,be){var Te=0|me,Ge=0|be||Te;return Te===ee.width&&Ge===ee.height||(je(Te>0&&Ge>0&&Te<=Tt.maxRenderbufferSize&&Ge<=Tt.maxRenderbufferSize,"invalid renderbuffer size"),le.width=ee.width=Te,le.height=ee.height=Ge,_e.bindRenderbuffer(cr,ee.renderbuffer),_e.renderbufferStorage(cr,ee.format,Te,Ge),je(0===_e.getError(),"invalid render buffer format"),Cn.profile&&(ee.stats.size=Ud(ee.format,ee.width,ee.height))),le},le._reglType="renderbuffer",le._renderbuffer=ee,Cn.profile&&(le.stats=ee.stats),le.destroy=function(){ee.decRef()},le},clear:function(){xo(Xn).forEach(Wn)},restore:function p(){xo(Xn).forEach(function(M){M.renderbuffer=_e.createRenderbuffer(),_e.bindRenderbuffer(cr,M.renderbuffer),_e.renderbufferStorage(cr,M.format,M.width,M.height)}),_e.bindRenderbuffer(cr,null)}}},La=36160,Gd=36161,ql=3553,gi=34069,jf=36064,Gg=36096,ov=36128,sv=33306,Uf=36053,Wu=6402,Ol=[6407,6408],Hd=[];Hd[6408]=4,Hd[6407]=3;var Yu=[];Yu[5121]=1,Yu[5126]=4,Yu[36193]=2;var ps=33189,Zl=36168,Vh=34041,dv=[32854,32855,36194,35907,34842,34843,34836],$u={};$u[Uf]="complete",$u[36054]="incomplete attachment",$u[36057]="incomplete dimensions",$u[36055]="incomplete, missing attachment",$u[36061]="unsupported";var Uh=5126,Wd=34962;function Yd(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Uh,this.offset=0,this.stride=0,this.divisor=0}var $d=35632,Gh=35633,fv=35718,Hh=35721;var pv=6408,gu=5121,Wh=3333,Hf=5126;function vs(_e,ot,Tt,un,Cn,ln,mn){function jn(Wn){var nr;null===ot.next?(je(Cn.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),nr=gu):(je(null!==ot.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),nr=ot.next.colorAttachments[0].texture._texture.type,ln.oes_texture_float?(je(nr===gu||nr===Hf,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),nr===Hf&&je(mn.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):je(nr===gu,"Reading from a framebuffer is only allowed for the type 'uint8'"));var p=0,M=0,U=un.framebufferWidth,ee=un.framebufferHeight,le=null;z(Wn)?le=Wn:Wn&&(je.type(Wn,"object","invalid arguments to regl.read()"),M=0|Wn.y,je((p=0|Wn.x)>=0&&p<un.framebufferWidth,"invalid x offset for regl.read"),je(M>=0&&M<un.framebufferHeight,"invalid y offset for regl.read"),U=0|(Wn.width||un.framebufferWidth-p),ee=0|(Wn.height||un.framebufferHeight-M),le=Wn.data||null),le&&(nr===gu?je(le instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):nr===Hf&&je(le instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),je(U>0&&U+p<=un.framebufferWidth,"invalid width for read pixels"),je(ee>0&&ee+M<=un.framebufferHeight,"invalid height for read pixels"),Tt();var he=U*ee*4;return le||(nr===gu?le=new Uint8Array(he):nr===Hf&&(le=le||new Float32Array(he))),je.isTypedArray(le,"data buffer for regl.read() must be a typedarray"),je(le.byteLength>=he,"data buffer for regl.read() too small"),_e.pixelStorei(Wh,4),_e.readPixels(p,M,U,ee,pv,nr,le),le}return function Zn(Wn){return Wn&&"framebuffer"in Wn?function Xn(Wn){var nr;return ot.setFBO({framebuffer:Wn.framebuffer},function(){nr=jn(Wn)}),nr}(Wn):jn(Wn)}}function el(_e){return Array.prototype.slice.call(_e)}function Na(_e){return el(_e).join("")}var Xu="xyzw".split(""),Yh=5121,Ku=1,$h=2,Xh=0,qu=1,Zu=2,Qu=3,Ju=4,Kh=5,vv=6,mu="dither",ed="blend.enable",gv="blend.color",mv="blend.equation",Xd="blend.func",$g="depth.enable",yv="depth.func",_v="depth.range",Yf="depth.mask",bv="colorMask",Rt="cull.enable",qh="cull.face",yu="frontFace",Oc="lineWidth",Zh="polygonOffset.enable",$f="polygonOffset.offset",Kd="sample.alpha",xv="sample.enable",kc="sample.coverage",td="stencil.enable",nd="stencil.mask",Qh="stencil.func",_o="stencil.opFront",_u="stencil.opBack",Jh="scissor.enable",Ds="scissor.box",kl="viewport",ec="profile",tc="framebuffer",nc="vert",Nc="frag",rc="elements",bu="primitive",Pc="count",qd="offset",Zd="instances",rd="vao",ep="Width",id="Height",tl=tc+ep,nl=tc+id,Xf=kl+ep,tp=kl+id,ic="drawingBuffer",np=ic+ep,oo=ic+id,Kf=[Xd,mv,Qh,_o,_u,kc,kl,Ds,$f],xu=34962,rp=34963,wu=3553,Eu=34067,wv=2884,qf=3042,Su=3024,oy=2960,Ev=2929,ir=3089,Xg=32823,Kg=32926,Sv=32928,Zf=5126,ip=35664,ap=35665,op=35666,Mu=5124,sp=35667,lp=35668,so=35669,Qd=35670,Lc=35671,Qf=35672,gs=35673,yl=35674,od=35675,ac=35676,oc=35678,sd=35680,qg=4,Jd=1028,ld=1029,Ts=2304,cd=2305,ud=32775,sy=32776,Mv=519,Fc=7680,Cv=0,Dv=1,Tv=32774,Zg=513,Av=36160,cp=36064,Eo={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},ef=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],As={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},sc={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Cu={frag:35632,vert:35633},up={cw:Ts,ccw:cd};function tf(_e){return Array.isArray(_e)||z(_e)||ko(_e)}function dd(_e){return _e.sort(function(ot,Tt){return ot===kl?-1:Tt===kl?1:ot<Tt?-1:1})}function Bo(_e,ot,Tt,un){this.thisDep=_e,this.contextDep=ot,this.propDep=Tt,this.append=un}function lc(_e){return _e&&!(_e.thisDep||_e.contextDep||_e.propDep)}function ho(_e){return new Bo(!1,!1,!1,_e)}function Zo(_e,ot){var Tt=_e.type;if(Tt===Xh){var un=_e.data.length;return new Bo(!0,un>=1,un>=2,ot)}if(Tt===Ju){var Cn=_e.data;return new Bo(Cn.thisDep,Cn.contextDep,Cn.propDep,ot)}if(Tt===Kh)return new Bo(!1,!1,!1,ot);if(Tt===vv){for(var ln=!1,mn=!1,jn=!1,Xn=0;Xn<_e.data.length;++Xn){var Zn=_e.data[Xn];if(Zn.type===qu)jn=!0;else if(Zn.type===Zu)mn=!0;else if(Zn.type===Qu)ln=!0;else if(Zn.type===Xh){ln=!0;var Wn=Zn.data;Wn>=1&&(mn=!0),Wn>=2&&(jn=!0)}else Zn.type===Ju&&(ln=ln||Zn.data.thisDep,mn=mn||Zn.data.contextDep,jn=jn||Zn.data.propDep)}return new Bo(ln,mn,jn,ot)}return new Bo(Tt===Qu,Tt===Zu,Tt===qu,ot)}var cc=new Bo(!1,!1,!1,function(){});function nf(_e,ot,Tt,un,Cn,ln,mn,jn,Xn,Zn,Wn,nr,p,M,U){var ee=Zn.Record,le={add:32774,subtract:32778,"reverse subtract":32779};Tt.ext_blend_minmax&&(le.min=ud,le.max=sy);var he=Tt.angle_instanced_arrays,me=Tt.webgl_draw_buffers,be={dirty:!0,profile:U.profile},Te={},Ge=[],at={},Ze={};function Mt(yt){return yt.replace(".","_")}function jt(yt,et,Lt){var en=Mt(yt);Ge.push(yt),Te[en]=be[en]=!!Lt,at[en]=et}function xn(yt,et,Lt){var en=Mt(yt);Ge.push(yt),Array.isArray(Lt)?(be[en]=Lt.slice(),Te[en]=Lt.slice()):be[en]=Te[en]=Lt,Ze[en]=et}jt(mu,Su),jt(ed,qf),xn(gv,"blendColor",[0,0,0,0]),xn(mv,"blendEquationSeparate",[Tv,Tv]),xn(Xd,"blendFuncSeparate",[Dv,Cv,Dv,Cv]),jt($g,Ev,!0),xn(yv,"depthFunc",Zg),xn(_v,"depthRange",[0,1]),xn(Yf,"depthMask",!0),xn(bv,bv,[!0,!0,!0,!0]),jt(Rt,wv),xn(qh,"cullFace",ld),xn(yu,yu,cd),xn(Oc,Oc,1),jt(Zh,Xg),xn($f,"polygonOffset",[0,0]),jt(Kd,Kg),jt(xv,Sv),xn(kc,"sampleCoverage",[1,!1]),jt(td,oy),xn(nd,"stencilMask",-1),xn(Qh,"stencilFunc",[Mv,0,-1]),xn(_o,"stencilOpSeparate",[Jd,Fc,Fc,Fc]),xn(_u,"stencilOpSeparate",[ld,Fc,Fc,Fc]),jt(Jh,ir),xn(Ds,"scissor",[0,0,_e.drawingBufferWidth,_e.drawingBufferHeight]),xn(kl,kl,[0,0,_e.drawingBufferWidth,_e.drawingBufferHeight]);var Zt={gl:_e,context:p,strings:ot,next:Te,current:be,draw:nr,elements:ln,buffer:Cn,shader:Wn,attributes:Zn.state,vao:Zn,uniforms:Xn,framebuffer:jn,extensions:Tt,timer:M,isBufferArgs:tf},Gt={primTypes:ws,compareFuncs:As,blendFuncs:Eo,blendEquations:le,stencilOps:sc,glTypes:xs,orientationType:up};je.optional(function(){Zt.isArrayLike=Sa}),me&&(Gt.backBuffer=[ld],Gt.drawBuffer=Se(un.maxDrawbuffers,function(yt){return 0===yt?[0]:Se(yt,function(et){return cp+et})}));var Jt=0;function Un(){var yt=function Wf(){var _e=0,ot=[],Tt=[];function Cn(){var nr=[],M=[];return j(function p(){nr.push.apply(nr,el(arguments))},{def:function U(){var ee="v"+_e++;return M.push(ee),arguments.length>0&&(nr.push(ee,"="),nr.push.apply(nr,el(arguments)),nr.push(";")),ee},toString:function(){return Na([M.length>0?"var "+M.join(",")+";":"",Na(nr)])}})}function ln(){var nr=Cn(),p=Cn(),M=nr.toString,U=p.toString;function ee(le,he){p(le,he,"=",nr.def(le,he),";")}return j(function(){nr.apply(nr,el(arguments))},{def:nr.def,entry:nr,exit:p,save:ee,set:function(le,he,me){ee(le,he),nr(le,he,"=",me,";")},toString:function(){return M()+U()}})}var jn=Cn(),Xn={};return{global:jn,link:function un(nr){for(var p=0;p<Tt.length;++p)if(Tt[p]===nr)return ot[p];var M="g"+_e++;return ot.push(M),Tt.push(nr),M},block:Cn,proc:function Zn(nr,p){var M=[];function U(){var be="a"+M.length;return M.push(be),be}p=p||0;for(var ee=0;ee<p;++ee)U();var le=ln(),he=le.toString;return Xn[nr]=j(le,{arg:U,toString:function(){return Na(["function(",M.join(),"){",he(),"}"])}})},scope:ln,cond:function mn(){var nr=Na(arguments),p=ln(),M=ln(),U=p.toString,ee=M.toString;return j(p,{then:function(){return p.apply(p,el(arguments)),this},else:function(){return M.apply(M,el(arguments)),this},toString:function(){var le=ee();return le&&(le="else{"+le+"}"),Na(["if(",nr,"){",U(),"}",le])}})},compile:function Wn(){var nr=['"use strict";',jn,"return {"];Object.keys(Xn).forEach(function(U){nr.push('"',U,'":',Xn[U].toString(),",")}),nr.push("}");var p=Na(nr).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,ot.concat(p)).apply(null,Tt)}}}(),et=yt.link,Lt=yt.global;yt.id=Jt++,yt.batchId="0";var en=et(Zt),tn=yt.shared={props:"a0"};Object.keys(Zt).forEach(function(Pt){tn[Pt]=Lt.def(en,".",Pt)}),je.optional(function(){yt.CHECK=et(je),yt.commandStr=je.guessCommand(),yt.command=et(yt.commandStr),yt.assert=function(Pt,ut,Qt){Pt("if(!(",ut,"))",this.CHECK,".commandRaise(",et(Qt),",",this.command,");")},Gt.invalidBlendCombinations=ef});var zt=yt.next={},Ft=yt.current={};Object.keys(Ze).forEach(function(Pt){Array.isArray(be[Pt])&&(zt[Pt]=Lt.def(tn.next,".",Pt),Ft[Pt]=Lt.def(tn.current,".",Pt))});var Yt=yt.constants={};Object.keys(Gt).forEach(function(Pt){Yt[Pt]=Lt.def(JSON.stringify(Gt[Pt]))}),yt.invoke=function(Pt,ut){switch(ut.type){case Xh:var Qt=["this",tn.context,tn.props,yt.batchId];return Pt.def(et(ut.data),".call(",Qt.slice(0,Math.max(ut.data.length+1,4)),")");case qu:return Pt.def(tn.props,ut.data);case Zu:return Pt.def(tn.context,ut.data);case Qu:return Pt.def("this",ut.data);case Ju:return ut.data.append(yt,Pt),ut.data.ref;case Kh:return ut.data.toString();case vv:return ut.data.map(function(rn){return yt.invoke(Pt,rn)})}},yt.attribCache={};var mt={};return yt.scopeAttrib=function(Pt){var ut=ot.id(Pt);if(ut in mt)return mt[ut];var Qt=Zn.scope[ut];return Qt||(Qt=Zn.scope[ut]=new ee),mt[ut]=et(Qt)},yt}function Bi(yt,et,Lt,en,tn){var zt=yt.static,Ft=yt.dynamic;je.optional(function(){var Er=[tc,nc,Nc,rc,bu,qd,Pc,Zd,ec,rd].concat(Ge);function jr(oi){Object.keys(oi).forEach(function(Zi){je.command(Er.indexOf(Zi)>=0,'unknown parameter "'+Zi+'"',tn.commandStr)})}jr(zt),jr(Ft)});var Yt=function wr(yt,et){var Lt=yt.static;if("string"==typeof Lt[Nc]&&"string"==typeof Lt[nc]){if(Object.keys(et.dynamic).length>0)return null;var tn=et.static,zt=Object.keys(tn);if(zt.length>0&&"number"==typeof tn[zt[0]]){for(var Ft=[],Yt=0;Yt<zt.length;++Yt)je("number"==typeof tn[zt[Yt]],"must specify all vertex attribute locations when using vaos"),Ft.push([0|tn[zt[Yt]],zt[Yt]]);return Ft}}return null}(yt,et),mt=function Bn(yt,et){var Lt=yt.static,en=yt.dynamic;if(tc in Lt){var tn=Lt[tc];return tn?(tn=jn.getFramebuffer(tn),je.command(tn,"invalid framebuffer object"),ho(function(Ft,Yt){var mt=Ft.link(tn),Pt=Ft.shared;Yt.set(Pt.framebuffer,".next",mt);var ut=Pt.context;return Yt.set(ut,"."+tl,mt+".width"),Yt.set(ut,"."+nl,mt+".height"),mt})):ho(function(Ft,Yt){var mt=Ft.shared;Yt.set(mt.framebuffer,".next","null");var Pt=mt.context;return Yt.set(Pt,"."+tl,Pt+"."+np),Yt.set(Pt,"."+nl,Pt+"."+oo),"null"})}if(tc in en){var zt=en[tc];return Zo(zt,function(Ft,Yt){var mt=Ft.invoke(Yt,zt),Pt=Ft.shared,ut=Pt.framebuffer,Qt=Yt.def(ut,".getFramebuffer(",mt,")");je.optional(function(){Ft.assert(Yt,"!"+mt+"||"+Qt,"invalid framebuffer object")}),Yt.set(ut,".next",Qt);var rn=Pt.context;return Yt.set(rn,"."+tl,Qt+"?"+Qt+".width:"+rn+"."+np),Yt.set(rn,"."+nl,Qt+"?"+Qt+".height:"+rn+"."+oo),Qt})}return null}(yt),Pt=function Mr(yt,et,Lt){var en=yt.static,tn=yt.dynamic;function zt(mt){if(mt in en){var Pt=en[mt];je.commandType(Pt,"object","invalid "+mt,Lt.commandStr);var An,Nn,ut=!0,Qt=0|Pt.x,rn=0|Pt.y;return"width"in Pt?je.command((An=0|Pt.width)>=0,"invalid "+mt,Lt.commandStr):ut=!1,"height"in Pt?je.command((Nn=0|Pt.height)>=0,"invalid "+mt,Lt.commandStr):ut=!1,new Bo(!ut&&et&&et.thisDep,!ut&&et&&et.contextDep,!ut&&et&&et.propDep,function(Or,fi){var Er=Or.shared.context,jr=An;"width"in Pt||(jr=fi.def(Er,".",tl,"-",Qt));var oi=Nn;return"height"in Pt||(oi=fi.def(Er,".",nl,"-",rn)),[Qt,rn,jr,oi]})}if(mt in tn){var bn=tn[mt],Qn=Zo(bn,function(Or,fi){var Er=Or.invoke(fi,bn);je.optional(function(){Or.assert(fi,Er+"&&typeof "+Er+'==="object"',"invalid "+mt)});var jr=Or.shared.context,oi=fi.def(Er,".x|0"),Zi=fi.def(Er,".y|0"),Ka=fi.def('"width" in ',Er,"?",Er,".width|0:","(",jr,".",tl,"-",oi,")"),Is=fi.def('"height" in ',Er,"?",Er,".height|0:","(",jr,".",nl,"-",Zi,")");return je.optional(function(){Or.assert(fi,Ka+">=0&&"+Is+">=0","invalid "+mt)}),[oi,Zi,Ka,Is]});return et&&(Qn.thisDep=Qn.thisDep||et.thisDep,Qn.contextDep=Qn.contextDep||et.contextDep,Qn.propDep=Qn.propDep||et.propDep),Qn}return et?new Bo(et.thisDep,et.contextDep,et.propDep,function(Or,fi){var Er=Or.shared.context;return[0,0,fi.def(Er,".",tl),fi.def(Er,".",nl)]}):null}var Ft=zt(kl);if(Ft){var Yt=Ft;Ft=new Bo(Ft.thisDep,Ft.contextDep,Ft.propDep,function(mt,Pt){var ut=Yt.append(mt,Pt),Qt=mt.shared.context;return Pt.set(Qt,"."+Xf,ut[2]),Pt.set(Qt,"."+tp,ut[3]),ut})}return{viewport:Ft,scissor_box:zt(Ds)}}(yt,mt,tn),ut=function Jr(yt,et){var Lt=yt.static,en=yt.dynamic,zt=function tn(){if(rc in Lt){var ut=Lt[rc];tf(ut)?ut=ln.getElements(ln.create(ut,!0)):ut&&(ut=ln.getElements(ut),je.command(ut,"invalid elements",et.commandStr));var Qt=ho(function(An,Nn){if(ut){var bn=An.link(ut);return An.ELEMENTS=bn,bn}return An.ELEMENTS=null,null});return Qt.value=ut,Qt}if(rc in en){var rn=en[rc];return Zo(rn,function(An,Nn){var bn=An.shared,Qn=bn.isBufferArgs,Or=bn.elements,fi=An.invoke(Nn,rn),Er=Nn.def("null"),jr=Nn.def(Qn,"(",fi,")"),oi=An.cond(jr).then(Er,"=",Or,".createStream(",fi,");").else(Er,"=",Or,".getElements(",fi,");");return je.optional(function(){An.assert(oi.else,"!"+fi+"||"+Er,"invalid elements")}),Nn.entry(oi),Nn.exit(An.cond(jr).then(Or,".destroyStream(",Er,");")),An.ELEMENTS=Er,Er})}return null}();function Yt(ut,Qt){if(ut in Lt){var rn=0|Lt[ut];return je.command(!Qt||rn>=0,"invalid "+ut,et.commandStr),ho(function(Nn,bn){return Qt&&(Nn.OFFSET=rn),rn})}if(ut in en){var An=en[ut];return Zo(An,function(Nn,bn){var Qn=Nn.invoke(bn,An);return Qt&&(Nn.OFFSET=Qn,je.optional(function(){Nn.assert(bn,Qn+">=0","invalid "+ut)})),Qn})}return Qt&&zt?ho(function(Nn,bn){return Nn.OFFSET="0",0}):null}var mt=Yt(qd,!0);return{elements:zt,primitive:function Ft(){if(bu in Lt){var ut=Lt[bu];return je.commandParameter(ut,ws,"invalid primitve",et.commandStr),ho(function(rn,An){return ws[ut]})}if(bu in en){var Qt=en[bu];return Zo(Qt,function(rn,An){var Nn=rn.constants.primTypes,bn=rn.invoke(An,Qt);return je.optional(function(){rn.assert(An,bn+" in "+Nn,"invalid primitive, must be one of "+Object.keys(ws))}),An.def(Nn,"[",bn,"]")})}return zt?lc(zt)?ho(zt.value?function(rn,An){return An.def(rn.ELEMENTS,".primType")}:function(){return qg}):new Bo(zt.thisDep,zt.contextDep,zt.propDep,function(rn,An){var Nn=rn.ELEMENTS;return An.def(Nn,"?",Nn,".primType:",qg)}):null}(),count:function Pt(){if(Pc in Lt){var ut=0|Lt[Pc];return je.command("number"==typeof ut&&ut>=0,"invalid vertex count",et.commandStr),ho(function(){return ut})}if(Pc in en){var Qt=en[Pc];return Zo(Qt,function(Nn,bn){var Qn=Nn.invoke(bn,Qt);return je.optional(function(){Nn.assert(bn,"typeof "+Qn+'==="number"&&'+Qn+">=0&&"+Qn+"===("+Qn+"|0)","invalid vertex count")}),Qn})}if(zt){if(lc(zt)){if(zt)return mt?new Bo(mt.thisDep,mt.contextDep,mt.propDep,function(Nn,bn){var Qn=bn.def(Nn.ELEMENTS,".vertCount-",Nn.OFFSET);return je.optional(function(){Nn.assert(bn,Qn+">=0","invalid vertex offset/element buffer too small")}),Qn}):ho(function(Nn,bn){return bn.def(Nn.ELEMENTS,".vertCount")});var rn=ho(function(){return-1});return je.optional(function(){rn.MISSING=!0}),rn}var An=new Bo(zt.thisDep||mt.thisDep,zt.contextDep||mt.contextDep,zt.propDep||mt.propDep,function(Nn,bn){var Qn=Nn.ELEMENTS;return Nn.OFFSET?bn.def(Qn,"?",Qn,".vertCount-",Nn.OFFSET,":-1"):bn.def(Qn,"?",Qn,".vertCount:-1")});return je.optional(function(){An.DYNAMIC=!0}),An}return null}(),instances:Yt(Zd,!1),offset:mt}}(yt,tn),Qt=function Hr(yt,et){var Lt=yt.static,en=yt.dynamic,tn={};return Ge.forEach(function(zt){var Ft=Mt(zt);function Yt(mt,Pt){if(zt in Lt){var ut=mt(Lt[zt]);tn[Ft]=ho(function(){return ut})}else if(zt in en){var Qt=en[zt];tn[Ft]=Zo(Qt,function(rn,An){return Pt(rn,An,rn.invoke(An,Qt))})}}switch(zt){case Rt:case ed:case mu:case td:case $g:case Jh:case Zh:case Kd:case xv:case Yf:return Yt(function(mt){return je.commandType(mt,"boolean",zt,et.commandStr),mt},function(mt,Pt,ut){return je.optional(function(){mt.assert(Pt,"typeof "+ut+'==="boolean"',"invalid flag "+zt,mt.commandStr)}),ut});case yv:return Yt(function(mt){return je.commandParameter(mt,As,"invalid "+zt,et.commandStr),As[mt]},function(mt,Pt,ut){var Qt=mt.constants.compareFuncs;return je.optional(function(){mt.assert(Pt,ut+" in "+Qt,"invalid "+zt+", must be one of "+Object.keys(As))}),Pt.def(Qt,"[",ut,"]")});case _v:return Yt(function(mt){return je.command(Sa(mt)&&2===mt.length&&"number"==typeof mt[0]&&"number"==typeof mt[1]&&mt[0]<=mt[1],"depth range is 2d array",et.commandStr),mt},function(mt,Pt,ut){return je.optional(function(){mt.assert(Pt,mt.shared.isArrayLike+"("+ut+")&&"+ut+".length===2&&typeof "+ut+'[0]==="number"&&typeof '+ut+'[1]==="number"&&'+ut+"[0]<="+ut+"[1]","depth range must be a 2d array")}),[Pt.def("+",ut,"[0]"),Pt.def("+",ut,"[1]")]});case Xd:return Yt(function(mt){je.commandType(mt,"object","blend.func",et.commandStr);var Pt="srcRGB"in mt?mt.srcRGB:mt.src,ut="srcAlpha"in mt?mt.srcAlpha:mt.src,Qt="dstRGB"in mt?mt.dstRGB:mt.dst,rn="dstAlpha"in mt?mt.dstAlpha:mt.dst;return je.commandParameter(Pt,Eo,Ft+".srcRGB",et.commandStr),je.commandParameter(ut,Eo,Ft+".srcAlpha",et.commandStr),je.commandParameter(Qt,Eo,Ft+".dstRGB",et.commandStr),je.commandParameter(rn,Eo,Ft+".dstAlpha",et.commandStr),je.command(-1===ef.indexOf(Pt+", "+Qt),"unallowed blending combination (srcRGB, dstRGB) = ("+Pt+", "+Qt+")",et.commandStr),[Eo[Pt],Eo[Qt],Eo[ut],Eo[rn]]},function(mt,Pt,ut){var Qt=mt.constants.blendFuncs;function rn(Er,jr){var oi=Pt.def('"',Er,jr,'" in ',ut,"?",ut,".",Er,jr,":",ut,".",Er);return je.optional(function(){mt.assert(Pt,oi+" in "+Qt,"invalid "+zt+"."+Er+jr+", must be one of "+Object.keys(Eo))}),oi}je.optional(function(){mt.assert(Pt,ut+"&&typeof "+ut+'==="object"',"invalid blend func, must be an object")});var An=rn("src","RGB"),Nn=rn("dst","RGB");je.optional(function(){mt.assert(Pt,mt.constants.invalidBlendCombinations+".indexOf("+An+'+", "+'+Nn+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var bn=Pt.def(Qt,"[",An,"]"),Qn=Pt.def(Qt,"[",rn("src","Alpha"),"]");return[bn,Pt.def(Qt,"[",Nn,"]"),Qn,Pt.def(Qt,"[",rn("dst","Alpha"),"]")]});case mv:return Yt(function(mt){return"string"==typeof mt?(je.commandParameter(mt,le,"invalid "+zt,et.commandStr),[le[mt],le[mt]]):"object"==typeof mt?(je.commandParameter(mt.rgb,le,zt+".rgb",et.commandStr),je.commandParameter(mt.alpha,le,zt+".alpha",et.commandStr),[le[mt.rgb],le[mt.alpha]]):void je.commandRaise("invalid blend.equation",et.commandStr)},function(mt,Pt,ut){var Qt=mt.constants.blendEquations,rn=Pt.def(),An=Pt.def(),Nn=mt.cond("typeof ",ut,'==="string"');return je.optional(function(){function bn(Qn,Or,fi){mt.assert(Qn,fi+" in "+Qt,"invalid "+Or+", must be one of "+Object.keys(le))}bn(Nn.then,zt,ut),mt.assert(Nn.else,ut+"&&typeof "+ut+'==="object"',"invalid "+zt),bn(Nn.else,zt+".rgb",ut+".rgb"),bn(Nn.else,zt+".alpha",ut+".alpha")}),Nn.then(rn,"=",An,"=",Qt,"[",ut,"];"),Nn.else(rn,"=",Qt,"[",ut,".rgb];",An,"=",Qt,"[",ut,".alpha];"),Pt(Nn),[rn,An]});case gv:return Yt(function(mt){return je.command(Sa(mt)&&4===mt.length,"blend.color must be a 4d array",et.commandStr),Se(4,function(Pt){return+mt[Pt]})},function(mt,Pt,ut){return je.optional(function(){mt.assert(Pt,mt.shared.isArrayLike+"("+ut+")&&"+ut+".length===4","blend.color must be a 4d array")}),Se(4,function(Qt){return Pt.def("+",ut,"[",Qt,"]")})});case nd:return Yt(function(mt){return je.commandType(mt,"number",Ft,et.commandStr),0|mt},function(mt,Pt,ut){return je.optional(function(){mt.assert(Pt,"typeof "+ut+'==="number"',"invalid stencil.mask")}),Pt.def(ut,"|0")});case Qh:return Yt(function(mt){je.commandType(mt,"object",Ft,et.commandStr);var Pt=mt.cmp||"keep",ut=mt.ref||0,Qt="mask"in mt?mt.mask:-1;return je.commandParameter(Pt,As,zt+".cmp",et.commandStr),je.commandType(ut,"number",zt+".ref",et.commandStr),je.commandType(Qt,"number",zt+".mask",et.commandStr),[As[Pt],ut,Qt]},function(mt,Pt,ut){var Qt=mt.constants.compareFuncs;return je.optional(function(){function bn(){mt.assert(Pt,Array.prototype.join.call(arguments,""),"invalid stencil.func")}bn(ut+"&&typeof ",ut,'==="object"'),bn('!("cmp" in ',ut,")||(",ut,".cmp in ",Qt,")")}),[Pt.def('"cmp" in ',ut,"?",Qt,"[",ut,".cmp]",":",Fc),Pt.def(ut,".ref|0"),Pt.def('"mask" in ',ut,"?",ut,".mask|0:-1")]});case _o:case _u:return Yt(function(mt){je.commandType(mt,"object",Ft,et.commandStr);var Pt=mt.fail||"keep",ut=mt.zfail||"keep",Qt=mt.zpass||"keep";return je.commandParameter(Pt,sc,zt+".fail",et.commandStr),je.commandParameter(ut,sc,zt+".zfail",et.commandStr),je.commandParameter(Qt,sc,zt+".zpass",et.commandStr),[zt===_u?ld:Jd,sc[Pt],sc[ut],sc[Qt]]},function(mt,Pt,ut){var Qt=mt.constants.stencilOps;function rn(An){return je.optional(function(){mt.assert(Pt,'!("'+An+'" in '+ut+")||("+ut+"."+An+" in "+Qt+")","invalid "+zt+"."+An+", must be one of "+Object.keys(sc))}),Pt.def('"',An,'" in ',ut,"?",Qt,"[",ut,".",An,"]:",Fc)}return je.optional(function(){mt.assert(Pt,ut+"&&typeof "+ut+'==="object"',"invalid "+zt)}),[zt===_u?ld:Jd,rn("fail"),rn("zfail"),rn("zpass")]});case $f:return Yt(function(mt){je.commandType(mt,"object",Ft,et.commandStr);var Pt=0|mt.factor,ut=0|mt.units;return je.commandType(Pt,"number",Ft+".factor",et.commandStr),je.commandType(ut,"number",Ft+".units",et.commandStr),[Pt,ut]},function(mt,Pt,ut){return je.optional(function(){mt.assert(Pt,ut+"&&typeof "+ut+'==="object"',"invalid "+zt)}),[Pt.def(ut,".factor|0"),Pt.def(ut,".units|0")]});case qh:return Yt(function(mt){var Pt=0;return"front"===mt?Pt=Jd:"back"===mt&&(Pt=ld),je.command(!!Pt,Ft,et.commandStr),Pt},function(mt,Pt,ut){return je.optional(function(){mt.assert(Pt,ut+'==="front"||'+ut+'==="back"',"invalid cull.face")}),Pt.def(ut,'==="front"?',Jd,":",ld)});case Oc:return Yt(function(mt){return je.command("number"==typeof mt&&mt>=un.lineWidthDims[0]&&mt<=un.lineWidthDims[1],"invalid line width, must be a positive number between "+un.lineWidthDims[0]+" and "+un.lineWidthDims[1],et.commandStr),mt},function(mt,Pt,ut){return je.optional(function(){mt.assert(Pt,"typeof "+ut+'==="number"&&'+ut+">="+un.lineWidthDims[0]+"&&"+ut+"<="+un.lineWidthDims[1],"invalid line width")}),ut});case yu:return Yt(function(mt){return je.commandParameter(mt,up,Ft,et.commandStr),up[mt]},function(mt,Pt,ut){return je.optional(function(){mt.assert(Pt,ut+'==="cw"||'+ut+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Pt.def(ut+'==="cw"?'+Ts+":"+cd)});case bv:return Yt(function(mt){return je.command(Sa(mt)&&4===mt.length,"color.mask must be length 4 array",et.commandStr),mt.map(function(Pt){return!!Pt})},function(mt,Pt,ut){return je.optional(function(){mt.assert(Pt,mt.shared.isArrayLike+"("+ut+")&&"+ut+".length===4","invalid color.mask")}),Se(4,function(Qt){return"!!"+ut+"["+Qt+"]"})});case kc:return Yt(function(mt){je.command("object"==typeof mt&&mt,Ft,et.commandStr);var Pt="value"in mt?mt.value:1,ut=!!mt.invert;return je.command("number"==typeof Pt&&Pt>=0&&Pt<=1,"sample.coverage.value must be a number between 0 and 1",et.commandStr),[Pt,ut]},function(mt,Pt,ut){return je.optional(function(){mt.assert(Pt,ut+"&&typeof "+ut+'==="object"',"invalid sample.coverage")}),[Pt.def('"value" in ',ut,"?+",ut,".value:1"),Pt.def("!!",ut,".invert")]})}}),tn}(yt,tn),rn=function Br(yt,et,Lt){var en=yt.static,tn=yt.dynamic;function zt(ut){if(ut in en){var Qt=ot.id(en[ut]);je.optional(function(){Wn.shader(Cu[ut],Qt,je.guessCommand())});var rn=ho(function(){return Qt});return rn.id=Qt,rn}if(ut in tn){var An=tn[ut];return Zo(An,function(Nn,bn){var Qn=Nn.invoke(bn,An),Or=bn.def(Nn.shared.strings,".id(",Qn,")");return je.optional(function(){bn(Nn.shared.shader,".shader(",Cu[ut],",",Or,",",Nn.command,");")}),Or})}return null}var Pt,Ft=zt(Nc),Yt=zt(nc),mt=null;return lc(Ft)&&lc(Yt)?(mt=Wn.program(Yt.id,Ft.id,null,Lt),Pt=ho(function(ut,Qt){return ut.link(mt)})):Pt=new Bo(Ft&&Ft.thisDep||Yt&&Yt.thisDep,Ft&&Ft.contextDep||Yt&&Yt.contextDep,Ft&&Ft.propDep||Yt&&Yt.propDep,function(ut,Qt){var An,rn=ut.shared.shader;An=Ft?Ft.append(ut,Qt):Qt.def(rn,".",Nc);var bn=rn+".program("+(Yt?Yt.append(ut,Qt):Qt.def(rn,".",nc))+","+An;return je.optional(function(){bn+=","+ut.command}),Qt.def(bn+")")}),{frag:Ft,vert:Yt,progVar:Pt,program:mt}}(yt,0,Yt);function An(Er){var jr=Pt[Er];jr&&(Qt[Er]=jr)}An(kl),An(Mt(Ds));var Nn=Object.keys(Qt).length>0,bn={framebuffer:mt,draw:ut,shader:rn,state:Qt,dirty:Nn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(bn.profile=function lr(yt){var en,et=yt.static,Lt=yt.dynamic;if(ec in et){var tn=!!et[ec];(en=ho(function(Ft,Yt){return tn})).enable=tn}else if(ec in Lt){var zt=Lt[ec];en=Zo(zt,function(Ft,Yt){return Ft.invoke(Yt,zt)})}return en}(yt),bn.uniforms=function Pa(yt,et){var Lt=yt.static,en=yt.dynamic,tn={};return Object.keys(Lt).forEach(function(zt){var Yt,Ft=Lt[zt];if("number"==typeof Ft||"boolean"==typeof Ft)Yt=ho(function(){return Ft});else if("function"==typeof Ft){var mt=Ft._reglType;"texture2d"===mt||"textureCube"===mt?Yt=ho(function(Pt){return Pt.link(Ft)}):"framebuffer"===mt||"framebufferCube"===mt?(je.command(Ft.color.length>0,'missing color attachment for framebuffer sent to uniform "'+zt+'"',et.commandStr),Yt=ho(function(Pt){return Pt.link(Ft.color[0])})):je.commandRaise('invalid data for uniform "'+zt+'"',et.commandStr)}else Sa(Ft)?Yt=ho(function(Pt){return Pt.global.def("[",Se(Ft.length,function(Qt){return je.command("number"==typeof Ft[Qt]||"boolean"==typeof Ft[Qt],"invalid uniform "+zt,Pt.commandStr),Ft[Qt]}),"]")}):je.commandRaise('invalid or missing data for uniform "'+zt+'"',et.commandStr);Yt.value=Ft,tn[zt]=Yt}),Object.keys(en).forEach(function(zt){var Ft=en[zt];tn[zt]=Zo(Ft,function(Yt,mt){return Yt.invoke(mt,Ft)})}),tn}(Lt,tn),bn.drawVAO=bn.scopeVAO=function eo(yt,et){var Lt=yt.static,en=yt.dynamic;if(rd in Lt){var tn=Lt[rd];return null!==tn&&null===Zn.getVAO(tn)&&(tn=Zn.createVAO(tn)),ho(function(Ft){return Ft.link(Zn.getVAO(tn))})}if(rd in en){var zt=en[rd];return Zo(zt,function(Ft,Yt){var mt=Ft.invoke(Yt,zt);return Yt.def(Ft.shared.vao+".getVAO("+mt+")")})}return null}(yt),!bn.drawVAO&&rn.program&&!Yt&&Tt.angle_instanced_arrays){var Qn=!0,Or=rn.program.attributes.map(function(Er){var jr=et.static[Er];return Qn=Qn&&!!jr,jr});if(Qn&&Or.length>0){var fi=Zn.getVAO(Zn.createVAO(Or));bn.drawVAO=new Bo(null,null,null,function(Er,jr){return Er.link(fi)}),bn.useVAO=!0}}return Yt?bn.useVAO=!0:bn.attributes=function ni(yt,et){var Lt=yt.static,en=yt.dynamic,tn={};return Object.keys(Lt).forEach(function(zt){var Ft=Lt[zt],Yt=ot.id(zt),mt=new ee;if(tf(Ft))mt.state=Ku,mt.buffer=Cn.getBuffer(Cn.create(Ft,xu,!1,!0)),mt.type=0;else{var Pt=Cn.getBuffer(Ft);if(Pt)mt.state=Ku,mt.buffer=Pt,mt.type=0;else if(je.command("object"==typeof Ft&&Ft,"invalid data for attribute "+zt,et.commandStr),"constant"in Ft){var ut=Ft.constant;mt.buffer="null",mt.state=$h,"number"==typeof ut?mt.x=ut:(je.command(Sa(ut)&&ut.length>0&&ut.length<=4,"invalid constant for attribute "+zt,et.commandStr),Xu.forEach(function(Or,fi){fi<ut.length&&(mt[Or]=ut[fi])}))}else{Pt=tf(Ft.buffer)?Cn.getBuffer(Cn.create(Ft.buffer,xu,!1,!0)):Cn.getBuffer(Ft.buffer),je.command(!!Pt,'missing buffer for attribute "'+zt+'"',et.commandStr);var Qt=0|Ft.offset;je.command(Qt>=0,'invalid offset for attribute "'+zt+'"',et.commandStr);var rn=0|Ft.stride;je.command(rn>=0&&rn<256,'invalid stride for attribute "'+zt+'", must be integer betweeen [0, 255]',et.commandStr);var An=0|Ft.size;je.command(!("size"in Ft)||An>0&&An<=4,'invalid size for attribute "'+zt+'", must be 1,2,3,4',et.commandStr);var Nn=!!Ft.normalized,bn=0;"type"in Ft&&(je.commandParameter(Ft.type,xs,"invalid type for attribute "+zt,et.commandStr),bn=xs[Ft.type]);var Qn=0|Ft.divisor;"divisor"in Ft&&(je.command(0===Qn||he,'cannot specify divisor for attribute "'+zt+'", instancing not supported',et.commandStr),je.command(Qn>=0,'invalid divisor for attribute "'+zt+'"',et.commandStr)),je.optional(function(){var Or=et.commandStr,fi=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Ft).forEach(function(Er){je.command(fi.indexOf(Er)>=0,'unknown parameter "'+Er+'" for attribute pointer "'+zt+'" (valid parameters are '+fi+")",Or)})}),mt.buffer=Pt,mt.state=Ku,mt.size=An,mt.normalized=Nn,mt.type=bn||Pt.dtype,mt.offset=Qt,mt.stride=rn,mt.divisor=Qn}}tn[zt]=ho(function(Or,fi){var Er=Or.attribCache;if(Yt in Er)return Er[Yt];var jr={isStream:!1};return Object.keys(mt).forEach(function(oi){jr[oi]=mt[oi]}),mt.buffer&&(jr.buffer=Or.link(mt.buffer),jr.type=jr.type||jr.buffer+".dtype"),Er[Yt]=jr,jr})}),Object.keys(en).forEach(function(zt){var Ft=en[zt];tn[zt]=Zo(Ft,function Yt(mt,Pt){var ut=mt.invoke(Pt,Ft),Qt=mt.shared,rn=mt.constants,An=Qt.isBufferArgs,Nn=Qt.buffer;je.optional(function(){mt.assert(Pt,ut+"&&(typeof "+ut+'==="object"||typeof '+ut+'==="function")&&('+An+"("+ut+")||"+Nn+".getBuffer("+ut+")||"+Nn+".getBuffer("+ut+".buffer)||"+An+"("+ut+'.buffer)||("constant" in '+ut+"&&(typeof "+ut+'.constant==="number"||'+Qt.isArrayLike+"("+ut+".constant))))",'invalid dynamic attribute "'+zt+'"')});var bn={isStream:Pt.def(!1)},Qn=new ee;Qn.state=Ku,Object.keys(Qn).forEach(function(jr){bn[jr]=Pt.def(""+Qn[jr])});var Or=bn.buffer,fi=bn.type;function Er(jr){Pt(bn[jr],"=",ut,".",jr,"|0;")}return Pt("if(",An,"(",ut,")){",bn.isStream,"=true;",Or,"=",Nn,".createStream(",xu,",",ut,");",fi,"=",Or,".dtype;","}else{",Or,"=",Nn,".getBuffer(",ut,");","if(",Or,"){",fi,"=",Or,".dtype;",'}else if("constant" in ',ut,"){",bn.state,"=",$h,";","if(typeof "+ut+'.constant === "number"){',bn[Xu[0]],"=",ut,".constant;",Xu.slice(1).map(function(jr){return bn[jr]}).join("="),"=0;","}else{",Xu.map(function(jr,oi){return bn[jr]+"="+ut+".constant.length>"+oi+"?"+ut+".constant["+oi+"]:0;"}).join(""),"}}else{","if(",An,"(",ut,".buffer)){",Or,"=",Nn,".createStream(",xu,",",ut,".buffer);","}else{",Or,"=",Nn,".getBuffer(",ut,".buffer);","}",fi,'="type" in ',ut,"?",rn.glTypes,"[",ut,".type]:",Or,".dtype;",bn.normalized,"=!!",ut,".normalized;"),Er("size"),Er("offset"),Er("stride"),Er("divisor"),Pt("}}"),Pt.exit("if(",bn.isStream,"){",Nn,".destroyStream(",Or,");","}"),bn})}),tn}(et,tn),bn.context=function ba(yt){var et=yt.static,Lt=yt.dynamic,en={};return Object.keys(et).forEach(function(tn){var zt=et[tn];en[tn]=ho(function(Ft,Yt){return"number"==typeof zt||"boolean"==typeof zt?""+zt:Ft.link(zt)})}),Object.keys(Lt).forEach(function(tn){var zt=Lt[tn];en[tn]=Zo(zt,function(Ft,Yt){return Ft.invoke(Yt,zt)})}),en}(en),bn}function $a(yt,et,Lt){var tn=yt.shared.context,zt=yt.scope();Object.keys(Lt).forEach(function(Ft){et.save(tn,"."+Ft);var mt=Lt[Ft].append(yt,et);Array.isArray(mt)?zt(tn,".",Ft,"=[",mt.join(),"];"):zt(tn,".",Ft,"=",mt,";")}),et(zt)}function Ga(yt,et,Lt,en){var Yt,tn=yt.shared,zt=tn.gl,Ft=tn.framebuffer;me&&(Yt=et.def(tn.extensions,".webgl_draw_buffers"));var Qt,mt=yt.constants,Pt=mt.drawBuffer,ut=mt.backBuffer;Qt=Lt?Lt.append(yt,et):et.def(Ft,".next"),en||et("if(",Qt,"!==",Ft,".cur){"),et("if(",Qt,"){",zt,".bindFramebuffer(",Av,",",Qt,".framebuffer);"),me&&et(Yt,".drawBuffersWEBGL(",Pt,"[",Qt,".colorAttachments.length]);"),et("}else{",zt,".bindFramebuffer(",Av,",null);"),me&&et(Yt,".drawBuffersWEBGL(",ut,");"),et("}",Ft,".cur=",Qt,";"),en||et("}")}function po(yt,et,Lt){var en=yt.shared,tn=en.gl,zt=yt.current,Ft=yt.next,Yt=en.current,mt=en.next,Pt=yt.cond(Yt,".dirty");Ge.forEach(function(ut){var rn,An,Qt=Mt(ut);if(!(Qt in Lt.state))if(Qt in Ft){rn=Ft[Qt],An=zt[Qt];var Nn=Se(be[Qt].length,function(Qn){return Pt.def(rn,"[",Qn,"]")});Pt(yt.cond(Nn.map(function(Qn,Or){return Qn+"!=="+An+"["+Or+"]"}).join("||")).then(tn,".",Ze[Qt],"(",Nn,");",Nn.map(function(Qn,Or){return An+"["+Or+"]="+Qn}).join(";"),";"))}else{rn=Pt.def(mt,".",Qt);var bn=yt.cond(rn,"!==",Yt,".",Qt);Pt(bn),Qt in at?bn(yt.cond(rn).then(tn,".enable(",at[Qt],");").else(tn,".disable(",at[Qt],");"),Yt,".",Qt,"=",rn,";"):bn(tn,".",Ze[Qt],"(",rn,");",Yt,".",Qt,"=",rn,";")}}),0===Object.keys(Lt.state).length&&Pt(Yt,".dirty=false;"),et(Pt)}function Qo(yt,et,Lt,en){var tn=yt.shared,zt=yt.current,Ft=tn.current,Yt=tn.gl;dd(Object.keys(Lt)).forEach(function(mt){var Pt=Lt[mt];if(!en||en(Pt)){var ut=Pt.append(yt,et);if(at[mt]){var Qt=at[mt];lc(Pt)?et(Yt,ut?".enable(":".disable(",Qt,");"):et(yt.cond(ut).then(Yt,".enable(",Qt,");").else(Yt,".disable(",Qt,");")),et(Ft,".",mt,"=",ut,";")}else if(Sa(ut)){var rn=zt[mt];et(Yt,".",Ze[mt],"(",ut,");",ut.map(function(An,Nn){return rn+"["+Nn+"]="+An}).join(";"),";")}else et(Yt,".",Ze[mt],"(",ut,");",Ft,".",mt,"=",ut,";")}})}function Xa(yt,et){he&&(yt.instancing=et.def(yt.shared.extensions,".angle_instanced_arrays"))}function vi(yt,et,Lt,en,tn){var Qt,rn,Qn,zt=yt.shared,Ft=yt.stats,Yt=zt.current,mt=zt.timer,Pt=Lt.profile;function ut(){return typeof performance>"u"?"Date.now()":"performance.now()"}function An(Er){Er(Qt=et.def(),"=",ut(),";"),"string"==typeof tn?Er(Ft,".count+=",tn,";"):Er(Ft,".count++;"),M&&(en?Er(rn=et.def(),"=",mt,".getNumPendingQueries();"):Er(mt,".beginQuery(",Ft,");"))}function Nn(Er){Er(Ft,".cpuTime+=",ut(),"-",Qt,";"),M&&(en?Er(mt,".pushScopeStats(",rn,",",mt,".getNumPendingQueries(),",Ft,");"):Er(mt,".endQuery();"))}function bn(Er){var jr=et.def(Yt,".profile");et(Yt,".profile=",Er,";"),et.exit(Yt,".profile=",jr,";")}if(Pt){if(lc(Pt))return void(Pt.enable?(An(et),Nn(et.exit),bn("true")):bn("false"));bn(Qn=Pt.append(yt,et))}else Qn=et.def(Yt,".profile");var Or=yt.block();An(Or),et("if(",Qn,"){",Or,"}");var fi=yt.block();Nn(fi),et.exit("if(",Qn,"){",fi,"}")}function Jo(yt,et,Lt,en,tn){var zt=yt.shared;en.forEach(function(mt){var Qt,Pt=mt.name,ut=Lt.attributes[Pt];if(ut){if(!tn(ut))return;Qt=ut.append(yt,et)}else{if(!tn(cc))return;var rn=yt.scopeAttrib(Pt);je.optional(function(){yt.assert(et,rn+".state","missing attribute "+Pt)}),Qt={},Object.keys(new ee).forEach(function(An){Qt[An]=et.def(rn,".",An)})}!function Yt(mt,Pt,ut){var Qt=zt.gl,rn=et.def(mt,".location"),An=et.def(zt.attributes,"[",rn,"]"),Nn=ut.state,bn=ut.buffer,Qn=[ut.x,ut.y,ut.z,ut.w],Or=["buffer","normalized","offset","stride"];function fi(){et("if(!",An,".buffer){",Qt,".enableVertexAttribArray(",rn,");}");var oi,jr=ut.type;if(oi=ut.size?et.def(ut.size,"||",Pt):Pt,et("if(",An,".type!==",jr,"||",An,".size!==",oi,"||",Or.map(function(Ka){return An+"."+Ka+"!=="+ut[Ka]}).join("||"),"){",Qt,".bindBuffer(",xu,",",bn,".buffer);",Qt,".vertexAttribPointer(",[rn,oi,jr,ut.normalized,ut.stride,ut.offset],");",An,".type=",jr,";",An,".size=",oi,";",Or.map(function(Ka){return An+"."+Ka+"="+ut[Ka]+";"}).join(""),"}"),he){var Zi=ut.divisor;et("if(",An,".divisor!==",Zi,"){",yt.instancing,".vertexAttribDivisorANGLE(",[rn,Zi],");",An,".divisor=",Zi,";}")}}function Er(){et("if(",An,".buffer){",Qt,".disableVertexAttribArray(",rn,");",An,".buffer=null;","}if(",Xu.map(function(jr,oi){return An+"."+jr+"!=="+Qn[oi]}).join("||"),"){",Qt,".vertexAttrib4f(",rn,",",Qn,");",Xu.map(function(jr,oi){return An+"."+jr+"="+Qn[oi]+";"}).join(""),"}")}Nn===Ku?fi():Nn===$h?Er():(et("if(",Nn,"===",Ku,"){"),fi(),et("}else{"),Er(),et("}"))}(yt.link(mt),function Ft(mt){switch(mt){case ip:case sp:case Lc:return 2;case ap:case lp:case Qf:return 3;case op:case so:case gs:return 4;default:return 1}}(mt.info.type),Qt)})}function oa(yt,et,Lt,en,tn){for(var Yt,zt=yt.shared,Ft=zt.gl,mt=0;mt<en.length;++mt){var bn,Pt=en[mt],ut=Pt.name,Qt=Pt.info.type,rn=Lt.uniforms[ut],Nn=yt.link(Pt)+".location";if(rn){if(!tn(rn))continue;if(lc(rn)){var Qn=rn.value;if(je.command(null!==Qn&&typeof Qn<"u",'missing uniform "'+ut+'"',yt.commandStr),Qt===oc||Qt===sd){je.command("function"==typeof Qn&&(Qt===oc&&("texture2d"===Qn._reglType||"framebuffer"===Qn._reglType)||Qt===sd&&("textureCube"===Qn._reglType||"framebufferCube"===Qn._reglType)),"invalid texture for uniform "+ut,yt.commandStr);var Or=yt.link(Qn._texture||Qn.color[0]._texture);et(Ft,".uniform1i(",Nn,",",Or+".bind());"),et.exit(Or,".unbind();")}else if(Qt===yl||Qt===od||Qt===ac){je.optional(function(){je.command(Sa(Qn),"invalid matrix for uniform "+ut,yt.commandStr),je.command(Qt===yl&&4===Qn.length||Qt===od&&9===Qn.length||Qt===ac&&16===Qn.length,"invalid length for matrix uniform "+ut,yt.commandStr)});var fi=yt.global.def("new Float32Array(["+Array.prototype.slice.call(Qn)+"])"),Er=2;Qt===od?Er=3:Qt===ac&&(Er=4),et(Ft,".uniformMatrix",Er,"fv(",Nn,",false,",fi,");")}else{switch(Qt){case Zf:je.commandType(Qn,"number","uniform "+ut,yt.commandStr),Yt="1f";break;case ip:je.command(Sa(Qn)&&2===Qn.length,"uniform "+ut,yt.commandStr),Yt="2f";break;case ap:je.command(Sa(Qn)&&3===Qn.length,"uniform "+ut,yt.commandStr),Yt="3f";break;case op:je.command(Sa(Qn)&&4===Qn.length,"uniform "+ut,yt.commandStr),Yt="4f";break;case Qd:je.commandType(Qn,"boolean","uniform "+ut,yt.commandStr),Yt="1i";break;case Mu:je.commandType(Qn,"number","uniform "+ut,yt.commandStr),Yt="1i";break;case Lc:case sp:je.command(Sa(Qn)&&2===Qn.length,"uniform "+ut,yt.commandStr),Yt="2i";break;case Qf:case lp:je.command(Sa(Qn)&&3===Qn.length,"uniform "+ut,yt.commandStr),Yt="3i";break;case gs:case so:je.command(Sa(Qn)&&4===Qn.length,"uniform "+ut,yt.commandStr),Yt="4i"}et(Ft,".uniform",Yt,"(",Nn,",",Sa(Qn)?Array.prototype.slice.call(Qn):Qn,");")}continue}bn=rn.append(yt,et)}else{if(!tn(cc))continue;bn=et.def(zt.uniforms,"[",ot.id(ut),"]")}Qt===oc?(je(!Array.isArray(bn),"must specify a scalar prop for textures"),et("if(",bn,"&&",bn,'._reglType==="framebuffer"){',bn,"=",bn,".color[0];","}")):Qt===sd&&(je(!Array.isArray(bn),"must specify a scalar prop for cube maps"),et("if(",bn,"&&",bn,'._reglType==="framebufferCube"){',bn,"=",bn,".color[0];","}")),je.optional(function(){function Is(Us,dy){yt.assert(et,Us,'bad data or missing for uniform "'+ut+'".  '+dy)}function hp(Us){je(!Array.isArray(bn),"must not specify an array type for uniform"),Is("typeof "+bn+'==="'+Us+'"',"invalid type, expected "+Us)}function rl(Us,dy){Array.isArray(bn)?je(bn.length===Us,"must have length "+Us):Is(zt.isArrayLike+"("+bn+")&&"+bn+".length==="+Us,"invalid vector, should have length "+Us)}function Nv(Us){je(!Array.isArray(bn),"must not specify a value type"),Is("typeof "+bn+'==="function"&&'+bn+'._reglType==="texture'+(Us===wu?"2d":"Cube")+'"',"invalid texture type")}switch(Qt){case Mu:hp("number");break;case sp:rl(2);break;case lp:rl(3);break;case so:rl(4);break;case Zf:hp("number");break;case ip:rl(2);break;case ap:rl(3);break;case op:rl(4);break;case Qd:hp("boolean");break;case Lc:rl(2);break;case Qf:rl(3);break;case gs:case yl:rl(4);break;case od:rl(9);break;case ac:rl(16);break;case oc:Nv(wu);break;case sd:Nv(Eu)}});var jr=1;switch(Qt){case oc:case sd:var oi=et.def(bn,"._texture");et(Ft,".uniform1i(",Nn,",",oi,".bind());"),et.exit(oi,".unbind();");continue;case Mu:case Qd:Yt="1i";break;case sp:case Lc:Yt="2i",jr=2;break;case lp:case Qf:Yt="3i",jr=3;break;case so:case gs:Yt="4i",jr=4;break;case Zf:Yt="1f";break;case ip:Yt="2f",jr=2;break;case ap:Yt="3f",jr=3;break;case op:Yt="4f",jr=4;break;case yl:Yt="Matrix2fv";break;case od:Yt="Matrix3fv";break;case ac:Yt="Matrix4fv"}if(et(Ft,".uniform",Yt,"(",Nn,","),"M"===Yt.charAt(0)){var Zi=Math.pow(Qt-yl+2,2),Ka=yt.global.def("new Float32Array(",Zi,")");Array.isArray(bn)?et("false,(",Se(Zi,function(Is){return Ka+"["+Is+"]="+bn[Is]}),",",Ka,")"):et("false,(Array.isArray(",bn,")||",bn," instanceof Float32Array)?",bn,":(",Se(Zi,function(Is){return Ka+"["+Is+"]="+bn+"["+Is+"]"}),",",Ka,")")}else jr>1?et(Se(jr,function(Is){return Array.isArray(bn)?bn[Is]:bn+"["+Is+"]"})):(je(!Array.isArray(bn),"uniform value must not be an array"),et(bn));et(");")}}function zr(yt,et,Lt,en){var tn=yt.shared,zt=tn.gl,Ft=tn.draw,Yt=en.draw;var ut=function mt(){var Zi,oi=Yt.elements,Ka=et;return oi?((oi.contextDep&&en.contextDynamic||oi.propDep)&&(Ka=Lt),Zi=oi.append(yt,Ka)):Zi=Ka.def(Ft,".",rc),Zi&&Ka("if("+Zi+")"+zt+".bindBuffer("+rp+","+Zi+".buffer.buffer);"),Zi}();function Qt(oi){var Zi=Yt[oi];return Zi?Zi.append(yt,Zi.contextDep&&en.contextDynamic||Zi.propDep?Lt:et):et.def(Ft,".",oi)}var bn,Qn,rn=Qt(bu),An=Qt(qd),Nn=function Pt(){var Zi,oi=Yt.count,Ka=et;return oi?((oi.contextDep&&en.contextDynamic||oi.propDep)&&(Ka=Lt),Zi=oi.append(yt,Ka),je.optional(function(){oi.MISSING&&yt.assert(et,"false","missing vertex count"),oi.DYNAMIC&&yt.assert(Ka,Zi+">=0","missing vertex count")})):(Zi=Ka.def(Ft,".",Pc),je.optional(function(){yt.assert(Ka,Zi+">=0","missing vertex count")})),Zi}();if("number"==typeof Nn){if(0===Nn)return}else Lt("if(",Nn,"){"),Lt.exit("}");he&&(bn=Qt(Zd),Qn=yt.instancing);var Or=ut+".type",fi=Yt.elements&&lc(Yt.elements);function Er(){function oi(){Lt(Qn,".drawElementsInstancedANGLE(",[rn,Nn,Or,An+"<<(("+Or+"-"+Yh+")>>1)",bn],");")}function Zi(){Lt(Qn,".drawArraysInstancedANGLE(",[rn,An,Nn,bn],");")}ut?fi?oi():(Lt("if(",ut,"){"),oi(),Lt("}else{"),Zi(),Lt("}")):Zi()}function jr(){function oi(){Lt(zt+".drawElements("+[rn,Nn,Or,An+"<<(("+Or+"-"+Yh+")>>1)"]+");")}function Zi(){Lt(zt+".drawArrays("+[rn,An,Nn]+");")}ut?fi?oi():(Lt("if(",ut,"){"),oi(),Lt("}else{"),Zi(),Lt("}")):Zi()}he&&("number"!=typeof bn||bn>=0)?"string"==typeof bn?(Lt("if(",bn,">0){"),Er(),Lt("}else if(",bn,"<0){"),jr(),Lt("}")):Er():jr()}function Ci(yt,et,Lt,en,tn){var zt=Un(),Ft=zt.proc("body",tn);return je.optional(function(){zt.commandStr=et.commandStr,zt.command=zt.link(et.commandStr)}),he&&(zt.instancing=Ft.def(zt.shared.extensions,".angle_instanced_arrays")),yt(zt,Ft,Lt,en),zt.compile().body}function ki(yt,et,Lt,en){Xa(yt,et),Lt.useVAO?Lt.drawVAO?et(yt.shared.vao,".setVAO(",Lt.drawVAO.append(yt,et),");"):et(yt.shared.vao,".setVAO(",yt.shared.vao,".targetVAO);"):(et(yt.shared.vao,".setVAO(null);"),Jo(yt,et,Lt,en.attributes,function(){return!0})),oa(yt,et,Lt,en.uniforms,function(){return!0}),zr(yt,et,et,Lt)}function uc(yt,et,Lt,en){function tn(){return!0}yt.batchId="a1",Xa(yt,et),Jo(yt,et,Lt,en.attributes,tn),oa(yt,et,Lt,en.uniforms,tn),zr(yt,et,et,Lt)}function af(yt,et,Lt,en){Xa(yt,et);var tn=Lt.contextDep,zt=et.def(),mt=et.def();yt.shared.props=mt,yt.batchId=zt;var Pt=yt.scope(),ut=yt.scope();function Qt(Or){return Or.contextDep&&tn||Or.propDep}function rn(Or){return!Qt(Or)}if(et(Pt.entry,"for(",zt,"=0;",zt,"<","a1",";++",zt,"){",mt,"=","a0","[",zt,"];",ut,"}",Pt.exit),Lt.needsContext&&$a(yt,ut,Lt.context),Lt.needsFramebuffer&&Ga(yt,ut,Lt.framebuffer),Qo(yt,ut,Lt.state,Qt),Lt.profile&&Qt(Lt.profile)&&vi(yt,ut,Lt,!1,!0),en)Lt.useVAO?Lt.drawVAO?Qt(Lt.drawVAO)?ut(yt.shared.vao,".setVAO(",Lt.drawVAO.append(yt,ut),");"):Pt(yt.shared.vao,".setVAO(",Lt.drawVAO.append(yt,Pt),");"):Pt(yt.shared.vao,".setVAO(",yt.shared.vao,".targetVAO);"):(Pt(yt.shared.vao,".setVAO(null);"),Jo(yt,Pt,Lt,en.attributes,rn),Jo(yt,ut,Lt,en.attributes,Qt)),oa(yt,Pt,Lt,en.uniforms,rn),oa(yt,ut,Lt,en.uniforms,Qt),zr(yt,Pt,ut,Lt);else{var An=yt.global.def("{}"),Nn=Lt.shader.progVar.append(yt,ut),bn=ut.def(Nn,".id"),Qn=ut.def(An,"[",bn,"]");ut(yt.shared.gl,".useProgram(",Nn,".program);","if(!",Qn,"){",Qn,"=",An,"[",bn,"]=",yt.link(function(Or){return Ci(uc,yt,Lt,Or,2)}),"(",Nn,");}",Qn,".call(this,a0[",zt,"],",zt,");")}}function yr(yt,et,Lt){var en=et.static[Lt];if(en&&function sn(yt){if("object"==typeof yt&&!Sa(yt)){for(var et=Object.keys(yt),Lt=0;Lt<et.length;++Lt)if(Pn.isDynamic(yt[et[Lt]]))return!0;return!1}}(en)){var tn=yt.global,zt=Object.keys(en),Ft=!1,Yt=!1,mt=!1,Pt=yt.global.def("{}");zt.forEach(function(Qt){var rn=en[Qt];if(Pn.isDynamic(rn)){"function"==typeof rn&&(rn=en[Qt]=Pn.unbox(rn));var An=Zo(rn,null);Ft=Ft||An.thisDep,mt=mt||An.propDep,Yt=Yt||An.contextDep}else{switch(tn(Pt,".",Qt,"="),typeof rn){case"number":tn(rn);break;case"string":tn('"',rn,'"');break;case"object":Array.isArray(rn)&&tn("[",rn.join(),"]");break;default:tn(yt.link(rn))}tn(";")}}),et.dynamic[Lt]=new Pn.DynamicVariable(Ju,{thisDep:Ft,contextDep:Yt,propDep:mt,ref:Pt,append:function ut(Qt,rn){zt.forEach(function(An){var Nn=en[An];if(Pn.isDynamic(Nn)){var bn=Qt.invoke(rn,Nn);rn(Pt,".",An,"=",bn,";")}})}}),delete et.static[Lt]}}return{next:Te,current:be,procs:function(){var yt=Un(),et=yt.proc("poll"),Lt=yt.proc("refresh"),en=yt.block();et(en),Lt(en);var mt,tn=yt.shared,zt=tn.gl,Ft=tn.next,Yt=tn.current;en(Yt,".dirty=false;"),Ga(yt,et),Ga(yt,Lt,null,!0),he&&(mt=yt.link(he)),Tt.oes_vertex_array_object&&Lt(yt.link(Tt.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Pt=0;Pt<un.maxAttributes;++Pt){var ut=Lt.def(tn.attributes,"[",Pt,"]"),Qt=yt.cond(ut,".buffer");Qt.then(zt,".enableVertexAttribArray(",Pt,");",zt,".bindBuffer(",xu,",",ut,".buffer.buffer);",zt,".vertexAttribPointer(",Pt,",",ut,".size,",ut,".type,",ut,".normalized,",ut,".stride,",ut,".offset);").else(zt,".disableVertexAttribArray(",Pt,");",zt,".vertexAttrib4f(",Pt,",",ut,".x,",ut,".y,",ut,".z,",ut,".w);",ut,".buffer=null;"),Lt(Qt),he&&Lt(mt,".vertexAttribDivisorANGLE(",Pt,",",ut,".divisor);")}return Lt(yt.shared.vao,".currentVAO=null;",yt.shared.vao,".setVAO(",yt.shared.vao,".targetVAO);"),Object.keys(at).forEach(function(rn){var An=at[rn],Nn=en.def(Ft,".",rn),bn=yt.block();bn("if(",Nn,"){",zt,".enable(",An,")}else{",zt,".disable(",An,")}",Yt,".",rn,"=",Nn,";"),Lt(bn),et("if(",Nn,"!==",Yt,".",rn,"){",bn,"}")}),Object.keys(Ze).forEach(function(rn){var bn,Qn,An=Ze[rn],Nn=be[rn],Or=yt.block();if(Or(zt,".",An,"("),Sa(Nn)){var fi=Nn.length;bn=yt.global.def(Ft,".",rn),Qn=yt.global.def(Yt,".",rn),Or(Se(fi,function(Er){return bn+"["+Er+"]"}),");",Se(fi,function(Er){return Qn+"["+Er+"]="+bn+"["+Er+"];"}).join("")),et("if(",Se(fi,function(Er){return bn+"["+Er+"]!=="+Qn+"["+Er+"]"}).join("||"),"){",Or,"}")}else bn=en.def(Ft,".",rn),Qn=en.def(Yt,".",rn),Or(bn,");",Yt,".",rn,"=",bn,";"),et("if(",bn,"!==",Qn,"){",Or,"}");Lt(Or)}),yt.compile()}(),compile:function Di(yt,et,Lt,en,tn){var zt=Un();zt.stats=zt.link(tn),Object.keys(et.static).forEach(function(Yt){yr(zt,et,Yt)}),Kf.forEach(function(Yt){yr(zt,yt,Yt)});var Ft=Bi(yt,et,Lt,en,zt);return function lo(yt,et){var Lt=yt.proc("draw",1);Xa(yt,Lt),$a(yt,Lt,et.context),Ga(yt,Lt,et.framebuffer),po(yt,Lt,et),Qo(yt,Lt,et.state),vi(yt,Lt,et,!1,!0);var en=et.shader.progVar.append(yt,Lt);if(Lt(yt.shared.gl,".useProgram(",en,".program);"),et.shader.program)ki(yt,Lt,et,et.shader.program);else{Lt(yt.shared.vao,".setVAO(null);");var tn=yt.global.def("{}"),zt=Lt.def(en,".id"),Ft=Lt.def(tn,"[",zt,"]");Lt(yt.cond(Ft).then(Ft,".call(this,a0);").else(Ft,"=",tn,"[",zt,"]=",yt.link(function(Yt){return Ci(ki,yt,et,Yt,1)}),"(",en,");",Ft,".call(this,a0);"))}Object.keys(et.state).length>0&&Lt(yt.shared.current,".dirty=true;")}(zt,Ft),function fn(yt,et){var Lt=yt.proc("scope",3);yt.batchId="a2";var en=yt.shared,tn=en.current;function zt(Ft){var Yt=et.shader[Ft];Yt&&Lt.set(en.shader,"."+Ft,Yt.append(yt,Lt))}$a(yt,Lt,et.context),et.framebuffer&&et.framebuffer.append(yt,Lt),dd(Object.keys(et.state)).forEach(function(Ft){var mt=et.state[Ft].append(yt,Lt);Sa(mt)?mt.forEach(function(Pt,ut){Lt.set(yt.next[Ft],"["+ut+"]",Pt)}):Lt.set(en.next,"."+Ft,mt)}),vi(yt,Lt,et,!0,!0),[rc,qd,Pc,Zd,bu].forEach(function(Ft){var Yt=et.draw[Ft];Yt&&Lt.set(en.draw,"."+Ft,""+Yt.append(yt,Lt))}),Object.keys(et.uniforms).forEach(function(Ft){var Yt=et.uniforms[Ft].append(yt,Lt);Array.isArray(Yt)&&(Yt="["+Yt.join()+"]"),Lt.set(en.uniforms,"["+ot.id(Ft)+"]",Yt)}),Object.keys(et.attributes).forEach(function(Ft){var Yt=et.attributes[Ft].append(yt,Lt),mt=yt.scopeAttrib(Ft);Object.keys(new ee).forEach(function(Pt){Lt.set(mt,"."+Pt,Yt[Pt])})}),et.scopeVAO&&Lt.set(en.vao,".targetVAO",et.scopeVAO.append(yt,Lt)),zt(nc),zt(Nc),Object.keys(et.state).length>0&&(Lt(tn,".dirty=true;"),Lt.exit(tn,".dirty=true;")),Lt("a1(",yt.shared.context,",a0,",yt.batchId,");")}(zt,Ft),function St(yt,et){var Lt=yt.proc("batch",2);yt.batchId="0",Xa(yt,Lt);var en=!1,tn=!0;Object.keys(et.context).forEach(function(An){en=en||et.context[An].propDep}),en||($a(yt,Lt,et.context),tn=!1);var zt=et.framebuffer,Ft=!1;function Yt(An){return An.contextDep&&en||An.propDep}zt?(zt.propDep?en=Ft=!0:zt.contextDep&&en&&(Ft=!0),Ft||Ga(yt,Lt,zt)):Ga(yt,Lt,null),et.state.viewport&&et.state.viewport.propDep&&(en=!0),po(yt,Lt,et),Qo(yt,Lt,et.state,function(An){return!Yt(An)}),(!et.profile||!Yt(et.profile))&&vi(yt,Lt,et,!1,"a1"),et.contextDep=en,et.needsContext=tn,et.needsFramebuffer=Ft;var mt=et.shader.progVar;if(mt.contextDep&&en||mt.propDep)af(yt,Lt,et,null);else{var Pt=mt.append(yt,Lt);if(Lt(yt.shared.gl,".useProgram(",Pt,".program);"),et.shader.program)af(yt,Lt,et,et.shader.program);else{Lt(yt.shared.vao,".setVAO(null);");var ut=yt.global.def("{}"),Qt=Lt.def(Pt,".id"),rn=Lt.def(ut,"[",Qt,"]");Lt(yt.cond(rn).then(rn,".call(this,a0,a1);").else(rn,"=",ut,"[",Qt,"]=",yt.link(function(An){return Ci(af,yt,et,An,2)}),"(",Pt,");",rn,".call(this,a0,a1);"))}}Object.keys(et.state).length>0&&Lt(yt.shared.current,".dirty=true;")}(zt,Ft),j(zt.compile(),{destroy:function(){Ft.shader.program.destroy()}})}}}var ly=34918,Ov=34919,kv=35007,cy=function(_e,ot){if(!ot.ext_disjoint_timer_query)return null;var Tt=[];function Cn(he){Tt.push(he)}var ln=[];function Xn(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Zn=[];function nr(he){Zn.push(he)}var p=[];function M(he,me,be){var Te=function Wn(){return Zn.pop()||new Xn}();Te.startQueryIndex=he,Te.endQueryIndex=me,Te.sum=0,Te.stats=be,p.push(Te)}var U=[],ee=[];return{beginQuery:function mn(he){var me=function un(){return Tt.pop()||ot.ext_disjoint_timer_query.createQueryEXT()}();ot.ext_disjoint_timer_query.beginQueryEXT(kv,me),ln.push(me),M(ln.length-1,ln.length,he)},endQuery:function jn(){ot.ext_disjoint_timer_query.endQueryEXT(kv)},pushScopeStats:M,update:function le(){var he,me,be=ln.length;if(0!==be){ee.length=Math.max(ee.length,be+1),U.length=Math.max(U.length,be+1),U[0]=0,ee[0]=0;var Te=0;for(he=0,me=0;me<ln.length;++me){var Ge=ln[me];ot.ext_disjoint_timer_query.getQueryObjectEXT(Ge,Ov)?(Te+=ot.ext_disjoint_timer_query.getQueryObjectEXT(Ge,ly),Cn(Ge)):ln[he++]=Ge,U[me+1]=Te,ee[me+1]=he}for(ln.length=he,he=0,me=0;me<p.length;++me){var at=p[me],Ze=at.startQueryIndex,Mt=at.endQueryIndex;at.sum+=U[Mt]-U[Ze];var jt=ee[Ze],xn=ee[Mt];xn===jt?(at.stats.gpuTime+=at.sum/1e6,nr(at)):(at.startQueryIndex=jt,at.endQueryIndex=xn,p[he++]=at)}p.length=he}},getNumPendingQueries:function(){return ln.length},clear:function(){Tt.push.apply(Tt,ln);for(var he=0;he<Tt.length;he++)ot.ext_disjoint_timer_query.deleteQueryEXT(Tt[he]);ln.length=0,Tt.length=0},restore:function(){ln.length=0,Tt.length=0}}},Qg=16384,Jg=256,em=1024,rf=34962,Jf="webglcontextlost",eh="webglcontextrestored",dp=1,uy=2,fp=3;function tm(_e,ot){for(var Tt=0;Tt<_e.length;++Tt)if(_e[Tt]===ot)return Tt;return-1}return function th(_e){var ot=ti(_e);if(!ot)return null;var Tt=ot.gl,un=Tt.getContextAttributes(),Cn=Tt.isContextLost(),ln=function Vr(_e,ot){var Tt={};function un(mn){je.type(mn,"string","extension name must be string");var Xn,jn=mn.toLowerCase();try{Xn=Tt[jn]=_e.getExtension(jn)}catch{}return!!Xn}for(var Cn=0;Cn<ot.extensions.length;++Cn){var ln=ot.extensions[Cn];if(!un(ln))return ot.onDestroy(),ot.onDone('"'+ln+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ot.optionalExtensions.forEach(un),{extensions:Tt,restore:function(){Object.keys(Tt).forEach(function(mn){if(Tt[mn]&&!un(mn))throw new Error("(regl): error restoring extension "+mn)})}}}(Tt,ot);if(!ln)return null;var mn=function kr(){var _e={"":0},ot=[""];return{id:function(Tt){var un=_e[Tt];return un||(un=_e[Tt]=ot.length,ot.push(Tt),un)},str:function(Tt){return ot[Tt]}}}(),jn={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Xn=ln.extensions,Zn=cy(Tt,Xn),Wn=Dr(),nr=Tt.drawingBufferWidth,p=Tt.drawingBufferHeight,M={tick:0,time:0,viewportWidth:nr,viewportHeight:p,framebufferWidth:nr,framebufferHeight:p,drawingBufferWidth:nr,drawingBufferHeight:p,pixelRatio:ot.pixelRatio},le=Bl(Tt,Xn),he=function zd(_e,ot,Tt,un){var Cn=0,ln={};function mn(ee){this.id=Cn++,this.buffer=_e.createBuffer(),this.type=ee,this.usage=Ul,this.byteLength=0,this.dimension=1,this.dtype=wo,this.persistentData=null,Tt.profile&&(this.stats={size:0})}mn.prototype.bind=function(){_e.bindBuffer(this.type,this.buffer)},mn.prototype.destroy=function(){p(this)};var jn=[];function Wn(ee,le,he){ee.byteLength=le.byteLength,_e.bufferData(ee.type,le,he)}function nr(ee,le,he,me,be,Te){var Ge,at;if(ee.usage=he,Array.isArray(le)){if(ee.dtype=me||ds,le.length>0)if(Array.isArray(le[0])){Ge=Xr(le);for(var Ze=1,Mt=1;Mt<Ge.length;++Mt)Ze*=Ge[Mt];ee.dimension=Ze,Wn(ee,at=fl(le,Ge,ee.dtype),he),Te?ee.persistentData=at:N.freeType(at)}else if("number"==typeof le[0]){ee.dimension=be;var jt=N.allocType(ee.dtype,le.length);Cc(jt,le),Wn(ee,jt,he),Te?ee.persistentData=jt:N.freeType(jt)}else z(le[0])?(ee.dimension=le[0].length,ee.dtype=me||fa(le[0])||ds,Wn(ee,at=fl(le,[le.length,le[0].length],ee.dtype),he),Te?ee.persistentData=at:N.freeType(at)):je.raise("invalid buffer data")}else if(z(le))ee.dtype=me||fa(le),ee.dimension=be,Wn(ee,le,he),Te&&(ee.persistentData=new Uint8Array(new Uint8Array(le.buffer)));else if(ko(le)){var xn=le.stride,Zt=le.offset,Gt=0,Jt=0,Un=0,lr=0;1===(Ge=le.shape).length?(Gt=Ge[0],Jt=1,Un=xn[0],lr=0):2===Ge.length?(Gt=Ge[0],Jt=Ge[1],Un=xn[0],lr=xn[1]):je.raise("invalid shape"),ee.dtype=me||fa(le.data)||ds,ee.dimension=Jt;var Bn=N.allocType(ee.dtype,Gt*Jt);Gu(Bn,le.data,Gt,Jt,Un,lr,Zt),Wn(ee,Bn,he),Te?ee.persistentData=Bn:N.freeType(Bn)}else le instanceof ArrayBuffer?(ee.dtype=wo,ee.dimension=be,Wn(ee,le,he),Te&&(ee.persistentData=new Uint8Array(new Uint8Array(le)))):je.raise("invalid buffer data")}function p(ee){ot.bufferCount--,un(ee);var le=ee.buffer;je(le,"buffer must not be deleted already"),_e.deleteBuffer(le),ee.buffer=null,delete ln[ee.id]}return Tt.profile&&(ot.getTotalBufferSize=function(){var ee=0;return Object.keys(ln).forEach(function(le){ee+=ln[le].stats.size}),ee}),{create:function M(ee,le,he,me){ot.bufferCount++;var be=new mn(le);function Te(Ze){var Mt=Ul,jt=null,xn=0,Zt=0,Gt=1;return Array.isArray(Ze)||z(Ze)||ko(Ze)||Ze instanceof ArrayBuffer?jt=Ze:"number"==typeof Ze?xn=0|Ze:Ze&&(je.type(Ze,"object","buffer arguments must be an object, a number or an array"),"data"in Ze&&(je(null===jt||Array.isArray(jt)||z(jt)||ko(jt),"invalid data for buffer"),jt=Ze.data),"usage"in Ze&&(je.parameter(Ze.usage,jl,"invalid buffer usage"),Mt=jl[Ze.usage]),"type"in Ze&&(je.parameter(Ze.type,xs,"invalid buffer type"),Zt=xs[Ze.type]),"dimension"in Ze&&(je.type(Ze.dimension,"number","invalid dimension"),Gt=0|Ze.dimension),"length"in Ze&&(je.nni(xn,"buffer length must be a nonnegative integer"),xn=0|Ze.length)),be.bind(),jt?nr(be,jt,Mt,Zt,Gt,me):(xn&&_e.bufferData(be.type,xn,Mt),be.dtype=Zt||wo,be.usage=Mt,be.dimension=Gt,be.byteLength=xn),Tt.profile&&(be.stats.size=be.byteLength*Ls[be.dtype]),Te}function Ge(Ze,Mt){je(Mt+Ze.byteLength<=be.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Ze.byteLength+" starting from offset "+Mt+" to a buffer of size "+be.byteLength),_e.bufferSubData(be.type,Mt,Ze)}return ln[be.id]=be,he||Te(ee),Te._reglType="buffer",Te._buffer=be,Te.subdata=function at(Ze,Mt){var xn,jt=0|(Mt||0);if(be.bind(),z(Ze)||Ze instanceof ArrayBuffer)Ge(Ze,jt);else if(Array.isArray(Ze)){if(Ze.length>0)if("number"==typeof Ze[0]){var Zt=N.allocType(be.dtype,Ze.length);Cc(Zt,Ze),Ge(Zt,jt),N.freeType(Zt)}else if(Array.isArray(Ze[0])||z(Ze[0])){xn=Xr(Ze);var Gt=fl(Ze,xn,be.dtype);Ge(Gt,jt),N.freeType(Gt)}else je.raise("invalid buffer data")}else if(ko(Ze)){var Jt=Ze.stride,Un=0,lr=0,Bn=0,Mr=0;1===(xn=Ze.shape).length?(Un=xn[0],lr=1,Bn=Jt[0],Mr=0):2===xn.length?(Un=xn[0],lr=xn[1],Bn=Jt[0],Mr=Jt[1]):je.raise("invalid shape");var wr=Array.isArray(Ze.data)?be.dtype:fa(Ze.data),Br=N.allocType(wr,Un*lr);Gu(Br,Ze.data,Un,lr,Bn,Mr,Ze.offset),Ge(Br,jt),N.freeType(Br)}else je.raise("invalid data for buffer subdata");return Te},Tt.profile&&(Te.stats=be.stats),Te.destroy=function(){p(be)},Te},createStream:function Xn(ee,le){var he=jn.pop();return he||(he=new mn(ee)),he.bind(),nr(he,le,Uu,0,1,!1),he},destroyStream:function Zn(ee){jn.push(ee)},clear:function(){xo(ln).forEach(p),jn.forEach(p)},getBuffer:function(ee){return ee&&ee._buffer instanceof mn?ee._buffer:null},restore:function U(){xo(ln).forEach(function(ee){ee.buffer=_e.createBuffer(),_e.bindBuffer(ee.type,ee.buffer),_e.bufferData(ee.type,ee.persistentData||ee.byteLength,ee.usage)})},_initBuffer:nr}}(Tt,jn,ot,function be(zr){return me.destroyBuffer(zr)}),me=function Yg(_e,ot,Tt,un,Cn){for(var ln=Tt.maxAttributes,mn=new Array(ln),jn=0;jn<ln;++jn)mn[jn]=new Yd;var Xn=0,Zn={},Wn={Record:Yd,scope:{},state:mn,currentVAO:null,targetVAO:null,restore:p()?function be(){p()&&xo(Zn).forEach(function(at){at.refresh()})}:function(){},createVAO:function Te(Ge){var at=new me;function Ze(Mt){je(Array.isArray(Mt),"arguments to vertex array constructor must be an array"),je(Mt.length<ln,"too many attributes"),je(Mt.length>0,"must specify at least one attribute");var jt={},xn=at.attributes;xn.length=Mt.length;for(var Zt=0;Zt<Mt.length;++Zt){var lr,Gt=Mt[Zt],Jt=xn[Zt]=new Yd,Un=Gt.data||Gt;Array.isArray(Un)||z(Un)||ko(Un)?(at.buffers[Zt]&&(lr=at.buffers[Zt],z(Un)&&lr._buffer.byteLength>=Un.byteLength?lr.subdata(Un):(lr.destroy(),at.buffers[Zt]=null)),at.buffers[Zt]||(lr=at.buffers[Zt]=Cn.create(Gt,Wd,!1,!0)),Jt.buffer=Cn.getBuffer(lr),Jt.size=0|Jt.buffer.dimension,Jt.normalized=!1,Jt.type=Jt.buffer.dtype,Jt.offset=0,Jt.stride=0,Jt.divisor=0,Jt.state=1,jt[Zt]=1):Cn.getBuffer(Gt)?(Jt.buffer=Cn.getBuffer(Gt),Jt.size=0|Jt.buffer.dimension,Jt.normalized=!1,Jt.type=Jt.buffer.dtype,Jt.offset=0,Jt.stride=0,Jt.divisor=0,Jt.state=1):Cn.getBuffer(Gt.buffer)?(Jt.buffer=Cn.getBuffer(Gt.buffer),Jt.size=0|(+Gt.size||Jt.buffer.dimension),Jt.normalized=!!Gt.normalized||!1,"type"in Gt?(je.parameter(Gt.type,xs,"invalid buffer type"),Jt.type=xs[Gt.type]):Jt.type=Jt.buffer.dtype,Jt.offset=0|(Gt.offset||0),Jt.stride=0|(Gt.stride||0),Jt.divisor=0|(Gt.divisor||0),Jt.state=1,je(Jt.size>=1&&Jt.size<=4,"size must be between 1 and 4"),je(Jt.offset>=0,"invalid offset"),je(Jt.stride>=0&&Jt.stride<=255,"stride must be between 0 and 255"),je(Jt.divisor>=0,"divisor must be positive"),je(!Jt.divisor||!!ot.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Gt?(je(Zt>0,"first attribute must not be a constant"),Jt.x=+Gt.x||0,Jt.y=+Gt.y||0,Jt.z=+Gt.z||0,Jt.w=+Gt.w||0,Jt.state=2):je(!1,"invalid attribute spec for location "+Zt)}for(var Bn=0;Bn<at.buffers.length;++Bn)!jt[Bn]&&at.buffers[Bn]&&(at.buffers[Bn].destroy(),at.buffers[Bn]=null);return at.refresh(),Ze}return un.vaoCount+=1,Ze.destroy=function(){for(var Mt=0;Mt<at.buffers.length;++Mt)at.buffers[Mt]&&at.buffers[Mt].destroy();at.buffers.length=0,at.destroy()},Ze._vao=at,Ze._reglType="vao",Ze(Ge)},getVAO:function U(Ge){return"function"==typeof Ge&&Ge._vao?Ge._vao:null},destroyBuffer:function nr(Ge){for(var at=0;at<mn.length;++at){var Ze=mn[at];Ze.buffer===Ge&&(_e.disableVertexAttribArray(at),Ze.buffer=null)}},setVAO:p()?function ee(Ge){Ge!==Wn.currentVAO&&(p().bindVertexArrayOES(Ge?Ge.vao:null),Wn.currentVAO=Ge)}:function le(Ge){if(Ge!==Wn.currentVAO){if(Ge)Ge.bindAttrs();else for(var at=M(),Ze=0;Ze<mn.length;++Ze){var Mt=mn[Ze];Mt.buffer?(_e.enableVertexAttribArray(Ze),_e.vertexAttribPointer(Ze,Mt.size,Mt.type,Mt.normalized,Mt.stride,Mt.offfset),at&&Mt.divisor&&at.vertexAttribDivisorANGLE(Ze,Mt.divisor)):(_e.disableVertexAttribArray(Ze),_e.vertexAttrib4f(Ze,Mt.x,Mt.y,Mt.z,Mt.w))}Wn.currentVAO=Ge}},clear:p()?function he(){xo(Zn).forEach(function(Ge){Ge.destroy()})}:function(){}};function p(){return ot.oes_vertex_array_object}function M(){return ot.angle_instanced_arrays}function me(){this.id=++Xn,this.attributes=[];var Ge=p();this.vao=Ge?Ge.createVertexArrayOES():null,Zn[this.id]=this,this.buffers=[]}return me.prototype.bindAttrs=function(){for(var Ge=M(),at=this.attributes,Ze=0;Ze<at.length;++Ze){var Mt=at[Ze];Mt.buffer?(_e.enableVertexAttribArray(Ze),_e.bindBuffer(Wd,Mt.buffer.buffer),_e.vertexAttribPointer(Ze,Mt.size,Mt.type,Mt.normalized,Mt.stride,Mt.offset),Ge&&Mt.divisor&&Ge.vertexAttribDivisorANGLE(Ze,Mt.divisor)):(_e.disableVertexAttribArray(Ze),_e.vertexAttrib4f(Ze,Mt.x,Mt.y,Mt.z,Mt.w))}for(var jt=at.length;jt<ln;++jt)_e.disableVertexAttribArray(jt)},me.prototype.refresh=function(){var Ge=p();Ge&&(Ge.bindVertexArrayOES(this.vao),this.bindAttrs(),Wn.currentVAO=this)},me.prototype.destroy=function(){if(this.vao){var Ge=p();this===Wn.currentVAO&&(Wn.currentVAO=null,Ge.bindVertexArrayOES(null)),Ge.deleteVertexArrayOES(this.vao),this.vao=null}Zn[this.id]&&(delete Zn[this.id],un.vaoCount-=1)},Wn}(Tt,Xn,le,jn,he),Te=function Fs(_e,ot,Tt,un){var Cn={},ln=0,mn={uint8:Es,uint16:Yo};function jn(U){this.id=ln++,Cn[this.id]=this,this.buffer=U,this.primType=qs,this.vertCount=0,this.type=0}ot.oes_element_index_uint&&(mn.uint32=$o),jn.prototype.bind=function(){this.buffer.bind()};var Xn=[];function nr(U,ee,le,he,me,be,Te){var Ge;if(U.buffer.bind(),ee){var at=Te;!Te&&(!z(ee)||ko(ee)&&!z(ee.data))&&(at=ot.oes_element_index_uint?$o:Yo),Tt._initBuffer(U.buffer,ee,le,at,3)}else _e.bufferData(Wl,be,le),U.buffer.dtype=Ge||Es,U.buffer.usage=le,U.buffer.dimension=3,U.buffer.byteLength=be;if(Ge=Te,!Te){switch(U.buffer.dtype){case Es:case wn:Ge=Es;break;case Yo:case ui:Ge=Yo;break;case $o:case Hl:Ge=$o;break;default:je.raise("unsupported type for element array")}U.buffer.dtype=Ge}U.type=Ge,je(Ge!==$o||!!ot.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Ze=me;Ze<0&&(Ze=U.buffer.byteLength,Ge===Yo?Ze>>=1:Ge===$o&&(Ze>>=2)),U.vertCount=Ze;var Mt=he;if(he<0){Mt=qs;var jt=U.buffer.dimension;1===jt&&(Mt=pl),2===jt&&(Mt=Ks),3===jt&&(Mt=qs)}U.primType=Mt}function p(U){un.elementsCount--,je(null!==U.buffer,"must not double destroy elements"),delete Cn[U.id],U.buffer.destroy(),U.buffer=null}return{create:function M(U,ee){var le=Tt.create(null,Wl,!0),he=new jn(le._buffer);function me(be){if(be)if("number"==typeof be)le(be),he.primType=qs,he.vertCount=0|be,he.type=Es;else{var Te=null,Ge=Tc,at=-1,Ze=-1,Mt=0,jt=0;Array.isArray(be)||z(be)||ko(be)?Te=be:(je.type(be,"object","invalid arguments for elements"),"data"in be&&(Te=be.data,je(Array.isArray(Te)||z(Te)||ko(Te),"invalid data for element buffer")),"usage"in be&&(je.parameter(be.usage,jl,"invalid element buffer usage"),Ge=jl[be.usage]),"primitive"in be&&(je.parameter(be.primitive,ws,"invalid element buffer primitive"),at=ws[be.primitive]),"count"in be&&(je("number"==typeof be.count&&be.count>=0,"invalid vertex count for elements"),Ze=0|be.count),"type"in be&&(je.parameter(be.type,mn,"invalid buffer type"),jt=mn[be.type]),"length"in be?Mt=0|be.length:(Mt=Ze,jt===Yo||jt===ui?Mt*=2:(jt===$o||jt===Hl)&&(Mt*=4))),nr(he,Te,Ge,at,Ze,Mt,jt)}else le(),he.primType=qs,he.vertCount=0,he.type=Es;return me}return un.elementsCount++,me(U),me._reglType="elements",me._elements=he,me.subdata=function(be,Te){return le.subdata(be,Te),me},me.destroy=function(){p(he)},me},createStream:function Zn(U){var ee=Xn.pop();return ee||(ee=new jn(Tt.create(null,Wl,!0,!1)._buffer)),nr(ee,U,Dc,-1,-1,0,0),ee},destroyStream:function Wn(U){Xn.push(U)},getElements:function(U){return"function"==typeof U&&U._elements instanceof jn?U._elements:null},clear:function(){xo(Cn).forEach(p)}}}(Tt,Xn,he,jn),Ge=function hv(_e,ot,Tt,un){var Cn={},ln={};function mn(ee,le,he,me){this.name=ee,this.id=le,this.location=he,this.info=me}function jn(ee,le){for(var he=0;he<ee.length;++he)if(ee[he].id===le.id)return void(ee[he].location=le.location);ee.push(le)}function Xn(ee,le,he){var me=ee===$d?Cn:ln,be=me[le];if(!be){var Te=ot.str(le);be=_e.createShader(ee),_e.shaderSource(be,Te),_e.compileShader(be),je.shaderError(_e,be,Te,ee,he),me[le]=be}return be}var Zn={},Wn=[],nr=0;function p(ee,le){this.id=nr++,this.fragId=ee,this.vertId=le,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,un.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function M(ee,le,he){var me,be,Te=Xn($d,ee.fragId),Ge=Xn(Gh,ee.vertId),at=ee.program=_e.createProgram();if(_e.attachShader(at,Te),_e.attachShader(at,Ge),he)for(me=0;me<he.length;++me){var Ze=he[me];_e.bindAttribLocation(at,Ze[0],Ze[1])}_e.linkProgram(at),je.linkError(_e,at,ot.str(ee.fragId),ot.str(ee.vertId),le);var Mt=_e.getProgramParameter(at,fv);un.profile&&(ee.stats.uniformsCount=Mt);var jt=ee.uniforms;for(me=0;me<Mt;++me)if(be=_e.getActiveUniform(at,me))if(be.size>1)for(var xn=0;xn<be.size;++xn){var Zt=be.name.replace("[0]","["+xn+"]");jn(jt,new mn(Zt,ot.id(Zt),_e.getUniformLocation(at,Zt),be))}else jn(jt,new mn(be.name,ot.id(be.name),_e.getUniformLocation(at,be.name),be));var Gt=_e.getProgramParameter(at,Hh);un.profile&&(ee.stats.attributesCount=Gt);var Jt=ee.attributes;for(me=0;me<Gt;++me)(be=_e.getActiveAttrib(at,me))&&jn(Jt,new mn(be.name,ot.id(be.name),_e.getAttribLocation(at,be.name),be))}return un.profile&&(Tt.getMaxUniformsCount=function(){var ee=0;return Wn.forEach(function(le){le.stats.uniformsCount>ee&&(ee=le.stats.uniformsCount)}),ee},Tt.getMaxAttributesCount=function(){var ee=0;return Wn.forEach(function(le){le.stats.attributesCount>ee&&(ee=le.stats.attributesCount)}),ee}),{clear:function(){var ee=_e.deleteShader.bind(_e);xo(Cn).forEach(ee),Cn={},xo(ln).forEach(ee),ln={},Wn.forEach(function(le){_e.deleteProgram(le.program)}),Wn.length=0,Zn={},Tt.shaderCount=0},program:function(ee,le,he,me){je.command(ee>=0,"missing vertex shader",he),je.command(le>=0,"missing fragment shader",he);var be=Zn[le];be||(be=Zn[le]={});var Te=be[ee];if(Te&&(Te.refCount++,!me))return Te;var Ge=new p(le,ee);return Tt.shaderCount++,M(Ge,he,me),Te||(be[ee]=Ge),Wn.push(Ge),j(Ge,{destroy:function(){if(Ge.refCount--,Ge.refCount<=0){_e.deleteProgram(Ge.program);var at=Wn.indexOf(Ge);Wn.splice(at,1),Tt.shaderCount--}be[Ge.vertId].refCount<=0&&(_e.deleteShader(ln[Ge.vertId]),delete ln[Ge.vertId],delete Zn[Ge.fragId][Ge.vertId]),Object.keys(Zn[Ge.fragId]).length||(_e.deleteShader(Cn[Ge.fragId]),delete Cn[Ge.fragId],delete Zn[Ge.fragId])}})},restore:function U(){Cn={},ln={};for(var ee=0;ee<Wn.length;++ee)M(Wn[ee],null,Wn[ee].attributes.map(function(le){return[le.location,le.name]}))},shader:Xn,frag:-1,vert:-1}}(Tt,mn,jn,ot),at=iv(Tt,Xn,le,function(){jt.procs.poll()},M,jn,ot),Ze=av(Tt,Xn,le,jn,ot),Mt=function jh(_e,ot,Tt,un,Cn,ln){var mn={cur:null,next:null,dirty:!1,setFBO:null},jn=["rgba"],Xn=["rgba4","rgb565","rgb5 a1"];ot.ext_srgb&&Xn.push("srgba"),ot.ext_color_buffer_half_float&&Xn.push("rgba16f","rgb16f"),ot.webgl_color_buffer_float&&Xn.push("rgba32f");var Zn=["uint8"];function Wn(Zt,Gt,Jt){this.target=Zt,this.texture=Gt,this.renderbuffer=Jt;var Un=0,lr=0;Gt?(Un=Gt.width,lr=Gt.height):Jt&&(Un=Jt.width,lr=Jt.height),this.width=Un,this.height=lr}function nr(Zt){Zt&&(Zt.texture&&Zt.texture._texture.decRef(),Zt.renderbuffer&&Zt.renderbuffer._renderbuffer.decRef())}function p(Zt,Gt,Jt){if(Zt)if(Zt.texture){var Un=Zt.texture._texture,lr=Math.max(1,Un.width),Bn=Math.max(1,Un.height);je(lr===Gt&&Bn===Jt,"inconsistent width/height for supplied texture"),Un.refCount+=1}else{var Mr=Zt.renderbuffer._renderbuffer;je(Mr.width===Gt&&Mr.height===Jt,"inconsistent width/height for renderbuffer"),Mr.refCount+=1}}function M(Zt,Gt){Gt&&(Gt.texture?_e.framebufferTexture2D(La,Zt,Gt.target,Gt.texture._texture.texture,0):_e.framebufferRenderbuffer(La,Zt,Gd,Gt.renderbuffer._renderbuffer.renderbuffer))}function U(Zt){var Gt=ql,Jt=null,Un=null,lr=Zt;"object"==typeof Zt&&(lr=Zt.data,"target"in Zt&&(Gt=0|Zt.target)),je.type(lr,"function","invalid attachment data");var Bn=lr._reglType;return"texture2d"===Bn?(Jt=lr,je(Gt===ql)):"textureCube"===Bn?(Jt=lr,je(Gt>=gi&&Gt<gi+6,"invalid cube map target")):"renderbuffer"===Bn?(Un=lr,Gt=Gd):je.raise("invalid regl object for attachment"),new Wn(Gt,Jt,Un)}function ee(Zt,Gt,Jt,Un,lr){if(Jt){var Bn=un.create2D({width:Zt,height:Gt,format:Un,type:lr});return Bn._texture.refCount=0,new Wn(ql,Bn,null)}var Mr=Cn.create({width:Zt,height:Gt,format:Un});return Mr._renderbuffer.refCount=0,new Wn(Gd,null,Mr)}function le(Zt){return Zt&&(Zt.texture||Zt.renderbuffer)}function he(Zt,Gt,Jt){Zt&&(Zt.texture?Zt.texture.resize(Gt,Jt):Zt.renderbuffer&&Zt.renderbuffer.resize(Gt,Jt),Zt.width=Gt,Zt.height=Jt)}ot.oes_texture_half_float&&Zn.push("half float","float16"),ot.oes_texture_float&&Zn.push("float","float32");var me=0,be={};function Te(){this.id=me++,be[this.id]=this,this.framebuffer=_e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Ge(Zt){Zt.colorAttachments.forEach(nr),nr(Zt.depthAttachment),nr(Zt.stencilAttachment),nr(Zt.depthStencilAttachment)}function at(Zt){var Gt=Zt.framebuffer;je(Gt,"must not double destroy framebuffer"),_e.deleteFramebuffer(Gt),Zt.framebuffer=null,ln.framebufferCount--,delete be[Zt.id]}function Ze(Zt){var Gt;_e.bindFramebuffer(La,Zt.framebuffer);var Jt=Zt.colorAttachments;for(Gt=0;Gt<Jt.length;++Gt)M(jf+Gt,Jt[Gt]);for(Gt=Jt.length;Gt<Tt.maxColorAttachments;++Gt)_e.framebufferTexture2D(La,jf+Gt,ql,null,0);_e.framebufferTexture2D(La,sv,ql,null,0),_e.framebufferTexture2D(La,Gg,ql,null,0),_e.framebufferTexture2D(La,ov,ql,null,0),M(Gg,Zt.depthAttachment),M(ov,Zt.stencilAttachment),M(sv,Zt.depthStencilAttachment);var Un=_e.checkFramebufferStatus(La);!_e.isContextLost()&&Un!==Uf&&je.raise("framebuffer configuration not supported, status = "+$u[Un]),_e.bindFramebuffer(La,mn.next?mn.next.framebuffer:null),mn.cur=mn.next,_e.getError()}function Mt(Zt,Gt){var Jt=new Te;function Un(Bn,Mr){var wr;je(mn.next!==Jt,"can not update framebuffer which is currently in use");var Br=0,Jr=0,Hr=!0,Pa=!0,ni=null,eo=!0,ba="rgba",Bi="uint8",$a=1,Ga=null,po=null,Qo=null,Xa=!1;if("number"==typeof Bn)Br=0|Bn,Jr=0|Mr||Br;else if(Bn){je.type(Bn,"object","invalid arguments for framebuffer");var vi=Bn;if("shape"in vi){var Jo=vi.shape;je(Array.isArray(Jo)&&Jo.length>=2,"invalid shape for framebuffer"),Br=Jo[0],Jr=Jo[1]}else"radius"in vi&&(Br=Jr=vi.radius),"width"in vi&&(Br=vi.width),"height"in vi&&(Jr=vi.height);("color"in vi||"colors"in vi)&&(ni=vi.color||vi.colors,Array.isArray(ni)&&je(1===ni.length||ot.webgl_draw_buffers,"multiple render targets not supported")),ni||("colorCount"in vi&&je(($a=0|vi.colorCount)>0,"invalid color buffer count"),"colorTexture"in vi&&(eo=!!vi.colorTexture,ba="rgba4"),"colorType"in vi&&(Bi=vi.colorType,eo?(je(ot.oes_texture_float||!("float"===Bi||"float32"===Bi),"you must enable OES_texture_float in order to use floating point framebuffer objects"),je(ot.oes_texture_half_float||!("half float"===Bi||"float16"===Bi),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===Bi||"float16"===Bi?(je(ot.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),ba="rgba16f"):("float"===Bi||"float32"===Bi)&&(je(ot.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),ba="rgba32f"),je.oneOf(Bi,Zn,"invalid color type")),"colorFormat"in vi&&(jn.indexOf(ba=vi.colorFormat)>=0?eo=!0:Xn.indexOf(ba)>=0?eo=!1:eo?je.oneOf(vi.colorFormat,jn,"invalid color format for texture"):je.oneOf(vi.colorFormat,Xn,"invalid color format for renderbuffer"))),("depthTexture"in vi||"depthStencilTexture"in vi)&&je(!(Xa=!(!vi.depthTexture&&!vi.depthStencilTexture))||ot.webgl_depth_texture,"webgl_depth_texture extension not supported"),"depth"in vi&&("boolean"==typeof vi.depth?Hr=vi.depth:(Ga=vi.depth,Pa=!1)),"stencil"in vi&&("boolean"==typeof vi.stencil?Pa=vi.stencil:(po=vi.stencil,Hr=!1)),"depthStencil"in vi&&("boolean"==typeof vi.depthStencil?Hr=Pa=vi.depthStencil:(Qo=vi.depthStencil,Hr=!1,Pa=!1))}else Br=Jr=1;var oa=null,zr=null,Ci=null,ki=null;if(Array.isArray(ni))oa=ni.map(U);else if(ni)oa=[U(ni)];else for(oa=new Array($a),wr=0;wr<$a;++wr)oa[wr]=ee(Br,Jr,eo,ba,Bi);je(ot.webgl_draw_buffers||oa.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),je(oa.length<=Tt.maxColorAttachments,"too many color attachments, not supported"),Br=Br||oa[0].width,Jr=Jr||oa[0].height,Ga?zr=U(Ga):Hr&&!Pa&&(zr=ee(Br,Jr,Xa,"depth","uint32")),po?Ci=U(po):Pa&&!Hr&&(Ci=ee(Br,Jr,!1,"stencil","uint8")),Qo?ki=U(Qo):!Ga&&!po&&Pa&&Hr&&(ki=ee(Br,Jr,Xa,"depth stencil","depth stencil")),je(!!Ga+!!po+!!Qo<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var lo=null;for(wr=0;wr<oa.length;++wr)if(p(oa[wr],Br,Jr),je(!oa[wr]||oa[wr].texture&&Ol.indexOf(oa[wr].texture._texture.format)>=0||oa[wr].renderbuffer&&dv.indexOf(oa[wr].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+wr+" is invalid"),oa[wr]&&oa[wr].texture){var uc=Hd[oa[wr].texture._texture.format]*Yu[oa[wr].texture._texture.type];null===lo?lo=uc:je(lo===uc,"all color attachments much have the same number of bits per pixel.")}return p(zr,Br,Jr),je(!zr||zr.texture&&zr.texture._texture.format===Wu||zr.renderbuffer&&zr.renderbuffer._renderbuffer.format===ps,"invalid depth attachment for framebuffer object"),p(Ci,Br,Jr),je(!Ci||Ci.renderbuffer&&Ci.renderbuffer._renderbuffer.format===Zl,"invalid stencil attachment for framebuffer object"),p(ki,Br,Jr),je(!ki||ki.texture&&ki.texture._texture.format===Vh||ki.renderbuffer&&ki.renderbuffer._renderbuffer.format===Vh,"invalid depth-stencil attachment for framebuffer object"),Ge(Jt),Jt.width=Br,Jt.height=Jr,Jt.colorAttachments=oa,Jt.depthAttachment=zr,Jt.stencilAttachment=Ci,Jt.depthStencilAttachment=ki,Un.color=oa.map(le),Un.depth=le(zr),Un.stencil=le(Ci),Un.depthStencil=le(ki),Un.width=Jt.width,Un.height=Jt.height,Ze(Jt),Un}return ln.framebufferCount++,Un(Zt,Gt),j(Un,{resize:function lr(Bn,Mr){je(mn.next!==Jt,"can not resize a framebuffer which is currently in use");var wr=Math.max(0|Bn,1),Br=Math.max(0|Mr||wr,1);if(wr===Jt.width&&Br===Jt.height)return Un;for(var Jr=Jt.colorAttachments,Hr=0;Hr<Jr.length;++Hr)he(Jr[Hr],wr,Br);return he(Jt.depthAttachment,wr,Br),he(Jt.stencilAttachment,wr,Br),he(Jt.depthStencilAttachment,wr,Br),Jt.width=Un.width=wr,Jt.height=Un.height=Br,Ze(Jt),Un},_reglType:"framebuffer",_framebuffer:Jt,destroy:function(){at(Jt),Ge(Jt)},use:function(Bn){mn.setFBO({framebuffer:Un},Bn)}})}return j(mn,{getFramebuffer:function(Zt){if("function"==typeof Zt&&"framebuffer"===Zt._reglType){var Gt=Zt._framebuffer;if(Gt instanceof Te)return Gt}return null},create:Mt,createCube:function jt(Zt){var Gt=Array(6);function Jt(lr){var Bn;je(Gt.indexOf(mn.next)<0,"can not update framebuffer which is currently in use");var ba,Mr={color:null},wr=0,Br=null,Jr="rgba",Hr="uint8",Pa=1;if("number"==typeof lr)wr=0|lr;else if(lr){je.type(lr,"object","invalid arguments for framebuffer");var ni=lr;if("shape"in ni){var eo=ni.shape;je(Array.isArray(eo)&&eo.length>=2,"invalid shape for framebuffer"),je(eo[0]===eo[1],"cube framebuffer must be square"),wr=eo[0]}else"radius"in ni&&(wr=0|ni.radius),"width"in ni?(wr=0|ni.width,"height"in ni&&je(ni.height===wr,"must be square")):"height"in ni&&(wr=0|ni.height);("color"in ni||"colors"in ni)&&(Br=ni.color||ni.colors,Array.isArray(Br)&&je(1===Br.length||ot.webgl_draw_buffers,"multiple render targets not supported")),Br||("colorCount"in ni&&je((Pa=0|ni.colorCount)>0,"invalid color buffer count"),"colorType"in ni&&(je.oneOf(ni.colorType,Zn,"invalid color type"),Hr=ni.colorType),"colorFormat"in ni&&(Jr=ni.colorFormat,je.oneOf(ni.colorFormat,jn,"invalid color format for texture"))),"depth"in ni&&(Mr.depth=ni.depth),"stencil"in ni&&(Mr.stencil=ni.stencil),"depthStencil"in ni&&(Mr.depthStencil=ni.depthStencil)}else wr=1;if(Br)if(Array.isArray(Br))for(ba=[],Bn=0;Bn<Br.length;++Bn)ba[Bn]=Br[Bn];else ba=[Br];else{ba=Array(Pa);var Bi={radius:wr,format:Jr,type:Hr};for(Bn=0;Bn<Pa;++Bn)ba[Bn]=un.createCube(Bi)}for(Mr.color=Array(ba.length),Bn=0;Bn<ba.length;++Bn){var $a=ba[Bn];je("function"==typeof $a&&"textureCube"===$a._reglType,"invalid cube map"),je($a.width===(wr=wr||$a.width)&&$a.height===wr,"invalid cube map shape"),Mr.color[Bn]={target:gi,data:ba[Bn]}}for(Bn=0;Bn<6;++Bn){for(var Ga=0;Ga<ba.length;++Ga)Mr.color[Ga].target=gi+Bn;Bn>0&&(Mr.depth=Gt[0].depth,Mr.stencil=Gt[0].stencil,Mr.depthStencil=Gt[0].depthStencil),Gt[Bn]?Gt[Bn](Mr):Gt[Bn]=Mt(Mr)}return j(Jt,{width:wr,height:wr,color:ba})}return Jt(Zt),j(Jt,{faces:Gt,resize:function Un(lr){var Bn,Mr=0|lr;if(je(Mr>0&&Mr<=Tt.maxCubeMapSize,"invalid radius for cube fbo"),Mr===Jt.width)return Jt;var wr=Jt.color;for(Bn=0;Bn<wr.length;++Bn)wr[Bn].resize(Mr);for(Bn=0;Bn<6;++Bn)Gt[Bn].resize(Mr);return Jt.width=Jt.height=Mr,Jt},_reglType:"framebufferCube",destroy:function(){Gt.forEach(function(lr){lr.destroy()})}})},clear:function(){xo(be).forEach(at)},restore:function xn(){mn.cur=null,mn.next=null,mn.dirty=!0,xo(be).forEach(function(Zt){Zt.framebuffer=_e.createFramebuffer(),Ze(Zt)})}})}(Tt,Xn,le,at,Ze,jn),jt=nf(Tt,mn,Xn,le,he,Te,0,Mt,{},me,Ge,{elements:null,primitive:4,count:-1,offset:0,instances:-1},M,Zn,ot),xn=vs(Tt,Mt,jt.procs.poll,M,un,Xn,le),Zt=jt.next,Gt=Tt.canvas,Jt=[],Un=[],lr=[],Bn=[ot.onDestroy],Mr=null;function wr(){if(0===Jt.length)return Zn&&Zn.update(),void(Mr=null);Mr=br.next(wr),Qo();for(var zr=Jt.length-1;zr>=0;--zr){var Ci=Jt[zr];Ci&&Ci(M,null,0)}Tt.flush(),Zn&&Zn.update()}function Br(){!Mr&&Jt.length>0&&(Mr=br.next(wr))}function Jr(){Mr&&(br.cancel(wr),Mr=null)}function Hr(zr){zr.preventDefault(),Cn=!0,Jr(),Un.forEach(function(Ci){Ci()})}function Pa(zr){Tt.getError(),Cn=!1,ln.restore(),Ge.restore(),he.restore(),at.restore(),Ze.restore(),Mt.restore(),me.restore(),Zn&&Zn.restore(),jt.procs.refresh(),Br(),lr.forEach(function(Ci){Ci()})}function eo(zr){function ki(tn,zt){var Ft={},Yt={};return Object.keys(tn).forEach(function(mt){var Pt=tn[mt];if(Pn.isDynamic(Pt))Yt[mt]=Pn.unbox(Pt,mt);else{if(zt&&Array.isArray(Pt))for(var ut=0;ut<Pt.length;++ut)if(Pn.isDynamic(Pt[ut]))return void(Yt[mt]=Pn.unbox(Pt,mt));Ft[mt]=Pt}}),{dynamic:Yt,static:Ft}}je(!!zr,"invalid args to regl({...})"),je.type(zr,"object","invalid args to regl({...})");var lo=ki(zr.context||{},!0),uc=ki(zr.uniforms||{},!0),af=ki(zr.attributes||{},!1),St=ki(function Ci(tn){var zt=j({},tn);function Ft(Yt){if(Yt in zt){var mt=zt[Yt];delete zt[Yt],Object.keys(mt).forEach(function(Pt){zt[Yt+"."+Pt]=mt[Pt]})}}return delete zt.uniforms,delete zt.attributes,delete zt.context,delete zt.vao,"stencil"in zt&&zt.stencil.op&&(zt.stencil.opBack=zt.stencil.opFront=zt.stencil.op,delete zt.stencil.op),Ft("blend"),Ft("depth"),Ft("cull"),Ft("stencil"),Ft("polygonOffset"),Ft("scissor"),Ft("sample"),"vao"in tn&&(zt.vao=tn.vao),zt}(zr),!1),fn={gpuTime:0,cpuTime:0,count:0},sn=jt.compile(St,af,uc,lo,fn),yr=sn.draw,Di=sn.batch,yt=sn.scope,et=[];return j(function en(tn,zt){var Ft;if(Cn&&je.raise("context lost"),"function"==typeof tn)return yt.call(this,null,tn,0);if("function"==typeof zt)if("number"==typeof tn)for(Ft=0;Ft<tn;++Ft)yt.call(this,null,zt,Ft);else{if(!Array.isArray(tn))return yt.call(this,tn,zt,0);for(Ft=0;Ft<tn.length;++Ft)yt.call(this,tn[Ft],zt,Ft)}else if("number"==typeof tn){if(tn>0)return Di.call(this,function Lt(tn){for(;et.length<tn;)et.push(null);return et}(0|tn),0|tn)}else{if(!Array.isArray(tn))return yr.call(this,tn);if(tn.length)return Di.call(this,tn,tn.length)}},{stats:fn,destroy:function(){sn.destroy()}})}Gt&&(Gt.addEventListener(Jf,Hr,!1),Gt.addEventListener(eh,Pa,!1));var ba=Mt.setFBO=eo({framebuffer:Pn.define.call(null,dp,"framebuffer")});function Bi(zr,Ci){var ki=0;jt.procs.poll();var lo=Ci.color;lo&&(Tt.clearColor(+lo[0]||0,+lo[1]||0,+lo[2]||0,+lo[3]||0),ki|=Qg),"depth"in Ci&&(Tt.clearDepth(+Ci.depth),ki|=Jg),"stencil"in Ci&&(Tt.clearStencil(0|Ci.stencil),ki|=em),je(!!ki,"called regl.clear with no buffer specified"),Tt.clear(ki)}function Ga(zr){return je.type(zr,"function","regl.frame() callback must be a function"),Jt.push(zr),Br(),{cancel:function Ci(){var ki=tm(Jt,zr);je(ki>=0,"cannot cancel a frame twice"),Jt[ki]=function lo(){var uc=tm(Jt,lo);Jt[uc]=Jt[Jt.length-1],Jt.length-=1,Jt.length<=0&&Jr()}}}}function po(){var zr=Zt.viewport,Ci=Zt.scissor_box;zr[0]=zr[1]=Ci[0]=Ci[1]=0,M.viewportWidth=M.framebufferWidth=M.drawingBufferWidth=zr[2]=Ci[2]=Tt.drawingBufferWidth,M.viewportHeight=M.framebufferHeight=M.drawingBufferHeight=zr[3]=Ci[3]=Tt.drawingBufferHeight}function Qo(){M.tick+=1,M.time=vi(),po(),jt.procs.poll()}function Xa(){at.refresh(),po(),jt.procs.refresh(),Zn&&Zn.update()}function vi(){return(Dr()-Wn)/1e3}Xa();var oa=j(eo,{clear:function $a(zr){if(je("object"==typeof zr&&zr,"regl.clear() takes an object as input"),"framebuffer"in zr)if(zr.framebuffer&&"framebufferCube"===zr.framebuffer_reglType)for(var Ci=0;Ci<6;++Ci)ba(j({framebuffer:zr.framebuffer.faces[Ci]},zr),Bi);else ba(zr,Bi);else Bi(0,zr)},prop:Pn.define.bind(null,dp),context:Pn.define.bind(null,uy),this:Pn.define.bind(null,fp),draw:eo({}),buffer:function(zr){return he.create(zr,rf,!1,!1)},elements:function(zr){return Te.create(zr,!1)},texture:at.create2D,cube:at.createCube,renderbuffer:Ze.create,framebuffer:Mt.create,framebufferCube:Mt.createCube,vao:me.createVAO,attributes:un,frame:Ga,on:function Jo(zr,Ci){var ki;switch(je.type(Ci,"function","listener callback must be a function"),zr){case"frame":return Ga(Ci);case"lost":ki=Un;break;case"restore":ki=lr;break;case"destroy":ki=Bn;break;default:je.raise("invalid event, must be one of frame,lost,restore,destroy")}return ki.push(Ci),{cancel:function(){for(var lo=0;lo<ki.length;++lo)if(ki[lo]===Ci)return ki[lo]=ki[ki.length-1],void ki.pop()}}},limits:le,hasExtension:function(zr){return le.extensions.indexOf(zr.toLowerCase())>=0},read:xn,destroy:function ni(){Jt.length=0,Jr(),Gt&&(Gt.removeEventListener(Jf,Hr),Gt.removeEventListener(eh,Pa)),Ge.clear(),Mt.clear(),Ze.clear(),at.clear(),Te.clear(),he.clear(),me.clear(),Zn&&Zn.clear(),Bn.forEach(function(zr){zr()})},_gl:Tt,_refresh:Xa,poll:function(){Qo(),Zn&&Zn.update()},now:vi,stats:jn});return ot.onDone(null,oa),oa}}()},6931:(qt,z,j)=>{"use strict";var R=j(1708),q=Array.prototype.concat,B=Array.prototype.slice,O=qt.exports=function(T){for(var b=[],x=0,m=T.length;x<m;x++){var _=T[x];R(_)?b=q.call(b,B.call(_)):b.push(_)}return b};O.wrap=function(P){return function(){return P(O(arguments))}}},1708:qt=>{qt.exports=function(j){return!(!j||"string"==typeof j)&&(j instanceof Array||Array.isArray(j)||j.length>=0&&(j.splice instanceof Function||Object.getOwnPropertyDescriptor(j,j.length-1)&&"String"!==j.constructor.name))}},655:(qt,z,j)=>{"use strict";j.r(z),j.d(z,{__assign:()=>B,__asyncDelegator:()=>Y,__asyncGenerator:()=>Z,__asyncValues:()=>ae,__await:()=>X,__awaiter:()=>S,__classPrivateFieldGet:()=>Fe,__classPrivateFieldIn:()=>ze,__classPrivateFieldSet:()=>Ae,__createBinding:()=>E,__decorate:()=>P,__esDecorate:()=>b,__exportStar:()=>A,__extends:()=>q,__generator:()=>w,__importDefault:()=>ge,__importStar:()=>ve,__makeTemplateObject:()=>ne,__metadata:()=>g,__param:()=>T,__propKey:()=>m,__read:()=>L,__rest:()=>O,__runInitializers:()=>x,__setFunctionName:()=>_,__spread:()=>ie,__spreadArray:()=>$,__spreadArrays:()=>te,__values:()=>k});var R=function(oe,ce){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,re){H.__proto__=re}||function(H,re){for(var ye in re)Object.prototype.hasOwnProperty.call(re,ye)&&(H[ye]=re[ye])})(oe,ce)};function q(oe,ce){if("function"!=typeof ce&&null!==ce)throw new TypeError("Class extends value "+String(ce)+" is not a constructor or null");function H(){this.constructor=oe}R(oe,ce),oe.prototype=null===ce?Object.create(ce):(H.prototype=ce.prototype,new H)}var B=function(){return B=Object.assign||function(ce){for(var H,re=1,ye=arguments.length;re<ye;re++)for(var Ce in H=arguments[re])Object.prototype.hasOwnProperty.call(H,Ce)&&(ce[Ce]=H[Ce]);return ce},B.apply(this,arguments)};function O(oe,ce){var H={};for(var re in oe)Object.prototype.hasOwnProperty.call(oe,re)&&ce.indexOf(re)<0&&(H[re]=oe[re]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var ye=0;for(re=Object.getOwnPropertySymbols(oe);ye<re.length;ye++)ce.indexOf(re[ye])<0&&Object.prototype.propertyIsEnumerable.call(oe,re[ye])&&(H[re[ye]]=oe[re[ye]])}return H}function P(oe,ce,H,re){var Ie,ye=arguments.length,Ce=ye<3?ce:null===re?re=Object.getOwnPropertyDescriptor(ce,H):re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ce=Reflect.decorate(oe,ce,H,re);else for(var Ue=oe.length-1;Ue>=0;Ue--)(Ie=oe[Ue])&&(Ce=(ye<3?Ie(Ce):ye>3?Ie(ce,H,Ce):Ie(ce,H))||Ce);return ye>3&&Ce&&Object.defineProperty(ce,H,Ce),Ce}function T(oe,ce){return function(H,re){ce(H,re,oe)}}function b(oe,ce,H,re,ye,Ce){function Ie(vt){if(void 0!==vt&&"function"!=typeof vt)throw new TypeError("Function expected");return vt}for(var lt,Ue=re.kind,pt="getter"===Ue?"get":"setter"===Ue?"set":"value",st=!ce&&oe?re.static?oe:oe.prototype:null,Ne=ce||(st?Object.getOwnPropertyDescriptor(st,re.name):{}),gt=!1,$e=H.length-1;$e>=0;$e--){var dt={};for(var De in re)dt[De]="access"===De?{}:re[De];for(var De in re.access)dt.access[De]=re.access[De];dt.addInitializer=function(vt){if(gt)throw new TypeError("Cannot add initializers after decoration has completed");Ce.push(Ie(vt||null))};var Be=(0,H[$e])("accessor"===Ue?{get:Ne.get,set:Ne.set}:Ne[pt],dt);if("accessor"===Ue){if(void 0===Be)continue;if(null===Be||"object"!=typeof Be)throw new TypeError("Object expected");(lt=Ie(Be.get))&&(Ne.get=lt),(lt=Ie(Be.set))&&(Ne.set=lt),(lt=Ie(Be.init))&&ye.push(lt)}else(lt=Ie(Be))&&("field"===Ue?ye.push(lt):Ne[pt]=lt)}st&&Object.defineProperty(st,re.name,Ne),gt=!0}function x(oe,ce,H){for(var re=arguments.length>2,ye=0;ye<ce.length;ye++)H=re?ce[ye].call(oe,H):ce[ye].call(oe);return re?H:void 0}function m(oe){return"symbol"==typeof oe?oe:"".concat(oe)}function _(oe,ce,H){return"symbol"==typeof ce&&(ce=ce.description?"[".concat(ce.description,"]"):""),Object.defineProperty(oe,"name",{configurable:!0,value:H?"".concat(H," ",ce):ce})}function g(oe,ce){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(oe,ce)}function S(oe,ce,H,re){return new(H||(H=Promise))(function(Ce,Ie){function Ue(Ne){try{st(re.next(Ne))}catch(lt){Ie(lt)}}function pt(Ne){try{st(re.throw(Ne))}catch(lt){Ie(lt)}}function st(Ne){Ne.done?Ce(Ne.value):function ye(Ce){return Ce instanceof H?Ce:new H(function(Ie){Ie(Ce)})}(Ne.value).then(Ue,pt)}st((re=re.apply(oe,ce||[])).next())})}function w(oe,ce){var re,ye,Ce,Ie,H={label:0,sent:function(){if(1&Ce[0])throw Ce[1];return Ce[1]},trys:[],ops:[]};return Ie={next:Ue(0),throw:Ue(1),return:Ue(2)},"function"==typeof Symbol&&(Ie[Symbol.iterator]=function(){return this}),Ie;function Ue(st){return function(Ne){return function pt(st){if(re)throw new TypeError("Generator is already executing.");for(;Ie&&(Ie=0,st[0]&&(H=0)),H;)try{if(re=1,ye&&(Ce=2&st[0]?ye.return:st[0]?ye.throw||((Ce=ye.return)&&Ce.call(ye),0):ye.next)&&!(Ce=Ce.call(ye,st[1])).done)return Ce;switch(ye=0,Ce&&(st=[2&st[0],Ce.value]),st[0]){case 0:case 1:Ce=st;break;case 4:return H.label++,{value:st[1],done:!1};case 5:H.label++,ye=st[1],st=[0];continue;case 7:st=H.ops.pop(),H.trys.pop();continue;default:if(!(Ce=(Ce=H.trys).length>0&&Ce[Ce.length-1])&&(6===st[0]||2===st[0])){H=0;continue}if(3===st[0]&&(!Ce||st[1]>Ce[0]&&st[1]<Ce[3])){H.label=st[1];break}if(6===st[0]&&H.label<Ce[1]){H.label=Ce[1],Ce=st;break}if(Ce&&H.label<Ce[2]){H.label=Ce[2],H.ops.push(st);break}Ce[2]&&H.ops.pop(),H.trys.pop();continue}st=ce.call(oe,H)}catch(Ne){st=[6,Ne],ye=0}finally{re=Ce=0}if(5&st[0])throw st[1];return{value:st[0]?st[1]:void 0,done:!0}}([st,Ne])}}}var E=Object.create?function(oe,ce,H,re){void 0===re&&(re=H);var ye=Object.getOwnPropertyDescriptor(ce,H);(!ye||("get"in ye?!ce.__esModule:ye.writable||ye.configurable))&&(ye={enumerable:!0,get:function(){return ce[H]}}),Object.defineProperty(oe,re,ye)}:function(oe,ce,H,re){void 0===re&&(re=H),oe[re]=ce[H]};function A(oe,ce){for(var H in oe)"default"!==H&&!Object.prototype.hasOwnProperty.call(ce,H)&&E(ce,oe,H)}function k(oe){var ce="function"==typeof Symbol&&Symbol.iterator,H=ce&&oe[ce],re=0;if(H)return H.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&re>=oe.length&&(oe=void 0),{value:oe&&oe[re++],done:!oe}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(oe,ce){var H="function"==typeof Symbol&&oe[Symbol.iterator];if(!H)return oe;var ye,Ie,re=H.call(oe),Ce=[];try{for(;(void 0===ce||ce-- >0)&&!(ye=re.next()).done;)Ce.push(ye.value)}catch(Ue){Ie={error:Ue}}finally{try{ye&&!ye.done&&(H=re.return)&&H.call(re)}finally{if(Ie)throw Ie.error}}return Ce}function ie(){for(var oe=[],ce=0;ce<arguments.length;ce++)oe=oe.concat(L(arguments[ce]));return oe}function te(){for(var oe=0,ce=0,H=arguments.length;ce<H;ce++)oe+=arguments[ce].length;var re=Array(oe),ye=0;for(ce=0;ce<H;ce++)for(var Ce=arguments[ce],Ie=0,Ue=Ce.length;Ie<Ue;Ie++,ye++)re[ye]=Ce[Ie];return re}function $(oe,ce,H){if(H||2===arguments.length)for(var Ce,re=0,ye=ce.length;re<ye;re++)(Ce||!(re in ce))&&(Ce||(Ce=Array.prototype.slice.call(ce,0,re)),Ce[re]=ce[re]);return oe.concat(Ce||Array.prototype.slice.call(ce))}function X(oe){return this instanceof X?(this.v=oe,this):new X(oe)}function Z(oe,ce,H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,re=H.apply(oe,ce||[]),Ce=[];return ye={},Ie("next"),Ie("throw"),Ie("return"),ye[Symbol.asyncIterator]=function(){return this},ye;function Ie(gt){re[gt]&&(ye[gt]=function($e){return new Promise(function(dt,De){Ce.push([gt,$e,dt,De])>1||Ue(gt,$e)})})}function Ue(gt,$e){try{!function pt(gt){gt.value instanceof X?Promise.resolve(gt.value.v).then(st,Ne):lt(Ce[0][2],gt)}(re[gt]($e))}catch(dt){lt(Ce[0][3],dt)}}function st(gt){Ue("next",gt)}function Ne(gt){Ue("throw",gt)}function lt(gt,$e){gt($e),Ce.shift(),Ce.length&&Ue(Ce[0][0],Ce[0][1])}}function Y(oe){var ce,H;return ce={},re("next"),re("throw",function(ye){throw ye}),re("return"),ce[Symbol.iterator]=function(){return this},ce;function re(ye,Ce){ce[ye]=oe[ye]?function(Ie){return(H=!H)?{value:X(oe[ye](Ie)),done:!1}:Ce?Ce(Ie):Ie}:Ce}}function ae(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,ce=oe[Symbol.asyncIterator];return ce?ce.call(oe):(oe=k(oe),H={},re("next"),re("throw"),re("return"),H[Symbol.asyncIterator]=function(){return this},H);function re(Ce){H[Ce]=oe[Ce]&&function(Ie){return new Promise(function(Ue,pt){!function ye(Ce,Ie,Ue,pt){Promise.resolve(pt).then(function(st){Ce({value:st,done:Ue})},Ie)}(Ue,pt,(Ie=oe[Ce](Ie)).done,Ie.value)})}}}function ne(oe,ce){return Object.defineProperty?Object.defineProperty(oe,"raw",{value:ce}):oe.raw=ce,oe}var se=Object.create?function(oe,ce){Object.defineProperty(oe,"default",{enumerable:!0,value:ce})}:function(oe,ce){oe.default=ce};function ve(oe){if(oe&&oe.__esModule)return oe;var ce={};if(null!=oe)for(var H in oe)"default"!==H&&Object.prototype.hasOwnProperty.call(oe,H)&&E(ce,oe,H);return se(ce,oe),ce}function ge(oe){return oe&&oe.__esModule?oe:{default:oe}}function Fe(oe,ce,H,re){if("a"===H&&!re)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof ce?oe!==ce||!re:!ce.has(oe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===H?re:"a"===H?re.call(oe):re?re.value:ce.get(oe)}function Ae(oe,ce,H,re,ye){if("m"===re)throw new TypeError("Private method is not writable");if("a"===re&&!ye)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof ce?oe!==ce||!ye:!ce.has(oe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===re?ye.call(oe,H):ye?ye.value=H:ce.set(oe,H),H}function ze(oe,ce){if(null===ce||"object"!=typeof ce&&"function"!=typeof ce)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof oe?ce===oe:oe.has(ce)}},7061:(qt,z,j)=>{var R=j(8698).default;function q(){"use strict";qt.exports=q=function(){return B},qt.exports.__esModule=!0,qt.exports.default=qt.exports;var B={},O=Object.prototype,P=O.hasOwnProperty,T=Object.defineProperty||function(ze,oe,ce){ze[oe]=ce.value},b="function"==typeof Symbol?Symbol:{},x=b.iterator||"@@iterator",m=b.asyncIterator||"@@asyncIterator",_=b.toStringTag||"@@toStringTag";function g(ze,oe,ce){return Object.defineProperty(ze,oe,{value:ce,enumerable:!0,configurable:!0,writable:!0}),ze[oe]}try{g({},"")}catch{g=function(ce,H,re){return ce[H]=re}}function S(ze,oe,ce,H){var ye=Object.create((oe&&oe.prototype instanceof A?oe:A).prototype),Ce=new ge(H||[]);return T(ye,"_invoke",{value:ae(ze,ce,Ce)}),ye}function w(ze,oe,ce){try{return{type:"normal",arg:ze.call(oe,ce)}}catch(H){return{type:"throw",arg:H}}}B.wrap=S;var E={};function A(){}function k(){}function L(){}var ie={};g(ie,x,function(){return this});var te=Object.getPrototypeOf,$=te&&te(te(Fe([])));$&&$!==O&&P.call($,x)&&(ie=$);var X=L.prototype=A.prototype=Object.create(ie);function Z(ze){["next","throw","return"].forEach(function(oe){g(ze,oe,function(ce){return this._invoke(oe,ce)})})}function Y(ze,oe){function ce(re,ye,Ce,Ie){var Ue=w(ze[re],ze,ye);if("throw"!==Ue.type){var pt=Ue.arg,st=pt.value;return st&&"object"==R(st)&&P.call(st,"__await")?oe.resolve(st.__await).then(function(Ne){ce("next",Ne,Ce,Ie)},function(Ne){ce("throw",Ne,Ce,Ie)}):oe.resolve(st).then(function(Ne){pt.value=Ne,Ce(pt)},function(Ne){return ce("throw",Ne,Ce,Ie)})}Ie(Ue.arg)}var H;T(this,"_invoke",{value:function(ye,Ce){function Ie(){return new oe(function(Ue,pt){ce(ye,Ce,Ue,pt)})}return H=H?H.then(Ie,Ie):Ie()}})}function ae(ze,oe,ce){var H="suspendedStart";return function(re,ye){if("executing"===H)throw new Error("Generator is already running");if("completed"===H){if("throw"===re)throw ye;return{value:void 0,done:!0}}for(ce.method=re,ce.arg=ye;;){var Ce=ce.delegate;if(Ce){var Ie=ne(Ce,ce);if(Ie){if(Ie===E)continue;return Ie}}if("next"===ce.method)ce.sent=ce._sent=ce.arg;else if("throw"===ce.method){if("suspendedStart"===H)throw H="completed",ce.arg;ce.dispatchException(ce.arg)}else"return"===ce.method&&ce.abrupt("return",ce.arg);H="executing";var Ue=w(ze,oe,ce);if("normal"===Ue.type){if(H=ce.done?"completed":"suspendedYield",Ue.arg===E)continue;return{value:Ue.arg,done:ce.done}}"throw"===Ue.type&&(H="completed",ce.method="throw",ce.arg=Ue.arg)}}}function ne(ze,oe){var ce=oe.method,H=ze.iterator[ce];if(void 0===H)return oe.delegate=null,"throw"===ce&&ze.iterator.return&&(oe.method="return",oe.arg=void 0,ne(ze,oe),"throw"===oe.method)||"return"!==ce&&(oe.method="throw",oe.arg=new TypeError("The iterator does not provide a '"+ce+"' method")),E;var re=w(H,ze.iterator,oe.arg);if("throw"===re.type)return oe.method="throw",oe.arg=re.arg,oe.delegate=null,E;var ye=re.arg;return ye?ye.done?(oe[ze.resultName]=ye.value,oe.next=ze.nextLoc,"return"!==oe.method&&(oe.method="next",oe.arg=void 0),oe.delegate=null,E):ye:(oe.method="throw",oe.arg=new TypeError("iterator result is not an object"),oe.delegate=null,E)}function se(ze){var oe={tryLoc:ze[0]};1 in ze&&(oe.catchLoc=ze[1]),2 in ze&&(oe.finallyLoc=ze[2],oe.afterLoc=ze[3]),this.tryEntries.push(oe)}function ve(ze){var oe=ze.completion||{};oe.type="normal",delete oe.arg,ze.completion=oe}function ge(ze){this.tryEntries=[{tryLoc:"root"}],ze.forEach(se,this),this.reset(!0)}function Fe(ze){if(ze){var oe=ze[x];if(oe)return oe.call(ze);if("function"==typeof ze.next)return ze;if(!isNaN(ze.length)){var ce=-1,H=function re(){for(;++ce<ze.length;)if(P.call(ze,ce))return re.value=ze[ce],re.done=!1,re;return re.value=void 0,re.done=!0,re};return H.next=H}}return{next:Ae}}function Ae(){return{value:void 0,done:!0}}return k.prototype=L,T(X,"constructor",{value:L,configurable:!0}),T(L,"constructor",{value:k,configurable:!0}),k.displayName=g(L,_,"GeneratorFunction"),B.isGeneratorFunction=function(ze){var oe="function"==typeof ze&&ze.constructor;return!!oe&&(oe===k||"GeneratorFunction"===(oe.displayName||oe.name))},B.mark=function(ze){return Object.setPrototypeOf?Object.setPrototypeOf(ze,L):(ze.__proto__=L,g(ze,_,"GeneratorFunction")),ze.prototype=Object.create(X),ze},B.awrap=function(ze){return{__await:ze}},Z(Y.prototype),g(Y.prototype,m,function(){return this}),B.AsyncIterator=Y,B.async=function(ze,oe,ce,H,re){void 0===re&&(re=Promise);var ye=new Y(S(ze,oe,ce,H),re);return B.isGeneratorFunction(oe)?ye:ye.next().then(function(Ce){return Ce.done?Ce.value:ye.next()})},Z(X),g(X,_,"Generator"),g(X,x,function(){return this}),g(X,"toString",function(){return"[object Generator]"}),B.keys=function(ze){var oe=Object(ze),ce=[];for(var H in oe)ce.push(H);return ce.reverse(),function re(){for(;ce.length;){var ye=ce.pop();if(ye in oe)return re.value=ye,re.done=!1,re}return re.done=!0,re}},B.values=Fe,ge.prototype={constructor:ge,reset:function(oe){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ve),!oe)for(var ce in this)"t"===ce.charAt(0)&&P.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=void 0)},stop:function(){this.done=!0;var oe=this.tryEntries[0].completion;if("throw"===oe.type)throw oe.arg;return this.rval},dispatchException:function(oe){if(this.done)throw oe;var ce=this;function H(pt,st){return Ce.type="throw",Ce.arg=oe,ce.next=pt,st&&(ce.method="next",ce.arg=void 0),!!st}for(var re=this.tryEntries.length-1;re>=0;--re){var ye=this.tryEntries[re],Ce=ye.completion;if("root"===ye.tryLoc)return H("end");if(ye.tryLoc<=this.prev){var Ie=P.call(ye,"catchLoc"),Ue=P.call(ye,"finallyLoc");if(Ie&&Ue){if(this.prev<ye.catchLoc)return H(ye.catchLoc,!0);if(this.prev<ye.finallyLoc)return H(ye.finallyLoc)}else if(Ie){if(this.prev<ye.catchLoc)return H(ye.catchLoc,!0)}else{if(!Ue)throw new Error("try statement without catch or finally");if(this.prev<ye.finallyLoc)return H(ye.finallyLoc)}}}},abrupt:function(oe,ce){for(var H=this.tryEntries.length-1;H>=0;--H){var re=this.tryEntries[H];if(re.tryLoc<=this.prev&&P.call(re,"finallyLoc")&&this.prev<re.finallyLoc){var ye=re;break}}ye&&("break"===oe||"continue"===oe)&&ye.tryLoc<=ce&&ce<=ye.finallyLoc&&(ye=null);var Ce=ye?ye.completion:{};return Ce.type=oe,Ce.arg=ce,ye?(this.method="next",this.next=ye.finallyLoc,E):this.complete(Ce)},complete:function(oe,ce){if("throw"===oe.type)throw oe.arg;return"break"===oe.type||"continue"===oe.type?this.next=oe.arg:"return"===oe.type?(this.rval=this.arg=oe.arg,this.method="return",this.next="end"):"normal"===oe.type&&ce&&(this.next=ce),E},finish:function(oe){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var H=this.tryEntries[ce];if(H.finallyLoc===oe)return this.complete(H.completion,H.afterLoc),ve(H),E}},catch:function(oe){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var H=this.tryEntries[ce];if(H.tryLoc===oe){var re=H.completion;if("throw"===re.type){var ye=re.arg;ve(H)}return ye}}throw new Error("illegal catch attempt")},delegateYield:function(oe,ce,H){return this.delegate={iterator:Fe(oe),resultName:ce,nextLoc:H},"next"===this.method&&(this.arg=void 0),E}},B}qt.exports=q,qt.exports.__esModule=!0,qt.exports.default=qt.exports},8698:qt=>{function z(j){return qt.exports=z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},qt.exports.__esModule=!0,qt.exports.default=qt.exports,z(j)}qt.exports=z,qt.exports.__esModule=!0,qt.exports.default=qt.exports},4687:(qt,z,j)=>{var R=j(7061)();qt.exports=R;try{regeneratorRuntime=R}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=R:Function("r","regeneratorRuntime = r")(R)}}},qt=>{qt(qt.s=3174)}]);